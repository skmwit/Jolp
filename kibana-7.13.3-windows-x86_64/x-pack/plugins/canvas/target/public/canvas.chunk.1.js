/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.canvas_bundle_jsonpfunction=window.canvas_bundle_jsonpfunction||[]).push([[1],{176:function(module,exports,__webpack_require__){module.exports=__webpack_require__(198)()},177:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"h",(function(){return useServices})),__webpack_require__.d(__webpack_exports__,"g",(function(){return useNotifyService})),__webpack_require__.d(__webpack_exports__,"i",(function(){return withServices})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ServicesProvider})),__webpack_require__.d(__webpack_exports__,"e",(function(){return services})),__webpack_require__.d(__webpack_exports__,"f",(function(){return startServices})),__webpack_require__.d(__webpack_exports__,"c",(function(){return notifyService})),__webpack_require__.d(__webpack_exports__,"d",(function(){return platformService})),__webpack_require__.d(__webpack_exports__,"b",(function(){return expressionsService}));var external_kbnSharedDeps_Lodash_=__webpack_require__(4),public_=__webpack_require__(164);const getToast=(err,opts={})=>{const errData=Object(external_kbnSharedDeps_Lodash_.get)(err,"response")||err,errMsg=Object(public_.formatMsg)(errData),{title:title,...rest}=opts;let text;return title&&(text=errMsg),{...rest,title:title||errMsg,text:text}};var constants=__webpack_require__(7),storage=__webpack_require__(48);var common_=__webpack_require__(13);var presentationUtil_public_=__webpack_require__(165);var external_kbnSharedDeps_React_=__webpack_require__(3),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);const defaultContextValue={embeddables:{},expressions:{},notify:{},platform:{},navLink:{}},context=Object(external_kbnSharedDeps_React_.createContext)(defaultContextValue),useServices=()=>Object(external_kbnSharedDeps_React_.useContext)(context),useNotifyService=()=>useServices().notify,withServices=type=>props=>Object(external_kbnSharedDeps_React_.createElement)(type,{...props,services:useServices()}),ServicesProvider=({providers:providers={},children:children})=>{const specifiedProviders={...services,...providers},value={embeddables:specifiedProviders.embeddables.getService(),expressions:specifiedProviders.expressions.getService(),notify:specifiedProviders.notify.getService(),platform:specifiedProviders.platform.getService(),navLink:specifiedProviders.navLink.getService(),labs:specifiedProviders.labs.getService()};return external_kbnSharedDeps_React_default.a.createElement(context.Provider,{value:value},children)};function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class CanvasServiceProvider{constructor(factory){_defineProperty(this,"factory",void 0),_defineProperty(this,"service",void 0),this.factory=factory}setService(service){this.service=service}async start(coreSetup,coreStart,canvasSetupPlugins,canvasStartPlugins,appUpdater){this.service=await this.factory(coreSetup,coreStart,canvasSetupPlugins,canvasStartPlugins,appUpdater)}getService(){if(!this.service)throw new Error("Service not ready");return this.service}stop(){this.service=void 0}}const services={embeddables:new CanvasServiceProvider(async(_coreSetup,_coreStart,_setupPlugins,startPlugins)=>({getEmbeddableFactories:startPlugins.embeddable.getEmbeddableFactories})),expressions:new CanvasServiceProvider(async(coreSetup,coreStart,setupPlugins,startPlugins)=>{const{expressions:expressions,bfetch:bfetch}=setupPlugins;let cached=null;return await(async()=>(cached||(cached=(async()=>{const serverFunctionList=await coreSetup.http.get(constants.c),batchedFunction=bfetch.batchedFunction({url:constants.c}),{serialize:serialize}=Object(common_.serializeProvider)(expressions.getTypes());Object.keys(serverFunctionList).forEach(functionName=>{if(expressions.getFunction(functionName))return;expressions.registerFunction(()=>({...serverFunctionList[functionName],fn:(input,args)=>batchedFunction({functionName:functionName,args:args,context:serialize(input)})}))})})()),cached))(),setupPlugins.expressions.fork()}),notify:new CanvasServiceProvider((setup,start)=>{const toasts=start.notifications.toasts;return{error(err,opts){toasts.addDanger(getToast(err,opts))},warning(err,opts){toasts.addWarning(getToast(err,opts))},info(err,opts){toasts.add(getToast(err,opts))},success(err,opts){toasts.addSuccess(getToast(err,opts))}}}),platform:new CanvasServiceProvider((_coreSetup,coreStart)=>({getBasePath:coreStart.http.basePath.get,getBasePathInterface:()=>coreStart.http.basePath,getElasticWebsiteUrl:()=>coreStart.docLinks.ELASTIC_WEBSITE_URL,getDocLinkVersion:()=>coreStart.docLinks.DOC_LINK_VERSION,getHasWriteAccess:()=>coreStart.application.capabilities.canvas.save,getUISetting:coreStart.uiSettings.get.bind(coreStart.uiSettings),setBreadcrumbs:coreStart.chrome.setBreadcrumbs,setRecentlyAccessed:coreStart.chrome.recentlyAccessed.add,setFullscreen:coreStart.chrome.setIsVisible,getSavedObjects:()=>coreStart.savedObjects,getSavedObjectsClient:()=>coreStart.savedObjects.client,getUISettings:()=>coreStart.uiSettings})),navLink:new CanvasServiceProvider((coreSetup,_coreStart,_setupPlugins,_startPlugins,appUpdater)=>({updatePath:path=>{appUpdater.next(()=>({defaultPath:"#"+path})),Object(storage.b)().set(`${constants.z}:${coreSetup.http.basePath.get()}`,path)}})),labs:new CanvasServiceProvider(async(_coreSetup,_coreStart,_setupPlugins,startPlugins)=>({projectIDs:presentationUtil_public_.projectIDs,...startPlugins.presentationUtil.labsService}))},startServices=async(coreSetup,coreStart,canvasSetupPlugins,canvasStartPlugins,appUpdater)=>{const startPromises=Object.values(services).map(provider=>provider.start(coreSetup,coreStart,canvasSetupPlugins,canvasStartPlugins,appUpdater));await Promise.all(startPromises)},{embeddables:embeddableService,notify:notifyService,platform:platformService,navLink:navLinkService,expressions:expressionsService}=services},178:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return templateFromReactComponent}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(162),_components_enhance_error_boundary__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(195);const templateFromReactComponent=Component=>{const WrappedComponent=props=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_enhance_error_boundary__WEBPACK_IMPORTED_MODULE_3__.a,null,({error:error})=>error?(props.renderError(),null):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__.I18nProvider,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component,props)));return(domNode,config,handlers)=>{try{const el=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrappedComponent,config);Object(react_dom__WEBPACK_IMPORTED_MODULE_1__.render)(el,domNode,()=>{handlers.done()}),handlers.onDestroy(()=>{Object(react_dom__WEBPACK_IMPORTED_MODULE_1__.unmountComponentAtNode)(domNode)})}catch(err){handlers.done(),config.renderError()}}}},181:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getState})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getValue})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getError}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);function getState(resolvedArg){return Object(lodash__WEBPACK_IMPORTED_MODULE_0__.get)(resolvedArg,"state",null)}function getValue(resolvedArg){return Object(lodash__WEBPACK_IMPORTED_MODULE_0__.get)(resolvedArg,"value",null)}function getError(resolvedArg){return"error"!==getState(resolvedArg)?null:Object(lodash__WEBPACK_IMPORTED_MODULE_0__.get)(resolvedArg,"error",null)}},184:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createStatefulPropHoc}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);function createStatefulPropHoc(fieldname,updater="updateValue"){return Comp=>{class WrappedControlledInput extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent{constructor(props){var obj,key,value;super(props),value=ev=>{ev.target?this.setState({value:ev.target.value}):this.setState({value:ev})},(key="handleChange")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,this.state={value:props[fieldname]}}UNSAFE_componentWillReceiveProps(nextProps){this.setState({value:nextProps[fieldname]})}render(){const passedProps={...this.props,[fieldname]:this.state.value,[updater]:this.handleChange};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Comp,passedProps)}}return WrappedControlledInput.displayName=`statefulProp(${(Comp=>Comp.displayName||Comp.name||"UnnamedComponent")(Comp)})`,WrappedControlledInput}}},190:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getFields})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getIndices})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getDefaultIndex}));var _common_lib_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_common_lib_fetch__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(43),_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_services__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(177);const{esService:strings}=_i18n__WEBPACK_IMPORTED_MODULE_2__.g,getSavedObjectsClient=function(){return _services__WEBPACK_IMPORTED_MODULE_3__.d.getService().getSavedObjectsClient()},getFields=(index="_all")=>_common_lib_fetch__WEBPACK_IMPORTED_MODULE_1__.b.get(`${_services__WEBPACK_IMPORTED_MODULE_3__.d.getService().getBasePath()+_common_lib_constants__WEBPACK_IMPORTED_MODULE_0__.a}/es_fields?index=${index}`).then(({data:mapping})=>Object.keys(mapping).filter(field=>!field.startsWith("_")).sort()).catch(err=>_services__WEBPACK_IMPORTED_MODULE_3__.c.getService().error(err,{title:strings.getFieldsFetchErrorMessage(index)})),getIndices=()=>getSavedObjectsClient().find({type:"index-pattern",fields:["title"],searchFields:["title"],perPage:1e3}).then(resp=>resp.savedObjects.map(savedObject=>savedObject.attributes.title)).catch(err=>_services__WEBPACK_IMPORTED_MODULE_3__.c.getService().error(err,{title:strings.getIndicesFetchErrorMessage()})),getDefaultIndex=()=>{const defaultIndexId=_services__WEBPACK_IMPORTED_MODULE_3__.d.getService().getUISettings().get("defaultIndex");return defaultIndexId?getSavedObjectsClient().get("index-pattern",defaultIndexId).then(defaultIndex=>defaultIndex.attributes.title).catch(err=>_services__WEBPACK_IMPORTED_MODULE_3__.c.getService().error(err,{title:strings.getDefaultIndexFetchErrorMessage()})):Promise.resolve("")}},195:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ErrorBoundary}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),recompose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(176),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4);const ErrorBoundaryComponent=props=>{const{children:children,...rest}=props;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,children(rest))};ErrorBoundaryComponent.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,error:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,errorInfo:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,resetErrorState:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired};const ErrorBoundary=Object(recompose__WEBPACK_IMPORTED_MODULE_1__.compose)(Object(recompose__WEBPACK_IMPORTED_MODULE_1__.withState)("error","setError",null),Object(recompose__WEBPACK_IMPORTED_MODULE_1__.withState)("errorInfo","setErrorInfo",null),Object(recompose__WEBPACK_IMPORTED_MODULE_1__.withHandlers)({resetErrorState:({setError:setError,setErrorInfo:setErrorInfo})=>()=>{setError(null),setErrorInfo(null)}}),Object(recompose__WEBPACK_IMPORTED_MODULE_1__.lifecycle)({componentDidCatch(error,errorInfo){this.props.setError(error),this.props.setErrorInfo(errorInfo)}}),Object(recompose__WEBPACK_IMPORTED_MODULE_1__.mapProps)(props=>Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omit)(props,["setError","setErrorInfo"])))(ErrorBoundaryComponent)},196:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Loading}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_common_lib_hex_to_rgb__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(52);const Loading=({animated:animated=!1,text:text="",backgroundColor:backgroundColor="#000000"})=>{if(animated)return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"canvasLoading"},text&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,text," "),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiLoadingSpinner,{size:"m"}));const rgb=Object(_common_lib_hex_to_rgb__WEBPACK_IMPORTED_MODULE_2__.a)(backgroundColor);let color="text";return rgb&&Object(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.isColorDark)(rgb[0],rgb[1],rgb[2])&&(color="ghost"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"canvasLoading"},text&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,text," "),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiIcon,{color:color,type:"clock"}))};Loading.defaultProps={animated:!1,backgroundColor:"#000000",text:""}},198:function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(199);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},199:function(module,exports,__webpack_require__){"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},446:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"datasourceSpecs",(function(){return datasourceSpecs})),__webpack_require__.d(__webpack_exports__,"initializeElements",(function(){return initializeElements})),__webpack_require__.d(__webpack_exports__,"modelSpecs",(function(){return modelSpecs})),__webpack_require__.d(__webpack_exports__,"viewSpecs",(function(){return viewSpecs})),__webpack_require__.d(__webpack_exports__,"viewInitializers",(function(){return viewInitializers})),__webpack_require__.d(__webpack_exports__,"initializeViews",(function(){return initializeViews})),__webpack_require__.d(__webpack_exports__,"args",(function(){return arguments_args})),__webpack_require__.d(__webpack_exports__,"initializers",(function(){return initializers})),__webpack_require__.d(__webpack_exports__,"initializeArgs",(function(){return initializeArgs})),__webpack_require__.d(__webpack_exports__,"tagSpecs",(function(){return tagSpecs})),__webpack_require__.d(__webpack_exports__,"transformSpecs",(function(){return transformSpecs}));var external_kbnSharedDeps_React_=__webpack_require__(3),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_ElasticEui_=__webpack_require__(8),external_kbnSharedDeps_Lodash_=__webpack_require__(4),common=__webpack_require__(9);const arg_helpers_allowedTypes=["string","number","boolean"],badType=()=>new Error("Arg setting helpers only support "+arg_helpers_allowedTypes.join(",")),isAllowed=type=>Object(external_kbnSharedDeps_Lodash_.includes)(arg_helpers_allowedTypes,type);function validateArg(value){const type=Object(common.getType)(value);if(!isAllowed(type))throw badType();return value}function getSimpleArg(name,args){return args[name]?args[name].map(astVal=>{if(!isAllowed(Object(common.getType)(astVal)))throw badType();return astVal}):[]}function setSimpleArg(name,value){return{[name]:(value=Array.isArray(value)?value:[value]).map(validateArg)}}var template_from_react_component=__webpack_require__(178),i18n=__webpack_require__(2);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const{Essql:strings}=i18n.f;class essql_EssqlDatasource extends external_kbnSharedDeps_React_.PureComponent{constructor(..._args){super(..._args),_defineProperty(this,"defaultQuery",`SELECT * FROM "${this.props.defaultIndex}"`),_defineProperty(this,"getQuery",()=>getSimpleArg(this.getArgName(),this.props.args)[0]),_defineProperty(this,"getArgName",()=>{const{args:args}=this.props;return getSimpleArg("_",args)[0]?"_":getSimpleArg("q",args)[0]?"q":"query"}),_defineProperty(this,"setArg",(name,value)=>{const{args:args,updateArgs:updateArgs}=this.props;updateArgs&&updateArgs({...args,...setSimpleArg(name,value)})}),_defineProperty(this,"onChange",e=>{const{value:value}=e.target;this.props.setInvalid(!value.trim()),this.setArg(this.getArgName(),value)})}componentDidMount(){const query=this.getQuery();"string"!=typeof query?this.setArg(this.getArgName(),this.defaultQuery):this.props.setInvalid(!query.trim())}render(){const{isInvalid:isInvalid}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{isInvalid:isInvalid,label:strings.getLabel(),labelAppend:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:i18n.l,target:"_blank"},strings.getLabelAppend()))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextArea,{placeholder:this.defaultQuery,isInvalid:isInvalid,className:"canvasTextArea__code",value:this.getQuery(),onChange:this.onChange,rows:15}))}}var Recompose=__webpack_require__(20),es_service=__webpack_require__(190);const ESFieldsSelect=({selected:selected,fields:fields,onChange:onChange,onFocus:onFocus,onBlur:onBlur})=>{const options=fields.map(value=>({label:value})),selectedOptions=selected.map(value=>({label:value}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiComboBox,{selectedOptions:selectedOptions,options:options,onChange:values=>onChange(values.map(({label:label})=>label)),className:"canvasFieldsSelect",onFocus:onFocus,onBlur:onBlur,compressed:!0})};ESFieldsSelect.defaultProps={selected:[],fields:[]};const es_fields_select_ESFieldsSelect=Object(Recompose.compose)(Object(Recompose.withState)("fields","setFields",[]),Object(Recompose.lifecycle)({componentDidMount(){this.props.index&&Object(es_service.b)(this.props.index).then((fields=[])=>this.props.setFields(fields))},componentDidUpdate({index:index}){const{setFields:setFields,onChange:onChange,selected:selected}=this.props;this.props.index!==index&&Object(es_service.b)(this.props.index).then((fields=[])=>{setFields(fields),onChange(selected.filter(option=>fields.includes(option)))})}}))(ESFieldsSelect),ESFieldSelect=({value:value,fields:fields=[],onChange:onChange,onFocus:onFocus,onBlur:onBlur})=>{const selectedOption=value?[{label:value}]:[],options=fields.map(field=>({label:field}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiComboBox,{selectedOptions:selectedOption,options:options,onChange:([field])=>onChange(Object(external_kbnSharedDeps_Lodash_.get)(field,"label",null)),onSearchChange:searchValue=>{searchValue&&onChange(null)},onFocus:onFocus,onBlur:onBlur,singleSelection:{asPlainText:!0},isClearable:!1,compressed:!0})};ESFieldSelect.defaultProps={fields:[]};const es_field_select_ESFieldSelect=Object(Recompose.compose)(Object(Recompose.withState)("fields","setFields",[]),Object(Recompose.lifecycle)({componentDidMount(){this.props.index&&Object(es_service.b)(this.props.index).then(this.props.setFields)},componentDidUpdate({index:index}){const{value:value,onChange:onChange,setFields:setFields}=this.props;this.props.index!==index&&Object(es_service.b)(this.props.index).then(fields=>{setFields(fields)}),value&&!this.props.fields.includes(value)&&onChange(null)}}))(ESFieldSelect),ESIndexSelect=({value:value,loading:loading,indices:indices,onChange:onChange,onFocus:onFocus,onBlur:onBlur})=>{const selectedOption="_all"!==value?[{label:value}]:[],options=indices.map(index=>({label:index}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiComboBox,{selectedOptions:selectedOption,onChange:([index])=>onChange(Object(external_kbnSharedDeps_Lodash_.get)(index,"label","_all")),onSearchChange:searchValue=>{searchValue&&onChange("_all")},onBlur:onBlur,onFocus:onFocus,disabled:loading,options:options,singleSelection:{asPlainText:!0},isClearable:!1,onCreateOption:input=>onChange(input||"_all"),compressed:!0})};ESIndexSelect.defaultProps={value:"_all"};const es_index_select_ESIndexSelect=Object(Recompose.compose)(Object(Recompose.withState)("loading","setLoading",!0),Object(Recompose.withState)("indices","setIndices",[]),Object(Recompose.lifecycle)({componentDidMount(){Object(es_service.c)().then((indices=[])=>{const{setLoading:setLoading,setIndices:setIndices,value:value,onChange:onChange}=this.props;setLoading(!1),setIndices(indices.sort()),!value&&indices.length&&onChange(indices[0])})}}))(ESIndexSelect),{ESDocs:esdocs_strings}=i18n.f,EsdocsDatasource=({args:args,updateArgs:updateArgs,defaultIndex:defaultIndex})=>{const setArg=(name,value)=>{updateArgs&&updateArgs({...args,...setSimpleArg(name,value)})},getArgName=()=>getSimpleArg("_",args)[0]?"_":getSimpleArg("q",args)[0]?"q":"query",fields=(()=>{const commas=getSimpleArg("fields",args)[0]||"";return 0===commas.length?[]:commas.split(",").map(str=>str.trim())})(),[sortField,sortOrder]=(getSimpleArg("sort",args)[0]||", DESC").split(",").map(str=>str.trim()),index=getSimpleArg("index",args)[0]||"";!index&&defaultIndex&&setArg("index",defaultIndex);const sortOptions=[{value:"asc",text:esdocs_strings.getAscendingOption()},{value:"desc",text:esdocs_strings.getDescendingOption()}];return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:esdocs_strings.getIndexTitle(),helpText:esdocs_strings.getIndexLabel(),display:"rowCompressed"},external_kbnSharedDeps_React_default.a.createElement(es_index_select_ESIndexSelect,{value:index,onChange:index=>setArg("index",index)})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:esdocs_strings.getFieldsTitle(),helpText:fields.length<=10?esdocs_strings.getFieldsLabel():esdocs_strings.getFieldsWarningLabel(),display:"rowCompressed"},external_kbnSharedDeps_React_default.a.createElement(es_fields_select_ESFieldsSelect,{index:index,onChange:fields=>setArg("fields",fields.join(", ")),selected:fields})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiAccordion,{id:"accordionAdvancedSettings",buttonContent:"Advanced settings",className:"canvasSidebar__accordion"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:esdocs_strings.getSortFieldTitle(),display:"columnCompressed"},external_kbnSharedDeps_React_default.a.createElement(es_field_select_ESFieldSelect,{index:index,value:sortField,onChange:field=>setArg("sort",[field,sortOrder].join(", "))})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:esdocs_strings.getSortOrderTitle(),display:"columnCompressed"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSelect,{value:sortOrder.toLowerCase(),onChange:e=>setArg("sort",[sortField,e.target.value].join(", ")),options:sortOptions,compressed:!0})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:esdocs_strings.getQueryTitle(),labelAppend:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:i18n.h,target:"_blank"},esdocs_strings.getQueryLabel())),display:"rowCompressed"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextArea,{value:getSimpleArg(getArgName(),args)[0]||"",onChange:e=>setArg(getArgName(),e.target.value),compressed:!0}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{size:"s",title:esdocs_strings.getWarningTitle(),iconType:"alert",color:"warning"},external_kbnSharedDeps_React_default.a.createElement("p",null,esdocs_strings.getWarning())))},{DemoData:demodata_strings}=i18n.f,DemodataDatasource=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:demodata_strings.getHeading(),iconType:"iInCircle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s"},external_kbnSharedDeps_React_default.a.createElement("p",null,demodata_strings.getDescription())));var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(162);const{Timelion:timelion_strings}=i18n.f,TimelionDatasource=({args:args,updateArgs:updateArgs,defaultIndex:defaultIndex})=>{const DEFAULT_QUERY=`.es(index=${defaultIndex})`,setArg=(name,value)=>{updateArgs&&updateArgs({...args,...setSimpleArg(name,value)})},argName=getSimpleArg("_",args)[0]?"_":getSimpleArg("q",args)[0]?"q":"query";return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:timelion_strings.getTipsHeading(),size:"s",iconType:"iInCircle"},external_kbnSharedDeps_React_default.a.createElement("ul",null,external_kbnSharedDeps_React_default.a.createElement("li",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.canvas.uis.dataSources.timelion.tips.time",defaultMessage:"{timelion} requires a time range. Add a time filter element to your page or use the expression editor to pass one in.",values:{timelion:i18n.m}})),external_kbnSharedDeps_React_default.a.createElement("li",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.canvas.uis.dataSources.timelion.tips.functions",defaultMessage:"Some {timelion} functions, such as {functionExample}, do not translate to a {canvas} data table. However, anything todo with data manipulation should work as expected.",values:{timelion:i18n.m,canvas:i18n.c,functionExample:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,".color()")}})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:timelion_strings.getQueryLabel(),labelAppend:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:i18n.n,target:"_blank"},timelion_strings.queryLabel())),display:"rowCompressed"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextArea,{className:"canvasTextArea__code",value:getSimpleArg(argName,args)[0]||DEFAULT_QUERY,onChange:e=>setArg(argName,e.target.value),rows:15})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:timelion_strings.getIntervalLabel(),helpText:timelion_strings.getIntervalHelp(),display:"columnCompressed"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldText,{compressed:!0,value:getSimpleArg("interval",args)[0]||"auto",onChange:e=>setArg("interval",e.target.value)})))},datasourceSpecs=[()=>({name:"essql",displayName:strings.getDisplayName(),help:strings.getHelp(),image:"database",template:Object(template_from_react_component.a)(essql_EssqlDatasource)}),()=>({name:"esdocs",displayName:esdocs_strings.getDisplayName(),help:esdocs_strings.getHelp(),image:"documents",template:Object(template_from_react_component.a)(EsdocsDatasource)}),()=>({name:"demodata",displayName:demodata_strings.getDisplayName(),help:demodata_strings.getHelp(),image:"training",template:Object(template_from_react_component.a)(DemodataDatasource)}),()=>({name:"timelion",displayName:i18n.m,help:timelion_strings.getHelp(),image:"visTimelion",template:Object(template_from_react_component.a)(TimelionDatasource)})];var i18n_elements=__webpack_require__(59);var fonts=__webpack_require__(19);var public_=__webpack_require__(25);const elementSpecs=[()=>({name:"areaChart",displayName:"Area",help:"A line chart with a filled body",type:"chart",icon:"visArea",expression:'filters\n  | demodata\n  | pointseries x="time" y="mean(price)"\n  | plot defaultStyle={seriesStyle lines=1 fill=1}\n  | render'}),()=>({name:"bubbleChart",displayName:"Bubble",type:"chart",help:"A customizable bubble chart",width:700,height:300,icon:"heatmap",expression:'filters\n| demodata\n| pointseries x="project" y="sum(price)" color="state" size="size(username)"\n| plot defaultStyle={seriesStyle points=5 fill=1}\n| render'}),()=>({name:"debug",displayName:"Debug data",help:"Just dumps the configuration of the element",icon:"bug",expression:"demodata\n| render as=debug"}),()=>({name:"dropdownFilter",displayName:"Dropdown select",type:"filter",help:'A dropdown from which you can select values for an "exactly" filter',icon:"filter",height:50,expression:"demodata\n| dropdownControl valueColumn=project filterColumn=project | render",filter:""}),()=>({name:"filterDebug",displayName:"Debug filter",help:"Shows the underlying global filters in a workpad",icon:"bug",expression:"filters\n| render as=debug"}),()=>({name:"image",displayName:"Image",type:"image",help:"A static image",icon:"image",expression:'image dataurl=null mode="contain"\n| render'}),()=>({name:"horizontalBarChart",displayName:"Bar horizontal",type:"chart",help:"A customizable horizontal bar chart",icon:"visBarHorizontal",expression:'filters\n| demodata\n| pointseries x="size(cost)" y="project" color="project"\n| plot defaultStyle={seriesStyle bars=0.75 horizontalBars=true} legend=false\n| render'}),()=>({name:"horizontalProgressBar",displayName:"Horizontal bar",type:"progress",help:"Displays progress as a portion of a horizontal bar",width:400,height:30,expression:`filters\n| demodata\n| math "mean(percent_uptime)"\n| progress shape="horizontalBar" label={formatnumber 0%} font={font size=24 family="${fonts.openSans.value}" color="#000000" align=center}\n| render`}),()=>({name:"horizontalProgressPill",displayName:"Horizontal pill",type:"progress",help:"Displays progress as a portion of a horizontal pill",width:400,height:30,expression:`filters\n| demodata\n| math "mean(percent_uptime)"\n| progress shape="horizontalPill" label={formatnumber 0%} font={font size=24 family="${fonts.openSans.value}" color="#000000" align=center}\n| render`}),()=>({name:"lineChart",displayName:"Line",type:"chart",help:"A customizable line chart",icon:"visLine",expression:'filters\n| demodata\n| pointseries x="time" y="mean(price)"\n| plot defaultStyle={seriesStyle lines=3}\n| render'}),()=>({name:"markdown",displayName:"Text",type:"text",help:"Add text using Markdown",icon:"visText",expression:'filters\n| demodata\n| markdown "### Welcome to the Markdown element\n\nGood news! You\'re already connected to some demo data!\n\nThe data table contains\n**{{rows.length}} rows**, each containing\n the following columns:\n{{#each columns}}\n **{{name}}**\n{{/each}}\n\nYou can use standard Markdown in here, but you can also access your piped-in data using Handlebars. If you want to know more, check out the [Handlebars documentation](https://ela.st/handlebars-docs).\n\n#### Enjoy!" | render'}),()=>({name:"pie",displayName:"Pie",type:"chart",width:300,height:300,help:"A simple pie chart",icon:"visPie",expression:'filters\n| demodata\n| pointseries color="state" size="max(price)"\n| pie\n| render'}),()=>({name:"plot",displayName:"Coordinate plot",type:"chart",help:"Mixed line, bar or dot charts",expression:'filters\n| demodata\n| pointseries x="time" y="sum(price)" color="state"\n| plot defaultStyle={seriesStyle points=5}\n| render'}),()=>({name:"progressGauge",displayName:"Gauge",type:"progress",help:"Displays progress as a portion of a gauge",width:200,height:200,icon:"visGoal",expression:`filters\n| demodata\n| math "mean(percent_uptime)"\n| progress shape="gauge" label={formatnumber 0%} font={font size=24 family="${fonts.openSans.value}" color="#000000" align=center}\n| render`}),()=>({name:"progressSemicircle",displayName:"Semicircle",type:"progress",help:"Displays progress as a portion of a semicircle",width:200,height:100,expression:`filters\n| demodata\n| math "mean(percent_uptime)"\n| progress shape="semicircle" label={formatnumber 0%} font={font size=24 family="${fonts.openSans.value}" color="#000000" align=center}\n| render`}),()=>({name:"progressWheel",displayName:"Wheel",type:"progress",help:"Displays progress as a portion of a wheel",width:200,height:200,expression:`filters\n| demodata\n| math "mean(percent_uptime)"\n| progress shape="wheel" label={formatnumber 0%} font={font size=24 family="${fonts.openSans.value}" color="#000000" align=center}\n| render`}),()=>({name:"repeatImage",displayName:"Image repeat",type:"image",help:"Repeats an image N times",expression:'filters\n| demodata\n| math "mean(cost)"\n| repeatImage image=null\n| render'}),()=>({name:"revealImage",displayName:"Image reveal",type:"image",help:"Reveals a percentage of an image",expression:'filters\n| demodata\n| math "mean(percent_uptime)"\n| revealImage origin=bottom image=null\n| render'}),()=>({name:"shape",displayName:"Shape",type:"shape",help:"A customizable shape",width:200,height:200,icon:"node",expression:'shape "square" fill="#4cbce4" border="rgba(255,255,255,0)" borderWidth=0 maintainAspect=false | render'}),()=>({name:"table",displayName:"Data table",type:"chart",help:"A scrollable grid for displaying data in a tabular format",icon:"visTable",expression:"filters\n| demodata\n| table\n| render"}),()=>({name:"timeFilter",displayName:"Time filter",type:"filter",help:"Set a time window",icon:"calendar",height:50,expression:"timefilterControl compact=true column=@timestamp\n| render",filter:"timefilter column=@timestamp from=now-24h to=now"}),()=>({name:"verticalBarChart",displayName:"Vertical bar chart",type:"chart",help:"A customizable vertical bar chart",icon:"visBarVertical",expression:'filters\n| demodata\n| pointseries x="project" y="size(cost)" color="project"\n| plot defaultStyle={seriesStyle bars=0.75} legend=false\n| render'}),()=>({name:"verticalProgressBar",displayName:"Vertical progress bar",type:"progress",help:"Displays progress as a portion of a vertical bar",width:80,height:400,expression:`filters\n| demodata\n| math "mean(percent_uptime)"\n| progress shape="verticalBar" label={formatnumber 0%} font={font size=24 family="${fonts.openSans.value}" color="#000000" align=center}\n| render`}),()=>({name:"verticalProgressPill",displayName:"Vertical progress pill",type:"progress",help:"Displays progress as a portion of a vertical pill",width:80,height:400,expression:`filters\n| demodata\n| math "mean(percent_uptime)"\n| progress shape="verticalPill" label={formatnumber 0%} font={font size=24 family="${fonts.openSans.value}" color="#000000" align=center}\n| render`})],initializeElementFactories=[(core,setup)=>()=>({name:"metric",displayName:"Metric",type:"chart",help:"A number with a label",width:200,height:100,icon:"visMetric",expression:`filters\n  | demodata\n  | math "unique(country)"\n  | metric "Countries" \n    metricFont={font size=48 family="${fonts.openSans.value}" color="#000000" align="center" lHeight=48} \n    labelFont={font size=14 family="${fonts.openSans.value}" color="#000000" align="center"}\n    metricFormat="${core.uiSettings.get(public_.UI_SETTINGS.FORMAT_NUMBER_DEFAULT_PATTERN)}"\n  | render`})],initializeElements=(core,plugins)=>{const specs=[...elementSpecs,...initializeElementFactories.map(factory=>factory(core,plugins))];return Object(i18n_elements.a)(specs)};var resolved_arg=__webpack_require__(181);const{PointSeries:point_series_strings}=i18n.j,{Math:math_strings}=i18n.j,modelSpecs=[()=>({name:"pointseries",displayName:point_series_strings.getDisplayName(),args:[{name:"x",displayName:point_series_strings.getXAxisDisplayName(),help:point_series_strings.getXAxisHelp(),argType:"datacolumn"},{name:"y",displayName:point_series_strings.getYaxisDisplayName(),help:point_series_strings.getYaxisHelp(),argType:"datacolumn"},{name:"color",displayName:point_series_strings.getColorDisplayName(),help:point_series_strings.getColorHelp(),argType:"datacolumn"},{name:"size",displayName:point_series_strings.getSizeDisplayName(),help:point_series_strings.getSizeHelp(),argType:"datacolumn"},{name:"text",displayName:point_series_strings.getTextDisplayName(),help:point_series_strings.getTextHelp(),argType:"datacolumn"}],resolve:({context:context})=>"ready"!==Object(resolved_arg.b)(context)?{columns:[]}:{columns:Object(external_kbnSharedDeps_Lodash_.get)(Object(resolved_arg.c)(context),"columns",[])}}),()=>({name:"math",displayName:math_strings.getDisplayName(),args:[{name:"_",displayName:math_strings.getValueDisplayName(),help:math_strings.getValueHelp(),argType:"datacolumn",options:{onlyMath:!1}}],resolve:({context:context})=>"ready"!==Object(resolved_arg.b)(context)?{columns:[]}:{columns:Object(external_kbnSharedDeps_Lodash_.get)(Object(resolved_arg.c)(context),"columns",[])}})],{DropdownControl:dropdownControl_strings}=i18n.s,{GetCell:getCell_strings}=i18n.s;var elastic_logo=__webpack_require__(22),resolve_dataurl=__webpack_require__(14);const{Image:image_strings}=i18n.s,{Markdown:markdown_strings}=i18n.s,{Metric:metric_strings}=i18n.s,legendOptions=[{name:"Hidden",value:!1},{name:"Top Left",value:"nw"},{name:"Top Right",value:"ne"},{name:"Bottom Left",value:"sw"},{name:"Bottom Right",value:"se"}],{Pie:pie_strings}=i18n.s,{Plot:plot_strings}=i18n.s,styleProps=["lines","bars","points","fill","stack"];var progress_shapes=__webpack_require__(100);const{Progress:progress_strings}=i18n.s,{RepeatImage:repeatImage_strings}=i18n.s,{RevealImage:revealImage_strings}=i18n.s;var constants=__webpack_require__(7),i18n_constants=__webpack_require__(1);const{Render:render_strings}=i18n.s;var shape_shapes=__webpack_require__(99);const{Shape:shape_strings}=i18n.s,{Table:table_strings}=i18n.s,{Timefilter:timefilterControl_strings}=i18n.s,viewSpecs=[()=>({name:"dropdownControl",displayName:dropdownControl_strings.getDisplayName(),modelArgs:[],args:[{name:"valueColumn",displayName:dropdownControl_strings.getValueDisplayName(),help:dropdownControl_strings.getValueHelp(),argType:"string",options:{confirm:"Set"}},{name:"filterColumn",displayName:dropdownControl_strings.getFilterDisplayName(),help:dropdownControl_strings.getFilterHelp(),argType:"string",options:{confirm:"Set"}},{name:"filterGroup",displayName:dropdownControl_strings.getFilterGroupDisplayName(),help:dropdownControl_strings.getFilterGroupHelp(),argType:"filterGroup"}]}),()=>({name:"getCell",displayName:getCell_strings.getDisplayName(),help:getCell_strings.getHelp(),modelArgs:["size"],requiresContext:!0,args:[]}),()=>({name:"image",displayName:image_strings.getDisplayName(),modelArgs:[],requiresContext:!1,args:[{name:"dataurl",argType:"imageUpload",resolve:({args:args})=>({dataurl:Object(resolve_dataurl.a)(args,elastic_logo.a)})},{name:"mode",displayName:image_strings.getModeDisplayName(),help:image_strings.getModeHelp(),argType:"select",options:{choices:[{value:"contain",name:image_strings.getContainMode()},{value:"cover",name:image_strings.getCoverMode()},{value:"stretch",name:image_strings.getStretchMode()}]}}]}),()=>({name:"markdown",displayName:markdown_strings.getDisplayName(),help:markdown_strings.getHelp(),modelArgs:[],requiresContext:!1,args:[{name:"_",displayName:markdown_strings.getContentDisplayName(),help:markdown_strings.getContentHelp(),argType:"textarea",default:'""',options:{confirm:"Apply"},multi:!0},{name:"font",argType:"font"},{name:"openLinksInNewTab",displayName:markdown_strings.getOpenLinksInNewTabDisplayName(),help:markdown_strings.getOpenLinksInNewTabHelp(),label:markdown_strings.getOpenLinksInNewTabLabelName(),argType:"toggle",default:!1,options:{labelValue:markdown_strings.getOpenLinksInNewTabLabelName()}}]}),()=>({name:"pie",displayName:pie_strings.getDisplayName(),modelArgs:[["color",{label:"Slice Labels"}],["size",{label:"Slice Angles"}]],args:[{name:"palette",argType:"palette"},{name:"legend",displayName:pie_strings.getLegendDisplayName(),help:pie_strings.getLegendHelp(),argType:"select",default:"ne",options:{choices:legendOptions}},{name:"hole",displayName:pie_strings.getHoleDisplayName(),help:pie_strings.getHoleHelp(),argType:"range",default:50,options:{min:0,max:100}},{name:"labelRadius",displayName:pie_strings.getLabelRadiusDisplayName(),help:pie_strings.getLabelRadiusHelp(),argType:"range",default:100,options:{min:0,max:100}},{name:"radius",displayName:pie_strings.getRadiusDisplayName(),help:pie_strings.getRadiusHelp(),argType:"percentage",default:1},{name:"tilt",displayName:pie_strings.getTiltDisplayName(),help:pie_strings.getTiltHelp(),argType:"percentage",default:1},{name:"labels",displayName:pie_strings.getLabelsDisplayName(),help:pie_strings.getLabelsHelp(),argType:"toggle",default:!0,options:{labelValue:pie_strings.getLabelsToggleSwitch()}},{name:"seriesStyle",argType:"seriesStyle",multi:!0},{name:"font",argType:"font"}],resolve:({context:context})=>"ready"!==Object(resolved_arg.b)(context)?{labels:[]}:{labels:Object(external_kbnSharedDeps_Lodash_.uniq)(Object(external_kbnSharedDeps_Lodash_.map)(Object(resolved_arg.c)(context).rows,"color").filter(v=>void 0!==v))}}),()=>({name:"plot",displayName:plot_strings.getDisplayName(),modelArgs:["x","y","color","size","text"],args:[{name:"palette",argType:"palette"},{name:"legend",displayName:plot_strings.getLegendDisplayName(),help:plot_strings.getLegendHelp(),argType:"select",default:"ne",options:{choices:legendOptions}},{name:"xaxis",displayName:plot_strings.getXaxisDisplayName(),help:plot_strings.getXaxisHelp(),argType:"axisConfig",default:!0},{name:"yaxis",displayName:plot_strings.getYaxisDisplayName(),help:plot_strings.getYaxisHelp(),argType:"axisConfig",default:!0},{name:"font",argType:"font"},{name:"defaultStyle",displayName:plot_strings.getDefaultStyleDisplayName(),help:plot_strings.getDefaultStyleHelp(),argType:"seriesStyle",default:"{seriesStyle points=5}",options:{include:styleProps}},{name:"seriesStyle",argType:"seriesStyle",options:{include:styleProps},multi:!0}],resolve:({context:context})=>"ready"!==Object(resolved_arg.b)(context)?{labels:[]}:{labels:Object(external_kbnSharedDeps_Lodash_.uniqBy)(Object(external_kbnSharedDeps_Lodash_.map)(Object(resolved_arg.c)(context).rows,"color").filter(v=>void 0!==v))}}),()=>({name:"progress",displayName:progress_strings.getDisplayName(),modelArgs:[["_",{label:"Value"}]],requiresContext:!1,args:[{name:"shape",displayName:progress_strings.getShapeDisplayName(),help:progress_strings.getShapeHelp(),argType:"select",options:{choices:Object.keys(progress_shapes.a).map(key=>({value:key,name:key[0].toUpperCase()+key.slice(1).replace(/([A-Z])/g," $1")}))}},{name:"max",displayName:progress_strings.getMaxDisplayName(),help:progress_strings.getMaxHelp(),argType:"number",default:"1"},{name:"valueColor",displayName:progress_strings.getValueColorDisplayName(),help:progress_strings.getValueColorHelp(),argType:"color",default:"#1785b0"},{name:"valueWeight",displayName:progress_strings.getValueWeightDisplayName(),help:progress_strings.getValueWeightHelp(),argType:"number",default:"20"},{name:"barColor",displayName:progress_strings.getBarColorDisplayName(),help:progress_strings.getBarColorHelp(),argType:"color",default:"#f0f0f0"},{name:"barWeight",displayName:progress_strings.getBarWeightDisplayName(),help:progress_strings.getBarWeightHelp(),argType:"number",default:"20"},{name:"label",displayName:progress_strings.getLabelDisplayName(),help:progress_strings.getLabelHelp(),argType:"toggle",default:"true"},{name:"font",displayName:progress_strings.getFontDisplayName(),help:progress_strings.getFontHelp(),argType:"font",default:`{font size=24 family="${fonts.openSans.value}" color="#000000" align=center}`}]}),()=>({name:"repeatImage",displayName:repeatImage_strings.getDisplayName(),modelArgs:[["_",{label:"Value"}]],args:[{name:"image",displayName:repeatImage_strings.getImageDisplayName(),help:repeatImage_strings.getImageHelp(),argType:"imageUpload"},{name:"emptyImage",displayName:repeatImage_strings.getEmptyImageDisplayName(),help:repeatImage_strings.getEmptyImageHelp(),argType:"imageUpload"},{name:"size",displayName:repeatImage_strings.getSizeDisplayName(),help:repeatImage_strings.getSizeHelp(),argType:"number",default:"100"},{name:"max",displayName:repeatImage_strings.getMaxDisplayName(),help:repeatImage_strings.getMaxHelp(),argType:"number",default:"1000"}]}),()=>({name:"revealImage",displayName:revealImage_strings.getDisplayName(),modelArgs:[["_",{label:"Value"}]],args:[{name:"image",displayName:revealImage_strings.getImageDisplayName(),help:revealImage_strings.getImageHelp(),argType:"imageUpload"},{name:"emptyImage",displayName:revealImage_strings.getEmptyImageDisplayName(),help:revealImage_strings.getEmptyImageHelp(),argType:"imageUpload"},{name:"origin",displayName:revealImage_strings.getOriginDisplayName(),help:revealImage_strings.getOriginHelp(),argType:"select",options:{choices:[{value:"top",name:revealImage_strings.getOriginTop()},{value:"left",name:revealImage_strings.getOriginLeft()},{value:"bottom",name:revealImage_strings.getOriginBottom()},{value:"right",name:revealImage_strings.getOriginRight()}]}}]}),()=>({name:"render",displayName:render_strings.getDisplayName(),help:render_strings.getHelp(),modelArgs:[],requiresContext:!1,args:[{name:"containerStyle",argType:"containerStyle"},{name:"css",displayName:i18n_constants.g,help:render_strings.getCssHelp(),argType:"textarea",default:`"${constants.p}"`,options:{confirm:render_strings.getCssApply()}}]}),()=>({name:"shape",displayName:shape_strings.getDisplayName(),modelArgs:[],requiresContext:!1,args:[{name:"_",displayName:shape_strings.getShapeDisplayName(),argType:"shape",options:{shapes:shape_shapes.a}},{name:"fill",displayName:shape_strings.getFillDisplayName(),argType:"color",help:shape_strings.getFillHelp()},{name:"border",displayName:shape_strings.getBorderDisplayName(),argType:"color",help:shape_strings.getBorderHelp()},{name:"borderWidth",displayName:shape_strings.getBorderWidthDisplayName(),argType:"number",help:shape_strings.getBorderWidthHelp()},{name:"maintainAspect",displayName:shape_strings.getMaintainAspectDisplayName(),argType:"toggle",help:shape_strings.getMaintainAspectHelp(),options:{labelValue:shape_strings.getMaintainAspectLabelName()}}]}),()=>({name:"table",displayName:table_strings.getDisplayName(),help:table_strings.getHelp(),modelArgs:[],args:[{name:"font",argType:"font"},{name:"perPage",displayName:table_strings.getPerPageDisplayName(),help:table_strings.getPerPageHelp(),argType:"select",default:10,options:{choices:["",5,10,25,50,100].map(v=>({name:String(v),value:v}))}},{name:"paginate",displayName:table_strings.getPaginateDisplayName(),help:table_strings.getPaginateHelp(),argType:"toggle",default:!0,options:{labelValue:table_strings.getPaginateToggleSwitch()}},{name:"showHeader",displayName:table_strings.getShowHeaderDisplayName(),help:table_strings.getShowHeaderHelp(),argType:"toggle",default:!0,options:{labelValue:table_strings.getShowHeaderToggleSwitch()}}]}),()=>({name:"timefilterControl",displayName:timefilterControl_strings.getDisplayName(),modelArgs:[],args:[{name:"column",displayName:timefilterControl_strings.getColumnDisplayName(),help:timefilterControl_strings.getColumnHelp(),argType:"string",options:{confirm:timefilterControl_strings.getColumnConfirm()}},{name:"filterGroup",displayName:timefilterControl_strings.getFilterGroupDisplayName(),help:timefilterControl_strings.getFilterGroupHelp(),argType:"filterGroup"}]})],viewInitializers=[(core,plugin)=>()=>({name:"metric",displayName:metric_strings.getDisplayName(),modelArgs:[["_",{label:metric_strings.getNumberDisplayName()}]],requiresContext:!1,args:[{name:"metricFormat",displayName:metric_strings.getMetricFormatDisplayName(),help:metric_strings.getMetricFormatHelp(),argType:"numberFormat",default:`"${core.uiSettings.get(public_.UI_SETTINGS.FORMAT_NUMBER_DEFAULT_PATTERN)}"`},{name:"_",displayName:metric_strings.getLabelDisplayName(),help:metric_strings.getLabelHelp(),argType:"string",default:'""'},{name:"metricFont",displayName:metric_strings.getMetricFontDisplayName(),help:metric_strings.getMetricFontHelp(),argType:"font",default:`{font size=48 family="${fonts.openSans.value}" color="#000000" align=center lHeight=48}`},{name:"labelFont",displayName:metric_strings.getLabelFontDisplayName(),help:metric_strings.getLabelFontHelp(),argType:"font",default:`{font size=18 family="${fonts.openSans.value}" color="#000000" align=center}`}]})],initializeViews=(core,plugins)=>[...viewSpecs,...viewInitializers.map(initializer=>initializer(core,plugins))],SimpleTemplate=({onValueChange:onValueChange,argValue:argValue})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSwitch,{compressed:!0,checked:Boolean(argValue),onChange:()=>onValueChange(!Boolean(argValue)),showLabel:!1,label:""});SimpleTemplate.displayName="AxisConfigSimpleInput";var object_path_immutable=__webpack_require__(42),object_path_immutable_default=__webpack_require__.n(object_path_immutable),ui=__webpack_require__(54);function extended_template_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const{AxisConfig:extended_template_strings}=ui.a,{set:set}=object_path_immutable_default.a,defaultExpression={type:"expression",chain:[{type:"function",function:"axisConfig",arguments:{}}]};class extended_template_ExtendedTemplate extends external_kbnSharedDeps_React_.PureComponent{constructor(...args){super(...args),extended_template_defineProperty(this,"getArgValue",(name,alt)=>Object(external_kbnSharedDeps_Lodash_.get)(this.props.argValue,`chain.0.arguments.${name}.0`,alt)),extended_template_defineProperty(this,"setArgValue",name=>ev=>{if(!ev||!ev.target)return;const val=ev.target.value,{argValue:argValue,onValueChange:onValueChange}=this.props;onValueChange(set("boolean"==typeof argValue?defaultExpression:argValue,`chain.0.arguments.${name}.0`,val))})}render(){if("boolean"==typeof this.props.argValue&&!1===this.props.argValue)return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued",size:"xs"},external_kbnSharedDeps_React_default.a.createElement("p",null,extended_template_strings.getDisabledText()));const positions={xaxis:[{value:"bottom",text:extended_template_strings.getPositionBottom()},{value:"top",text:extended_template_strings.getPositionTop()}],yaxis:[{value:"left",text:extended_template_strings.getPositionLeft()},{value:"right",text:extended_template_strings.getPositionRight()}]},argName=this.props.typeInstance.name,position=this.getArgValue("position",positions[argName][0].value),options=positions[argName];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:extended_template_strings.getPositionLabel(),display:"columnCompressed"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSelect,{compressed:!0,value:position,options:options,onChange:this.setArgValue("position")})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}))}}extended_template_defineProperty(extended_template_ExtendedTemplate,"displayName","AxisConfigExtendedInput");const{AxisConfig:axis_config_strings}=i18n.b;var prop_types=__webpack_require__(176),prop_types_default=__webpack_require__.n(prop_types),stateful_prop=__webpack_require__(184);const{DataColumn:simple_math_function_strings}=i18n.b,SimpleMathFunction=({onChange:onChange,value:value,inputRef:inputRef,onlymath:onlymath})=>{const options=[{text:simple_math_function_strings.getOptionAverage(),value:"mean"},{text:simple_math_function_strings.getOptionCount(),value:"size"},{text:simple_math_function_strings.getOptionFirst(),value:"first"},{text:simple_math_function_strings.getOptionLast(),value:"last"},{text:simple_math_function_strings.getOptionMax(),value:"max"},{text:simple_math_function_strings.getOptionMedian(),value:"median"},{text:simple_math_function_strings.getOptionMin(),value:"min"},{text:simple_math_function_strings.getOptionSum(),value:"sum"},{text:simple_math_function_strings.getOptionUnique(),value:"unique"}];return onlymath||options.unshift({text:simple_math_function_strings.getOptionValue(),value:""}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSelect,{compressed:!0,options:options,inputRef:inputRef,value:value,onChange:onChange})};SimpleMathFunction.defaultProps={value:""};var src=__webpack_require__(237),unquote_string=__webpack_require__(27);const{DataColumn:datacolumn_strings}=i18n.b,maybeQuoteValue=val=>val.match(/\s/)?`'${val}'`:val;class datacolumn_DatacolumnArgInput extends external_kbnSharedDeps_React_.Component{constructor(...args){var obj,key,value;super(...args),value={},(key="inputRefs")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}render(){const{onValueChange:onValueChange,columns:columns,mathValue:mathValue,setMathFunction:setMathFunction,renderError:renderError,argId:argId,typeInstance:typeInstance}=this.props;if(mathValue.error)return renderError(),null;const allowedTypes=typeInstance.options.allowedTypes||!1,onlyShowMathFunctions=typeInstance.options.onlyMath||!1,valueNotSet=val=>!val||0===val.length,updateFunctionValue=()=>{const fn=this.inputRefs.fn.value,column=this.inputRefs.column.value;if("size"===fn){const col=column||columns[0]&&columns[0].name;if(col)return onValueChange(`${fn}(${maybeQuoteValue(col)})`)}return valueNotSet(column)?setMathFunction(fn):valueNotSet(fn)?onValueChange(column):void onValueChange(`${fn}(${maybeQuoteValue(column)})`)},column=columns.map(col=>col.name).find(colName=>colName===mathValue.column)||"",options=[{value:"",text:"select column",disabled:!0}];return Object(external_kbnSharedDeps_Lodash_.sortBy)(columns,"name").forEach(column=>{allowedTypes&&!allowedTypes.includes(column.type)||options.push({value:column.name,text:column.name})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s",id:argId,direction:"row"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(SimpleMathFunction,{id:argId,value:mathValue.fn,inputRef:ref=>this.inputRefs.fn=ref,onlymath:onlyShowMathFunctions,onChange:updateFunctionValue})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSelect,{compressed:!0,options:options,value:column,inputRef:ref=>this.inputRefs.column=ref,onChange:updateFunctionValue})))}}const EnhancedDatacolumnArgInput=Object(Recompose.compose)(Object(Recompose.withPropsOnChange)(["argValue","columns"],({argValue:argValue,columns:columns})=>({mathValue:(argValue=>{if("string"!==Object(common.getType)(argValue))return{error:"argValue is not a string type"};try{const matchedCol=columns.find(({name:name})=>argValue===name);return function(argValue){if(""===argValue)return{fn:"",column:""};const mathObj=Object(src.parse)(argValue);if("number"==typeof mathObj)throw new Error("Cannot render scalar values or complex math expressions");if("variable"===mathObj.type)return{fn:"",column:Object(unquote_string.a)(mathObj.value)};if("function"===mathObj.type&&1===mathObj.args.length&&"number"!=typeof mathObj.args[0]&&"variable"===mathObj.args[0].type)return{fn:mathObj.name,column:Object(unquote_string.a)(mathObj.args[0].value)};throw new Error("Cannot render scalar values or complex math expressions")}(matchedCol?maybeQuoteValue(matchedCol.name):argValue)}catch(e){return{error:e.message}}})(argValue)})),Object(stateful_prop.a)("mathValue","setMathValue"),Object(Recompose.withHandlers)({setMathFunction:({mathValue:mathValue,setMathValue:setMathValue})=>fn=>setMathValue({...mathValue,fn:fn})}))(datacolumn_DatacolumnArgInput);EnhancedDatacolumnArgInput.propTypes={argValue:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.object]).isRequired,columns:prop_types_default.a.array.isRequired};var external_kbnSharedDeps_Moment_=__webpack_require__(11),external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);function format_select_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class format_select_FormatSelect extends external_kbnSharedDeps_React_.PureComponent{constructor(...args){super(...args),format_select_defineProperty(this,"state",{isCustomFormat:!this.props.formatOptions.map(({value:value})=>value).includes(this.props.argValue)}),format_select_defineProperty(this,"_options",this.props.formatOptions.concat({value:"custom",text:"Custom"})),format_select_defineProperty(this,"_handleTextChange",ev=>this.props.onValueChange(ev.target.value)),format_select_defineProperty(this,"_handleSelectChange",ev=>{const{onValueChange:onValueChange,defaultCustomFormat:defaultCustomFormat}=this.props,{value:value}=this._options[ev.target.selectedIndex];return"custom"===value?(this.setState({isCustomFormat:!0}),onValueChange(defaultCustomFormat)):(this.state.isCustomFormat&&this.setState({isCustomFormat:!1}),onValueChange(value))})}render(){const{argId:argId,argValue:argValue,defaultCustomFormat:defaultCustomFormat}=this.props,{isCustomFormat:isCustomFormat}=this.state;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSelect,{compressed:!0,id:argId,value:isCustomFormat?"custom":argValue,options:this._options,onChange:this._handleSelectChange}),isCustomFormat&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldText,{placeholder:defaultCustomFormat,value:argValue,compressed:!0,onChange:this._handleTextChange})))}}const date_format_DateFormatArgInput=({dateFormats:dateFormats,onValueChange:onValueChange,argValue:argValue,argId:argId})=>external_kbnSharedDeps_React_default.a.createElement(format_select_FormatSelect,{argId:argId,argValue:argValue,formatOptions:dateFormats,onValueChange:onValueChange,defaultCustomFormat:"M/D/YY h:ma"}),{DateFormat:date_format_strings}=i18n.b,{FilterGroup:filter_group_strings}=i18n.b,FilterGroupInput=({onValueChange:onValueChange,argValue:argValue,argId:argId,filterGroups:filterGroups})=>{const[inputValue,setInputValue]=Object(external_kbnSharedDeps_React_.useState)(""),[addMode,setAddMode]=Object(external_kbnSharedDeps_React_.useState)(!1),argValueChoice=argValue&&!filterGroups.includes(argValue)?[{text:argValue}]:[],choices=[{text:"No group",value:""}].concat(argValueChoice,filterGroups.map(f=>({text:f}))),handleAddGroup=ev=>{ev.preventDefault(),onValueChange(inputValue),setAddMode(!1),setInputValue("")},addForm=external_kbnSharedDeps_React_default.a.createElement("form",{onSubmit:handleAddGroup},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldText,{autoFocus:!0,compressed:!0,type:"text",value:inputValue,onChange:ev=>setInputValue(ev.target.value)})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"canvasSidebar__panel-noMinWidth"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{type:"submit",size:"s",onClick:handleAddGroup},filter_group_strings.getButtonSet()))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{color:"danger",size:"xs",onClick:()=>setAddMode(!addMode),flush:"left"},filter_group_strings.getButtonCancel())),selectForm=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSelect,{compressed:!0,id:argId,value:argValue||"",options:choices,onChange:ev=>{const selected=ev.target.value;onValueChange(selected)}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"xs",onClick:()=>setAddMode(!addMode),flush:"left"},filter_group_strings.getCreateNewGroup()));return addMode?addForm:selectForm},{AssetPicker:asset_picker_strings}=i18n.e;class asset_picker_AssetPicker extends external_kbnSharedDeps_React_.PureComponent{componentDidMount(){const selectedAsset=document.getElementById("canvasAssetPicker__selectedAsset");selectedAsset&&selectedAsset.scrollIntoView()}render(){const{assets:assets,selected:selected,onChange:onChange}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGrid,{id:"canvasAssetPicker",className:"canvasAssetPicker",gutterSize:"s",columns:4},assets.map(asset=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{key:asset.id,id:asset.id===selected?"canvasAssetPicker__selectedAsset":"",className:"canvasCheckered"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{className:"canvasAssetPicker__link",disabled:asset.id===selected,onClick:()=>onChange(asset)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiImage,{url:asset.value,alt:asset_picker_strings.getAssetAltText()}),asset.id===selected&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{className:"canvasAssetPicker__selected",type:"checkInCircleFilled"})))))}}var elastic_outline=__webpack_require__(15),httpurl=__webpack_require__(26),dataurl=__webpack_require__(24);const{ImageUpload:link_strings}=i18n.b,LinkForm=({url:url,inputRef:inputRef,onSubmit:onSubmit})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{display:"rowCompressed",onSubmit:onSubmit,className:"eui-textRight"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldText,{compressed:!0,defaultValue:url,inputRef:inputRef,placeholder:link_strings.getUrlFieldPlaceholder(),"aria-label":link_strings.getUrlFieldPlaceholder()})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{type:"submit",size:"s",onClick:onSubmit},"Set"))));var loading_loading=__webpack_require__(196);const{ImageUpload:file_strings}=i18n.b,FileForm=({loading:loading,onChange:onChange})=>loading?external_kbnSharedDeps_React_default.a.createElement(loading_loading.a,{animated:!0,text:file_strings.getImageUploading()}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilePicker,{initialPromptText:file_strings.getFileUploadPrompt(),onChange:onChange,compressed:!0,display:"default",className:"canvasImageUpload",accept:"image/*"});function image_upload_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const{ImageUpload:image_upload_strings}=i18n.b;class image_upload_ImageUpload extends external_kbnSharedDeps_React_default.a.Component{constructor(props){super(props),image_upload_defineProperty(this,"updateAST",assetId=>{this.props.onValueChange({type:"expression",chain:[{type:"function",function:"asset",arguments:{_:[assetId]}}]})}),image_upload_defineProperty(this,"handleUpload",files=>{const{onAssetAdd:onAssetAdd}=this.props,[file]=files,[type,subtype]=Object(external_kbnSharedDeps_Lodash_.get)(file,"type","").split("/");"image"===type&&constants.A.indexOf(subtype)>=0&&(this.setState({loading:!0}),Object(dataurl.a)(file).then(dataurl=>onAssetAdd("dataurl",dataurl)).then(assetId=>{this.updateAST(assetId),this._isMounted&&this.setState({loading:!1})}))}),image_upload_defineProperty(this,"changeUrlType",optionId=>{this.setState({urlType:optionId})}),image_upload_defineProperty(this,"setSrcUrl",()=>{const{value:srcUrl}=this.inputRefs.srcUrlText;this.setState({url:srcUrl});const{onValueChange:onValueChange}=this.props;onValueChange(srcUrl)});const url=props.resolvedArgValue||null;let urlType=Object.keys(props.assets).length?"asset":"file";Object(httpurl.a)(url)&&(urlType="link"),this.inputRefs={},this.state={loading:!1,url:url,urlType:urlType}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{loading:loading,url:url,urlType:urlType}=this.state,assets=Object.values(this.props.assets);let selectedAsset={};const urlTypeOptions=[{id:"file",label:image_upload_strings.getFileUrlType()},{id:"link",label:image_upload_strings.getLinkUrlType()}];assets.length&&(urlTypeOptions.unshift({id:"asset",label:image_upload_strings.getAssetUrlType()}),selectedAsset=assets.find(({value:value})=>value===url)||{});const selectUrlType=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{display:"rowCompressed"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonGroup,{buttonSize:"compressed",options:urlTypeOptions,idSelected:urlType,onChange:this.changeUrlType,isFullWidth:!0,className:"canvasSidebar__buttonGroup",legend:image_upload_strings.getUrlTypeChangeLegend()})),forms={file:external_kbnSharedDeps_React_default.a.createElement(FileForm,{loading:loading,onChange:this.handleUpload}),link:external_kbnSharedDeps_React_default.a.createElement(LinkForm,{url:url,inputRef:ref=>this.inputRefs.srcUrlText=ref,onSubmit:this.setSrcUrl}),asset:external_kbnSharedDeps_React_default.a.createElement(asset_picker_AssetPicker,{assets:assets,selected:selectedAsset.id,onChange:({id:id})=>this.updateAST(id)})};return external_kbnSharedDeps_React_default.a.createElement("div",{className:"canvasSidebar__panel-noMinWidth",style:{position:"relative"}},selectUrlType,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),forms[urlType],external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}))}}const{Number:number_strings}=i18n.b,EnhancedNumberArgInput=Object(Recompose.compose)(Object(Recompose.withProps)(({onValueChange:onValueChange,typeInstance:typeInstance,argValue:argValue})=>({confirm:Object(external_kbnSharedDeps_Lodash_.get)(typeInstance,"options.confirm"),commit:onValueChange,value:argValue})),Object(stateful_prop.a)("value"))(({updateValue:updateValue,value:value,confirm:confirm,commit:commit,argId:argId})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldNumber,{compressed:!0,id:argId,value:Number(value),onChange:confirm?updateValue:ev=>commit(Number(ev.target.value))})),confirm&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{size:"s",onClick:()=>commit(Number(value))},confirm))));EnhancedNumberArgInput.propTypes={argValue:prop_types_default.a.any.isRequired,onValueChange:prop_types_default.a.func.isRequired,typeInstance:prop_types_default.a.object.isRequired};const number_format_NumberFormatArgInput=({numberFormats:numberFormats,onValueChange:onValueChange,argValue:argValue,argId:argId})=>external_kbnSharedDeps_React_default.a.createElement(format_select_FormatSelect,{argId:argId,argValue:argValue,formatOptions:numberFormats,onValueChange:onValueChange,defaultCustomFormat:"0.0a"}),{NumberFormat:number_format_strings}=i18n.b;var palettes=__webpack_require__(57);const{PalettePicker:palette_picker_strings}=i18n.e,PalettePicker=props=>{const colorPalettes=palettes.b.map(item=>({value:item.id,title:item.label,type:item.gradient?"gradient":"fixed",palette:item.colors}));if(props.clearable){const{palette:palette,onChange:onChange=(()=>{})}=props;colorPalettes.unshift({value:"clear",title:palette_picker_strings.getEmptyPaletteLabel(),type:"text"});const onPickerChange=value=>{const canvasPalette=palettes.b.find(item=>item.id===value);onChange(canvasPalette||null)};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiColorPalettePicker,{id:props.id,compressed:!0,palettes:colorPalettes,onChange:onPickerChange,valueOfSelected:palette?palette.id:"clear"})}const{palette:palette,onChange:onChange=(()=>{})}=props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiColorPalettePicker,{id:props.id,compressed:!0,palettes:colorPalettes,onChange:value=>{const canvasPalette=palettes.b.find(item=>item.id===value);if(!canvasPalette)throw new Error(palette_picker_strings.getNoPaletteFoundErrorTitle());onChange(canvasPalette)},valueOfSelected:palette.id})};var lib=__webpack_require__(47);const{Palette:palette_strings}=i18n.b,PaletteArgInput=({onValueChange:onValueChange,argId:argId,argValue:argValue,renderError:renderError})=>{const palette=(({chain:chain})=>{if(1!==chain.length||"palette"!==chain[0].function)return renderError(),null;try{const colors=chain[0].arguments._.map(astObj=>("string"!==Object(common.getType)(astObj)&&renderError(),astObj)),gradient=Object(external_kbnSharedDeps_Lodash_.get)(chain[0].arguments.gradient,"[0]"),palette=Object(lib.identifyPalette)({colors:colors,gradient:gradient});return palette||{id:"custom",label:palette_strings.getCustomPaletteLabel(),colors:colors,gradient:gradient}}catch(e){renderError()}return null})(argValue);return palette?external_kbnSharedDeps_React_default.a.createElement(PalettePicker,{id:argId,palette:palette,onChange:palette=>{const astObj={type:"expression",chain:[{type:"function",function:"palette",arguments:{_:palette.colors,gradient:[palette.gradient]}}]};onValueChange(astObj)}}):(renderError(),null)},{Percentage:percentage_strings}=i18n.b,PercentageArgInput=({onValueChange:onValueChange,argValue:argValue})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiRange,{compressed:!0,min:0,max:100,showLabels:!0,showInput:!0,value:100*argValue,onChange:ev=>onValueChange(ev.target.value/100)}),{Range:range_strings}=i18n.b,RangeArgInput=({typeInstance:typeInstance,onValueChange:onValueChange,argValue:argValue})=>{const{min:min,max:max,step:step}=typeInstance.options;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiRange,{compressed:!0,min:min,max:max,step:step,showLabels:!0,showInput:!0,value:argValue,onChange:ev=>onValueChange(Number(ev.target.value))})},{Select:select_strings}=i18n.b,SelectArgInput=({typeInstance:typeInstance,onValueChange:onValueChange,argValue:argValue,argId:argId})=>{const choices=typeInstance.options.choices.map(({value:value,name:name})=>({value:value,text:name}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSelect,{compressed:!0,id:argId,value:argValue,options:choices,onChange:ev=>{const{value:value}=choices[ev.target.selectedIndex];return onValueChange(value)}})};var popover=__webpack_require__(45);const ShapePreview=({shape:shape})=>{if(!shape)return external_kbnSharedDeps_React_default.a.createElement("div",{className:"canvasShapePreview"});const shapeSvg=(new DOMParser).parseFromString(shape,"image/svg+xml").getElementsByTagName("svg").item(0);if(!shapeSvg)throw new Error("An unexpected error occurred: the SVG was not parseable");shapeSvg.setAttribute("fill","none"),shapeSvg.setAttribute("stroke","black");const initialViewBox=(shapeSvg.getAttribute("viewBox")||"0 0 0 0").split(" ").map(v=>parseInt(v,10));let[minX,minY,width,height]=initialViewBox;return minX-=2.5,minY-=2.5,width+=5,height+=5,shapeSvg.setAttribute("viewBox",[minX,minY,width,height].join(" ")),external_kbnSharedDeps_React_default.a.createElement("div",{className:"canvasShapePreview",dangerouslySetInnerHTML:{__html:shapeSvg.outerHTML}})},ShapePicker=({shapes:shapes,onChange:onChange=(()=>{})})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGrid,{gutterSize:"s",columns:4,className:"canvasShapePicker"},Object.keys(shapes).sort().map(shapeKey=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{key:shapeKey},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{onClick:()=>onChange(shapeKey)},external_kbnSharedDeps_React_default.a.createElement(ShapePreview,{shape:shapes[shapeKey]}))))),ShapePickerPopover=({shapes:shapes,onChange:onChange,value:value,ariaLabel:ariaLabel})=>external_kbnSharedDeps_React_default.a.createElement(popover.a,{panelClassName:"canvas",button:handleClick=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPanel,{paddingSize:"s",hasShadow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{"aria-label":ariaLabel,style:{fontSize:0},onClick:handleClick},external_kbnSharedDeps_React_default.a.createElement(ShapePreview,{shape:value?shapes[value]:void 0})))},()=>external_kbnSharedDeps_React_default.a.createElement(ShapePicker,{onChange:onChange,shapes:shapes})),{Shape:arguments_shape_strings}=i18n.b,ShapeArgInput=({onValueChange:onValueChange,argValue:argValue,typeInstance:typeInstance})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(ShapePickerPopover,{value:argValue,onChange:onValueChange,shapes:typeInstance.options.shapes,ariaLabel:typeInstance.displayName}))),{String:string_strings}=i18n.b,EnhancedStringArgInput=Object(Recompose.compose)(Object(Recompose.withProps)(({onValueChange:onValueChange,typeInstance:typeInstance,argValue:argValue})=>({confirm:Object(external_kbnSharedDeps_Lodash_.get)(typeInstance,"options.confirm"),commit:onValueChange,value:argValue})),Object(stateful_prop.a)("value"))(({updateValue:updateValue,value:value,confirm:confirm,commit:commit,argId:argId})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldText,{compressed:!0,id:argId,value:value,onChange:confirm?updateValue:ev=>commit(ev.target.value)})),confirm&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"canvasSidebar__panel-noMinWidth"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{size:"s",onClick:()=>commit(value)},confirm))));EnhancedStringArgInput.propTypes={argValue:prop_types_default.a.any.isRequired,onValueChange:prop_types_default.a.func.isRequired,typeInstance:prop_types_default.a.object.isRequired};const{Textarea:textarea_strings}=i18n.b,EnhancedTextAreaArgInput=Object(Recompose.compose)(Object(Recompose.withProps)(({onValueChange:onValueChange,typeInstance:typeInstance,argValue:argValue})=>({confirm:Object(external_kbnSharedDeps_Lodash_.get)(typeInstance,"options.confirm"),commit:onValueChange,value:argValue})),Object(stateful_prop.a)("value"))(({updateValue:updateValue,value:value,confirm:confirm,commit:commit,renderError:renderError,argId:argId})=>"string"!=typeof value?(renderError(),null):external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{display:"rowCompressed"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextArea,{className:"canvasTextArea__code",id:argId,compressed:!0,rows:10,value:value,resize:"none",onChange:confirm?updateValue:ev=>commit(ev.target.value)})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{size:"s",onClick:()=>commit(value)},confirm),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xs"})));EnhancedTextAreaArgInput.propTypes={argValue:prop_types_default.a.any.isRequired,onValueChange:prop_types_default.a.func.isRequired,typeInstance:prop_types_default.a.object.isRequired,renderError:prop_types_default.a.func.isRequired};const{Toggle:toggle_strings}=i18n.b,ToggleArgInput=({onValueChange:onValueChange,argValue:argValue,argId:argId,renderError:renderError,typeInstance:typeInstance})=>"boolean"!=typeof argValue?(renderError(),null):external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{display:"rowCompressed"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSwitch,{compressed:!0,id:argId,checked:argValue,onChange:()=>onValueChange(!argValue),className:"canvasArg__form","aria-label":typeInstance.displayName,resize:"none",label:typeInstance.options.labelValue,showLabel:!0}))),arguments_args=[()=>({name:"axisConfig",displayName:axis_config_strings.getDisplayName(),help:axis_config_strings.getHelp(),simpleTemplate:Object(template_from_react_component.a)(SimpleTemplate),template:Object(template_from_react_component.a)(extended_template_ExtendedTemplate)}),()=>({name:"datacolumn",displayName:datacolumn_strings.getDisplayName(),help:datacolumn_strings.getHelp(),default:'""',simpleTemplate:Object(template_from_react_component.a)(EnhancedDatacolumnArgInput)}),()=>({name:"filterGroup",displayName:filter_group_strings.getDisplayName(),help:filter_group_strings.getHelp(),simpleTemplate:Object(template_from_react_component.a)(FilterGroupInput)}),()=>({name:"imageUpload",displayName:image_upload_strings.getDisplayName(),help:image_upload_strings.getHelp(),resolveArgValue:!0,template:Object(template_from_react_component.a)(image_upload_ImageUpload),resolve:({args:args})=>({dataurl:Object(resolve_dataurl.a)(args,elastic_outline.a)})}),()=>({name:"number",displayName:number_strings.getDisplayName(),help:number_strings.getHelp(),simpleTemplate:Object(template_from_react_component.a)(EnhancedNumberArgInput),default:"0"}),()=>({name:"palette",displayName:palette_strings.getDisplayName(),help:palette_strings.getHelp(),default:"{palette #882E72 #B178A6 #D6C1DE #1965B0 #5289C7 #7BAFDE #4EB265 #90C987 #CAE0AB #F7EE55 #F6C141 #F1932D #E8601C #DC050C}",simpleTemplate:Object(template_from_react_component.a)(PaletteArgInput)}),()=>({name:"percentage",displayName:percentage_strings.getDisplayName(),help:percentage_strings.getHelp(),simpleTemplate:Object(template_from_react_component.a)(PercentageArgInput)}),()=>({name:"range",displayName:range_strings.getDisplayName(),help:range_strings.getHelp(),simpleTemplate:Object(template_from_react_component.a)(RangeArgInput)}),()=>({name:"select",displayName:select_strings.getDisplayName(),help:select_strings.getHelp(),simpleTemplate:Object(template_from_react_component.a)(SelectArgInput)}),()=>({name:"shape",displayName:arguments_shape_strings.getDisplayName(),help:arguments_shape_strings.getHelp(),simpleTemplate:Object(template_from_react_component.a)(ShapeArgInput),default:'"square"'}),()=>({name:"string",displayName:string_strings.getDisplayName(),help:string_strings.getHelp(),simpleTemplate:Object(template_from_react_component.a)(EnhancedStringArgInput)}),()=>({name:"textarea",displayName:textarea_strings.getDisplayName(),help:textarea_strings.getHelp(),template:Object(template_from_react_component.a)(EnhancedTextAreaArgInput)}),()=>({name:"toggle",displayName:toggle_strings.getDisplayName(),help:toggle_strings.getHelp(),template:Object(template_from_react_component.a)(ToggleArgInput),default:"false"})],initializers=[(core,plugins)=>{const formatMap={DEFAULT:core.uiSettings.get("dateFormat"),NANOS:core.uiSettings.get("dateNanosFormat"),ISO8601:"",LOCAL_LONG:"LLLL",LOCAL_SHORT:"LLL",LOCAL_DATE:"l",LOCAL_TIME_WITH_SECONDS:"LTS"},dateFormats=Object.values(formatMap).map(format=>({value:format,text:external_kbnSharedDeps_Moment_default.a.utc(external_kbnSharedDeps_Moment_default()()).format(format)})),DateFormatArgInput=Object(Recompose.compose)(Object(Recompose.withProps)({dateFormats:dateFormats}))(date_format_DateFormatArgInput);return()=>({name:"dateFormat",displayName:date_format_strings.getDisplayName(),help:date_format_strings.getHelp(),simpleTemplate:Object(template_from_react_component.a)(DateFormatArgInput)})},(core,plugins)=>{const formatMap={NUMBER:core.uiSettings.get(public_.UI_SETTINGS.FORMAT_NUMBER_DEFAULT_PATTERN),PERCENT:core.uiSettings.get(public_.UI_SETTINGS.FORMAT_PERCENT_DEFAULT_PATTERN),CURRENCY:core.uiSettings.get(public_.UI_SETTINGS.FORMAT_CURRENCY_DEFAULT_PATTERN),DURATION:"00:00:00",BYTES:core.uiSettings.get(public_.UI_SETTINGS.FORMAT_BYTES_DEFAULT_PATTERN)},numberFormats=[{value:formatMap.NUMBER,text:number_format_strings.getFormatNumber()},{value:formatMap.PERCENT,text:number_format_strings.getFormatPercent()},{value:formatMap.CURRENCY,text:number_format_strings.getFormatCurrency()},{value:formatMap.DURATION,text:number_format_strings.getFormatDuration()},{value:formatMap.BYTES,text:number_format_strings.getFormatBytes()}],NumberFormatArgInput=Object(Recompose.compose)(Object(Recompose.withProps)({numberFormats:numberFormats}))(number_format_NumberFormatArgInput);return()=>({name:"numberFormat",displayName:number_format_strings.getDisplayName(),help:number_format_strings.getHelp(),simpleTemplate:Object(template_from_react_component.a)(NumberFormatArgInput)})}],initializeArgs=(core,plugins)=>[...arguments_args,...initializers.map(initializer=>initializer(core,plugins))],euiVisPalette=Object(external_kbnSharedDeps_ElasticEui_.euiPaletteColorBlind)(),tagSpecs=[()=>({name:i18n.o.presentation(),color:"#017D73"}),()=>({name:i18n.o.report(),color:euiVisPalette[2]})],{FormatDate:formatdate_strings}=i18n.p,{FormatNumber:formatnumber_strings}=i18n.p,{RoundDate:rounddate_strings}=i18n.p,{Sort:sort_strings}=i18n.p,transformSpecs=[()=>({name:"formatdate",displayName:formatdate_strings.getDisplayName(),args:[{name:"format",displayName:formatdate_strings.getFormatDisplayName(),argType:"dateformat"}]}),()=>({name:"formatnumber",displayName:formatnumber_strings.getDisplayName(),args:[{name:"format",displayName:formatnumber_strings.getFormatDisplayName(),argType:"numberformat"}]}),()=>({name:"rounddate",displayName:rounddate_strings.getDisplayName(),args:[{name:"format",displayName:rounddate_strings.getFormatDisplayName(),argType:"dateformat",help:rounddate_strings.getFormatHelp()}]}),()=>({name:"sort",displayName:sort_strings.getDisplayName(),args:[{name:"_",displayName:sort_strings.getSortFieldDisplayName(),argType:"datacolumn"},{name:"reverse",displayName:sort_strings.getReverseDisplayName(),argType:"toggle"}],resolve:({context:context})=>"ready"===Object(resolved_arg.b)(context)?{columns:Object(external_kbnSharedDeps_Lodash_.get)(Object(resolved_arg.c)(context),"columns",[])}:{columns:[]}})]}}]);