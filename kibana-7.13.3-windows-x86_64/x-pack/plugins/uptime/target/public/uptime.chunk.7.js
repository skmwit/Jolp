/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.uptime_bundle_jsonpfunction=window.uptime_bundle_jsonpfunction||[]).push([[7],{435:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return DurationAnomalyAlert}));var external_kbnSharedDeps_React_=__webpack_require__(1),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),lib=__webpack_require__(32),state=__webpack_require__(101),external_kbnSharedDeps_ElasticEui_=__webpack_require__(10),external_kbnSharedDeps_KbnI18n_=__webpack_require__(0);const AnomalyTranslations={criteriaAriaLabel:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.uptime.alerts.anomaly.criteriaExpression.ariaLabel",{defaultMessage:"An expression displaying the criteria for a selected monitor."}),whenMonitor:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.uptime.alerts.anomaly.criteriaExpression.description",{defaultMessage:"When monitor"}),scoreAriaLabel:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.uptime.alerts.anomaly.scoreExpression.ariaLabel",{defaultMessage:"An expression displaying the criteria for an anomaly alert threshold."}),hasAnomalyWithSeverity:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.uptime.alerts.anomaly.scoreExpression.description",{defaultMessage:"has anomaly with severity",description:"An expression displaying the criteria for an anomaly alert threshold."})};var alert_expression_popover=__webpack_require__(75),external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(12),public_=__webpack_require__(21);const warningLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.uptime.controls.selectSeverity.warningLabel",{defaultMessage:"warning"}),minorLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.uptime.controls.selectSeverity.minorLabel",{defaultMessage:"minor"}),majorLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.uptime.controls.selectSeverity.majorLabel",{defaultMessage:"major"}),criticalLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.uptime.controls.selectSeverity.criticalLabel",{defaultMessage:"critical"}),optionsMap={[warningLabel]:0,[minorLabel]:25,[majorLabel]:50,[criticalLabel]:75},SEVERITY_OPTIONS=[{val:0,display:warningLabel,color:Object(public_.getSeverityColor)(0)},{val:25,display:minorLabel,color:Object(public_.getSeverityColor)(25)},{val:50,display:majorLabel,color:Object(public_.getSeverityColor)(50)},{val:75,display:criticalLabel,color:Object(public_.getSeverityColor)(75)}];const DEFAULT_SEVERITY=SEVERITY_OPTIONS[3],SelectSeverity=({onChange:onChange,value:value})=>{const[severity,setSeverity]=Object(external_kbnSharedDeps_React_.useState)(DEFAULT_SEVERITY);return Object(external_kbnSharedDeps_React_.useEffect)(()=>{setSeverity(value)},[value]),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSuperSelect,{hasDividers:!0,style:{width:200},options:SEVERITY_OPTIONS.map(({color:color,display:display,val:val})=>({"data-test-subj":"alertAnomaly"+display,value:display,inputDisplay:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHealth,{color:color,style:{lineHeight:"inherit"}},display)),dropdownDisplay:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHealth,{color:color,style:{lineHeight:"inherit"}},display),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"xs",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement("p",{className:"euiTextColor--subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.uptime.controls.selectSeverity.scoreDetailsDescription",defaultMessage:"score {value} and above",values:{value:val}}))))})),valueOfSelected:severity.display,onChange:valueDisplay=>{const option=function(value){let threshold=SEVERITY_OPTIONS.find(opt=>opt.val===value);return void 0===threshold&&(threshold=SEVERITY_OPTIONS[0]),threshold}(optionsMap[valueDisplay]);setSeverity(option),onChange(option)},"data-test-subj":"anomalySeveritySelect"})};var selectors=__webpack_require__(37);function AnomalyAlertComponent({setAlertParams:setAlertParams,alertParams:alertParams}){const[severity,setSeverity]=Object(external_kbnSharedDeps_React_.useState)(DEFAULT_SEVERITY),monitorId=Object(lib.useSelector)(selectors.q)||(null==alertParams?void 0:alertParams.monitorId);return Object(external_kbnSharedDeps_React_.useEffect)(()=>{setAlertParams("monitorId",monitorId)},[monitorId,setAlertParams]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{setAlertParams("severity",severity.val)},[severity,setAlertParams]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{void 0!==alertParams.severity&&setSeverity(SEVERITY_OPTIONS.find(({val:val})=>val===alertParams.severity))},[]),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{direction:"column",gutterSize:"none"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiExpression,{description:AnomalyTranslations.whenMonitor,value:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{className:"eui-displayInlineBlock"},external_kbnSharedDeps_React_default.a.createElement("h5",null,monitorId))})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(alert_expression_popover.a,{"aria-label":AnomalyTranslations.scoreAriaLabel,content:external_kbnSharedDeps_React_default.a.createElement(SelectSeverity,{"data-test-subj":"uptimeAnomalySeverityValue",value:severity,onChange:setSeverity}),"data-test-subj":"uptimeAnomalySeverity",description:AnomalyTranslations.hasAnomalyWithSeverity,id:"severity",value:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHealth,{style:{textTransform:"capitalize"},color:Object(public_.getSeverityColor)(severity.val)},Object(public_.getSeverity)(severity.val).label),isEnabled:!0}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}))}var kibanaReact_public_=__webpack_require__(15),kibana_service=__webpack_require__(53);function DurationAnomalyAlert({core:core,plugins:plugins,params:params}){return kibana_service.a.core=core,external_kbnSharedDeps_React_default.a.createElement(lib.Provider,{store:state.a},external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_.KibanaContextProvider,{services:{...core,...plugins}},external_kbnSharedDeps_React_default.a.createElement(AnomalyAlertComponent,params)))}},75:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AlertExpressionPopover}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10);const getColor=(isOpen,isEnabled,isInvalid)=>!0===isInvalid?"danger":!1===isEnabled?"subdued":isOpen?"primary":"secondary",AlertExpressionPopover=({"aria-label":ariaLabel,content:content,"data-test-subj":dataTestSubj,description:description,isEnabled:isEnabled,isInvalid:isInvalid,id:id,value:value})=>{const[isOpen,setIsOpen]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiPopover,{id:id,anchorPosition:"downLeft",button:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiExpression,{"aria-label":ariaLabel,color:getColor(isOpen,isEnabled,isInvalid),"data-test-subj":dataTestSubj,description:description,isActive:isOpen,onClick:isEnabled?()=>setIsOpen(!isOpen):void 0,value:value}),isOpen:isOpen,closePopover:()=>setIsOpen(!1)},content)}}}]);