/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.uptime_bundle_jsonpfunction=window.uptime_bundle_jsonpfunction||[]).push([[9],{431:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"UptimeDataHelper",(function(){return UptimeDataHelper}));var _state_api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(51),_state_kibana_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(53);async function fetchUptimeOverviewData({absoluteTime:absoluteTime,relativeTime:relativeTime,bucketSize:bucketSize}){const start=new Date(absoluteTime.start).toISOString(),end=new Date(absoluteTime.end).toISOString(),snapshot=await Object(_state_api__WEBPACK_IMPORTED_MODULE_0__.k)({dateRangeStart:start,dateRangeEnd:end}),pings=await Object(_state_api__WEBPACK_IMPORTED_MODULE_0__.i)({dateStart:start,dateEnd:end,bucketSize:bucketSize});return{appLink:`/app/uptime?dateRangeStart=${relativeTime.start}&dateRangeEnd=${relativeTime.end}`,stats:{monitors:{type:"number",value:snapshot.total},up:{type:"number",value:snapshot.up},down:{type:"number",value:snapshot.down}},series:{up:{coordinates:pings.histogram.map(p=>({x:p.x,y:p.upCount||0}))},down:{coordinates:pings.histogram.map(p=>({x:p.x,y:p.downCount||0}))}}}}function UptimeDataHelper(coreStart){return _state_kibana_service__WEBPACK_IMPORTED_MODULE_1__.a.core=coreStart,{indexStatus:_state_api__WEBPACK_IMPORTED_MODULE_0__.b,overviewData:fetchUptimeOverviewData}}}}]);