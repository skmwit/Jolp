/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.security_bundle_jsonpfunction=window.security_bundle_jsonpfunction||[]).push([[6],{118:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(119);case"v7light":return __webpack_require__(121);case"v8dark":return __webpack_require__(123);case"v8light":return __webpack_require__(125)}},119:function(module,exports,__webpack_require__){var api=__webpack_require__(13),content=__webpack_require__(120);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},120:function(module,exports,__webpack_require__){(exports=__webpack_require__(14)(!1)).push([module.i,".secAccessAgreementPage .secAuthenticationStatePage__content{max-width:600px}.secAccessAgreementPage__textWrapper{overflow-y:hidden}.secAccessAgreementPage__text{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;-webkit-mask-image:linear-gradient(to bottom, rgba(255,0,0,0.1) 0%,red 7.5px,red calc(100% - 7.5px),rgba(255,0,0,0.1) 100%);mask-image:linear-gradient(to bottom, rgba(255,0,0,0.1) 0%,red 7.5px,red calc(100% - 7.5px),rgba(255,0,0,0.1) 100%);max-height:400px;padding:16px 24px 0}.secAccessAgreementPage__text::-webkit-scrollbar{width:16px;height:16px}.secAccessAgreementPage__text::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.secAccessAgreementPage__text::-webkit-scrollbar-corner,.secAccessAgreementPage__text::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.secAccessAgreementPage__text:focus{outline:none}.secAccessAgreementPage__footer{padding:16px 24px 24px}.secAccessAgreementPage__footerInner{text-align:left}\n",""]),module.exports=exports},121:function(module,exports,__webpack_require__){var api=__webpack_require__(13),content=__webpack_require__(122);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},122:function(module,exports,__webpack_require__){(exports=__webpack_require__(14)(!1)).push([module.i,".secAccessAgreementPage .secAuthenticationStatePage__content{max-width:600px}.secAccessAgreementPage__textWrapper{overflow-y:hidden}.secAccessAgreementPage__text{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;-webkit-mask-image:linear-gradient(to bottom, rgba(255,0,0,0.1) 0%,red 7.5px,red calc(100% - 7.5px),rgba(255,0,0,0.1) 100%);mask-image:linear-gradient(to bottom, rgba(255,0,0,0.1) 0%,red 7.5px,red calc(100% - 7.5px),rgba(255,0,0,0.1) 100%);max-height:400px;padding:16px 24px 0}.secAccessAgreementPage__text::-webkit-scrollbar{width:16px;height:16px}.secAccessAgreementPage__text::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.secAccessAgreementPage__text::-webkit-scrollbar-corner,.secAccessAgreementPage__text::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.secAccessAgreementPage__text:focus{outline:none}.secAccessAgreementPage__footer{padding:16px 24px 24px}.secAccessAgreementPage__footerInner{text-align:left}\n",""]),module.exports=exports},123:function(module,exports,__webpack_require__){var api=__webpack_require__(13),content=__webpack_require__(124);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},124:function(module,exports,__webpack_require__){(exports=__webpack_require__(14)(!1)).push([module.i,".secAccessAgreementPage .secAuthenticationStatePage__content{max-width:600px}.secAccessAgreementPage__textWrapper{overflow-y:hidden}.secAccessAgreementPage__text{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;-webkit-mask-image:linear-gradient(to bottom, rgba(255,0,0,0.1) 0%,red 7.5px,red calc(100% - 7.5px),rgba(255,0,0,0.1) 100%);mask-image:linear-gradient(to bottom, rgba(255,0,0,0.1) 0%,red 7.5px,red calc(100% - 7.5px),rgba(255,0,0,0.1) 100%);max-height:400px;padding:16px 24px 0}.secAccessAgreementPage__text::-webkit-scrollbar{width:16px;height:16px}.secAccessAgreementPage__text::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.secAccessAgreementPage__text::-webkit-scrollbar-corner,.secAccessAgreementPage__text::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.secAccessAgreementPage__text:focus{outline:none}.secAccessAgreementPage__footer{padding:16px 24px 24px}.secAccessAgreementPage__footerInner{text-align:left}\n",""]),module.exports=exports},125:function(module,exports,__webpack_require__){var api=__webpack_require__(13),content=__webpack_require__(126);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},126:function(module,exports,__webpack_require__){(exports=__webpack_require__(14)(!1)).push([module.i,".secAccessAgreementPage .secAuthenticationStatePage__content{max-width:600px}.secAccessAgreementPage__textWrapper{overflow-y:hidden}.secAccessAgreementPage__text{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;-webkit-mask-image:linear-gradient(to bottom, rgba(255,0,0,0.1) 0%,red 7.5px,red calc(100% - 7.5px),rgba(255,0,0,0.1) 100%);mask-image:linear-gradient(to bottom, rgba(255,0,0,0.1) 0%,red 7.5px,red calc(100% - 7.5px),rgba(255,0,0,0.1) 100%);max-height:400px;padding:16px 24px 0}.secAccessAgreementPage__text::-webkit-scrollbar{width:16px;height:16px}.secAccessAgreementPage__text::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.secAccessAgreementPage__text::-webkit-scrollbar-corner,.secAccessAgreementPage__text::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.secAccessAgreementPage__text:focus{outline:none}.secAccessAgreementPage__footer{padding:16px 24px 24px}.secAccessAgreementPage__footerInner{text-align:left}\n",""]),module.exports=exports},296:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AccessAgreementPage",(function(){return AccessAgreementPage})),__webpack_require__.d(__webpack_exports__,"renderAccessAgreementPage",(function(){return renderAccessAgreementPage}));__webpack_require__(118);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),react_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),react_dom__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__),react_markdown__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(109),react_markdown__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_markdown__WEBPACK_IMPORTED_MODULE_4__),_kbn_i18n__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),_common_parse_next__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(106),_components__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(105);function AccessAgreementPage({http:http,fatalErrors:fatalErrors,notifications:notifications}){const[isLoading,setIsLoading]=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[accessAgreement,setAccessAgreement]=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{http.get("/internal/security/access_agreement/state").then(response=>setAccessAgreement(response.accessAgreement)).catch(err=>fatalErrors.add(err))},[http,fatalErrors]);const onAcknowledge=Object(react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async e=>{e.preventDefault();try{setIsLoading(!0),await http.post("/internal/security/access_agreement/acknowledge"),window.location.href=Object(_common_parse_next__WEBPACK_IMPORTED_MODULE_7__.a)(window.location.href,http.basePath.serverBasePath)}catch(err){notifications.toasts.addError(err,{title:_kbn_i18n__WEBPACK_IMPORTED_MODULE_5__.i18n.translate("xpack.security.accessAgreement.acknowledgeErrorMessage",{defaultMessage:"Could not acknowledge access agreement."})}),setIsLoading(!1)}},[http,notifications]),content=accessAgreement?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("form",{onSubmit:onAcknowledge},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiPanel,{paddingSize:"none"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFlexGroup,{gutterSize:"none",direction:"column"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFlexItem,{className:"secAccessAgreementPage__textWrapper"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"secAccessAgreementPage__text"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiText,{textAlign:"left"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_markdown__WEBPACK_IMPORTED_MODULE_4___default.a,null,accessAgreement)))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFlexItem,{className:"secAccessAgreementPage__footer"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"secAccessAgreementPage__footerInner"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiButton,{fill:!0,type:"submit",color:"primary",onClick:onAcknowledge,isDisabled:isLoading,isLoading:isLoading,"data-test-subj":"accessAgreementAcknowledge"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_6__.FormattedMessage,{id:"xpack.security.accessAgreement.acknowledgeButtonText",defaultMessage:"Acknowledge and continue"}))))))):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiPanel,{paddingSize:"l"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiLoadingContent,{lines:10}));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_8__.a,{className:"secAccessAgreementPage",title:react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_6__.FormattedMessage,{id:"xpack.security.accessAgreement.title",defaultMessage:"Access Agreement"})},content,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiSpacer,{size:"xxl"}))}function renderAccessAgreementPage(i18nStart,element,props){return react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.render(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(i18nStart.Context,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(AccessAgreementPage,props)),element),()=>react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.unmountComponentAtNode(element)}}}]);