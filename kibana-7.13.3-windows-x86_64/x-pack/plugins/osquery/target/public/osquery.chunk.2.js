/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.osquery_bundle_jsonpfunction=window.osquery_bundle_jsonpfunction||[]).push([[2],Array(29).concat([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return public_.KibanaContextProvider})),__webpack_require__.d(__webpack_exports__,"e",(function(){return useRouterNavigate})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isLeftClickEvent})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isModifiedEvent})),__webpack_require__.d(__webpack_exports__,"d",(function(){return useTypedKibana}));var external_kbnSharedDeps_ReactRouterDom_=__webpack_require__(17),public_=__webpack_require__(16);const useTypedKibana=()=>Object(public_.useKibana)(),isModifiedEvent=event=>!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey),isLeftClickEvent=event=>0===event.button,useRouterNavigate=(to,onClickCallback)=>{const history=Object(external_kbnSharedDeps_ReactRouterDom_.useHistory)();return Object(public_.reactRouterNavigate)(history,to,onClickCallback)}},function(module,exports){module.exports=function(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _core=__webpack_require__(49);Object.keys(_core).forEach((function(key){"default"!==key&&"__esModule"!==key&&(exports[key]=_core[key])}));var _react=__webpack_require__(100);Object.keys(_react).forEach((function(key){"default"!==key&&"__esModule"!==key&&(exports[key]=_react[key])}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDeepEqual=exports.off=exports.on=exports.isClient=void 0;var react_1=__webpack_require__(11).__importDefault(__webpack_require__(125));exports.isClient="object"==typeof window,exports.on=function(obj){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return obj.addEventListener.apply(obj,args)},exports.off=function(obj){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return obj.removeEventListener.apply(obj,args)},exports.isDeepEqual=react_1.default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.noop=function(){return},exports.functionalUpdate=function(updater,input){return"function"==typeof updater?updater(input):updater},exports.isValidTimeout=function(value){return"number"==typeof value&&value>=0&&value!==1/0},exports.ensureArray=ensureArray,exports.difference=function(array1,array2){return array1.filter((function(x){return-1===array2.indexOf(x)}))},exports.replaceAt=function(array,index,value){var copy=array.slice(0);return copy[index]=value,copy},exports.timeUntilStale=function(updatedAt,staleTime){return Math.max(updatedAt+(staleTime||0)-Date.now(),0)},exports.parseQueryArgs=function(arg1,arg2,arg3){if(!isQueryKey(arg1))return arg1;if("function"==typeof arg2)return(0,_extends2.default)({},arg3,{queryKey:arg1,queryFn:arg2});return(0,_extends2.default)({},arg2,{queryKey:arg1})},exports.parseMutationArgs=function(arg1,arg2,arg3){if(isQueryKey(arg1))return"function"==typeof arg2?(0,_extends2.default)({},arg3,{mutationKey:arg1,mutationFn:arg2}):(0,_extends2.default)({},arg2,{mutationKey:arg1});if("function"==typeof arg1)return(0,_extends2.default)({},arg2,{mutationFn:arg1});return(0,_extends2.default)({},arg1)},exports.parseFilterArgs=function(arg1,arg2,arg3){return isQueryKey(arg1)?[(0,_extends2.default)({},arg2,{queryKey:arg1}),arg3]:[arg1||{},arg2]},exports.matchQuery=function(filters,query){var isActive,active=filters.active,exact=filters.exact,fetching=filters.fetching,inactive=filters.inactive,predicate=filters.predicate,queryKey=filters.queryKey,stale=filters.stale;if(isQueryKey(queryKey))if(exact){if(query.queryHash!==hashQueryKeyByOptions(queryKey,query.options))return!1}else if(!partialMatchKey(query.queryKey,queryKey))return!1;!1===inactive||active&&!inactive?isActive=!0:(!1===active||inactive&&!active)&&(isActive=!1);if("boolean"==typeof isActive&&query.isActive()!==isActive)return!1;if("boolean"==typeof stale&&query.isStale()!==stale)return!1;if("boolean"==typeof fetching&&query.isFetching()!==fetching)return!1;if(predicate&&!predicate(query))return!1;return!0},exports.matchMutation=function(filters,mutation){var exact=filters.exact,fetching=filters.fetching,predicate=filters.predicate,mutationKey=filters.mutationKey;if(isQueryKey(mutationKey)){if(!mutation.options.mutationKey)return!1;if(exact){if(hashQueryKey(mutation.options.mutationKey)!==hashQueryKey(mutationKey))return!1}else if(!partialMatchKey(mutation.options.mutationKey,mutationKey))return!1}if("boolean"==typeof fetching&&"loading"===mutation.state.status!==fetching)return!1;if(predicate&&!predicate(mutation))return!1;return!0},exports.hashQueryKeyByOptions=hashQueryKeyByOptions,exports.hashQueryKey=hashQueryKey,exports.stableValueHash=stableValueHash,exports.partialMatchKey=partialMatchKey,exports.partialDeepEqual=partialDeepEqual,exports.replaceEqualDeep=function replaceEqualDeep(a,b){if(a===b)return a;var array=Array.isArray(a)&&Array.isArray(b);if(array||isPlainObject(a)&&isPlainObject(b)){for(var aSize=array?a.length:Object.keys(a).length,bItems=array?b:Object.keys(b),bSize=bItems.length,copy=array?[]:{},equalItems=0,i=0;i<bSize;i++){var key=array?i:bItems[i];copy[key]=replaceEqualDeep(a[key],b[key]),copy[key]===a[key]&&equalItems++}return aSize===bSize&&equalItems===aSize?a:copy}return b},exports.shallowEqualObjects=function(a,b){if(a&&!b||b&&!a)return!1;for(var key in a)if(a[key]!==b[key])return!1;return!0},exports.isPlainObject=isPlainObject,exports.isQueryKey=isQueryKey,exports.isError=function(value){return value instanceof Error},exports.sleep=function(timeout){return new Promise((function(resolve){setTimeout(resolve,timeout)}))},exports.scheduleMicrotask=function(callback){Promise.resolve().then(callback).catch((function(error){return setTimeout((function(){throw error}))}))},exports.isServer=void 0;var _extends2=_interopRequireDefault(__webpack_require__(37)),isServer="undefined"==typeof window;function ensureArray(value){return Array.isArray(value)?value:[value]}function hashQueryKeyByOptions(queryKey,options){return((null==options?void 0:options.queryKeyHashFn)||hashQueryKey)(queryKey)}function hashQueryKey(queryKey){return stableValueHash(Array.isArray(queryKey)?queryKey:[queryKey])}function stableValueHash(value){return JSON.stringify(value,(function(_,val){return isPlainObject(val)?Object.keys(val).sort().reduce((function(result,key){return result[key]=val[key],result}),{}):val}))}function partialMatchKey(a,b){return partialDeepEqual(ensureArray(a),ensureArray(b))}function partialDeepEqual(a,b){return a===b||typeof a==typeof b&&(!(!a||!b||"object"!=typeof a||"object"!=typeof b)&&!Object.keys(b).some((function(key){return!partialDeepEqual(a[key],b[key])})))}function isPlainObject(o){if(!hasObjectPrototype(o))return!1;var ctor=o.constructor;if(void 0===ctor)return!0;var prot=ctor.prototype;return!!hasObjectPrototype(prot)&&!!prot.hasOwnProperty("isPrototypeOf")}function hasObjectPrototype(o){return"[object Object]"===Object.prototype.toString.call(o)}function isQueryKey(value){return"string"==typeof value||Array.isArray(value)}exports.isServer=isServer},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.notifyManager=void 0;var _utils=__webpack_require__(33),notifyManager=new(function(){function NotifyManager(){this.queue=[],this.transactions=0,this.notifyFn=function(callback){callback()},this.batchNotifyFn=function(callback){callback()}}var _proto=NotifyManager.prototype;return _proto.batch=function(callback){this.transactions++;var result=callback();return this.transactions--,this.transactions||this.flush(),result},_proto.schedule=function(callback){var _this=this;this.transactions?this.queue.push(callback):(0,_utils.scheduleMicrotask)((function(){_this.notifyFn(callback)}))},_proto.batchCalls=function(callback){var _this2=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_this2.schedule((function(){callback.apply(void 0,args)}))}},_proto.flush=function(){var _this3=this,queue=this.queue;this.queue=[],queue.length&&(0,_utils.scheduleMicrotask)((function(){_this3.batchNotifyFn((function(){queue.forEach((function(callback){_this3.notifyFn(callback)}))}))}))},_proto.setNotifyFunction=function(fn){this.notifyFn=fn},_proto.setBatchNotifyFunction=function(fn){this.batchNotifyFn=fn},NotifyManager}());exports.notifyManager=notifyManager},function(module,__webpack_exports__,__webpack_require__){"use strict";var _common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(62);__webpack_require__.d(__webpack_exports__,"Direction",(function(){return _common__WEBPACK_IMPORTED_MODULE_0__.a}));var _osquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63);__webpack_require__.o(_osquery__WEBPACK_IMPORTED_MODULE_1__,"OsqueryQueries")&&__webpack_require__.d(__webpack_exports__,"OsqueryQueries",(function(){return _osquery__WEBPACK_IMPORTED_MODULE_1__.OsqueryQueries}))},function(module,exports){module.exports=function(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}},function(module,exports){function _extends(){return module.exports=_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}module.exports=_extends},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),useIsomorphicLayoutEffect="undefined"!=typeof window?react_1.useLayoutEffect:react_1.useEffect;exports.default=useIsomorphicLayoutEffect},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.Subscribable=void 0;var Subscribable=function(){function Subscribable(){this.listeners=[]}var _proto=Subscribable.prototype;return _proto.subscribe=function(listener){var _this=this,callback=listener||function(){};return this.listeners.push(callback),this.onSubscribe(),function(){_this.listeners=_this.listeners.filter((function(x){return x!==callback})),_this.onUnsubscribe()}},_proto.hasListeners=function(){return this.listeners.length>0},_proto.onSubscribe=function(){},_proto.onUnsubscribe=function(){},Subscribable}();exports.Subscribable=Subscribable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(){var mountedRef=react_1.useRef(!1),get=react_1.useCallback((function(){return mountedRef.current}),[]);return react_1.useEffect((function(){return mountedRef.current=!0,function(){mountedRef.current=!1}})),get}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.QueryClientProvider=exports.useQueryClient=void 0;var _react=_interopRequireDefault(__webpack_require__(2)),defaultContext=_react.default.createContext(void 0),QueryClientSharingContext=_react.default.createContext(!1);function getQueryClientContext(contextSharing){return contextSharing&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext}exports.useQueryClient=function(){var queryClient=_react.default.useContext(getQueryClientContext(_react.default.useContext(QueryClientSharingContext)));if(!queryClient)throw new Error("No QueryClient set, use QueryClientProvider to set one");return queryClient};exports.QueryClientProvider=function(_ref){var client=_ref.client,_ref$contextSharing=_ref.contextSharing,contextSharing=void 0!==_ref$contextSharing&&_ref$contextSharing,children=_ref.children;_react.default.useEffect((function(){return client.mount(),function(){client.unmount()}}),[client]);var Context=getQueryClientContext(contextSharing);return _react.default.createElement(QueryClientSharingContext.Provider,{value:contextSharing},_react.default.createElement(Context.Provider,{value:client},children))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),updateReducer=function(num){return(num+1)%1e6};exports.default=function(){return react_1.useReducer(updateReducer,0)[1]}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(60)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),useFirstMountState_1=__webpack_require__(53);exports.default=function(effect,deps){var isFirstMount=useFirstMountState_1.useFirstMountState();react_1.useEffect((function(){if(!isFirstMount)return effect()}),deps)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(initialState){void 0===initialState&&(initialState={});var _a=react_1.useState(initialState),state=_a[0],set=_a[1];return[state,react_1.useCallback((function(patch){set((function(prevState){return Object.assign({},prevState,patch instanceof Function?patch(prevState):patch)}))}),[set])]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(effect){react_1.useEffect(effect,[])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useUnmount_1=tslib_1.__importDefault(__webpack_require__(55));exports.default=function(initialState){var frame=react_1.useRef(0),_a=react_1.useState(initialState),state=_a[0],setState=_a[1],setRafState=react_1.useCallback((function(value){cancelAnimationFrame(frame.current),frame.current=requestAnimationFrame((function(){setState(value)}))}),[]);return useUnmount_1.default((function(){cancelAnimationFrame(frame.current)})),[state,setRafState]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return ViewResultsActionButtonType})),__webpack_require__.d(__webpack_exports__,"d",(function(){return ViewResultsInLensAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ViewResultsInDiscoverAction})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ScheduledQueryGroupQueriesTable}));var lodash_fp__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_elastic_eui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14),_src_plugins_data_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(23),_common_lib_kibana__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(29);let ViewResultsActionButtonType;function getLensAttributes(actionId){return{visualizationType:"lnsPie",title:`Action ${actionId} results`,references:[{id:"logs-*",name:"indexpattern-datasource-current-indexpattern",type:"index-pattern"},{id:"logs-*",name:"indexpattern-datasource-layer-layer1",type:"index-pattern"},{name:"filter-index-pattern-0",id:"logs-*",type:"index-pattern"}],state:{datasourceStates:{indexpattern:{layers:{layer1:{columnOrder:["8690befd-fd69-4246-af4a-dd485d2a3b38","ed999e9d-204c-465b-897f-fe1a125b39ed"],columns:{"8690befd-fd69-4246-af4a-dd485d2a3b38":{sourceField:"type",isBucketed:!0,dataType:"string",scale:"ordinal",operationType:"terms",label:"Top values of type",params:{otherBucket:!0,size:5,missingBucket:!1,orderBy:{columnId:"ed999e9d-204c-465b-897f-fe1a125b39ed",type:"column"},orderDirection:"desc"}},"ed999e9d-204c-465b-897f-fe1a125b39ed":{sourceField:"Records",isBucketed:!1,dataType:"number",scale:"ratio",operationType:"count",label:"Count of records"}},incompleteColumns:{}}}}},filters:[{$state:{store:_src_plugins_data_common__WEBPACK_IMPORTED_MODULE_5__.FilterStateStore.APP_STATE},meta:{indexRefName:"filter-index-pattern-0",negate:!1,alias:null,disabled:!1,params:{query:actionId},type:"phrase",key:"action_id"},query:{match_phrase:{action_id:actionId}}}],query:{language:"kuery",query:""},visualization:{shape:"pie",layers:[{legendDisplay:"default",nestedLegend:!1,layerId:"layer1",metric:"ed999e9d-204c-465b-897f-fe1a125b39ed",numberDisplay:"percent",groups:["8690befd-fd69-4246-af4a-dd485d2a3b38"],categoryDisplay:"default"}]}}}}!function(ViewResultsActionButtonType){ViewResultsActionButtonType.icon="icon",ViewResultsActionButtonType.button="button"}(ViewResultsActionButtonType||(ViewResultsActionButtonType={}));const ViewResultsInLensActionComponent=({actionId:actionId,buttonType:buttonType,endDate:endDate,startDate:startDate})=>{const lensService=Object(_common_lib_kibana__WEBPACK_IMPORTED_MODULE_6__.d)().services.lens,handleClick=Object(react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(event=>{const openInNewWindow=!(!Object(_common_lib_kibana__WEBPACK_IMPORTED_MODULE_6__.c)(event)&&Object(_common_lib_kibana__WEBPACK_IMPORTED_MODULE_6__.b)(event));event.preventDefault(),null==lensService||lensService.navigateToPrefilledEditor({id:"",timeRange:{from:null!=startDate?startDate:"now-1d",to:null!=endDate?endDate:"now",mode:startDate||endDate?"absolute":"relative"},attributes:getLensAttributes(actionId)},openInNewWindow)},[actionId,endDate,lensService,startDate]);return buttonType===ViewResultsActionButtonType.button?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiButtonEmpty,{size:"xs",iconType:"lensApp",onClick:handleClick,disabled:!(null!=lensService&&lensService.canUseEditor())},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_4__.FormattedMessage,{id:"xpack.osquery.scheduledQueryGroup.queriesTable.viewLensResultsActionAriaLabel",defaultMessage:"View results in Lens"})):react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiToolTip,{content:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.osquery.scheduledQueryGroup.queriesTable.viewLensResultsActionAriaLabel",{defaultMessage:"View results in Lens"})},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiButtonIcon,{iconType:"lensApp",disabled:!(null!=lensService&&lensService.canUseEditor()),onClick:handleClick,"aria-label":_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.osquery.scheduledQueryGroup.queriesTable.viewLensResultsActionAriaLabel",{defaultMessage:"View results in Lens"})}))},ViewResultsInLensAction=react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(ViewResultsInLensActionComponent),ViewResultsInDiscoverActionComponent=({actionId:actionId,buttonType:buttonType,endDate:endDate,startDate:startDate})=>{var _useKibana$services$d;const urlGenerator=null===(_useKibana$services$d=Object(_common_lib_kibana__WEBPACK_IMPORTED_MODULE_6__.d)().services.discover)||void 0===_useKibana$services$d?void 0:_useKibana$services$d.urlGenerator,[discoverUrl,setDiscoverUrl]=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)("");return Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{(async()=>{if(null==urlGenerator||!urlGenerator.createUrl)return;const newUrl=await urlGenerator.createUrl({indexPatternId:"logs-*",filters:[{meta:{index:"logs-*",alias:null,negate:!1,disabled:!1,type:"phrase",key:"action_id",params:{query:actionId}},query:{match_phrase:{action_id:actionId}},$state:{store:_src_plugins_data_common__WEBPACK_IMPORTED_MODULE_5__.FilterStateStore.APP_STATE}}],refreshInterval:{pause:!0,value:0},timeRange:startDate&&endDate?{to:endDate,from:startDate,mode:"absolute"}:{to:"now",from:"now-15m",mode:"relative"}});setDiscoverUrl(newUrl)})()},[actionId,endDate,startDate,urlGenerator]),buttonType===ViewResultsActionButtonType.button?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiButtonEmpty,{size:"xs",iconType:"discoverApp",href:discoverUrl},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_4__.FormattedMessage,{id:"xpack.osquery.scheduledQueryGroup.queriesTable.viewDiscoverResultsActionAriaLabel",defaultMessage:"View results in Discover"})):react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiToolTip,{content:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.osquery.scheduledQueryGroup.queriesTable.viewDiscoverResultsActionAriaLabel",{defaultMessage:"View results in Discover"})},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiButtonIcon,{iconType:"discoverApp",href:discoverUrl,"aria-label":_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.osquery.scheduledQueryGroup.queriesTable.viewDiscoverResultsActionAriaLabel",{defaultMessage:"View results in Discover"})}))},ViewResultsInDiscoverAction=react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(ViewResultsInDiscoverActionComponent),ScheduledQueryGroupQueriesTableComponent=({data:data,editMode:editMode=!1,onDeleteClick:onDeleteClick,onEditClick:onEditClick,selectedItems:selectedItems,setSelectedItems:setSelectedItems})=>{const renderDeleteAction=Object(react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(item=>{var _item$vars;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiButtonIcon,{color:"danger",onClick:()=>onDeleteClick(item),iconType:"trash","aria-label":_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.osquery.scheduledQueryGroup.queriesTable.deleteActionAriaLabel",{defaultMessage:"Delete {queryName}",values:{queryName:null===(_item$vars=item.vars)||void 0===_item$vars?void 0:_item$vars.id.value}})})},[onDeleteClick]),renderEditAction=Object(react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(item=>{var _item$vars2;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiButtonIcon,{color:"primary",onClick:()=>onEditClick(item),iconType:"pencil","aria-label":_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.osquery.scheduledQueryGroup.queriesTable.editActionAriaLabel",{defaultMessage:"Edit {queryName}",values:{queryName:null===(_item$vars2=item.vars)||void 0===_item$vars2?void 0:_item$vars2.id.value}})})},[onEditClick]),renderQueryColumn=Object(react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(query=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiCodeBlock,{language:"sql",fontSize:"s",paddingSize:"none",transparentBackground:!0},query),[]),renderDiscoverResultsAction=Object(react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(item=>{var _item$vars3;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ViewResultsInDiscoverAction,{actionId:null===(_item$vars3=item.vars)||void 0===_item$vars3?void 0:_item$vars3.id.value,buttonType:ViewResultsActionButtonType.icon})},[]),renderLensResultsAction=Object(react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(item=>{var _item$vars4;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ViewResultsInLensAction,{actionId:null===(_item$vars4=item.vars)||void 0===_item$vars4?void 0:_item$vars4.id.value,buttonType:ViewResultsActionButtonType.icon})},[]),columns=Object(react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>[{field:"vars.id.value",name:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.osquery.scheduledQueryGroup.queriesTable.idColumnTitle",{defaultMessage:"ID"}),width:"20%"},{field:"vars.interval.value",name:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.osquery.scheduledQueryGroup.queriesTable.intervalColumnTitle",{defaultMessage:"Interval (s)"}),width:"100px"},{field:"vars.query.value",name:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.osquery.scheduledQueryGroup.queriesTable.queryColumnTitle",{defaultMessage:"Query"}),render:renderQueryColumn},{name:editMode?_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.osquery.scheduledQueryGroup.queriesTable.actionsColumnTitle",{defaultMessage:"Actions"}):_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.osquery.scheduledQueryGroup.queriesTable.viewResultsColumnTitle",{defaultMessage:"View results"}),width:"120px",actions:editMode?[{render:renderEditAction},{render:renderDeleteAction}]:[{render:renderDiscoverResultsAction},{render:renderLensResultsAction}]}],[editMode,renderDeleteAction,renderDiscoverResultsAction,renderEditAction,renderLensResultsAction,renderQueryColumn]),sorting=Object(react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({sort:{field:"vars.id.value",direction:"asc"}}),[]),itemId=Object(react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(item=>Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.get)("vars.id.value",item),[]),selection=Object(react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({onSelectionChange:setSelectedItems,initialSelected:selectedItems}),[selectedItems,setSelectedItems]);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiBasicTable,{items:data.inputs[0].streams,itemId:itemId,columns:columns,sorting:sorting,selection:editMode?selection:void 0,isSelectable:editMode})},ScheduledQueryGroupQueriesTable=react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(ScheduledQueryGroupQueriesTableComponent)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _exportNames={CancelledError:!0,QueryCache:!0,QueryClient:!0,QueryObserver:!0,QueriesObserver:!0,InfiniteQueryObserver:!0,MutationCache:!0,MutationObserver:!0,setLogger:!0,notifyManager:!0,focusManager:!0,onlineManager:!0,hashQueryKey:!0,isError:!0,isCancelledError:!0};exports.isCancelledError=exports.isError=exports.hashQueryKey=exports.onlineManager=exports.focusManager=exports.notifyManager=exports.setLogger=exports.MutationObserver=exports.MutationCache=exports.InfiniteQueryObserver=exports.QueriesObserver=exports.QueryObserver=exports.QueryClient=exports.QueryCache=exports.CancelledError=void 0;var _retryer=__webpack_require__(50);exports.CancelledError=_retryer.CancelledError,exports.isCancelledError=_retryer.isCancelledError;var _queryCache=__webpack_require__(67);exports.QueryCache=_queryCache.QueryCache;var _queryClient=__webpack_require__(98);exports.QueryClient=_queryClient.QueryClient;var _queryObserver=__webpack_require__(57);exports.QueryObserver=_queryObserver.QueryObserver;var _queriesObserver=__webpack_require__(71);exports.QueriesObserver=_queriesObserver.QueriesObserver;var _infiniteQueryObserver=__webpack_require__(72);exports.InfiniteQueryObserver=_infiniteQueryObserver.InfiniteQueryObserver;var _mutationCache=__webpack_require__(68);exports.MutationCache=_mutationCache.MutationCache;var _mutationObserver=__webpack_require__(73);exports.MutationObserver=_mutationObserver.MutationObserver;var _logger=__webpack_require__(52);exports.setLogger=_logger.setLogger;var _notifyManager=__webpack_require__(34);exports.notifyManager=_notifyManager.notifyManager;var _focusManager=__webpack_require__(51);exports.focusManager=_focusManager.focusManager;var _onlineManager=__webpack_require__(56);exports.onlineManager=_onlineManager.onlineManager;var _utils=__webpack_require__(33);exports.hashQueryKey=_utils.hashQueryKey,exports.isError=_utils.isError;var _types=__webpack_require__(99);Object.keys(_types).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||(exports[key]=_types[key]))}))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.isCancelable=isCancelable,exports.isCancelledError=function(value){return value instanceof CancelledError},exports.Retryer=exports.CancelledError=void 0;var _focusManager=__webpack_require__(51),_onlineManager=__webpack_require__(56),_utils=__webpack_require__(33);function defaultRetryDelay(failureCount){return Math.min(1e3*Math.pow(2,failureCount),3e4)}function isCancelable(value){return"function"==typeof(null==value?void 0:value.cancel)}var CancelledError=function(options){this.revert=null==options?void 0:options.revert,this.silent=null==options?void 0:options.silent};exports.CancelledError=CancelledError;exports.Retryer=function(config){var cancelFn,continueFn,promiseResolve,promiseReject,_this=this,cancelRetry=!1;this.cancel=function(cancelOptions){return null==cancelFn?void 0:cancelFn(cancelOptions)},this.cancelRetry=function(){cancelRetry=!0},this.continue=function(){return null==continueFn?void 0:continueFn()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise((function(outerResolve,outerReject){promiseResolve=outerResolve,promiseReject=outerReject}));var resolve=function(value){_this.isResolved||(_this.isResolved=!0,null==config.onSuccess||config.onSuccess(value),null==continueFn||continueFn(),promiseResolve(value))},reject=function(value){_this.isResolved||(_this.isResolved=!0,null==config.onError||config.onError(value),null==continueFn||continueFn(),promiseReject(value))};!function run(){if(!_this.isResolved){var promiseOrValue;try{promiseOrValue=config.fn()}catch(error){promiseOrValue=Promise.reject(error)}cancelFn=function(cancelOptions){if(!_this.isResolved&&(reject(new CancelledError(cancelOptions)),isCancelable(promiseOrValue)))try{promiseOrValue.cancel()}catch(_unused){}},_this.isTransportCancelable=isCancelable(promiseOrValue),Promise.resolve(promiseOrValue).then(resolve).catch((function(error){var _config$retry,_config$retryDelay;if(!_this.isResolved){var retry=null!=(_config$retry=config.retry)?_config$retry:3,retryDelay=null!=(_config$retryDelay=config.retryDelay)?_config$retryDelay:defaultRetryDelay,delay="function"==typeof retryDelay?retryDelay(_this.failureCount,error):retryDelay,shouldRetry=!0===retry||"number"==typeof retry&&_this.failureCount<retry||"function"==typeof retry&&retry(_this.failureCount,error);!cancelRetry&&shouldRetry?(_this.failureCount++,null==config.onFail||config.onFail(_this.failureCount,error),(0,_utils.sleep)(delay).then((function(){if(!_focusManager.focusManager.isFocused()||!_onlineManager.onlineManager.isOnline())return new Promise((function(continueResolve){continueFn=continueResolve,_this.isPaused=!0,null==config.onPause||config.onPause()})).then((function(){continueFn=void 0,_this.isPaused=!1,null==config.onContinue||config.onContinue()}))})).then((function(){cancelRetry?reject(error):run()}))):reject(error)}}))}}()}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.focusManager=void 0;var _inheritsLoose2=_interopRequireDefault(__webpack_require__(36)),_subscribable=__webpack_require__(39),_utils=__webpack_require__(33),focusManager=new(function(_Subscribable){function FocusManager(){return _Subscribable.apply(this,arguments)||this}(0,_inheritsLoose2.default)(FocusManager,_Subscribable);var _proto=FocusManager.prototype;return _proto.onSubscribe=function(){this.removeEventListener||this.setDefaultEventListener()},_proto.setEventListener=function(setup){var _this=this;this.removeEventListener&&this.removeEventListener(),this.removeEventListener=setup((function(focused){"boolean"==typeof focused?_this.setFocused(focused):_this.onFocus()}))},_proto.setFocused=function(focused){this.focused=focused,focused&&this.onFocus()},_proto.onFocus=function(){this.listeners.forEach((function(listener){listener()}))},_proto.isFocused=function(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},_proto.setDefaultEventListener=function(){var _window;!_utils.isServer&&(null==(_window=window)?void 0:_window.addEventListener)&&this.setEventListener((function(onFocus){return window.addEventListener("visibilitychange",onFocus,!1),window.addEventListener("focus",onFocus,!1),function(){window.removeEventListener("visibilitychange",onFocus),window.removeEventListener("focus",onFocus)}}))},FocusManager}(_subscribable.Subscribable));exports.focusManager=focusManager},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.getLogger=function(){return logger},exports.setLogger=function(newLogger){logger=newLogger};var _utils=__webpack_require__(33),logger=console||{error:_utils.noop,warn:_utils.noop,log:_utils.noop}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useFirstMountState=void 0;var react_1=__webpack_require__(2);exports.useFirstMountState=function(){var isFirst=react_1.useRef(!0);return isFirst.current?(isFirst.current=!1,!0):isFirst.current}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resolveHookState=void 0,exports.resolveHookState=function(newState,currentState){return"function"==typeof newState?newState(currentState):newState}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useEffectOnce_1=tslib_1.__importDefault(__webpack_require__(46));exports.default=function(fn){var fnRef=react_1.useRef(fn);fnRef.current=fn,useEffectOnce_1.default((function(){return function(){return fnRef.current()}}))}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.onlineManager=void 0;var _inheritsLoose2=_interopRequireDefault(__webpack_require__(36)),_subscribable=__webpack_require__(39),_utils=__webpack_require__(33),onlineManager=new(function(_Subscribable){function OnlineManager(){return _Subscribable.apply(this,arguments)||this}(0,_inheritsLoose2.default)(OnlineManager,_Subscribable);var _proto=OnlineManager.prototype;return _proto.onSubscribe=function(){this.removeEventListener||this.setDefaultEventListener()},_proto.setEventListener=function(setup){var _this=this;this.removeEventListener&&this.removeEventListener(),this.removeEventListener=setup((function(online){"boolean"==typeof online?_this.setOnline(online):_this.onOnline()}))},_proto.setOnline=function(online){this.online=online,online&&this.onOnline()},_proto.onOnline=function(){this.listeners.forEach((function(listener){listener()}))},_proto.isOnline=function(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine},_proto.setDefaultEventListener=function(){var _window;!_utils.isServer&&(null==(_window=window)?void 0:_window.addEventListener)&&this.setEventListener((function(onOnline){var listener=function(){return onOnline()};return window.addEventListener("online",listener,!1),window.addEventListener("offline",listener,!1),function(){window.removeEventListener("online",listener),window.removeEventListener("offline",listener)}}))},OnlineManager}(_subscribable.Subscribable));exports.onlineManager=onlineManager},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.QueryObserver=void 0;var _extends2=_interopRequireDefault(__webpack_require__(37)),_inheritsLoose2=_interopRequireDefault(__webpack_require__(36)),_utils=__webpack_require__(33),_notifyManager=__webpack_require__(34),_focusManager=__webpack_require__(51),_subscribable=__webpack_require__(39),_logger=__webpack_require__(52),QueryObserver=function(_Subscribable){function QueryObserver(client,options){var _this;return(_this=_Subscribable.call(this)||this).client=client,_this.options=options,_this.trackedProps=[],_this.previousSelectError=null,_this.bindMethods(),_this.setOptions(options),_this}(0,_inheritsLoose2.default)(QueryObserver,_Subscribable);var _proto=QueryObserver.prototype;return _proto.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},_proto.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},_proto.onUnsubscribe=function(){this.listeners.length||this.destroy()},_proto.shouldFetchOnReconnect=function(){return query=this.currentQuery,!1!==(options=this.options).enabled&&("always"===options.refetchOnReconnect||!1!==options.refetchOnReconnect&&isStale(query,options));var query,options},_proto.shouldFetchOnWindowFocus=function(){return query=this.currentQuery,!1!==(options=this.options).enabled&&("always"===options.refetchOnWindowFocus||!1!==options.refetchOnWindowFocus&&isStale(query,options));var query,options},_proto.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},_proto.setOptions=function(options,notifyOptions){var prevOptions=this.options,prevQuery=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(options),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=prevOptions.queryKey),this.updateQuery();var mounted=this.hasListeners();mounted&&shouldFetchOptionally(this.currentQuery,prevQuery,this.options,prevOptions)&&this.executeFetch(),this.updateResult(notifyOptions),!mounted||this.currentQuery===prevQuery&&this.options.enabled===prevOptions.enabled&&this.options.staleTime===prevOptions.staleTime||this.updateStaleTimeout(),!mounted||this.currentQuery===prevQuery&&this.options.enabled===prevOptions.enabled&&this.options.refetchInterval===prevOptions.refetchInterval||this.updateRefetchInterval()},_proto.getOptimisticResult=function(options){var defaultedOptions=this.client.defaultQueryObserverOptions(options),query=this.client.getQueryCache().build(this.client,defaultedOptions);return this.createResult(query,defaultedOptions)},_proto.getCurrentResult=function(){return this.currentResult},_proto.trackResult=function(result){var _this2=this,trackedResult={};return Object.keys(result).forEach((function(key){Object.defineProperty(trackedResult,key,{configurable:!1,enumerable:!0,get:function(){var typedKey=key;return _this2.trackedProps.includes(typedKey)||_this2.trackedProps.push(typedKey),result[typedKey]}})})),trackedResult},_proto.getNextResult=function(options){var _this3=this;return new Promise((function(resolve,reject){var unsubscribe=_this3.subscribe((function(result){result.isFetching||(unsubscribe(),result.isError&&(null==options?void 0:options.throwOnError)?reject(result.error):resolve(result))}))}))},_proto.getCurrentQuery=function(){return this.currentQuery},_proto.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},_proto.refetch=function(options){return this.fetch(options)},_proto.fetchOptimistic=function(options){var _this4=this,defaultedOptions=this.client.defaultQueryObserverOptions(options),query=this.client.getQueryCache().build(this.client,defaultedOptions);return query.fetch().then((function(){return _this4.createResult(query,defaultedOptions)}))},_proto.fetch=function(fetchOptions){var _this5=this;return this.executeFetch(fetchOptions).then((function(){return _this5.updateResult(),_this5.currentResult}))},_proto.executeFetch=function(fetchOptions){this.updateQuery();var promise=this.currentQuery.fetch(this.options,fetchOptions);return(null==fetchOptions?void 0:fetchOptions.throwOnError)||(promise=promise.catch(_utils.noop)),promise},_proto.updateStaleTimeout=function(){var _this6=this;if(this.clearStaleTimeout(),!_utils.isServer&&!this.currentResult.isStale&&(0,_utils.isValidTimeout)(this.options.staleTime)){var timeout=(0,_utils.timeUntilStale)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){_this6.currentResult.isStale||_this6.updateResult()}),timeout)}},_proto.updateRefetchInterval=function(){var _this7=this;this.clearRefetchInterval(),!_utils.isServer&&!1!==this.options.enabled&&(0,_utils.isValidTimeout)(this.options.refetchInterval)&&(this.refetchIntervalId=setInterval((function(){(_this7.options.refetchIntervalInBackground||_focusManager.focusManager.isFocused())&&_this7.executeFetch()}),this.options.refetchInterval))},_proto.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval()},_proto.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},_proto.clearStaleTimeout=function(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0},_proto.clearRefetchInterval=function(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0},_proto.createResult=function(query,options){var data,placeholderData,prevQuery=this.currentQuery,prevOptions=this.options,prevResult=this.currentResult,prevResultState=this.currentResultState,prevResultOptions=this.currentResultOptions,queryChange=query!==prevQuery,queryInitialState=queryChange?query.state:this.currentQueryInitialState,prevQueryResult=queryChange?this.currentResult:this.previousQueryResult,state=query.state,dataUpdatedAt=state.dataUpdatedAt,error=state.error,errorUpdatedAt=state.errorUpdatedAt,isFetching=state.isFetching,status=state.status,isPreviousData=!1,isPlaceholderData=!1;if(options.optimisticResults){var mounted=this.hasListeners(),fetchOnMount=!mounted&&shouldFetchOnMount(query,options),fetchOptionally=mounted&&shouldFetchOptionally(query,prevQuery,options,prevOptions);(fetchOnMount||fetchOptionally)&&(isFetching=!0,dataUpdatedAt||(status="loading"))}if(options.keepPreviousData&&!state.dataUpdateCount&&(null==prevQueryResult?void 0:prevQueryResult.isSuccess)&&"error"!==status)data=prevQueryResult.data,dataUpdatedAt=prevQueryResult.dataUpdatedAt,status=prevQueryResult.status,isPreviousData=!0;else if(options.select&&void 0!==state.data)if(prevResult&&state.data===(null==prevResultState?void 0:prevResultState.data)&&options.select===(null==prevResultOptions?void 0:prevResultOptions.select)&&!this.previousSelectError)data=prevResult.data;else try{data=options.select(state.data),!1!==options.structuralSharing&&(data=(0,_utils.replaceEqualDeep)(null==prevResult?void 0:prevResult.data,data)),this.previousSelectError=null}catch(selectError){(0,_logger.getLogger)().error(selectError),error=selectError,this.previousSelectError=selectError,errorUpdatedAt=Date.now(),status="error"}else data=state.data;void 0!==options.placeholderData&&void 0===data&&"loading"===status&&(void 0!==(placeholderData=(null==prevResult?void 0:prevResult.isPlaceholderData)&&options.placeholderData===(null==prevResultOptions?void 0:prevResultOptions.placeholderData)?prevResult.data:"function"==typeof options.placeholderData?options.placeholderData():options.placeholderData)&&(status="success",data=placeholderData,isPlaceholderData=!0));return{status:status,isLoading:"loading"===status,isSuccess:"success"===status,isError:"error"===status,isIdle:"idle"===status,data:data,dataUpdatedAt:dataUpdatedAt,error:error,errorUpdatedAt:errorUpdatedAt,failureCount:state.fetchFailureCount,isFetched:state.dataUpdateCount>0||state.errorUpdateCount>0,isFetchedAfterMount:state.dataUpdateCount>queryInitialState.dataUpdateCount||state.errorUpdateCount>queryInitialState.errorUpdateCount,isFetching:isFetching,isLoadingError:"error"===status&&0===state.dataUpdatedAt,isPlaceholderData:isPlaceholderData,isPreviousData:isPreviousData,isRefetchError:"error"===status&&0!==state.dataUpdatedAt,isStale:isStale(query,options),refetch:this.refetch,remove:this.remove}},_proto.shouldNotifyListeners=function(result,prevResult){if(!prevResult)return!0;if(result===prevResult)return!1;var _this$options=this.options,notifyOnChangeProps=_this$options.notifyOnChangeProps,notifyOnChangePropsExclusions=_this$options.notifyOnChangePropsExclusions;if(!notifyOnChangeProps&&!notifyOnChangePropsExclusions)return!0;if("tracked"===notifyOnChangeProps&&!this.trackedProps.length)return!0;var includedProps="tracked"===notifyOnChangeProps?this.trackedProps:notifyOnChangeProps;return Object.keys(result).some((function(key){var typedKey=key,changed=result[typedKey]!==prevResult[typedKey],isIncluded=null==includedProps?void 0:includedProps.some((function(x){return x===key})),isExcluded=null==notifyOnChangePropsExclusions?void 0:notifyOnChangePropsExclusions.some((function(x){return x===key}));return changed&&!isExcluded&&(!includedProps||isIncluded)}))},_proto.updateResult=function(notifyOptions){var prevResult=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,_utils.shallowEqualObjects)(this.currentResult,prevResult)){var defaultNotifyOptions={cache:!0};!1!==(null==notifyOptions?void 0:notifyOptions.listeners)&&this.shouldNotifyListeners(this.currentResult,prevResult)&&(defaultNotifyOptions.listeners=!0),this.notify((0,_extends2.default)({},defaultNotifyOptions,notifyOptions))}},_proto.updateQuery=function(){var query=this.client.getQueryCache().build(this.client,this.options);if(query!==this.currentQuery){var prevQuery=this.currentQuery;this.currentQuery=query,this.currentQueryInitialState=query.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==prevQuery||prevQuery.removeObserver(this),query.addObserver(this))}},_proto.onQueryUpdate=function(action){var notifyOptions={};"success"===action.type?notifyOptions.onSuccess=!0:"error"===action.type&&(notifyOptions.onError=!0),this.updateResult(notifyOptions),this.hasListeners()&&this.updateTimers()},_proto.notify=function(notifyOptions){var _this8=this;_notifyManager.notifyManager.batch((function(){notifyOptions.onSuccess?(null==_this8.options.onSuccess||_this8.options.onSuccess(_this8.currentResult.data),null==_this8.options.onSettled||_this8.options.onSettled(_this8.currentResult.data,null)):notifyOptions.onError&&(null==_this8.options.onError||_this8.options.onError(_this8.currentResult.error),null==_this8.options.onSettled||_this8.options.onSettled(void 0,_this8.currentResult.error)),notifyOptions.listeners&&_this8.listeners.forEach((function(listener){listener(_this8.currentResult)})),notifyOptions.cache&&_this8.client.getQueryCache().notify({query:_this8.currentQuery,type:"observerResultsUpdated"})}))},QueryObserver}(_subscribable.Subscribable);function shouldFetchOnMount(query,options){return function(query,options){return!(!1===options.enabled||query.state.dataUpdatedAt||"error"===query.state.status&&!1===options.retryOnMount)}(query,options)||function(query,options){return!1!==options.enabled&&query.state.dataUpdatedAt>0&&("always"===options.refetchOnMount||!1!==options.refetchOnMount&&isStale(query,options))}(query,options)}function shouldFetchOptionally(query,prevQuery,options,prevOptions){return!1!==options.enabled&&(query!==prevQuery||!1===prevOptions.enabled)&&isStale(query,options)}function isStale(query,options){return query.isStaleByTime(options.staleTime)}exports.QueryObserver=QueryObserver},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(effect,deps,depsEqual){var ref=react_1.useRef(void 0);ref.current&&depsEqual(deps,ref.current)||(ref.current=deps),react_1.useEffect(effect,ref.current)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(fn,ms){void 0===ms&&(ms=0);var ready=react_1.useRef(!1),timeout=react_1.useRef(),callback=react_1.useRef(fn),isReady=react_1.useCallback((function(){return ready.current}),[]),set=react_1.useCallback((function(){ready.current=!1,timeout.current&&clearTimeout(timeout.current),timeout.current=setTimeout((function(){ready.current=!0,callback.current()}),ms)}),[ms]),clear=react_1.useCallback((function(){ready.current=null,timeout.current&&clearTimeout(timeout.current)}),[]);return react_1.useEffect((function(){callback.current=fn}),[fn]),react_1.useEffect((function(){return set(),clear}),[ms]),[isReady,clear,set]}},function(module,exports){function t(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function n(t){return!!t&&!!t[H]}function r(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var n=Object.getPrototypeOf(t);return!n||n===Object.prototype}(t)||Array.isArray(t)||!!t[G]||!!t.constructor[G]||c(t)||s(t))}function e(t,n,r){void 0===r&&(r=!1),0===i(t)?(r?Object.keys:Q)(t).forEach((function(e){r&&"symbol"==typeof e||n(e,t[e],t)})):t.forEach((function(r,e){return n(e,r,t)}))}function i(t){var n=t[H];return n?n.t>3?n.t-4:n.t:Array.isArray(t)?1:c(t)?2:s(t)?3:0}function u(t,n){return 2===i(t)?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function o(t,n){return 2===i(t)?t.get(n):t[n]}function f(t,n,r){var e=i(t);2===e?t.set(n,r):3===e?(t.delete(n),t.add(r)):t[n]=r}function a(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}function c(t){return W&&t instanceof Map}function s(t){return X&&t instanceof Set}function v(t){return t.i||t.u}function p(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var n=T(t);delete n[H];for(var r=Q(n),e=0;e<r.length;e++){var i=r[e],u=n[i];!1===u.writable&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[i]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),n)}function l(t,u){return void 0===u&&(u=!1),d(t)||n(t)||!r(t)||(i(t)>1&&(t.set=t.add=t.clear=t.delete=h),Object.freeze(t),u&&e(t,(function(t,n){return l(n,!0)}),!0)),t}function h(){t(2)}function d(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function _(n){var r=U[n];return r||t(18,n),r}function y(t,n){U[t]||(U[t]=n)}function b(){return J}function m(t,n){n&&(_("Patches"),t.o=[],t.s=[],t.v=n)}function j(t){O(t),t.p.forEach(w),t.p=null}function O(t){t===J&&(J=t.l)}function x(t){return J={p:[],l:J,h:t,_:!0,m:0}}function w(t){var n=t[H];0===n.t||1===n.t?n.j():n.O=!0}function S(n,e){e.m=e.p.length;var i=e.p[0],u=void 0!==n&&n!==i;return e.h.S||_("ES5").M(e,n,u),u?(i[H].P&&(j(e),t(4)),r(n)&&(n=M(e,n),e.l||g(e,n)),e.o&&_("Patches").g(i[H],n,e.o,e.s)):n=M(e,i,[]),j(e),e.o&&e.v(e.o,e.s),n!==B?n:void 0}function M(t,n,r){if(d(n))return n;var i=n[H];if(!i)return e(n,(function(e,u){return P(t,i,n,e,u,r)}),!0),n;if(i.A!==t)return n;if(!i.P)return g(t,i.u,!0),i.u;if(!i.R){i.R=!0,i.A.m--;var u=4===i.t||5===i.t?i.i=p(i.k):i.i;e(3===i.t?new Set(u):u,(function(n,e){return P(t,i,u,n,e,r)})),g(t,u,!1),r&&t.o&&_("Patches").F(i,r,t.o,t.s)}return i.i}function P(t,e,i,o,a,c){if(n(a)){var s=M(t,a,c&&e&&3!==e.t&&!u(e.D,o)?c.concat(o):void 0);if(f(i,o,s),!n(s))return;t._=!1}if(r(a)&&!d(a)){if(!t.h.K&&t.m<1)return;M(t,a),e&&e.A.l||g(t,a)}}function g(t,n,r){void 0===r&&(r=!1),t.h.K&&t._&&l(n,r)}function A(t,n){var r=t[H];return(r?v(r):t)[n]}function z(t,n){if(n in t)for(var r=Object.getPrototypeOf(t);r;){var e=Object.getOwnPropertyDescriptor(r,n);if(e)return e;r=Object.getPrototypeOf(r)}}function E(t){t.P||(t.P=!0,t.l&&E(t.l))}function R(t){t.i||(t.i=p(t.u))}function k(t,n,r){var e=c(n)?_("MapSet").$(n,r):s(n)?_("MapSet").C(n,r):t.S?function(t,n){var r=Array.isArray(t),e={t:r?1:0,A:n?n.A:b(),P:!1,R:!1,D:{},l:n,u:t,k:null,i:null,j:null,I:!1},i=e,u=V;r&&(i=[e],u=Y);var o=Proxy.revocable(i,u),f=o.revoke,a=o.proxy;return e.k=a,e.j=f,a}(n,r):_("ES5").J(n,r);return(r?r.A:b()).p.push(e),e}function F(u){return n(u)||t(22,u),function t(n){if(!r(n))return n;var u,a=n[H],c=i(n);if(a){if(!a.P&&(a.t<4||!_("ES5").N(a)))return a.u;a.R=!0,u=D(n,c),a.R=!1}else u=D(n,c);return e(u,(function(n,r){a&&o(a.u,n)===r||f(u,n,t(r))})),3===c?new Set(u):u}(u)}function D(t,n){switch(n){case 2:return new Map(t);case 3:return Array.from(t)}return p(t)}function K(){function t(t,n){var r=f[t];return r?r.enumerable=n:f[t]=r={configurable:!0,enumerable:n,get:function(){return V.get(this[H],t)},set:function(n){V.set(this[H],t,n)}},r}function r(t){for(var n=t.length-1;n>=0;n--){var r=t[n][H];if(!r.P)switch(r.t){case 5:o(r)&&E(r);break;case 4:i(r)&&E(r)}}}function i(t){for(var n=t.u,r=t.k,e=Q(r),i=e.length-1;i>=0;i--){var o=e[i];if(o!==H){var f=n[o];if(void 0===f&&!u(n,o))return!0;var c=r[o],s=c&&c[H];if(s?s.u!==f:!a(c,f))return!0}}var v=!!n[H];return e.length!==Q(n).length+(v?0:1)}function o(t){var n=t.k;if(n.length!==t.u.length)return!0;var r=Object.getOwnPropertyDescriptor(n,n.length-1);return!(!r||r.get)}var f={};y("ES5",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,""+i,t(i,!0));return e}var u=T(r);delete u[H];for(var o=Q(u),f=0;f<o.length;f++){var a=o[f];u[a]=t(a,n||!!u[a].enumerable)}return Object.create(Object.getPrototypeOf(r),u)}(e,n),u={t:e?5:4,A:r?r.A:b(),P:!1,R:!1,D:{},l:r,u:n,k:i,i:null,O:!1,I:!1};return Object.defineProperty(i,H,{value:u,writable:!0}),i},M:function(t,i,f){f?n(i)&&i[H].A===t&&r(t.p):(t.o&&function t(n){if(n&&"object"==typeof n){var r=n[H];if(r){var i=r.u,f=r.k,a=r.D,c=r.t;if(4===c)e(f,(function(n){n!==H&&(void 0!==i[n]||u(i,n)?a[n]||t(f[n]):(a[n]=!0,E(r)))})),e(i,(function(t){void 0!==f[t]||u(f,t)||(a[t]=!1,E(r))}));else if(5===c){if(o(r)&&(E(r),a.length=!0),f.length<i.length)for(var s=f.length;s<i.length;s++)a[s]=!1;else for(var v=i.length;v<f.length;v++)a[v]=!0;for(var p=Math.min(f.length,i.length),l=0;l<p;l++)void 0===a[l]&&t(f[l])}}}}(t.p[0]),r(t.p))},N:function(t){return 4===t.t?i(t):o(t)}})}function $(){function f(t){if(!r(t))return t;if(Array.isArray(t))return t.map(f);if(c(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],f(t[1])]})));if(s(t))return new Set(Array.from(t).map(f));var n=Object.create(Object.getPrototypeOf(t));for(var e in t)n[e]=f(t[e]);return n}function a(t){return n(t)?f(t):t}var v="add";y("Patches",{W:function(n,r){return r.forEach((function(r){for(var e=r.path,u=r.op,a=n,c=0;c<e.length-1;c++){var s=i(a),p=e[c];0!==s&&1!==s||"__proto__"!==p&&"constructor"!==p||t(24),"function"==typeof a&&"prototype"===p&&t(24),"object"!=typeof(a=o(a,p))&&t(15,e.join("/"))}var l=i(a),h=f(r.value),d=e[e.length-1];switch(u){case"replace":switch(l){case 2:return a.set(d,h);case 3:t(16);default:return a[d]=h}case v:switch(l){case 1:return a.splice(d,0,h);case 2:return a.set(d,h);case 3:return a.add(h);default:return a[d]=h}case"remove":switch(l){case 1:return a.splice(d,1);case 2:return a.delete(d);case 3:return a.delete(r.value);default:return delete a[d]}default:t(17,u)}})),n},F:function(t,n,r,i){switch(t.t){case 0:case 4:case 2:return function(t,n,r,i){var f=t.u,c=t.i;e(t.D,(function(t,e){var s=o(f,t),p=o(c,t),l=e?u(f,t)?"replace":v:"remove";if(s!==p||"replace"!==l){var h=n.concat(t);r.push("remove"===l?{op:l,path:h}:{op:l,path:h,value:p}),i.push(l===v?{op:"remove",path:h}:"remove"===l?{op:v,path:h,value:a(s)}:{op:"replace",path:h,value:a(s)})}}))}(t,n,r,i);case 5:case 1:return function(t,n,r,e){var i=t.u,u=t.D,o=t.i;if(o.length<i.length){var f=[o,i];i=f[0],o=f[1];var c=[e,r];r=c[0],e=c[1]}for(var s=0;s<i.length;s++)if(u[s]&&o[s]!==i[s]){var p=n.concat([s]);r.push({op:"replace",path:p,value:a(o[s])}),e.push({op:"replace",path:p,value:a(i[s])})}for(var l=i.length;l<o.length;l++){var h=n.concat([l]);r.push({op:v,path:h,value:a(o[l])})}i.length<o.length&&e.push({op:"replace",path:n.concat(["length"]),value:i.length})}(t,n,r,i);case 3:return function(t,n,r,e){var i=t.u,u=t.i,o=0;i.forEach((function(t){if(!u.has(t)){var i=n.concat([o]);r.push({op:"remove",path:i,value:t}),e.unshift({op:v,path:i,value:t})}o++})),o=0,u.forEach((function(t){if(!i.has(t)){var u=n.concat([o]);r.push({op:v,path:u,value:t}),e.unshift({op:"remove",path:u,value:t})}o++}))}(t,n,r,i)}},g:function(t,n,r,e){r.push({op:"replace",path:[],value:n}),e.push({op:"replace",path:[],value:t.u})}})}function C(){function n(t,n){function r(){this.constructor=t}f(t,n),t.prototype=(r.prototype=n.prototype,new r)}function i(t){t.i||(t.D=new Map,t.i=new Map(t.u))}function u(t){t.i||(t.i=new Set,t.u.forEach((function(n){if(r(n)){var e=k(t.A.h,n,t);t.p.set(n,e),t.i.add(e)}else t.i.add(n)})))}function o(n){n.O&&t(3,JSON.stringify(v(n)))}var f=function(t,n){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)},a=function(){function t(t,n){return this[H]={t:2,l:n,A:n?n.A:b(),P:!1,R:!1,i:void 0,D:void 0,u:t,k:this,I:!1,O:!1},this}n(t,Map);var u=t.prototype;return Object.defineProperty(u,"size",{get:function(){return v(this[H]).size}}),u.has=function(t){return v(this[H]).has(t)},u.set=function(t,n){var r=this[H];return o(r),v(r).has(t)&&v(r).get(t)===n||(i(r),E(r),r.D.set(t,!0),r.i.set(t,n),r.D.set(t,!0)),this},u.delete=function(t){if(!this.has(t))return!1;var n=this[H];return o(n),i(n),E(n),n.D.set(t,!1),n.i.delete(t),!0},u.clear=function(){var t=this[H];o(t),v(t).size&&(i(t),E(t),t.D=new Map,e(t.u,(function(n){t.D.set(n,!1)})),t.i.clear())},u.forEach=function(t,n){var r=this;v(this[H]).forEach((function(e,i){t.call(n,r.get(i),i,r)}))},u.get=function(t){var n=this[H];o(n);var e=v(n).get(t);if(n.R||!r(e))return e;if(e!==n.u.get(t))return e;var u=k(n.A.h,e,n);return i(n),n.i.set(t,u),u},u.keys=function(){return v(this[H]).keys()},u.values=function(){var t,n=this,r=this.keys();return(t={})[L]=function(){return n.values()},t.next=function(){var t=r.next();return t.done?t:{done:!1,value:n.get(t.value)}},t},u.entries=function(){var t,n=this,r=this.keys();return(t={})[L]=function(){return n.entries()},t.next=function(){var t=r.next();if(t.done)return t;var e=n.get(t.value);return{done:!1,value:[t.value,e]}},t},u[L]=function(){return this.entries()},t}(),c=function(){function t(t,n){return this[H]={t:3,l:n,A:n?n.A:b(),P:!1,R:!1,i:void 0,u:t,k:this,p:new Map,O:!1,I:!1},this}n(t,Set);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return v(this[H]).size}}),r.has=function(t){var n=this[H];return o(n),n.i?!!n.i.has(t)||!(!n.p.has(t)||!n.i.has(n.p.get(t))):n.u.has(t)},r.add=function(t){var n=this[H];return o(n),this.has(t)||(u(n),E(n),n.i.add(t)),this},r.delete=function(t){if(!this.has(t))return!1;var n=this[H];return o(n),u(n),E(n),n.i.delete(t)||!!n.p.has(t)&&n.i.delete(n.p.get(t))},r.clear=function(){var t=this[H];o(t),v(t).size&&(u(t),E(t),t.i.clear())},r.values=function(){var t=this[H];return o(t),u(t),t.i.values()},r.entries=function(){var t=this[H];return o(t),u(t),t.i.entries()},r.keys=function(){return this.values()},r[L]=function(){return this.values()},r.forEach=function(t,n){for(var r=this.values(),e=r.next();!e.done;)t.call(n,e.value,e.value,this),e=r.next()},t}();y("MapSet",{$:function(t,n){return new a(t,n)},C:function(t,n){return new c(t,n)}})}var I;Object.defineProperty(exports,"__esModule",{value:!0});var J,N="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),W="undefined"!=typeof Map,X="undefined"!=typeof Set,q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,B=N?Symbol.for("immer-nothing"):((I={})["immer-nothing"]=!0,I),G=N?Symbol.for("immer-draftable"):"__$immer_draftable",H=N?Symbol.for("immer-state"):"__$immer_state",L="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Q="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,T=Object.getOwnPropertyDescriptors||function(t){var n={};return Q(t).forEach((function(r){n[r]=Object.getOwnPropertyDescriptor(t,r)})),n},U={},V={get:function(t,n){if(n===H)return t;var e=v(t);if(!u(e,n))return function(t,n,r){var e,i=z(n,r);return i?"value"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(t.k):void 0}(t,e,n);var i=e[n];return t.R||!r(i)?i:i===A(t.u,n)?(R(t),t.i[n]=k(t.A.h,i,t)):i},has:function(t,n){return n in v(t)},ownKeys:function(t){return Reflect.ownKeys(v(t))},set:function(t,n,r){var e=z(v(t),n);if(null==e?void 0:e.set)return e.set.call(t.k,r),!0;if(!t.P){var i=A(v(t),n),o=null==i?void 0:i[H];if(o&&o.u===r)return t.i[n]=r,t.D[n]=!1,!0;if(a(r,i)&&(void 0!==r||u(t.u,n)))return!0;R(t),E(t)}return t.i[n]=r,t.D[n]=!0,!0},deleteProperty:function(t,n){return void 0!==A(t.u,n)||n in t.u?(t.D[n]=!1,R(t),E(t)):delete t.D[n],t.i&&delete t.i[n],!0},getOwnPropertyDescriptor:function(t,n){var r=v(t),e=Reflect.getOwnPropertyDescriptor(r,n);return e?{writable:!0,configurable:1!==t.t||"length"!==n,enumerable:e.enumerable,value:r[n]}:e},defineProperty:function(){t(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.u)},setPrototypeOf:function(){t(12)}},Y={};e(V,(function(t,n){Y[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),Y.deleteProperty=function(t,n){return V.deleteProperty.call(this,t[0],n)},Y.set=function(t,n,r){return V.set.call(this,t[0],n,r,t[0])};var Z=function(){function e(t){this.S=q,this.K=!0,"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var i=e.prototype;return i.produce=function(n,e,i){if("function"==typeof n&&"function"!=typeof e){var u=e;e=n;var o=this;return function(t){var n=this;void 0===t&&(t=u);for(var r=arguments.length,i=Array(r>1?r-1:0),f=1;f<r;f++)i[f-1]=arguments[f];return o.produce(t,(function(t){var r;return(r=e).call.apply(r,[n,t].concat(i))}))}}var f;if("function"!=typeof e&&t(6),void 0!==i&&"function"!=typeof i&&t(7),r(n)){var a=x(this),c=k(this,n,void 0),s=!0;try{f=e(c),s=!1}finally{s?j(a):O(a)}return"undefined"!=typeof Promise&&f instanceof Promise?f.then((function(t){return m(a,i),S(t,a)}),(function(t){throw j(a),t})):(m(a,i),S(f,a))}if(!n||"object"!=typeof n){if((f=e(n))===B)return;return void 0===f&&(f=n),this.K&&l(f,!0),f}t(21,n)},i.produceWithPatches=function(t,n){var r,e,i=this;return"function"==typeof t?function(n){for(var r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];return i.produceWithPatches(n,(function(n){return t.apply(void 0,[n].concat(e))}))}:[this.produce(t,n,(function(t,n){r=t,e=n})),r,e]},i.createDraft=function(e){r(e)||t(8),n(e)&&(e=F(e));var i=x(this),u=k(this,e,void 0);return u[H].I=!0,O(i),u},i.finishDraft=function(t,n){var r=(t&&t[H]).A;return m(r,n),S(void 0,r)},i.setAutoFreeze=function(t){this.K=t},i.setUseProxies=function(n){n&&!q&&t(20),this.S=n},i.applyPatches=function(t,r){var e;for(e=r.length-1;e>=0;e--){var i=r[e];if(0===i.path.length&&"replace"===i.op){t=i.value;break}}var u=_("Patches").W;return n(t)?u(t,r):this.produce(t,(function(t){return u(t,r.slice(e+1))}))},e}(),tt=new Z,nt=tt.produce,rt=tt.produceWithPatches.bind(tt),et=tt.setAutoFreeze.bind(tt),it=tt.setUseProxies.bind(tt),ut=tt.applyPatches.bind(tt),ot=tt.createDraft.bind(tt),ft=tt.finishDraft.bind(tt);exports.Immer=Z,exports.applyPatches=ut,exports.castDraft=function(t){return t},exports.castImmutable=function(t){return t},exports.createDraft=ot,exports.current=F,exports.default=nt,exports.enableAllPlugins=function(){K(),C(),$()},exports.enableES5=K,exports.enableMapSet=C,exports.enablePatches=$,exports.finishDraft=ft,exports.freeze=l,exports.immerable=G,exports.isDraft=n,exports.isDraftable=r,exports.nothing=B,exports.original=function(r){return n(r)||t(23,r),r[H].u},exports.produce=nt,exports.produceWithPatches=rt,exports.setAutoFreeze=et,exports.setUseProxies=it},,function(module,__webpack_exports__,__webpack_require__){"use strict";let Direction;__webpack_require__.d(__webpack_exports__,"a",(function(){return Direction})),function(Direction){Direction.asc="asc",Direction.desc="desc"}(Direction||(Direction={}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"OsqueryQueries",(function(){return OsqueryQueries}));__webpack_require__(64),__webpack_require__(65),__webpack_require__(66);let OsqueryQueries;!function(OsqueryQueries){OsqueryQueries.actions="actions",OsqueryQueries.actionDetails="actionDetails",OsqueryQueries.actionResults="actionResults",OsqueryQueries.agents="agents",OsqueryQueries.results="results"}(OsqueryQueries||(OsqueryQueries={}))},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.QueryCache=void 0;var _inheritsLoose2=_interopRequireDefault(__webpack_require__(36)),_utils=__webpack_require__(33),_query=__webpack_require__(97),_notifyManager=__webpack_require__(34),QueryCache=function(_Subscribable){function QueryCache(config){var _this;return(_this=_Subscribable.call(this)||this).config=config||{},_this.queries=[],_this.queriesMap={},_this}(0,_inheritsLoose2.default)(QueryCache,_Subscribable);var _proto=QueryCache.prototype;return _proto.build=function(client,options,state){var _options$queryHash,queryKey=options.queryKey,queryHash=null!=(_options$queryHash=options.queryHash)?_options$queryHash:(0,_utils.hashQueryKeyByOptions)(queryKey,options),query=this.get(queryHash);return query||(query=new _query.Query({cache:this,queryKey:queryKey,queryHash:queryHash,options:client.defaultQueryOptions(options),state:state,defaultOptions:client.getQueryDefaults(queryKey)}),this.add(query)),query},_proto.add=function(query){this.queriesMap[query.queryHash]||(this.queriesMap[query.queryHash]=query,this.queries.push(query),this.notify({type:"queryAdded",query:query}))},_proto.remove=function(query){var queryInMap=this.queriesMap[query.queryHash];queryInMap&&(query.destroy(),this.queries=this.queries.filter((function(x){return x!==query})),queryInMap===query&&delete this.queriesMap[query.queryHash],this.notify({type:"queryRemoved",query:query}))},_proto.clear=function(){var _this2=this;_notifyManager.notifyManager.batch((function(){_this2.queries.forEach((function(query){_this2.remove(query)}))}))},_proto.get=function(queryHash){return this.queriesMap[queryHash]},_proto.getAll=function(){return this.queries},_proto.find=function(arg1,arg2){var filters=(0,_utils.parseFilterArgs)(arg1,arg2)[0];return void 0===filters.exact&&(filters.exact=!0),this.queries.find((function(query){return(0,_utils.matchQuery)(filters,query)}))},_proto.findAll=function(arg1,arg2){var filters=(0,_utils.parseFilterArgs)(arg1,arg2)[0];return filters?this.queries.filter((function(query){return(0,_utils.matchQuery)(filters,query)})):this.queries},_proto.notify=function(event){var _this3=this;_notifyManager.notifyManager.batch((function(){_this3.listeners.forEach((function(listener){listener(event)}))}))},_proto.onFocus=function(){var _this4=this;_notifyManager.notifyManager.batch((function(){_this4.queries.forEach((function(query){query.onFocus()}))}))},_proto.onOnline=function(){var _this5=this;_notifyManager.notifyManager.batch((function(){_this5.queries.forEach((function(query){query.onOnline()}))}))},QueryCache}(__webpack_require__(39).Subscribable);exports.QueryCache=QueryCache},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.MutationCache=void 0;var _inheritsLoose2=_interopRequireDefault(__webpack_require__(36)),_notifyManager=__webpack_require__(34),_mutation=__webpack_require__(69),_utils=__webpack_require__(33),MutationCache=function(_Subscribable){function MutationCache(config){var _this;return(_this=_Subscribable.call(this)||this).config=config||{},_this.mutations=[],_this.mutationId=0,_this}(0,_inheritsLoose2.default)(MutationCache,_Subscribable);var _proto=MutationCache.prototype;return _proto.build=function(client,options,state){var mutation=new _mutation.Mutation({mutationCache:this,mutationId:++this.mutationId,options:client.defaultMutationOptions(options),state:state,defaultOptions:options.mutationKey?client.getMutationDefaults(options.mutationKey):void 0});return this.add(mutation),mutation},_proto.add=function(mutation){this.mutations.push(mutation),this.notify(mutation)},_proto.remove=function(mutation){this.mutations=this.mutations.filter((function(x){return x!==mutation})),mutation.cancel(),this.notify(mutation)},_proto.clear=function(){var _this2=this;_notifyManager.notifyManager.batch((function(){_this2.mutations.forEach((function(mutation){_this2.remove(mutation)}))}))},_proto.getAll=function(){return this.mutations},_proto.find=function(filters){return void 0===filters.exact&&(filters.exact=!0),this.mutations.find((function(mutation){return(0,_utils.matchMutation)(filters,mutation)}))},_proto.findAll=function(filters){return this.mutations.filter((function(mutation){return(0,_utils.matchMutation)(filters,mutation)}))},_proto.notify=function(mutation){var _this3=this;_notifyManager.notifyManager.batch((function(){_this3.listeners.forEach((function(listener){listener(mutation)}))}))},_proto.onFocus=function(){this.resumePausedMutations()},_proto.onOnline=function(){this.resumePausedMutations()},_proto.resumePausedMutations=function(){var pausedMutations=this.mutations.filter((function(x){return x.state.isPaused}));return _notifyManager.notifyManager.batch((function(){return pausedMutations.reduce((function(promise,mutation){return promise.then((function(){return mutation.continue().catch(_utils.noop)}))}),Promise.resolve())}))},MutationCache}(__webpack_require__(39).Subscribable);exports.MutationCache=MutationCache},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.getDefaultState=getDefaultState,exports.Mutation=void 0;var _extends2=_interopRequireDefault(__webpack_require__(37)),_logger=__webpack_require__(52),_notifyManager=__webpack_require__(34),_retryer=__webpack_require__(50),_utils=__webpack_require__(33),Mutation=function(){function Mutation(config){this.options=(0,_extends2.default)({},config.defaultOptions,config.options),this.mutationId=config.mutationId,this.mutationCache=config.mutationCache,this.observers=[],this.state=config.state||getDefaultState()}var _proto=Mutation.prototype;return _proto.setState=function(state){this.dispatch({type:"setState",state:state})},_proto.addObserver=function(observer){-1===this.observers.indexOf(observer)&&this.observers.push(observer)},_proto.removeObserver=function(observer){this.observers=this.observers.filter((function(x){return x!==observer}))},_proto.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(_utils.noop).catch(_utils.noop)):Promise.resolve()},_proto.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},_proto.execute=function(){var data,_this=this,restored="loading"===this.state.status,promise=Promise.resolve();return restored||(this.dispatch({type:"loading",variables:this.options.variables}),promise=promise.then((function(){return null==_this.options.onMutate?void 0:_this.options.onMutate(_this.state.variables)})).then((function(context){context!==_this.state.context&&_this.dispatch({type:"loading",context:context,variables:_this.state.variables})}))),promise.then((function(){return _this.executeMutation()})).then((function(result){data=result})).then((function(){return null==_this.options.onSuccess?void 0:_this.options.onSuccess(data,_this.state.variables,_this.state.context)})).then((function(){return null==_this.options.onSettled?void 0:_this.options.onSettled(data,null,_this.state.variables,_this.state.context)})).then((function(){return _this.dispatch({type:"success",data:data}),data})).catch((function(error){return _this.mutationCache.config.onError&&_this.mutationCache.config.onError(error,_this.state.variables,_this.state.context,_this),(0,_logger.getLogger)().error(error),Promise.resolve().then((function(){return null==_this.options.onError?void 0:_this.options.onError(error,_this.state.variables,_this.state.context)})).then((function(){return null==_this.options.onSettled?void 0:_this.options.onSettled(void 0,error,_this.state.variables,_this.state.context)})).then((function(){throw _this.dispatch({type:"error",error:error}),error}))}))},_proto.executeMutation=function(){var _this$options$retry,_this2=this;return this.retryer=new _retryer.Retryer({fn:function(){return _this2.options.mutationFn?_this2.options.mutationFn(_this2.state.variables):Promise.reject("No mutationFn found")},onFail:function(){_this2.dispatch({type:"failed"})},onPause:function(){_this2.dispatch({type:"pause"})},onContinue:function(){_this2.dispatch({type:"continue"})},retry:null!=(_this$options$retry=this.options.retry)?_this$options$retry:0,retryDelay:this.options.retryDelay}),this.retryer.promise},_proto.dispatch=function(action){var _this3=this;this.state=function(state,action){switch(action.type){case"failed":return(0,_extends2.default)({},state,{failureCount:state.failureCount+1});case"pause":return(0,_extends2.default)({},state,{isPaused:!0});case"continue":return(0,_extends2.default)({},state,{isPaused:!1});case"loading":return(0,_extends2.default)({},state,{context:action.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:action.variables});case"success":return(0,_extends2.default)({},state,{data:action.data,error:null,status:"success",isPaused:!1});case"error":return(0,_extends2.default)({},state,{data:void 0,error:action.error,failureCount:state.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,_extends2.default)({},state,action.state);default:return state}}(this.state,action),_notifyManager.notifyManager.batch((function(){_this3.observers.forEach((function(observer){observer.onMutationUpdate(action)})),_this3.mutationCache.notify(_this3)}))},Mutation}();function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}exports.Mutation=Mutation},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.infiniteQueryBehavior=function(){return{onFetch:function(context){context.fetchFn=function(){var _context$fetchOptions,_context$fetchOptions2,_context$state$data,_context$state$data2,promise,fetchMore=null==(_context$fetchOptions=context.fetchOptions)||null==(_context$fetchOptions2=_context$fetchOptions.meta)?void 0:_context$fetchOptions2.fetchMore,pageParam=null==fetchMore?void 0:fetchMore.pageParam,isFetchingNextPage="forward"===(null==fetchMore?void 0:fetchMore.direction),isFetchingPreviousPage="backward"===(null==fetchMore?void 0:fetchMore.direction),oldPages=(null==(_context$state$data=context.state.data)?void 0:_context$state$data.pages)||[],oldPageParams=(null==(_context$state$data2=context.state.data)?void 0:_context$state$data2.pageParams)||[],newPageParams=oldPageParams,cancelled=!1,queryFn=context.options.queryFn||function(){return Promise.reject("Missing queryFn")},fetchPage=function(pages,manual,param,previous){if(cancelled)return Promise.reject("Cancelled");if(void 0===param&&!manual&&pages.length)return Promise.resolve(pages);var queryFnContext={queryKey:context.queryKey,pageParam:param},queryFnResult=queryFn(queryFnContext),promise=Promise.resolve(queryFnResult).then((function(page){return newPageParams=previous?[param].concat(newPageParams):[].concat(newPageParams,[param]),previous?[page].concat(pages):[].concat(pages,[page])}));(0,_retryer.isCancelable)(queryFnResult)&&(promise.cancel=queryFnResult.cancel);return promise};if(oldPages.length)if(isFetchingNextPage){var manual=void 0!==pageParam,param=manual?pageParam:getNextPageParam(context.options,oldPages);promise=fetchPage(oldPages,manual,param)}else if(isFetchingPreviousPage){var _manual=void 0!==pageParam,_param=_manual?pageParam:getPreviousPageParam(context.options,oldPages);promise=fetchPage(oldPages,_manual,_param,!0)}else!function(){newPageParams=[];var manual=void 0===context.options.getNextPageParam;promise=fetchPage([],manual,oldPageParams[0]);for(var _loop=function(i){promise=promise.then((function(pages){var param=manual?oldPageParams[i]:getNextPageParam(context.options,pages);return fetchPage(pages,manual,param)}))},i=1;i<oldPages.length;i++)_loop(i)}();else promise=fetchPage([]);var finalPromise=promise.then((function(pages){return{pages:pages,pageParams:newPageParams}}));return finalPromise.cancel=function(){cancelled=!0,(0,_retryer.isCancelable)(promise)&&promise.cancel()},finalPromise}}}},exports.getNextPageParam=getNextPageParam,exports.getPreviousPageParam=getPreviousPageParam,exports.hasNextPage=function(options,pages){if(options.getNextPageParam&&Array.isArray(pages)){var nextPageParam=getNextPageParam(options,pages);return null!=nextPageParam&&!1!==nextPageParam}},exports.hasPreviousPage=function(options,pages){if(options.getPreviousPageParam&&Array.isArray(pages)){var previousPageParam=getPreviousPageParam(options,pages);return null!=previousPageParam&&!1!==previousPageParam}};var _retryer=__webpack_require__(50);function getNextPageParam(options,pages){return null==options.getNextPageParam?void 0:options.getNextPageParam(pages[pages.length-1],pages)}function getPreviousPageParam(options,pages){return null==options.getPreviousPageParam?void 0:options.getPreviousPageParam(pages[0],pages)}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.QueriesObserver=void 0;var _inheritsLoose2=_interopRequireDefault(__webpack_require__(36)),_utils=__webpack_require__(33),_notifyManager=__webpack_require__(34),_queryObserver=__webpack_require__(57),QueriesObserver=function(_Subscribable){function QueriesObserver(client,queries){var _this;return(_this=_Subscribable.call(this)||this).client=client,_this.queries=[],_this.result=[],_this.observers=[],_this.observersMap={},queries&&_this.setQueries(queries),_this}(0,_inheritsLoose2.default)(QueriesObserver,_Subscribable);var _proto=QueriesObserver.prototype;return _proto.onSubscribe=function(){var _this2=this;1===this.listeners.length&&this.observers.forEach((function(observer){observer.subscribe((function(result){_this2.onUpdate(observer,result)}))}))},_proto.onUnsubscribe=function(){this.listeners.length||this.destroy()},_proto.destroy=function(){this.listeners=[],this.observers.forEach((function(observer){observer.destroy()}))},_proto.setQueries=function(queries,notifyOptions){this.queries=queries,this.updateObservers(notifyOptions)},_proto.getCurrentResult=function(){return this.result},_proto.getOptimisticResult=function(queries){var _this3=this;return queries.map((function(options){var defaultedOptions=_this3.client.defaultQueryObserverOptions(options);return _this3.getObserver(defaultedOptions).getOptimisticResult(defaultedOptions)}))},_proto.getObserver=function(options){var defaultedOptions=this.client.defaultQueryObserverOptions(options);return this.observersMap[defaultedOptions.queryHash]||new _queryObserver.QueryObserver(this.client,defaultedOptions)},_proto.updateObservers=function(notifyOptions){var _this4=this;_notifyManager.notifyManager.batch((function(){var hasIndexChange=!1,prevObservers=_this4.observers,prevOberversMap=_this4.observersMap,newResult=[],newObservers=[],newObserversMap={};_this4.queries.forEach((function(options,i){var defaultedOptions=_this4.client.defaultQueryObserverOptions(options),queryHash=defaultedOptions.queryHash,observer=_this4.getObserver(defaultedOptions);prevOberversMap[queryHash]&&observer.setOptions(defaultedOptions,notifyOptions),observer!==prevObservers[i]&&(hasIndexChange=!0),newObservers.push(observer),newResult.push(observer.getCurrentResult()),newObserversMap[queryHash]=observer})),(prevObservers.length!==newObservers.length||hasIndexChange)&&(_this4.observers=newObservers,_this4.observersMap=newObserversMap,_this4.result=newResult,_this4.hasListeners()&&((0,_utils.difference)(prevObservers,newObservers).forEach((function(observer){observer.destroy()})),(0,_utils.difference)(newObservers,prevObservers).forEach((function(observer){observer.subscribe((function(result){_this4.onUpdate(observer,result)}))})),_this4.notify()))}))},_proto.onUpdate=function(observer,result){var index=this.observers.indexOf(observer);-1!==index&&(this.result=(0,_utils.replaceAt)(this.result,index,result),this.notify())},_proto.notify=function(){var _this5=this;_notifyManager.notifyManager.batch((function(){_this5.listeners.forEach((function(listener){listener(_this5.result)}))}))},QueriesObserver}(__webpack_require__(39).Subscribable);exports.QueriesObserver=QueriesObserver},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.InfiniteQueryObserver=void 0;var _extends2=_interopRequireDefault(__webpack_require__(37)),_inheritsLoose2=_interopRequireDefault(__webpack_require__(36)),_queryObserver=__webpack_require__(57),_infiniteQueryBehavior=__webpack_require__(70),InfiniteQueryObserver=function(_QueryObserver){function InfiniteQueryObserver(client,options){return _QueryObserver.call(this,client,options)||this}(0,_inheritsLoose2.default)(InfiniteQueryObserver,_QueryObserver);var _proto=InfiniteQueryObserver.prototype;return _proto.bindMethods=function(){_QueryObserver.prototype.bindMethods.call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)},_proto.setOptions=function(options){_QueryObserver.prototype.setOptions.call(this,(0,_extends2.default)({},options,{behavior:(0,_infiniteQueryBehavior.infiniteQueryBehavior)()}))},_proto.getOptimisticResult=function(options){return options.behavior=(0,_infiniteQueryBehavior.infiniteQueryBehavior)(),_QueryObserver.prototype.getOptimisticResult.call(this,options)},_proto.fetchNextPage=function(options){return this.fetch({cancelRefetch:!0,throwOnError:null==options?void 0:options.throwOnError,meta:{fetchMore:{direction:"forward",pageParam:null==options?void 0:options.pageParam}}})},_proto.fetchPreviousPage=function(options){return this.fetch({cancelRefetch:!0,throwOnError:null==options?void 0:options.throwOnError,meta:{fetchMore:{direction:"backward",pageParam:null==options?void 0:options.pageParam}}})},_proto.createResult=function(query,options){var _state$data,_state$data2,_state$fetchMeta,_state$fetchMeta$fetc,_state$fetchMeta2,_state$fetchMeta2$fet,state=query.state,result=_QueryObserver.prototype.createResult.call(this,query,options);return(0,_extends2.default)({},result,{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,_infiniteQueryBehavior.hasNextPage)(options,null==(_state$data=state.data)?void 0:_state$data.pages),hasPreviousPage:(0,_infiniteQueryBehavior.hasPreviousPage)(options,null==(_state$data2=state.data)?void 0:_state$data2.pages),isFetchingNextPage:state.isFetching&&"forward"===(null==(_state$fetchMeta=state.fetchMeta)||null==(_state$fetchMeta$fetc=_state$fetchMeta.fetchMore)?void 0:_state$fetchMeta$fetc.direction),isFetchingPreviousPage:state.isFetching&&"backward"===(null==(_state$fetchMeta2=state.fetchMeta)||null==(_state$fetchMeta2$fet=_state$fetchMeta2.fetchMore)?void 0:_state$fetchMeta2$fet.direction)})},InfiniteQueryObserver}(_queryObserver.QueryObserver);exports.InfiniteQueryObserver=InfiniteQueryObserver},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.MutationObserver=void 0;var _extends2=_interopRequireDefault(__webpack_require__(37)),_inheritsLoose2=_interopRequireDefault(__webpack_require__(36)),_mutation=__webpack_require__(69),_notifyManager=__webpack_require__(34),MutationObserver=function(_Subscribable){function MutationObserver(client,options){var _this;return(_this=_Subscribable.call(this)||this).client=client,_this.setOptions(options),_this.bindMethods(),_this.updateResult(),_this}(0,_inheritsLoose2.default)(MutationObserver,_Subscribable);var _proto=MutationObserver.prototype;return _proto.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},_proto.setOptions=function(options){this.options=this.client.defaultMutationOptions(options)},_proto.onUnsubscribe=function(){var _this$currentMutation;this.listeners.length||(null==(_this$currentMutation=this.currentMutation)||_this$currentMutation.removeObserver(this))},_proto.onMutationUpdate=function(action){this.updateResult();var notifyOptions={listeners:!0};"success"===action.type?notifyOptions.onSuccess=!0:"error"===action.type&&(notifyOptions.onError=!0),this.notify(notifyOptions)},_proto.getCurrentResult=function(){return this.currentResult},_proto.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},_proto.mutate=function(variables,options){return this.mutateOptions=options,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,_extends2.default)({},this.options,{variables:void 0!==variables?variables:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},_proto.updateResult=function(){var state=this.currentMutation?this.currentMutation.state:(0,_mutation.getDefaultState)();this.currentResult=(0,_extends2.default)({},state,{isLoading:"loading"===state.status,isSuccess:"success"===state.status,isError:"error"===state.status,isIdle:"idle"===state.status,mutate:this.mutate,reset:this.reset})},_proto.notify=function(options){var _this2=this;_notifyManager.notifyManager.batch((function(){_this2.mutateOptions&&(options.onSuccess?(null==_this2.mutateOptions.onSuccess||_this2.mutateOptions.onSuccess(_this2.currentResult.data,_this2.currentResult.variables,_this2.currentResult.context),null==_this2.mutateOptions.onSettled||_this2.mutateOptions.onSettled(_this2.currentResult.data,null,_this2.currentResult.variables,_this2.currentResult.context)):options.onError&&(null==_this2.mutateOptions.onError||_this2.mutateOptions.onError(_this2.currentResult.error,_this2.currentResult.variables,_this2.currentResult.context),null==_this2.mutateOptions.onSettled||_this2.mutateOptions.onSettled(void 0,_this2.currentResult.error,_this2.currentResult.variables,_this2.currentResult.context))),options.listeners&&_this2.listeners.forEach((function(listener){listener(_this2.currentResult)}))}))},MutationObserver}(__webpack_require__(39).Subscribable);exports.MutationObserver=MutationObserver},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.QueryErrorResetBoundary=exports.useQueryErrorResetBoundary=void 0;var _react=_interopRequireDefault(__webpack_require__(2));function createValue(){var _isReset=!1;return{clearReset:function(){_isReset=!1},reset:function(){_isReset=!0},isReset:function(){return _isReset}}}var QueryErrorResetBoundaryContext=_react.default.createContext(createValue());exports.useQueryErrorResetBoundary=function(){return _react.default.useContext(QueryErrorResetBoundaryContext)};exports.QueryErrorResetBoundary=function(_ref){var children=_ref.children,value=_react.default.useMemo((function(){return createValue()}),[]);return _react.default.createElement(QueryErrorResetBoundaryContext.Provider,{value:value},"function"==typeof children?children(value):children)}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.useBaseQuery=function(options,Observer){var mountedRef=_react.default.useRef(!1),forceUpdate=_react.default.useState(0)[1],queryClient=(0,_QueryClientProvider.useQueryClient)(),errorResetBoundary=(0,_QueryErrorResetBoundary.useQueryErrorResetBoundary)(),defaultedOptions=queryClient.defaultQueryObserverOptions(options);defaultedOptions.optimisticResults=!0,defaultedOptions.onError&&(defaultedOptions.onError=_notifyManager.notifyManager.batchCalls(defaultedOptions.onError));defaultedOptions.onSuccess&&(defaultedOptions.onSuccess=_notifyManager.notifyManager.batchCalls(defaultedOptions.onSuccess));defaultedOptions.onSettled&&(defaultedOptions.onSettled=_notifyManager.notifyManager.batchCalls(defaultedOptions.onSettled));defaultedOptions.suspense&&"number"!=typeof defaultedOptions.staleTime&&(defaultedOptions.staleTime=1e3);(defaultedOptions.suspense||defaultedOptions.useErrorBoundary)&&(errorResetBoundary.isReset()||(defaultedOptions.retryOnMount=!1));var obsRef=_react.default.useRef();obsRef.current||(obsRef.current=new Observer(queryClient,defaultedOptions));var result=obsRef.current.getOptimisticResult(defaultedOptions);if(_react.default.useEffect((function(){mountedRef.current=!0,errorResetBoundary.clearReset();var unsubscribe=obsRef.current.subscribe(_notifyManager.notifyManager.batchCalls((function(){mountedRef.current&&forceUpdate((function(x){return x+1}))})));return obsRef.current.updateResult(),function(){mountedRef.current=!1,unsubscribe()}}),[errorResetBoundary]),_react.default.useEffect((function(){obsRef.current.setOptions(defaultedOptions,{listeners:!1})}),[defaultedOptions]),defaultedOptions.suspense&&result.isLoading)throw obsRef.current.fetchOptimistic(defaultedOptions).then((function(_ref){var data=_ref.data;null==defaultedOptions.onSuccess||defaultedOptions.onSuccess(data),null==defaultedOptions.onSettled||defaultedOptions.onSettled(data,null)})).catch((function(error){errorResetBoundary.clearReset(),null==defaultedOptions.onError||defaultedOptions.onError(error),null==defaultedOptions.onSettled||defaultedOptions.onSettled(void 0,error)}));if((defaultedOptions.suspense||defaultedOptions.useErrorBoundary)&&result.isError)throw result.error;"tracked"===defaultedOptions.notifyOnChangeProps&&(result=obsRef.current.trackResult(result));return result};var _react=_interopRequireDefault(__webpack_require__(2)),_notifyManager=__webpack_require__(34),_QueryErrorResetBoundary=__webpack_require__(74),_QueryClientProvider=__webpack_require__(41)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useAsyncFn_1=tslib_1.__importDefault(__webpack_require__(77));exports.default=function(fn,deps){void 0===deps&&(deps=[]);var _a=useAsyncFn_1.default(fn,deps,{loading:!0}),state=_a[0],callback=_a[1];return react_1.useEffect((function(){callback()}),[callback]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useMountedState_1=tslib_1.__importDefault(__webpack_require__(40));exports.default=function(fn,deps,initialState){void 0===deps&&(deps=[]),void 0===initialState&&(initialState={loading:!1});var lastCallId=react_1.useRef(0),isMounted=useMountedState_1.default(),_a=react_1.useState(initialState),state=_a[0],set=_a[1];return[state,react_1.useCallback((function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var callId=++lastCallId.current;return set((function(prevState){return tslib_1.__assign(tslib_1.__assign({},prevState),{loading:!0})})),fn.apply(void 0,args).then((function(value){return isMounted()&&callId===lastCallId.current&&set({value:value,loading:!1}),value}),(function(error){return isMounted()&&callId===lastCallId.current&&set({error:error,loading:!1}),error}))}),deps)]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),React=tslib_1.__importStar(__webpack_require__(2)),react_1=__webpack_require__(2),useSetState_1=tslib_1.__importDefault(__webpack_require__(45)),parseTimeRanges_1=tslib_1.__importDefault(__webpack_require__(123));exports.default=function(tag){return function(elOrProps){var element,props;props=React.isValidElement(elOrProps)?(element=elOrProps).props:elOrProps;var _a=useSetState_1.default({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1}),state=_a[0],setState=_a[1],ref=react_1.useRef(null),wrapEvent=function(userEvent,proxyEvent){return function(event){try{proxyEvent&&proxyEvent(event)}finally{userEvent&&userEvent(event)}}},onPlay=function(){return setState({paused:!1})},onPause=function(){return setState({paused:!0})},onVolumeChange=function(){var el=ref.current;el&&setState({muted:el.muted,volume:el.volume})},onDurationChange=function(){var el=ref.current;if(el){var duration=el.duration,buffered=el.buffered;setState({duration:duration,buffered:parseTimeRanges_1.default(buffered)})}},onTimeUpdate=function(){var el=ref.current;el&&setState({time:el.currentTime})},onProgress=function(){var el=ref.current;el&&setState({buffered:parseTimeRanges_1.default(el.buffered)})};element=element?React.cloneElement(element,tslib_1.__assign(tslib_1.__assign({controls:!1},props),{ref:ref,onPlay:wrapEvent(props.onPlay,onPlay),onPause:wrapEvent(props.onPause,onPause),onVolumeChange:wrapEvent(props.onVolumeChange,onVolumeChange),onDurationChange:wrapEvent(props.onDurationChange,onDurationChange),onTimeUpdate:wrapEvent(props.onTimeUpdate,onTimeUpdate),onProgress:wrapEvent(props.onProgress,onProgress)})):React.createElement(tag,tslib_1.__assign(tslib_1.__assign({controls:!1},props),{ref:ref,onPlay:wrapEvent(props.onPlay,onPlay),onPause:wrapEvent(props.onPause,onPause),onVolumeChange:wrapEvent(props.onVolumeChange,onVolumeChange),onDurationChange:wrapEvent(props.onDurationChange,onDurationChange),onTimeUpdate:wrapEvent(props.onTimeUpdate,onTimeUpdate),onProgress:wrapEvent(props.onProgress,onProgress)}));var lockPlay=!1,controls={play:function(){var el=ref.current;if(el&&!lockPlay){var promise=el.play();if("object"==typeof promise){lockPlay=!0;var resetLock=function(){lockPlay=!1};promise.then(resetLock,resetLock)}return promise}},pause:function(){var el=ref.current;if(el&&!lockPlay)return el.pause()},seek:function(time){var el=ref.current;el&&void 0!==state.duration&&(time=Math.min(state.duration,Math.max(0,time)),el.currentTime=time)},volume:function(volume){var el=ref.current;el&&(volume=Math.min(1,Math.max(0,volume)),el.volume=volume,setState({volume:volume}))},mute:function(){var el=ref.current;el&&(el.muted=!0)},unmute:function(){var el=ref.current;el&&(el.muted=!1)}};return react_1.useEffect((function(){var el=ref.current;el&&(setState({volume:el.volume,muted:el.muted,paused:el.paused}),props.autoPlay&&el.paused&&controls.play())}),[props.src]),[element,state,controls,ref]}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),toggleReducer=function(state,nextValue){return"boolean"==typeof nextValue?nextValue:!state};exports.default=function(initialValue){return react_1.useReducer(toggleReducer,initialValue)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useGetSet_1=tslib_1.__importDefault(__webpack_require__(81)),resolveHookState_1=__webpack_require__(54);exports.default=function(initialValue,max,min){void 0===initialValue&&(initialValue=0),void 0===max&&(max=null),void 0===min&&(min=null);var init=resolveHookState_1.resolveHookState(initialValue);"number"!=typeof init&&console.error("initialValue has to be a number, got "+typeof initialValue),"number"==typeof min?init=Math.max(init,min):null!==min&&console.error("min has to be a number, got "+typeof min),"number"==typeof max?init=Math.min(init,max):null!==max&&console.error("max has to be a number, got "+typeof max);var _a=useGetSet_1.default(init),get=_a[0],setInternal=_a[1];return[get(),react_1.useMemo((function(){var set=function(newState){var prevState=get(),rState=resolveHookState_1.resolveHookState(newState,prevState);prevState!==rState&&("number"==typeof min&&(rState=Math.max(rState,min)),"number"==typeof max&&(rState=Math.min(rState,max)),prevState!==rState&&setInternal(rState))};return{get:get,set:set,inc:function(delta){void 0===delta&&(delta=1);var rDelta=resolveHookState_1.resolveHookState(delta,get());"number"!=typeof rDelta&&console.error("delta has to be a number or function returning a number, got "+typeof rDelta),set((function(num){return num+rDelta}))},dec:function(delta){void 0===delta&&(delta=1);var rDelta=resolveHookState_1.resolveHookState(delta,get());"number"!=typeof rDelta&&console.error("delta has to be a number or function returning a number, got "+typeof rDelta),set((function(num){return num-rDelta}))},reset:function(value){void 0===value&&(value=init);var rValue=resolveHookState_1.resolveHookState(value,get());"number"!=typeof rValue&&console.error("value has to be a number or function returning a number, got "+typeof rValue),init=rValue,set(rValue)}}}),[init,min,max])]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useUpdate_1=tslib_1.__importDefault(__webpack_require__(42)),resolveHookState_1=__webpack_require__(54);exports.default=function(initialState){var state=react_1.useRef(resolveHookState_1.resolveHookState(initialState)),update=useUpdate_1.default();return react_1.useMemo((function(){return[function(){return state.current},function(newState){state.current=resolveHookState_1.resolveHookState(newState,state.current),update()}]}),[])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),defaultTarget=__webpack_require__(32).isClient?window:null,isListenerType1=function(target){return!!target.addEventListener},isListenerType2=function(target){return!!target.on};exports.default=function(name,handler,target,options){void 0===target&&(target=defaultTarget),react_1.useEffect((function(){if(handler&&target)return isListenerType1(target)?target.addEventListener(name,handler,options):isListenerType2(target)&&target.on(name,handler,options),function(){isListenerType1(target)?target.removeEventListener(name,handler,options):isListenerType2(target)&&target.off(name,handler,options)}}),[name,handler,target,JSON.stringify(options)])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(ref,enabled){void 0===enabled&&(enabled=!0);var _a=react_1.useState(!1),value=_a[0],setValue=_a[1];return react_1.useEffect((function(){var onMouseOver=function(){return setValue(!0)},onMouseOut=function(){return setValue(!1)};enabled&&ref&&ref.current&&(ref.current.addEventListener("mouseover",onMouseOver),ref.current.addEventListener("mouseout",onMouseOut));var current=ref.current;return function(){enabled&&current&&(current.removeEventListener("mouseover",onMouseOver),current.removeEventListener("mouseout",onMouseOut))}}),[enabled,ref]),value}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useEvent_1=tslib_1.__importDefault(__webpack_require__(82)),noop=function(){};exports.default=function(key,fn,opts,deps){void 0===fn&&(fn=noop),void 0===opts&&(opts={}),void 0===deps&&(deps=[key]);var _a=opts.event,event=void 0===_a?"keydown":_a,target=opts.target,options=opts.options,useMemoHandler=react_1.useMemo((function(){var keyFilter,predicate="function"==typeof(keyFilter=key)?keyFilter:"string"==typeof keyFilter?function(event){return event.key===keyFilter}:keyFilter?function(){return!0}:function(){return!1};return function(handlerEvent){if(predicate(handlerEvent))return fn(handlerEvent)}}),deps);useEvent_1.default(event,useMemoHandler,target,options)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useKey_1=tslib_1.__importDefault(__webpack_require__(84));exports.default=function(keyFilter){var _a=react_1.useState([!1,null]),state=_a[0],set=_a[1];return useKey_1.default(keyFilter,(function(event){return set([!0,event])}),{event:"keydown"},[state]),useKey_1.default(keyFilter,(function(event){return set([!1,event])}),{event:"keyup"},[state]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(value){var ref=react_1.useRef(value);return ref.current=value,ref}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(mount,unmount){react_1.useEffect((function(){return mount&&mount(),function(){unmount&&unmount()}}),[])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useUpdate_1=tslib_1.__importDefault(__webpack_require__(42)),resolveHookState_1=__webpack_require__(54);exports.default=function(initialList){void 0===initialList&&(initialList=[]);var list=react_1.useRef(resolveHookState_1.resolveHookState(initialList)),update=useUpdate_1.default(),actions=react_1.useMemo((function(){var a={set:function(newList){list.current=resolveHookState_1.resolveHookState(newList,list.current),update()},push:function(){for(var items=[],_i=0;_i<arguments.length;_i++)items[_i]=arguments[_i];items.length&&actions.set((function(curr){return curr.concat(items)}))},updateAt:function(index,item){actions.set((function(curr){var arr=curr.slice();return arr[index]=item,arr}))},insertAt:function(index,item){actions.set((function(curr){var arr=curr.slice();return index>arr.length?arr[index]=item:arr.splice(index,0,item),arr}))},update:function(predicate,newItem){actions.set((function(curr){return curr.map((function(item){return predicate(item,newItem)?newItem:item}))}))},updateFirst:function(predicate,newItem){var index=list.current.findIndex((function(item){return predicate(item,newItem)}));index>=0&&actions.updateAt(index,newItem)},upsert:function(predicate,newItem){var index=list.current.findIndex((function(item){return predicate(item,newItem)}));index>=0?actions.updateAt(index,newItem):actions.push(newItem)},sort:function(compareFn){actions.set((function(curr){return curr.slice().sort(compareFn)}))},filter:function(callbackFn,thisArg){actions.set((function(curr){return curr.slice().filter(callbackFn,thisArg)}))},removeAt:function(index){actions.set((function(curr){var arr=curr.slice();return arr.splice(index,1),arr}))},clear:function(){actions.set([])},reset:function(){actions.set(resolveHookState_1.resolveHookState(initialList).slice())}};return a.remove=a.removeAt,a}),[]);return[list.current,actions]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var useEffectOnce_1=__webpack_require__(11).__importDefault(__webpack_require__(46));exports.default=function(fn){useEffectOnce_1.default((function(){fn()}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useRafState_1=tslib_1.__importDefault(__webpack_require__(47));exports.default=function(ref){var _a=useRafState_1.default({docX:0,docY:0,posX:0,posY:0,elX:0,elY:0,elH:0,elW:0}),state=_a[0],setState=_a[1];return react_1.useEffect((function(){var moveHandler=function(event){if(ref&&ref.current){var _a=ref.current.getBoundingClientRect(),left=_a.left,top_1=_a.top,elW=_a.width,elH=_a.height,posX=left+window.pageXOffset,posY=top_1+window.pageYOffset,elX=event.pageX-posX,elY=event.pageY-posY;setState({docX:event.pageX,docY:event.pageY,posX:posX,posY:posY,elX:elX,elY:elY,elH:elH,elW:elW})}};return document.addEventListener("mousemove",moveHandler),function(){document.removeEventListener("mousemove",moveHandler)}}),[ref]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useIsomorphicLayoutEffect_1=tslib_1.__importDefault(__webpack_require__(38));exports.default=function(ms,delay){void 0===ms&&(ms=1e12),void 0===delay&&(delay=0);var _a=react_1.useState(0),elapsed=_a[0],set=_a[1];return useIsomorphicLayoutEffect_1.default((function(){var raf,timerStop,start,onFrame=function(){var time=Math.min(1,(Date.now()-start)/ms);set(time),loop()},loop=function(){raf=requestAnimationFrame(onFrame)},timerDelay=setTimeout((function(){timerStop=setTimeout((function(){cancelAnimationFrame(raf),set(1)}),ms),start=Date.now(),loop()}),delay);return function(){clearTimeout(timerStop),clearTimeout(timerDelay),cancelAnimationFrame(raf)}}),[ms,delay]),elapsed}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),isReact16Plus=parseInt(react_1.version.substr(0,react_1.version.indexOf(".")))>15,isFn=function(fn){return"function"==typeof fn};exports.default=function(props,data){for(var more=[],_i=2;_i<arguments.length;_i++)more[_i-2]=arguments[_i];var render=props.render,_a=props.children,children=void 0===_a?render:_a,component=props.component,_b=props.comp,comp=void 0===_b?component:_b;return isFn(children)?children.apply(void 0,tslib_1.__spreadArrays([data],more)):comp?react_1.createElement(comp,data):children instanceof Array?isReact16Plus?children:react_1.createElement.apply(void 0,tslib_1.__spreadArrays(["div",null],children)):children&&children instanceof Object?"string"==typeof children.type?children:react_1.cloneElement(children,Object.assign({},children.props,data)):children||null}},function(module,exports,__webpack_require__){!function(){var global=function(){return this}();global||"undefined"==typeof window||(global=window);var define=function(module,deps,payload){"string"==typeof module?(2==arguments.length&&(payload=deps),define.modules[module]||(define.payloads[module]=payload,define.modules[module]=null)):define.original?define.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};define.modules={},define.payloads={};var ns,root,_acequire=function(parentId,module,callback){if("string"==typeof module){var payload=lookup(parentId,module);if(null!=payload)return callback&&callback(),payload}else if("[object Array]"===Object.prototype.toString.call(module)){for(var params=[],i=0,l=module.length;i<l;++i){var dep=lookup(parentId,module[i]);if(null==dep&&acequire.original)return;params.push(dep)}return callback&&callback.apply(null,params)||!0}},acequire=function(module,callback){var packagedModule=_acequire("",module,callback);return null==packagedModule&&acequire.original?acequire.original.apply(this,arguments):packagedModule},normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return normalizeModule(parentId,chunks[0])+"!"+normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0))for(moduleName=parentId.split("/").slice(0,-1).join("/")+"/"+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return moduleName},lookup=function(parentId,moduleName){moduleName=normalizeModule(parentId,moduleName);var module=define.modules[moduleName];if(!module){if("function"==typeof(module=define.payloads[moduleName])){var exports={},mod={id:moduleName,uri:"",exports:exports,packaged:!0};exports=module((function(module,callback){return _acequire(moduleName,module,callback)}),exports,mod)||mod.exports,define.modules[moduleName]=exports,delete define.payloads[moduleName]}module=define.modules[moduleName]=exports||module}return module};root=global,(ns="ace")&&(global[ns]||(global[ns]={}),root=global[ns]),root.define&&root.define.packaged||(define.original=root.define,root.define=define,root.define.packaged=!0),root.acequire&&root.acequire.packaged||(acequire.original=root.acequire,root.acequire=acequire,root.acequire.packaged=!0)}(),ace.define("ace/lib/regexp",["require","exports","module"],(function(acequire,exports,module){"use strict";var x,real={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},compliantExecNpcg=void 0===real.exec.call(/()??/,"")[1],compliantLastIndexIncrement=(x=/^/g,real.test.call(x,""),!x.lastIndex);function getNativeFlags(regex){return(regex.global?"g":"")+(regex.ignoreCase?"i":"")+(regex.multiline?"m":"")+(regex.extended?"x":"")+(regex.sticky?"y":"")}function indexOf(array,item,from){if(Array.prototype.indexOf)return array.indexOf(item,from);for(var i=from||0;i<array.length;i++)if(array[i]===item)return i;return-1}compliantLastIndexIncrement&&compliantExecNpcg||(RegExp.prototype.exec=function(str){var name,r2,match=real.exec.apply(this,arguments);if("string"==typeof str&&match){if(!compliantExecNpcg&&match.length>1&&indexOf(match,"")>-1&&(r2=RegExp(this.source,real.replace.call(getNativeFlags(this),"g","")),real.replace.call(str.slice(match.index),r2,(function(){for(var i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)}))),this._xregexp&&this._xregexp.captureNames)for(var i=1;i<match.length;i++)(name=this._xregexp.captureNames[i-1])&&(match[name]=match[i]);!compliantLastIndexIncrement&&this.global&&!match[0].length&&this.lastIndex>match.index&&this.lastIndex--}return match},compliantLastIndexIncrement||(RegExp.prototype.test=function(str){var match=real.exec.call(this,str);return match&&this.global&&!match[0].length&&this.lastIndex>match.index&&this.lastIndex--,!!match}))})),ace.define("ace/lib/es5-shim",["require","exports","module"],(function(acequire,exports,module){function Empty(){}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=new Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];if(array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),array.length,lengthBefore+1==array.length)return!0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):null==pos?pos=0:pos<0&&(pos=Math.max(length+pos,0)),pos+removeCount<length||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailNewPos<tailOldPos)for(var i=0;i<tailCount;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;i<add;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var createEmpty,freezeObject,boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;++i<length;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;i<length;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}do{i in this&&(result=fun.call(void 0,result,self[i],i,object))}while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);i<length;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+object);if(owns(object,property)){var descriptor;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),Object.create)||(createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != 'object'");var Type=function(){};Type.prototype=prototype,(object=new Type).__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object});function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.defineProperty called on non-object: "+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError("Property description must be an object: "+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError("getters & setters can not be defined on this javascript engine");owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze((function(){}))}catch(exception){Object.freeze=(freezeObject=Object.freeze,function(object){return"function"==typeof object?object:freezeObject(object)})}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(object){return!1}),Object.isFrozen||(Object.isFrozen=function(object){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;i<ii;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=new RegExp("^"+ws+ws+"*"),trimEndRegexp=new RegExp(ws+ws+"*$");String.prototype.trim=function(){return String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}function toInteger(n){return(n=+n)!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}var toObject=function(o){if(null==o)throw new TypeError("can't convert "+o+" to object");return Object(o)}})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],(function(acequire,exports,module){"use strict";acequire("./regexp"),acequire("./es5-shim")})),ace.define("ace/lib/dom",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.getDocumentHead=function(doc){return doc||(doc=document),doc.head||doc.getElementsByTagName("head")[0]||doc.documentElement},exports.createElement=function(tag,ns){return document.createElementNS?document.createElementNS(ns||"http://www.w3.org/1999/xhtml",tag):document.createElement(tag)},exports.hasCssClass=function(el,name){return-1!==(el.className+"").split(/\s+/g).indexOf(name)},exports.addCssClass=function(el,name){exports.hasCssClass(el,name)||(el.className+=" "+name)},exports.removeCssClass=function(el,name){for(var classes=el.className.split(/\s+/g);;){var index=classes.indexOf(name);if(-1==index)break;classes.splice(index,1)}el.className=classes.join(" ")},exports.toggleCssClass=function(el,name){for(var classes=el.className.split(/\s+/g),add=!0;;){var index=classes.indexOf(name);if(-1==index)break;add=!1,classes.splice(index,1)}return add&&classes.push(name),el.className=classes.join(" "),add},exports.setCssClass=function(node,className,include){include?exports.addCssClass(node,className):exports.removeCssClass(node,className)},exports.hasCssString=function(id,doc){var sheets,index=0;if((doc=doc||document).createStyleSheet&&(sheets=doc.styleSheets)){for(;index<sheets.length;)if(sheets[index++].owningElement.id===id)return!0}else if(sheets=doc.getElementsByTagName("style"))for(;index<sheets.length;)if(sheets[index++].id===id)return!0;return!1},exports.importCssString=function(cssText,id,doc){if(doc=doc||document,id&&exports.hasCssString(id,doc))return null;var style;id&&(cssText+="\n/*# sourceURL=ace/css/"+id+" */"),doc.createStyleSheet?((style=doc.createStyleSheet()).cssText=cssText,id&&(style.owningElement.id=id)):((style=exports.createElement("style")).appendChild(doc.createTextNode(cssText)),id&&(style.id=id),exports.getDocumentHead(doc).appendChild(style))},exports.importCssStylsheet=function(uri,doc){if(doc.createStyleSheet)doc.createStyleSheet(uri);else{var link=exports.createElement("link");link.rel="stylesheet",link.href=uri,exports.getDocumentHead(doc).appendChild(link)}},exports.getInnerWidth=function(element){return parseInt(exports.computedStyle(element,"paddingLeft"),10)+parseInt(exports.computedStyle(element,"paddingRight"),10)+element.clientWidth},exports.getInnerHeight=function(element){return parseInt(exports.computedStyle(element,"paddingTop"),10)+parseInt(exports.computedStyle(element,"paddingBottom"),10)+element.clientHeight},exports.scrollbarWidth=function(document){var inner=exports.createElement("ace_inner");inner.style.width="100%",inner.style.minWidth="0px",inner.style.height="200px",inner.style.display="block";var outer=exports.createElement("ace_outer"),style=outer.style;style.position="absolute",style.left="-10000px",style.overflow="hidden",style.width="200px",style.minWidth="0px",style.height="150px",style.display="block",outer.appendChild(inner);var body=document.documentElement;body.appendChild(outer);var noScrollbar=inner.offsetWidth;style.overflow="scroll";var withScrollbar=inner.offsetWidth;return noScrollbar==withScrollbar&&(withScrollbar=outer.clientWidth),body.removeChild(outer),noScrollbar-withScrollbar},"undefined"!=typeof document?(void 0!==window.pageYOffset?(exports.getPageScrollTop=function(){return window.pageYOffset},exports.getPageScrollLeft=function(){return window.pageXOffset}):(exports.getPageScrollTop=function(){return document.body.scrollTop},exports.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?exports.computedStyle=function(element,style){return style?(window.getComputedStyle(element,"")||{})[style]||"":window.getComputedStyle(element,"")||{}}:exports.computedStyle=function(element,style){return style?element.currentStyle[style]:element.currentStyle},exports.setInnerHtml=function(el,innerHtml){var element=el.cloneNode(!1);return element.innerHTML=innerHtml,el.parentNode.replaceChild(element,el),element},"textContent"in document.documentElement?(exports.setInnerText=function(el,innerText){el.textContent=innerText},exports.getInnerText=function(el){return el.textContent}):(exports.setInnerText=function(el,innerText){el.innerText=innerText},exports.getInnerText=function(el){return el.innerText}),exports.getParentWindow=function(document){return document.defaultView||document.parentWindow}):exports.importCssString=function(){}})),ace.define("ace/lib/oop",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],(function(acequire,exports,module){"use strict";acequire("./fixoldbrowsers");var oop=acequire("./oop"),Keys=function(){var name,i,ret={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(i in ret.FUNCTION_KEYS)name=ret.FUNCTION_KEYS[i].toLowerCase(),ret[name]=parseInt(i,10);for(i in ret.PRINTABLE_KEYS)name=ret.PRINTABLE_KEYS[i].toLowerCase(),ret[name]=parseInt(i,10);return oop.mixin(ret,ret.MODIFIER_KEYS),oop.mixin(ret,ret.PRINTABLE_KEYS),oop.mixin(ret,ret.FUNCTION_KEYS),ret.enter=ret.return,ret.escape=ret.esc,ret.del=ret.delete,ret[173]="-",function(){for(var mods=["cmd","ctrl","alt","shift"],i=Math.pow(2,mods.length);i--;)ret.KEY_MODS[i]=mods.filter((function(x){return i&ret.KEY_MODS[x]})).join("-")+"-"}(),ret.KEY_MODS[0]="",ret.KEY_MODS[-1]="input-",ret}();oop.mixin(exports,Keys),exports.keyCodeToString=function(keyCode){var keyString=Keys[keyCode];return"string"!=typeof keyString&&(keyString=String.fromCharCode(keyCode)),keyString.toLowerCase()}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(acequire,exports,module){"use strict";if(exports.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},exports.getOS=function(){return exports.isMac?exports.OS.MAC:exports.isLinux?exports.OS.LINUX:exports.OS.WINDOWS},"object"==typeof navigator){var os=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),ua=navigator.userAgent;exports.isWin="win"==os,exports.isMac="mac"==os,exports.isLinux="linux"==os,exports.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((ua.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((ua.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),exports.isOldIE=exports.isIE&&exports.isIE<9,exports.isGecko=exports.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,exports.isOldGecko=exports.isGecko&&parseInt((ua.match(/rv:(\d+)/)||[])[1],10)<4,exports.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),exports.isWebKit=parseFloat(ua.split("WebKit/")[1])||void 0,exports.isChrome=parseFloat(ua.split(" Chrome/")[1])||void 0,exports.isAIR=ua.indexOf("AdobeAIR")>=0,exports.isIPad=ua.indexOf("iPad")>=0,exports.isChromeOS=ua.indexOf(" CrOS ")>=0,exports.isIOS=/iPad|iPhone|iPod/.test(ua)&&!window.MSStream,exports.isIOS&&(exports.isMac=!0)}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(acequire,exports,module){"use strict";var keys=acequire("./keys"),useragent=acequire("./useragent"),pressedKeys=null,ts=0;exports.addListener=function(elem,type,callback){if(elem.addEventListener)return elem.addEventListener(type,callback,!1);if(elem.attachEvent){var wrapper=function(){callback.call(elem,window.event)};callback._wrapper=wrapper,elem.attachEvent("on"+type,wrapper)}},exports.removeListener=function(elem,type,callback){if(elem.removeEventListener)return elem.removeEventListener(type,callback,!1);elem.detachEvent&&elem.detachEvent("on"+type,callback._wrapper||callback)},exports.stopEvent=function(e){return exports.stopPropagation(e),exports.preventDefault(e),!1},exports.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},exports.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},exports.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||useragent.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},exports.capture=function(el,eventHandler,releaseCaptureHandler){function onMouseUp(e){eventHandler&&eventHandler(e),releaseCaptureHandler&&releaseCaptureHandler(e),exports.removeListener(document,"mousemove",eventHandler,!0),exports.removeListener(document,"mouseup",onMouseUp,!0),exports.removeListener(document,"dragstart",onMouseUp,!0)}return exports.addListener(document,"mousemove",eventHandler,!0),exports.addListener(document,"mouseup",onMouseUp,!0),exports.addListener(document,"dragstart",onMouseUp,!0),onMouseUp},exports.addTouchMoveListener=function(el,callback){var startx,starty;exports.addListener(el,"touchstart",(function(e){var touchObj=e.touches[0];startx=touchObj.clientX,starty=touchObj.clientY})),exports.addListener(el,"touchmove",(function(e){var touches=e.touches;if(!(touches.length>1)){var touchObj=touches[0];e.wheelX=startx-touchObj.clientX,e.wheelY=starty-touchObj.clientY,startx=touchObj.clientX,starty=touchObj.clientY,callback(e)}}))},exports.addMouseWheelListener=function(el,callback){"onmousewheel"in el?exports.addListener(el,"mousewheel",(function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),callback(e)})):"onwheel"in el?exports.addListener(el,"wheel",(function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}callback(e)})):exports.addListener(el,"DOMMouseScroll",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),callback(e)}))},exports.addMultiMouseDownListener=function(elements,timeouts,eventHandler,callbackName){var startX,startY,timer,clicks=0,eventNames={2:"dblclick",3:"tripleclick",4:"quadclick"};function onMousedown(e){if(0!==exports.getButton(e)?clicks=0:e.detail>1?++clicks>4&&(clicks=1):clicks=1,useragent.isIE){var isNewClick=Math.abs(e.clientX-startX)>5||Math.abs(e.clientY-startY)>5;timer&&!isNewClick||(clicks=1),timer&&clearTimeout(timer),timer=setTimeout((function(){timer=null}),timeouts[clicks-1]||600),1==clicks&&(startX=e.clientX,startY=e.clientY)}if(e._clicks=clicks,eventHandler[callbackName]("mousedown",e),clicks>4)clicks=0;else if(clicks>1)return eventHandler[callbackName](eventNames[clicks],e)}function onDblclick(e){clicks=2,timer&&clearTimeout(timer),timer=setTimeout((function(){timer=null}),timeouts[clicks-1]||600),eventHandler[callbackName]("mousedown",e),eventHandler[callbackName](eventNames[clicks],e)}Array.isArray(elements)||(elements=[elements]),elements.forEach((function(el){exports.addListener(el,"mousedown",onMousedown),useragent.isOldIE&&exports.addListener(el,"dblclick",onDblclick)}))};var getModifierHash=useragent.isMac&&useragent.isOpera&&!("KeyboardEvent"in window)?function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)}:function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function normalizeCommandKeys(callback,e,keyCode){var hashId=getModifierHash(e);if(!useragent.isMac&&pressedKeys){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win"))&&(hashId|=8),pressedKeys.altGr){if(3==(3&hashId))return;pressedKeys.altGr=0}if(18===keyCode||17===keyCode){var location="location"in e?e.location:e.keyLocation;if(17===keyCode&&1===location)1==pressedKeys[keyCode]&&(ts=e.timeStamp);else if(18===keyCode&&3===hashId&&2===location){e.timeStamp-ts<50&&(pressedKeys.altGr=!0)}}}if((keyCode in keys.MODIFIER_KEYS&&(keyCode=-1),8&hashId&&keyCode>=91&&keyCode<=93&&(keyCode=-1),!hashId&&13===keyCode)&&(3===(location="location"in e?e.location:e.keyLocation)&&(callback(e,hashId,-keyCode),e.defaultPrevented)))return;if(useragent.isChromeOS&&8&hashId){if(callback(e,hashId,keyCode),e.defaultPrevented)return;hashId&=-9}return!!(hashId||keyCode in keys.FUNCTION_KEYS||keyCode in keys.PRINTABLE_KEYS)&&callback(e,hashId,keyCode)}function resetPressedKeys(){pressedKeys=Object.create(null)}if(exports.getModifierString=function(e){return keys.KEY_MODS[getModifierHash(e)]},exports.addCommandKeyListener=function(el,callback){var addListener=exports.addListener;if(useragent.isOldGecko||useragent.isOpera&&!("KeyboardEvent"in window)){var lastKeyDownKeyCode=null;addListener(el,"keydown",(function(e){lastKeyDownKeyCode=e.keyCode})),addListener(el,"keypress",(function(e){return normalizeCommandKeys(callback,e,lastKeyDownKeyCode)}))}else{var lastDefaultPrevented=null;addListener(el,"keydown",(function(e){pressedKeys[e.keyCode]=(pressedKeys[e.keyCode]||0)+1;var result=normalizeCommandKeys(callback,e,e.keyCode);return lastDefaultPrevented=e.defaultPrevented,result})),addListener(el,"keypress",(function(e){lastDefaultPrevented&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(exports.stopEvent(e),lastDefaultPrevented=null)})),addListener(el,"keyup",(function(e){pressedKeys[e.keyCode]=null})),pressedKeys||(resetPressedKeys(),addListener(window,"focus",resetPressedKeys))}},"object"==typeof window&&window.postMessage&&!useragent.isOldIE){exports.nextTick=function(callback,win){win=win||window;exports.addListener(win,"message",(function listener(e){"zero-timeout-message-1"==e.data&&(exports.stopPropagation(e),exports.removeListener(win,"message",listener),callback())})),win.postMessage("zero-timeout-message-1","*")}}exports.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),exports.nextFrame?exports.nextFrame=exports.nextFrame.bind(window):exports.nextFrame=function(callback){setTimeout(callback,17)}})),ace.define("ace/lib/lang",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\s\s*/,trimEndRegexp=/\s\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;i<l;i++)array[i]&&"object"==typeof array[i]?copy[i]=this.copyObject(array[i]):copy[i]=array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;key<obj.length;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;for(var key in copy={},obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;i<arr.length;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;i<=array.length;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,(function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})})),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}})),ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],(function(acequire,exports,module){"use strict";var event=acequire("../lib/event"),useragent=acequire("../lib/useragent"),dom=acequire("../lib/dom"),lang=acequire("../lib/lang"),KEYS=acequire("../lib/keys"),MODS=KEYS.KEY_MODS,BROKEN_SETDATA=useragent.isChrome<18,USE_IE_MIME_TYPE=useragent.isIE;exports.TextInput=function(parentNode,host){var text=dom.createElement("textarea");text.className=useragent.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input",useragent.isTouchPad&&text.setAttribute("x-palm-disable-auto-cap",!0),text.setAttribute("wrap","off"),text.setAttribute("autocorrect","off"),text.setAttribute("autocapitalize","off"),text.setAttribute("spellcheck",!1),text.style.opacity="0",parentNode.insertBefore(text,parentNode.firstChild);var copied=!1,cut=!1,pasted=!1,inComposition=!1,tempStyle="",isSelectionEmpty=!0;try{var isFocused=document.activeElement===text}catch(e){}event.addListener(text,"blur",(function(e){host.onBlur(e),isFocused=!1})),event.addListener(text,"focus",(function(e){isFocused=!0,host.onFocus(e),resetSelection()})),this.focus=function(){if(tempStyle)return text.focus();text.style.position="fixed",text.focus()},this.blur=function(){text.blur()},this.isFocused=function(){return isFocused};var syncSelection=lang.delayedCall((function(){isFocused&&resetSelection(isSelectionEmpty)})),syncValue=lang.delayedCall((function(){inComposition||(text.value="\n aaaa a\n",isFocused&&resetSelection())}));function resetSelection(isEmpty){if(!inComposition){if(inComposition=!0,inputHandler)selectionStart=0,selectionEnd=isEmpty?0:text.value.length-1;else var selectionStart=4,selectionEnd=5;try{text.setSelectionRange(selectionStart,selectionEnd)}catch(e){}inComposition=!1}}function resetValue(){inComposition||(text.value="\n aaaa a\n",useragent.isWebKit&&syncValue.schedule())}useragent.isWebKit||host.addEventListener("changeSelection",(function(){host.selection.isEmpty()!=isSelectionEmpty&&(isSelectionEmpty=!isSelectionEmpty,syncSelection.schedule())})),resetValue(),isFocused&&host.onFocus();var inputHandler=null;this.setInputHandler=function(cb){inputHandler=cb},this.getInputHandler=function(){return inputHandler};var afterContextMenu=!1,sendText=function(data){4===text.selectionStart&&5===text.selectionEnd||(inputHandler&&(data=inputHandler(data),inputHandler=null),pasted?(resetSelection(),data&&host.onPaste(data),pasted=!1):data=="\n aaaa a\n".substr(0)&&4===text.selectionStart?afterContextMenu?host.execCommand("del",{source:"ace"}):host.execCommand("backspace",{source:"ace"}):copied||("\n aaaa a\n"==data.substring(0,9)&&data.length>"\n aaaa a\n".length?data=data.substr(9):data.substr(0,4)=="\n aaaa a\n".substr(0,4)?data=data.substr(4,data.length-"\n aaaa a\n".length+1):data.charAt(data.length-1)=="\n aaaa a\n".charAt(0)&&(data=data.slice(0,-1)),data=="\n aaaa a\n".charAt(0)||data.charAt(data.length-1)=="\n aaaa a\n".charAt(0)&&(data=data.slice(0,-1)),data&&host.onTextInput(data)),copied&&(copied=!1),afterContextMenu&&(afterContextMenu=!1))},onInput=function(e){if(!inComposition){var data=text.value;sendText(data),resetValue()}},handleClipboardData=function(e,data,forceIEMime){var clipboardData=e.clipboardData||window.clipboardData;if(clipboardData&&!BROKEN_SETDATA){var mime=USE_IE_MIME_TYPE||forceIEMime?"Text":"text/plain";try{return data?!1!==clipboardData.setData(mime,data):clipboardData.getData(mime)}catch(e){if(!forceIEMime)return handleClipboardData(e,data,!0)}}},doCopy=function(e,isCut){var data=host.getCopyText();if(!data)return event.preventDefault(e);handleClipboardData(e,data)?(useragent.isIOS&&(cut=isCut,text.value="\n aa"+data+"a a\n",text.setSelectionRange(4,4+data.length),copied={value:data}),isCut?host.onCut():host.onCopy(),useragent.isIOS||event.preventDefault(e)):(copied=!0,text.value=data,text.select(),setTimeout((function(){copied=!1,resetValue(),resetSelection(),isCut?host.onCut():host.onCopy()})))};event.addCommandKeyListener(text,host.onCommandKey.bind(host)),event.addListener(text,"select",(function(e){!function(text){return 0===text.selectionStart&&text.selectionEnd===text.value.length}(text)?inputHandler&&resetSelection(host.selection.isEmpty()):(host.selectAll(),resetSelection())})),event.addListener(text,"input",onInput),event.addListener(text,"cut",(function(e){doCopy(e,!0)})),event.addListener(text,"copy",(function(e){doCopy(e,!1)})),event.addListener(text,"paste",(function(e){var data=handleClipboardData(e);"string"==typeof data?(data&&host.onPaste(data,e),useragent.isIE&&setTimeout(resetSelection),event.preventDefault(e)):(text.value="",pasted=!0)}));var closeTimeout,onCompositionUpdate=function(){if(inComposition&&host.onCompositionUpdate&&!host.$readOnly){var val=text.value.replace(/\x01/g,"");if(inComposition.lastValue!==val&&(host.onCompositionUpdate(val),inComposition.lastValue&&host.undo(),inComposition.canUndo&&(inComposition.lastValue=val),inComposition.lastValue)){var r=host.selection.getRange();host.insert(inComposition.lastValue),host.session.markUndoGroup(),inComposition.range=host.selection.getRange(),host.selection.setRange(r),host.selection.clearSelection()}}},onCompositionEnd=function(e){if(host.onCompositionEnd&&!host.$readOnly){var c=inComposition;inComposition=!1;var timer=setTimeout((function(){timer=null;var str=text.value.replace(/\x01/g,"");inComposition||(str==c.lastValue?resetValue():!c.lastValue&&str&&(resetValue(),sendText(str)))}));inputHandler=function(str){return timer&&clearTimeout(timer),(str=str.replace(/\x01/g,""))==c.lastValue?"":(c.lastValue&&timer&&host.undo(),str)},host.onCompositionEnd(),host.removeListener("mousedown",onCompositionEnd),"compositionend"==e.type&&c.range&&host.selection.setRange(c.range),(!!useragent.isChrome&&useragent.isChrome>=53||!!useragent.isWebKit&&useragent.isWebKit>=603)&&onInput()}},syncComposition=lang.delayedCall(onCompositionUpdate,50);function onContextMenuClose(){clearTimeout(closeTimeout),closeTimeout=setTimeout((function(){tempStyle&&(text.style.cssText=tempStyle,tempStyle=""),null==host.renderer.$keepTextAreaAtCursor&&(host.renderer.$keepTextAreaAtCursor=!0,host.renderer.$moveTextAreaToCursor())}),0)}event.addListener(text,"compositionstart",(function(e){inComposition||!host.onCompositionStart||host.$readOnly||((inComposition={}).canUndo=host.session.$undoManager,host.onCompositionStart(),setTimeout(onCompositionUpdate,0),host.on("mousedown",onCompositionEnd),inComposition.canUndo&&!host.selection.isEmpty()&&(host.insert(""),host.session.markUndoGroup(),host.selection.clearSelection()),host.session.markUndoGroup())})),useragent.isGecko?event.addListener(text,"text",(function(){syncComposition.schedule()})):(event.addListener(text,"keyup",(function(){syncComposition.schedule()})),event.addListener(text,"keydown",(function(){syncComposition.schedule()}))),event.addListener(text,"compositionend",onCompositionEnd),this.getElement=function(){return text},this.setReadOnly=function(readOnly){text.readOnly=readOnly},this.onContextMenu=function(e){afterContextMenu=!0,resetSelection(host.selection.isEmpty()),host._emit("nativecontextmenu",{target:host,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,bringToFront){tempStyle||(tempStyle=text.style.cssText),text.style.cssText=(bringToFront?"z-index:100000;":"")+"height:"+text.style.height+";"+(useragent.isIE?"opacity:0.1;":"");var rect=host.container.getBoundingClientRect(),style=dom.computedStyle(host.container),top=rect.top+(parseInt(style.borderTopWidth)||0),left=rect.left+(parseInt(rect.borderLeftWidth)||0),maxTop=rect.bottom-top-text.clientHeight-2,move=function(e){text.style.left=e.clientX-left-2+"px",text.style.top=Math.min(e.clientY-top-2,maxTop)+"px"};move(e),"mousedown"==e.type&&(host.renderer.$keepTextAreaAtCursor&&(host.renderer.$keepTextAreaAtCursor=null),clearTimeout(closeTimeout),useragent.isWin&&event.capture(host.container,move,onContextMenuClose))},this.onContextMenuClose=onContextMenuClose;var onContextMenu=function(e){host.textInput.onContextMenu(e),onContextMenuClose()};if(event.addListener(text,"mouseup",onContextMenu),event.addListener(text,"mousedown",(function(e){e.preventDefault(),onContextMenuClose()})),event.addListener(host.renderer.scroller,"contextmenu",onContextMenu),event.addListener(text,"contextmenu",onContextMenu),useragent.isIOS){var typingResetTimeout=null,typing=!1;parentNode.addEventListener("keydown",(function(e){typingResetTimeout&&clearTimeout(typingResetTimeout),typing=!0})),parentNode.addEventListener("keyup",(function(e){typingResetTimeout=setTimeout((function(){typing=!1}),100)}));var detectArrowKeys=function(e){if(document.activeElement===text&&!typing){if(cut)return setTimeout((function(){cut=!1}),100);var selectionStart=text.selectionStart,selectionEnd=text.selectionEnd;if(text.setSelectionRange(4,5),selectionStart==selectionEnd)switch(selectionStart){case 0:host.onCommandKey(null,0,KEYS.up);break;case 1:host.onCommandKey(null,0,KEYS.home);break;case 2:host.onCommandKey(null,MODS.option,KEYS.left);break;case 4:host.onCommandKey(null,0,KEYS.left);break;case 5:host.onCommandKey(null,0,KEYS.right);break;case 7:host.onCommandKey(null,MODS.option,KEYS.right);break;case 8:host.onCommandKey(null,0,KEYS.end);break;case 9:host.onCommandKey(null,0,KEYS.down)}else{switch(selectionEnd){case 6:host.onCommandKey(null,MODS.shift,KEYS.right);break;case 7:host.onCommandKey(null,MODS.shift|MODS.option,KEYS.right);break;case 8:host.onCommandKey(null,MODS.shift,KEYS.end);break;case 9:host.onCommandKey(null,MODS.shift,KEYS.down)}switch(selectionStart){case 0:host.onCommandKey(null,MODS.shift,KEYS.up);break;case 1:host.onCommandKey(null,MODS.shift,KEYS.home);break;case 2:host.onCommandKey(null,MODS.shift|MODS.option,KEYS.left);break;case 3:host.onCommandKey(null,MODS.shift,KEYS.left)}}}};document.addEventListener("selectionchange",detectArrowKeys),host.on("destroy",(function(){document.removeEventListener("selectionchange",detectArrowKeys)}))}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],(function(acequire,exports,module){"use strict";var event=acequire("../lib/event"),useragent=acequire("../lib/useragent"),dom=acequire("../lib/dom"),lang=acequire("../lib/lang"),BROKEN_SETDATA=useragent.isChrome<18,USE_IE_MIME_TYPE=useragent.isIE,TextInputIOS=acequire("./textinput_ios").TextInput;exports.TextInput=function(parentNode,host){if(useragent.isIOS)return TextInputIOS.call(this,parentNode,host);var text=dom.createElement("textarea");text.className="ace_text-input",text.setAttribute("wrap","off"),text.setAttribute("autocorrect","off"),text.setAttribute("autocapitalize","off"),text.setAttribute("spellcheck",!1),text.style.opacity="0",parentNode.insertBefore(text,parentNode.firstChild);var copied=!1,pasted=!1,inComposition=!1,tempStyle="",isSelectionEmpty=!0;try{var isFocused=document.activeElement===text}catch(e){}event.addListener(text,"blur",(function(e){host.onBlur(e),isFocused=!1})),event.addListener(text,"focus",(function(e){isFocused=!0,host.onFocus(e),resetSelection()})),this.focus=function(){if(tempStyle)return text.focus();var top=text.style.top;text.style.position="fixed",text.style.top="0px",text.focus(),setTimeout((function(){text.style.position="","0px"==text.style.top&&(text.style.top=top)}),0)},this.blur=function(){text.blur()},this.isFocused=function(){return isFocused};var syncSelection=lang.delayedCall((function(){isFocused&&resetSelection(isSelectionEmpty)})),syncValue=lang.delayedCall((function(){inComposition||(text.value="\u2028\u2028",isFocused&&resetSelection())}));function resetSelection(isEmpty){if(!inComposition){if(inComposition=!0,inputHandler)var selectionStart=0,selectionEnd=isEmpty?0:text.value.length-1;else selectionStart=isEmpty?2:1,selectionEnd=2;try{text.setSelectionRange(selectionStart,selectionEnd)}catch(e){}inComposition=!1}}function resetValue(){inComposition||(text.value="\u2028\u2028",useragent.isWebKit&&syncValue.schedule())}useragent.isWebKit||host.addEventListener("changeSelection",(function(){host.selection.isEmpty()!=isSelectionEmpty&&(isSelectionEmpty=!isSelectionEmpty,syncSelection.schedule())})),resetValue(),isFocused&&host.onFocus();var inputHandler=null;this.setInputHandler=function(cb){inputHandler=cb},this.getInputHandler=function(){return inputHandler};var afterContextMenu=!1,sendText=function(data){inputHandler&&(data=inputHandler(data),inputHandler=null),pasted?(resetSelection(),data&&host.onPaste(data),pasted=!1):data=="\u2028\u2028".charAt(0)?afterContextMenu?host.execCommand("del",{source:"ace"}):host.execCommand("backspace",{source:"ace"}):("\u2028\u2028"==data.substring(0,2)?data=data.substr(2):data.charAt(0)=="\u2028\u2028".charAt(0)?data=data.substr(1):data.charAt(data.length-1)=="\u2028\u2028".charAt(0)&&(data=data.slice(0,-1)),data.charAt(data.length-1)=="\u2028\u2028".charAt(0)&&(data=data.slice(0,-1)),data&&host.onTextInput(data)),afterContextMenu&&(afterContextMenu=!1)},onInput=function(e){if(!inComposition){var data=text.value;sendText(data),resetValue()}},handleClipboardData=function(e,data,forceIEMime){var clipboardData=e.clipboardData||window.clipboardData;if(clipboardData&&!BROKEN_SETDATA){var mime=USE_IE_MIME_TYPE||forceIEMime?"Text":"text/plain";try{return data?!1!==clipboardData.setData(mime,data):clipboardData.getData(mime)}catch(e){if(!forceIEMime)return handleClipboardData(e,data,!0)}}},doCopy=function(e,isCut){var data=host.getCopyText();if(!data)return event.preventDefault(e);handleClipboardData(e,data)?(isCut?host.onCut():host.onCopy(),event.preventDefault(e)):(copied=!0,text.value=data,text.select(),setTimeout((function(){copied=!1,resetValue(),resetSelection(),isCut?host.onCut():host.onCopy()})))},onCut=function(e){doCopy(e,!0)},onCopy=function(e){doCopy(e,!1)},onPaste=function(e){var data=handleClipboardData(e);"string"==typeof data?(data&&host.onPaste(data,e),useragent.isIE&&setTimeout(resetSelection),event.preventDefault(e)):(text.value="",pasted=!0)};event.addCommandKeyListener(text,host.onCommandKey.bind(host)),event.addListener(text,"select",(function(e){copied?copied=!1:!function(text){return 0===text.selectionStart&&text.selectionEnd===text.value.length}(text)?inputHandler&&resetSelection(host.selection.isEmpty()):(host.selectAll(),resetSelection())})),event.addListener(text,"input",onInput),event.addListener(text,"cut",onCut),event.addListener(text,"copy",onCopy),event.addListener(text,"paste",onPaste),"oncut"in text&&"oncopy"in text&&"onpaste"in text||event.addListener(parentNode,"keydown",(function(e){if((!useragent.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:onCopy(e);break;case 86:onPaste(e);break;case 88:onCut(e)}}));var closeTimeout,onCompositionUpdate=function(){if(inComposition&&host.onCompositionUpdate&&!host.$readOnly){var val=text.value.replace(/\u2028/g,"");if(inComposition.lastValue!==val&&(host.onCompositionUpdate(val),inComposition.lastValue&&host.undo(),inComposition.canUndo&&(inComposition.lastValue=val),inComposition.lastValue)){var r=host.selection.getRange();host.insert(inComposition.lastValue),host.session.markUndoGroup(),inComposition.range=host.selection.getRange(),host.selection.setRange(r),host.selection.clearSelection()}}},onCompositionEnd=function(e){if(host.onCompositionEnd&&!host.$readOnly){var c=inComposition;inComposition=!1;var timer=setTimeout((function(){timer=null;var str=text.value.replace(/\u2028/g,"");inComposition||(str==c.lastValue?resetValue():!c.lastValue&&str&&(resetValue(),sendText(str)))}));inputHandler=function(str){return timer&&clearTimeout(timer),(str=str.replace(/\u2028/g,""))==c.lastValue?"":(c.lastValue&&timer&&host.undo(),str)},host.onCompositionEnd(),host.removeListener("mousedown",onCompositionEnd),"compositionend"==e.type&&c.range&&host.selection.setRange(c.range),(!!useragent.isChrome&&useragent.isChrome>=53||!!useragent.isWebKit&&useragent.isWebKit>=603)&&onInput()}},syncComposition=lang.delayedCall(onCompositionUpdate,50);function onContextMenuClose(){clearTimeout(closeTimeout),closeTimeout=setTimeout((function(){tempStyle&&(text.style.cssText=tempStyle,tempStyle=""),null==host.renderer.$keepTextAreaAtCursor&&(host.renderer.$keepTextAreaAtCursor=!0,host.renderer.$moveTextAreaToCursor())}),0)}event.addListener(text,"compositionstart",(function(e){inComposition||!host.onCompositionStart||host.$readOnly||((inComposition={}).canUndo=host.session.$undoManager,host.onCompositionStart(),setTimeout(onCompositionUpdate,0),host.on("mousedown",onCompositionEnd),inComposition.canUndo&&!host.selection.isEmpty()&&(host.insert(""),host.session.markUndoGroup(),host.selection.clearSelection()),host.session.markUndoGroup())})),useragent.isGecko?event.addListener(text,"text",(function(){syncComposition.schedule()})):(event.addListener(text,"keyup",(function(){syncComposition.schedule()})),event.addListener(text,"keydown",(function(){syncComposition.schedule()}))),event.addListener(text,"compositionend",onCompositionEnd),this.getElement=function(){return text},this.setReadOnly=function(readOnly){text.readOnly=readOnly},this.onContextMenu=function(e){afterContextMenu=!0,resetSelection(host.selection.isEmpty()),host._emit("nativecontextmenu",{target:host,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,bringToFront){tempStyle||(tempStyle=text.style.cssText),text.style.cssText=(bringToFront?"z-index:100000;":"")+"height:"+text.style.height+";"+(useragent.isIE?"opacity:0.1;":"");var rect=host.container.getBoundingClientRect(),style=dom.computedStyle(host.container),top=rect.top+(parseInt(style.borderTopWidth)||0),left=rect.left+(parseInt(rect.borderLeftWidth)||0),maxTop=rect.bottom-top-text.clientHeight-2,move=function(e){text.style.left=e.clientX-left-2+"px",text.style.top=Math.min(e.clientY-top-2,maxTop)+"px"};move(e),"mousedown"==e.type&&(host.renderer.$keepTextAreaAtCursor&&(host.renderer.$keepTextAreaAtCursor=null),clearTimeout(closeTimeout),useragent.isWin&&event.capture(host.container,move,onContextMenuClose))},this.onContextMenuClose=onContextMenuClose;var onContextMenu=function(e){host.textInput.onContextMenu(e),onContextMenuClose()};event.addListener(text,"mouseup",onContextMenu),event.addListener(text,"mousedown",(function(e){e.preventDefault(),onContextMenuClose()})),event.addListener(host.renderer.scroller,"contextmenu",onContextMenu),event.addListener(text,"contextmenu",onContextMenu)}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(acequire,exports,module){"use strict";acequire("../lib/dom"),acequire("../lib/event");var useragent=acequire("../lib/useragent");function DefaultHandlers(mouseHandler){mouseHandler.$clickSelection=null;var editor=mouseHandler.editor;editor.setDefaultHandler("mousedown",this.onMouseDown.bind(mouseHandler)),editor.setDefaultHandler("dblclick",this.onDoubleClick.bind(mouseHandler)),editor.setDefaultHandler("tripleclick",this.onTripleClick.bind(mouseHandler)),editor.setDefaultHandler("quadclick",this.onQuadClick.bind(mouseHandler)),editor.setDefaultHandler("mousewheel",this.onMouseWheel.bind(mouseHandler)),editor.setDefaultHandler("touchmove",this.onTouchMove.bind(mouseHandler));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(x){mouseHandler[x]=this[x]}),this),mouseHandler.selectByLines=this.extendSelectionBy.bind(mouseHandler,"getLineRange"),mouseHandler.selectByWords=this.extendSelectionBy.bind(mouseHandler,"getWordRange")}function calcRangeOrientation(range,cursor){if(range.start.row==range.end.row)var cmp=2*cursor.column-range.start.column-range.end.column;else if(range.start.row!=range.end.row-1||range.start.column||range.end.column)cmp=2*cursor.row-range.start.row-range.end.row;else var cmp=cursor.column-4;return cmp<0?{cursor:range.start,anchor:range.end}:{cursor:range.end,anchor:range.start}}(function(){this.onMouseDown=function(ev){var inSelection=ev.inSelection(),pos=ev.getDocumentPosition();this.mousedownEvent=ev;var editor=this.editor,button=ev.getButton();if(0!==button){var selectionEmpty=editor.getSelectionRange().isEmpty();return editor.$blockScrolling++,(selectionEmpty||1==button)&&editor.selection.moveToPosition(pos),editor.$blockScrolling--,void(2==button&&(editor.textInput.onContextMenu(ev.domEvent),useragent.isMozilla||ev.preventDefault()))}return this.mousedownEvent.time=Date.now(),!inSelection||editor.isFocused()||(editor.focus(),!this.$focusTimout||this.$clickSelection||editor.inMultiSelectMode)?(this.captureMouse(ev),this.startSelect(pos,ev.domEvent._clicks>1),ev.preventDefault()):(this.setState("focusWait"),void this.captureMouse(ev))},this.startSelect=function(pos,waitForClickSelection){pos=pos||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var editor=this.editor;editor.$blockScrolling++,this.mousedownEvent.getShiftKey()?editor.selection.selectToPosition(pos):waitForClickSelection||editor.selection.moveToPosition(pos),waitForClickSelection||this.select(),editor.renderer.scroller.setCapture&&editor.renderer.scroller.setCapture(),editor.setStyle("ace_selecting"),this.setState("select"),editor.$blockScrolling--},this.select=function(){var anchor,editor=this.editor,cursor=editor.renderer.screenToTextCoordinates(this.x,this.y);if(editor.$blockScrolling++,this.$clickSelection){var cmp=this.$clickSelection.comparePoint(cursor);if(-1==cmp)anchor=this.$clickSelection.end;else if(1==cmp)anchor=this.$clickSelection.start;else{var orientedRange=calcRangeOrientation(this.$clickSelection,cursor);cursor=orientedRange.cursor,anchor=orientedRange.anchor}editor.selection.setSelectionAnchor(anchor.row,anchor.column)}editor.selection.selectToPosition(cursor),editor.$blockScrolling--,editor.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(unitName){var anchor,editor=this.editor,cursor=editor.renderer.screenToTextCoordinates(this.x,this.y),range=editor.selection[unitName](cursor.row,cursor.column);if(editor.$blockScrolling++,this.$clickSelection){var cmpStart=this.$clickSelection.comparePoint(range.start),cmpEnd=this.$clickSelection.comparePoint(range.end);if(-1==cmpStart&&cmpEnd<=0)anchor=this.$clickSelection.end,range.end.row==cursor.row&&range.end.column==cursor.column||(cursor=range.start);else if(1==cmpEnd&&cmpStart>=0)anchor=this.$clickSelection.start,range.start.row==cursor.row&&range.start.column==cursor.column||(cursor=range.end);else if(-1==cmpStart&&1==cmpEnd)cursor=range.end,anchor=range.start;else{var orientedRange=calcRangeOrientation(this.$clickSelection,cursor);cursor=orientedRange.cursor,anchor=orientedRange.anchor}editor.selection.setSelectionAnchor(anchor.row,anchor.column)}editor.selection.selectToPosition(cursor),editor.$blockScrolling--,editor.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var ax,ay,bx,by,distance=(ax=this.mousedownEvent.x,ay=this.mousedownEvent.y,bx=this.x,by=this.y,Math.sqrt(Math.pow(bx-ax,2)+Math.pow(by-ay,2))),time=Date.now();(distance>0||time-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(ev){var pos=ev.getDocumentPosition(),editor=this.editor,range=editor.session.getBracketRange(pos);range?(range.isEmpty()&&(range.start.column--,range.end.column++),this.setState("select")):(range=editor.selection.getWordRange(pos.row,pos.column),this.setState("selectByWords")),this.$clickSelection=range,this.select()},this.onTripleClick=function(ev){var pos=ev.getDocumentPosition(),editor=this.editor;this.setState("selectByLines");var range=editor.getSelectionRange();range.isMultiLine()&&range.contains(pos.row,pos.column)?(this.$clickSelection=editor.selection.getLineRange(range.start.row),this.$clickSelection.end=editor.selection.getLineRange(range.end.row).end):this.$clickSelection=editor.selection.getLineRange(pos.row),this.select()},this.onQuadClick=function(ev){var editor=this.editor;editor.selectAll(),this.$clickSelection=editor.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(ev){if(!ev.getAccelKey()){ev.getShiftKey()&&ev.wheelY&&!ev.wheelX&&(ev.wheelX=ev.wheelY,ev.wheelY=0);var editor=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var prevScroll=this.$lastScroll,t=ev.domEvent.timeStamp,dt=t-prevScroll.t,vx=ev.wheelX/dt,vy=ev.wheelY/dt;dt<250&&(vx=(vx+prevScroll.vx)/2,vy=(vy+prevScroll.vy)/2);var direction=Math.abs(vx/vy),canScroll=!1;if(direction>=1&&editor.renderer.isScrollableBy(ev.wheelX*ev.speed,0)&&(canScroll=!0),direction<=1&&editor.renderer.isScrollableBy(0,ev.wheelY*ev.speed)&&(canScroll=!0),canScroll)prevScroll.allowed=t;else if(t-prevScroll.allowed<250){Math.abs(vx)<=1.1*Math.abs(prevScroll.vx)&&Math.abs(vy)<=1.1*Math.abs(prevScroll.vy)?(canScroll=!0,prevScroll.allowed=t):prevScroll.allowed=0}return prevScroll.t=t,prevScroll.vx=vx,prevScroll.vy=vy,canScroll?(editor.renderer.scrollBy(ev.wheelX*ev.speed,ev.wheelY*ev.speed),ev.stop()):void 0}},this.onTouchMove=function(ev){this.editor._emit("mousewheel",ev)}}).call(DefaultHandlers.prototype),exports.DefaultHandlers=DefaultHandlers})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(acequire,exports,module){"use strict";acequire("./lib/oop");var dom=acequire("./lib/dom");function Tooltip(parentNode){this.isOpen=!1,this.$element=null,this.$parentNode=parentNode}(function(){this.$init=function(){return this.$element=dom.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(text){dom.setInnerText(this.getElement(),text)},this.setHtml=function(html){this.getElement().innerHTML=html},this.setPosition=function(x,y){this.getElement().style.left=x+"px",this.getElement().style.top=y+"px"},this.setClassName=function(className){dom.addCssClass(this.getElement(),className)},this.show=function(text,x,y){null!=text&&this.setText(text),null!=x&&null!=y&&this.setPosition(x,y),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(Tooltip.prototype),exports.Tooltip=Tooltip})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(acequire,exports,module){"use strict";var dom=acequire("../lib/dom"),oop=acequire("../lib/oop"),event=acequire("../lib/event"),Tooltip=acequire("../tooltip").Tooltip;function GutterTooltip(parentNode){Tooltip.call(this,parentNode)}oop.inherits(GutterTooltip,Tooltip),function(){this.setPosition=function(x,y){var windowWidth=window.innerWidth||document.documentElement.clientWidth,windowHeight=window.innerHeight||document.documentElement.clientHeight,width=this.getWidth(),height=this.getHeight();(x+=15)+width>windowWidth&&(x-=x+width-windowWidth),(y+=15)+height>windowHeight&&(y-=20+height),Tooltip.prototype.setPosition.call(this,x,y)}}.call(GutterTooltip.prototype),exports.GutterHandler=function(mouseHandler){var tooltipTimeout,mouseEvent,tooltipAnnotation,editor=mouseHandler.editor,gutter=editor.renderer.$gutterLayer,tooltip=new GutterTooltip(editor.container);function hideTooltip(){tooltipTimeout&&(tooltipTimeout=clearTimeout(tooltipTimeout)),tooltipAnnotation&&(tooltip.hide(),tooltipAnnotation=null,editor._signal("hideGutterTooltip",tooltip),editor.removeEventListener("mousewheel",hideTooltip))}function moveTooltip(e){tooltip.setPosition(e.x,e.y)}mouseHandler.editor.setDefaultHandler("guttermousedown",(function(e){if(editor.isFocused()&&0==e.getButton()&&"foldWidgets"!=gutter.getRegion(e)){var row=e.getDocumentPosition().row,selection=editor.session.selection;if(e.getShiftKey())selection.selectTo(row,0);else{if(2==e.domEvent.detail)return editor.selectAll(),e.preventDefault();mouseHandler.$clickSelection=editor.selection.getLineRange(row)}return mouseHandler.setState("selectByLines"),mouseHandler.captureMouse(e),e.preventDefault()}})),mouseHandler.editor.setDefaultHandler("guttermousemove",(function(e){var target=e.domEvent.target||e.domEvent.srcElement;if(dom.hasCssClass(target,"ace_fold-widget"))return hideTooltip();tooltipAnnotation&&mouseHandler.$tooltipFollowsMouse&&moveTooltip(e),mouseEvent=e,tooltipTimeout||(tooltipTimeout=setTimeout((function(){tooltipTimeout=null,mouseEvent&&!mouseHandler.isMousePressed?function(){var row=mouseEvent.getDocumentPosition().row,annotation=gutter.$annotations[row];if(!annotation)return hideTooltip();if(row==editor.session.getLength()){var screenRow=editor.renderer.pixelToScreenCoordinates(0,mouseEvent.y).row,pos=mouseEvent.$pos;if(screenRow>editor.session.documentToScreenRow(pos.row,pos.column))return hideTooltip()}if(tooltipAnnotation!=annotation)if(tooltipAnnotation=annotation.text.join("<br/>"),tooltip.setHtml(tooltipAnnotation),tooltip.show(),editor._signal("showGutterTooltip",tooltip),editor.on("mousewheel",hideTooltip),mouseHandler.$tooltipFollowsMouse)moveTooltip(mouseEvent);else{var rect=mouseEvent.domEvent.target.getBoundingClientRect(),style=tooltip.getElement().style;style.left=rect.right+"px",style.top=rect.bottom+"px"}}():hideTooltip()}),50))})),event.addListener(editor.renderer.$gutter,"mouseout",(function(e){mouseEvent=null,tooltipAnnotation&&!tooltipTimeout&&(tooltipTimeout=setTimeout((function(){tooltipTimeout=null,hideTooltip()}),50))})),editor.on("changeSession",hideTooltip)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(acequire,exports,module){"use strict";var event=acequire("../lib/event"),useragent=acequire("../lib/useragent"),MouseEvent=exports.MouseEvent=function(domEvent,editor){this.domEvent=domEvent,this.editor=editor,this.x=this.clientX=domEvent.clientX,this.y=this.clientY=domEvent.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){event.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){event.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var selectionRange=this.editor.getSelectionRange();if(selectionRange.isEmpty())this.$inSelection=!1;else{var pos=this.getDocumentPosition();this.$inSelection=selectionRange.contains(pos.row,pos.column)}return this.$inSelection},this.getButton=function(){return event.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=useragent.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(MouseEvent.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(acequire,exports,module){"use strict";var dom=acequire("../lib/dom"),event=acequire("../lib/event"),useragent=acequire("../lib/useragent");function DragdropHandler(mouseHandler){var editor=mouseHandler.editor,blankImage=dom.createElement("img");blankImage.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",useragent.isOpera&&(blankImage.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(x){mouseHandler[x]=this[x]}),this),editor.addEventListener("mousedown",this.onMouseDown.bind(mouseHandler));var dragSelectionMarker,x,y,timerId,range,dragCursor,dragOperation,isInternal,autoScrollStartTime,cursorMovedTime,cursorPointOnCaretMoved,mouseTarget=editor.container,counter=0;function onDragInterval(){var prevCursor=dragCursor;(function(cursor,prevCursor){var now=Date.now(),vMovement=!prevCursor||cursor.row!=prevCursor.row,hMovement=!prevCursor||cursor.column!=prevCursor.column;!cursorMovedTime||vMovement||hMovement?(editor.$blockScrolling+=1,editor.moveCursorToPosition(cursor),editor.$blockScrolling-=1,cursorMovedTime=now,cursorPointOnCaretMoved={x:x,y:y}):calcDistance(cursorPointOnCaretMoved.x,cursorPointOnCaretMoved.y,x,y)>5?cursorMovedTime=null:now-cursorMovedTime>=200&&(editor.renderer.scrollCursorIntoView(),cursorMovedTime=null)})(dragCursor=editor.renderer.screenToTextCoordinates(x,y),prevCursor),function(cursor,prevCursor){var now=Date.now(),lineHeight=editor.renderer.layerConfig.lineHeight,characterWidth=editor.renderer.layerConfig.characterWidth,editorRect=editor.renderer.scroller.getBoundingClientRect(),offsets={x:{left:x-editorRect.left,right:editorRect.right-x},y:{top:y-editorRect.top,bottom:editorRect.bottom-y}},nearestXOffset=Math.min(offsets.x.left,offsets.x.right),nearestYOffset=Math.min(offsets.y.top,offsets.y.bottom),scrollCursor={row:cursor.row,column:cursor.column};nearestXOffset/characterWidth<=2&&(scrollCursor.column+=offsets.x.left<offsets.x.right?-3:2),nearestYOffset/lineHeight<=1&&(scrollCursor.row+=offsets.y.top<offsets.y.bottom?-1:1);var vScroll=cursor.row!=scrollCursor.row,hScroll=cursor.column!=scrollCursor.column,vMovement=!prevCursor||cursor.row!=prevCursor.row;vScroll||hScroll&&!vMovement?autoScrollStartTime?now-autoScrollStartTime>=200&&editor.renderer.scrollCursorIntoView(scrollCursor):autoScrollStartTime=now:autoScrollStartTime=null}(dragCursor,prevCursor)}function addDragMarker(){range=editor.selection.toOrientedRange(),dragSelectionMarker=editor.session.addMarker(range,"ace_selection",editor.getSelectionStyle()),editor.clearSelection(),editor.isFocused()&&editor.renderer.$cursorLayer.setBlinking(!1),clearInterval(timerId),onDragInterval(),timerId=setInterval(onDragInterval,20),counter=0,event.addListener(document,"mousemove",onMouseMove)}function clearDragMarker(){clearInterval(timerId),editor.session.removeMarker(dragSelectionMarker),dragSelectionMarker=null,editor.$blockScrolling+=1,editor.selection.fromOrientedRange(range),editor.$blockScrolling-=1,editor.isFocused()&&!isInternal&&editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly()),range=null,dragCursor=null,counter=0,autoScrollStartTime=null,cursorMovedTime=null,event.removeListener(document,"mousemove",onMouseMove)}this.onDragStart=function(e){if(this.cancelDrag||!mouseTarget.draggable){var self=this;return setTimeout((function(){self.startSelect(),self.captureMouse(e)}),0),e.preventDefault()}range=editor.getSelectionRange();var dataTransfer=e.dataTransfer;dataTransfer.effectAllowed=editor.getReadOnly()?"copy":"copyMove",useragent.isOpera&&(editor.container.appendChild(blankImage),blankImage.scrollTop=0),dataTransfer.setDragImage&&dataTransfer.setDragImage(blankImage,0,0),useragent.isOpera&&editor.container.removeChild(blankImage),dataTransfer.clearData(),dataTransfer.setData("Text",editor.session.getTextRange()),isInternal=!0,this.setState("drag")},this.onDragEnd=function(e){if(mouseTarget.draggable=!1,isInternal=!1,this.setState(null),!editor.getReadOnly()){var dropEffect=e.dataTransfer.dropEffect;dragOperation||"move"!=dropEffect||editor.session.remove(editor.getSelectionRange()),editor.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!editor.getReadOnly()&&canAccept(e.dataTransfer))return x=e.clientX,y=e.clientY,dragSelectionMarker||addDragMarker(),counter++,e.dataTransfer.dropEffect=dragOperation=getDropEffect(e),event.preventDefault(e)},this.onDragOver=function(e){if(!editor.getReadOnly()&&canAccept(e.dataTransfer))return x=e.clientX,y=e.clientY,dragSelectionMarker||(addDragMarker(),counter++),null!==onMouseMoveTimer&&(onMouseMoveTimer=null),e.dataTransfer.dropEffect=dragOperation=getDropEffect(e),event.preventDefault(e)},this.onDragLeave=function(e){if(--counter<=0&&dragSelectionMarker)return clearDragMarker(),dragOperation=null,event.preventDefault(e)},this.onDrop=function(e){if(dragCursor){var dataTransfer=e.dataTransfer;if(isInternal)switch(dragOperation){case"move":range=range.contains(dragCursor.row,dragCursor.column)?{start:dragCursor,end:dragCursor}:editor.moveText(range,dragCursor);break;case"copy":range=editor.moveText(range,dragCursor,!0)}else{var dropData=dataTransfer.getData("Text");range={start:dragCursor,end:editor.session.insert(dragCursor,dropData)},editor.focus(),dragOperation=null}return clearDragMarker(),event.preventDefault(e)}},event.addListener(mouseTarget,"dragstart",this.onDragStart.bind(mouseHandler)),event.addListener(mouseTarget,"dragend",this.onDragEnd.bind(mouseHandler)),event.addListener(mouseTarget,"dragenter",this.onDragEnter.bind(mouseHandler)),event.addListener(mouseTarget,"dragover",this.onDragOver.bind(mouseHandler)),event.addListener(mouseTarget,"dragleave",this.onDragLeave.bind(mouseHandler)),event.addListener(mouseTarget,"drop",this.onDrop.bind(mouseHandler));var onMouseMoveTimer=null;function onMouseMove(){null==onMouseMoveTimer&&(onMouseMoveTimer=setTimeout((function(){null!=onMouseMoveTimer&&dragSelectionMarker&&clearDragMarker()}),20))}function canAccept(dataTransfer){var types=dataTransfer.types;return!types||Array.prototype.some.call(types,(function(type){return"text/plain"==type||"Text"==type}))}function getDropEffect(e){var copyAllowed=["copy","copymove","all","uninitialized"],copyModifierState=useragent.isMac?e.altKey:e.ctrlKey,effectAllowed="uninitialized";try{effectAllowed=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var dropEffect="none";return copyModifierState&&copyAllowed.indexOf(effectAllowed)>=0?dropEffect="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(effectAllowed)>=0?dropEffect="move":copyAllowed.indexOf(effectAllowed)>=0&&(dropEffect="copy"),dropEffect}}function calcDistance(ax,ay,bx,by){return Math.sqrt(Math.pow(bx-ax,2)+Math.pow(by-ay,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var editor=this.editor;editor.container.draggable=!0,editor.renderer.$cursorLayer.setBlinking(!1),editor.setStyle("ace_dragging");var cursorStyle=useragent.isWin?"default":"move";editor.renderer.setCursorStyle(cursorStyle),this.setState("dragReady")},this.onMouseDrag=function(e){var target=this.editor.container;useragent.isIE&&"dragReady"==this.state&&(calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&target.dragDrop());"dragWait"===this.state&&(calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(target.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var editor=this.editor,inSelection=e.inSelection(),button=e.getButton();if(1===(e.domEvent.detail||1)&&0===button&&inSelection){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var eventTarget=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in eventTarget&&(eventTarget.unselectable="on"),editor.getDragDelay()){if(useragent.isWebKit)this.cancelDrag=!0,editor.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(DragdropHandler.prototype),exports.DragdropHandler=DragdropHandler})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(acequire,exports,module){"use strict";var dom=acequire("./dom");exports.get=function(url,callback){var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.onreadystatechange=function(){4===xhr.readyState&&callback(xhr.responseText)},xhr.send(null)},exports.loadScript=function(path,callback){var head=dom.getDocumentHead(),s=document.createElement("script");s.src=path,head.appendChild(s),s.onload=s.onreadystatechange=function(_,isAbort){!isAbort&&s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(s=s.onload=s.onreadystatechange=null,isAbort||callback())}},exports.qualifyURL=function(url){var a=document.createElement("a");return a.href=url,a.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(acequire,exports,module){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;i<listeners.length&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;i<listeners.length;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,(function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)}))},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback){handlers[eventName];disabled&&this.setDefaultHandler(eventName,disabled.pop())}else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(acequire,exports,module){var oop=acequire("./oop"),EventEmitter=acequire("./event_emitter").EventEmitter,optionsProvider={setOptions:function(optList){Object.keys(optList).forEach((function(key){this.setOption(key,optList[key])}),this)},getOptions:function(optionNames){var result={};return optionNames?Array.isArray(optionNames)||(result=optionNames,optionNames=Object.keys(result)):optionNames=Object.keys(this.$options),optionNames.forEach((function(key){result[key]=this.getOption(key)}),this),result},setOption:function(name,value){if(this["$"+name]!==value){var opt=this.$options[name];if(!opt)return warn('misspelled option "'+name+'"');if(opt.forwardTo)return this[opt.forwardTo]&&this[opt.forwardTo].setOption(name,value);opt.handlesSet||(this["$"+name]=value),opt&&opt.set&&opt.set.call(this,value)}},getOption:function(name){var opt=this.$options[name];return opt?opt.forwardTo?this[opt.forwardTo]&&this[opt.forwardTo].getOption(name):opt&&opt.get?opt.get.call(this):this["$"+name]:warn('misspelled option "'+name+'"')}};function warn(message){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function reportError(msg,data){var e=new Error(msg);e.data=data,"object"==typeof console&&console.error&&console.error(e),setTimeout((function(){throw e}))}var AppConfig=function(){this.$defaultOptions={}};(function(){oop.implement(this,EventEmitter),this.defineOptions=function(obj,path,options){return obj.$options||(this.$defaultOptions[path]=obj.$options={}),Object.keys(options).forEach((function(key){var opt=options[key];"string"==typeof opt&&(opt={forwardTo:opt}),opt.name||(opt.name=key),obj.$options[opt.name]=opt,"initialValue"in opt&&(obj["$"+opt.name]=opt.initialValue)})),oop.implement(obj,optionsProvider),this},this.resetOptions=function(obj){Object.keys(obj.$options).forEach((function(key){var opt=obj.$options[key];"value"in opt&&obj.setOption(key,opt.value)}))},this.setDefaultValue=function(path,name,value){var opts=this.$defaultOptions[path]||(this.$defaultOptions[path]={});opts[name]&&(opts.forwardTo?this.setDefaultValue(opts.forwardTo,name,value):opts[name].value=value)},this.setDefaultValues=function(path,optionHash){Object.keys(optionHash).forEach((function(key){this.setDefaultValue(path,key,optionHash[key])}),this)},this.warn=warn,this.reportError=reportError}).call(AppConfig.prototype),exports.AppConfig=AppConfig})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(acequire,exports,module){var lang=acequire("./lib/lang"),net=(acequire("./lib/oop"),acequire("./lib/net")),AppConfig=acequire("./lib/app_config").AppConfig;module.exports=exports=new AppConfig;var global=function(){return this||"undefined"!=typeof window&&window}(),options={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};function init(packaged){if(global&&global.document){options.packaged=packaged||acequire.packaged||module.packaged||global.define&&__webpack_require__(94).packaged;for(var str,scriptOptions={},scriptUrl="",currentScript=document.currentScript||document._currentScript,scripts=(currentScript&&currentScript.ownerDocument||document).getElementsByTagName("script"),i=0;i<scripts.length;i++){var script=scripts[i],src=script.src||script.getAttribute("src");if(src){for(var attributes=script.attributes,j=0,l=attributes.length;j<l;j++){var attr=attributes[j];0===attr.name.indexOf("data-ace-")&&(scriptOptions[(str=attr.name.replace(/^data-ace-/,""),str.replace(/-(.)/g,(function(m,m1){return m1.toUpperCase()})))]=attr.value)}var m=src.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);m&&(scriptUrl=m[1])}}for(var key in scriptUrl&&(scriptOptions.base=scriptOptions.base||scriptUrl,scriptOptions.packaged=!0),scriptOptions.basePath=scriptOptions.base,scriptOptions.workerPath=scriptOptions.workerPath||scriptOptions.base,scriptOptions.modePath=scriptOptions.modePath||scriptOptions.base,scriptOptions.themePath=scriptOptions.themePath||scriptOptions.base,delete scriptOptions.base,scriptOptions)void 0!==scriptOptions[key]&&exports.set(key,scriptOptions[key])}}exports.get=function(key){if(!options.hasOwnProperty(key))throw new Error("Unknown config key: "+key);return options[key]},exports.set=function(key,value){if(!options.hasOwnProperty(key))throw new Error("Unknown config key: "+key);options[key]=value},exports.all=function(){return lang.copyObject(options)},exports.moduleUrl=function(name,component){if(options.$moduleUrls[name])return options.$moduleUrls[name];var parts=name.split("/"),sep="snippets"==(component=component||parts[parts.length-2]||"")?"/":"-",base=parts[parts.length-1];if("worker"==component&&"-"==sep){var re=new RegExp("^"+component+"[\\-_]|[\\-_]"+component+"$","g");base=base.replace(re,"")}(!base||base==component)&&parts.length>1&&(base=parts[parts.length-2]);var path=options[component+"Path"];return null==path?path=options.basePath:"/"==sep&&(component=sep=""),path&&"/"!=path.slice(-1)&&(path+="/"),path+component+sep+base+this.get("suffix")},exports.setModuleUrl=function(name,subst){return options.$moduleUrls[name]=subst},exports.$loading={},exports.loadModule=function(moduleName,onLoad){var module,moduleType;Array.isArray(moduleName)&&(moduleType=moduleName[0],moduleName=moduleName[1]);try{module=acequire(moduleName)}catch(e){}if(module&&!exports.$loading[moduleName])return onLoad&&onLoad(module);if(exports.$loading[moduleName]||(exports.$loading[moduleName]=[]),exports.$loading[moduleName].push(onLoad),!(exports.$loading[moduleName].length>1)){var afterLoad=function(){acequire([moduleName],(function(module){exports._emit("load.module",{name:moduleName,module:module});var listeners=exports.$loading[moduleName];exports.$loading[moduleName]=null,listeners.forEach((function(onLoad){onLoad&&onLoad(module)}))}))};if(!exports.get("packaged"))return afterLoad();net.loadScript(exports.moduleUrl(moduleName,moduleType),afterLoad)}},init(!0),exports.init=init})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],(function(acequire,exports,module){"use strict";var event=acequire("../lib/event"),useragent=acequire("../lib/useragent"),DefaultHandlers=acequire("./default_handlers").DefaultHandlers,DefaultGutterHandler=acequire("./default_gutter_handler").GutterHandler,MouseEvent=acequire("./mouse_event").MouseEvent,DragdropHandler=acequire("./dragdrop_handler").DragdropHandler,config=acequire("../config"),MouseHandler=function(editor){var _self=this;this.editor=editor,new DefaultHandlers(this),new DefaultGutterHandler(this),new DragdropHandler(this);var focusEditor=function(e){(!document.hasFocus||!document.hasFocus()||!editor.isFocused()&&document.activeElement==(editor.textInput&&editor.textInput.getElement()))&&window.focus(),editor.focus()},mouseTarget=editor.renderer.getMouseEventTarget();event.addListener(mouseTarget,"click",this.onMouseEvent.bind(this,"click")),event.addListener(mouseTarget,"mousemove",this.onMouseMove.bind(this,"mousemove")),event.addMultiMouseDownListener([mouseTarget,editor.renderer.scrollBarV&&editor.renderer.scrollBarV.inner,editor.renderer.scrollBarH&&editor.renderer.scrollBarH.inner,editor.textInput&&editor.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),event.addMouseWheelListener(editor.container,this.onMouseWheel.bind(this,"mousewheel")),event.addTouchMoveListener(editor.container,this.onTouchMove.bind(this,"touchmove"));var gutterEl=editor.renderer.$gutter;event.addListener(gutterEl,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),event.addListener(gutterEl,"click",this.onMouseEvent.bind(this,"gutterclick")),event.addListener(gutterEl,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),event.addListener(gutterEl,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),event.addListener(mouseTarget,"mousedown",focusEditor),event.addListener(gutterEl,"mousedown",focusEditor),useragent.isIE&&editor.renderer.scrollBarV&&(event.addListener(editor.renderer.scrollBarV.element,"mousedown",focusEditor),event.addListener(editor.renderer.scrollBarH.element,"mousedown",focusEditor)),editor.on("mousemove",(function(e){if(!_self.state&&!_self.$dragDelay&&_self.$dragEnabled){var character=editor.renderer.screenToTextCoordinates(e.x,e.y),range=editor.session.selection.getRange(),renderer=editor.renderer;!range.isEmpty()&&range.insideStart(character.row,character.column)?renderer.setCursorStyle("default"):renderer.setCursorStyle("")}}))};(function(){this.onMouseEvent=function(name,e){this.editor._emit(name,new MouseEvent(e,this.editor))},this.onMouseMove=function(name,e){var listeners=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;listeners&&listeners.length&&this.editor._emit(name,new MouseEvent(e,this.editor))},this.onMouseWheel=function(name,e){var mouseEvent=new MouseEvent(e,this.editor);mouseEvent.speed=2*this.$scrollSpeed,mouseEvent.wheelX=e.wheelX,mouseEvent.wheelY=e.wheelY,this.editor._emit(name,mouseEvent)},this.onTouchMove=function(name,e){var mouseEvent=new MouseEvent(e,this.editor);mouseEvent.speed=1,mouseEvent.wheelX=e.wheelX,mouseEvent.wheelY=e.wheelY,this.editor._emit(name,mouseEvent)},this.setState=function(state){this.state=state},this.captureMouse=function(ev,mouseMoveHandler){this.x=ev.x,this.y=ev.y,this.isMousePressed=!0;var renderer=this.editor.renderer;renderer.$keepTextAreaAtCursor&&(renderer.$keepTextAreaAtCursor=null);var self=this,onMouseMove=function(e){if(e){if(useragent.isWebKit&&!e.which&&self.releaseMouse)return self.releaseMouse();self.x=e.clientX,self.y=e.clientY,mouseMoveHandler&&mouseMoveHandler(e),self.mouseEvent=new MouseEvent(e,self.editor),self.$mouseMoved=!0}},onCaptureEnd=function(e){clearInterval(timerId),onCaptureInterval(),self[self.state+"End"]&&self[self.state+"End"](e),self.state="",null==renderer.$keepTextAreaAtCursor&&(renderer.$keepTextAreaAtCursor=!0,renderer.$moveTextAreaToCursor()),self.isMousePressed=!1,self.$onCaptureMouseMove=self.releaseMouse=null,e&&self.onMouseEvent("mouseup",e)},onCaptureInterval=function(){self[self.state]&&self[self.state](),self.$mouseMoved=!1};if(useragent.isOldIE&&"dblclick"==ev.domEvent.type)return setTimeout((function(){onCaptureEnd(ev)}));self.$onCaptureMouseMove=onMouseMove,self.releaseMouse=event.capture(this.editor.container,onMouseMove,onCaptureEnd);var timerId=setInterval(onCaptureInterval,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var stop=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",stop),e&&e.domEvent&&event.stopEvent(e.domEvent))}.bind(this);setTimeout(stop,10),this.editor.on("nativecontextmenu",stop)}}).call(MouseHandler.prototype),config.defineOptions(MouseHandler.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:useragent.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),exports.MouseHandler=MouseHandler})),ace.define("ace/mouse/fold_handler",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.FoldHandler=function(editor){editor.on("click",(function(e){var position=e.getDocumentPosition(),session=editor.session,fold=session.getFoldAt(position.row,position.column,1);fold&&(e.getAccelKey()?session.removeFold(fold):session.expandFold(fold),e.stop())})),editor.on("gutterclick",(function(e){if("foldWidgets"==editor.renderer.$gutterLayer.getRegion(e)){var row=e.getDocumentPosition().row,session=editor.session;session.foldWidgets&&session.foldWidgets[row]&&editor.session.onFoldWidgetClick(row,e),editor.isFocused()||editor.focus(),e.stop()}})),editor.on("gutterdblclick",(function(e){if("foldWidgets"==editor.renderer.$gutterLayer.getRegion(e)){var row=e.getDocumentPosition().row,session=editor.session,data=session.getParentFoldRangeData(row,!0),range=data.range||data.firstRange;if(range){row=range.start.row;var fold=session.getFoldAt(row,session.getLine(row).length,1);fold?session.removeFold(fold):(session.addFold("...",range),editor.renderer.scrollCursorIntoView({row:range.start.row,column:0}))}e.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(acequire,exports,module){"use strict";var keyUtil=acequire("../lib/keys"),event=acequire("../lib/event"),KeyBinding=function(editor){this.$editor=editor,this.$data={editor:editor},this.$handlers=[],this.setDefaultHandler(editor.commands)};(function(){this.setDefaultHandler=function(kb){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=kb,this.addKeyboardHandler(kb,0)},this.setKeyboardHandler=function(kb){var h=this.$handlers;if(h[h.length-1]!=kb){for(;h[h.length-1]&&h[h.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(h[h.length-1]);this.addKeyboardHandler(kb,1)}},this.addKeyboardHandler=function(kb,pos){if(kb){"function"!=typeof kb||kb.handleKeyboard||(kb.handleKeyboard=kb);var i=this.$handlers.indexOf(kb);-1!=i&&this.$handlers.splice(i,1),null==pos?this.$handlers.push(kb):this.$handlers.splice(pos,0,kb),-1==i&&kb.attach&&kb.attach(this.$editor)}},this.removeKeyboardHandler=function(kb){var i=this.$handlers.indexOf(kb);return-1!=i&&(this.$handlers.splice(i,1),kb.detach&&kb.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var data=this.$data,editor=data.editor;return this.$handlers.map((function(h){return h.getStatusText&&h.getStatusText(editor,data)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(hashId,keyString,keyCode,e){for(var toExecute,success=!1,commands=this.$editor.commands,i=this.$handlers.length;i--&&!((toExecute=this.$handlers[i].handleKeyboard(this.$data,hashId,keyString,keyCode,e))&&toExecute.command&&((success="null"==toExecute.command||commands.exec(toExecute.command,this.$editor,toExecute.args,e))&&e&&-1!=hashId&&1!=toExecute.passEvent&&1!=toExecute.command.passEvent&&event.stopEvent(e),success)););return success||-1!=hashId||(toExecute={command:"insertstring"},success=commands.exec("insertstring",this.$editor,keyString)),success&&this.$editor._signal&&this.$editor._signal("keyboardActivity",toExecute),success},this.onCommandKey=function(e,hashId,keyCode){var keyString=keyUtil.keyCodeToString(keyCode);this.$callKeyboardHandlers(hashId,keyString,keyCode,e)},this.onTextInput=function(text){this.$callKeyboardHandlers(-1,text)}}).call(KeyBinding.prototype),exports.KeyBinding=KeyBinding})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(acequire,exports,module){"use strict";var dir=0,hiLevel=0,lastArabic=!1,hasUBAT_B=!1,hasUBAT_S=!1,impTab_LTR=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],impTab_RTL=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],UnicodeTBL00=[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4],UnicodeTBL20=[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function _invertLevel(lev,levels,_array){if(!(hiLevel<lev))if(1!=lev||1!=dir||hasUBAT_B)for(var end,lo,hi,tmp,len=_array.length,start=0;start<len;){if(levels[start]>=lev){for(end=start+1;end<len&&levels[end]>=lev;)end++;for(lo=start,hi=end-1;lo<hi;lo++,hi--)tmp=_array[lo],_array[lo]=_array[hi],_array[hi]=tmp;start=end}start++}else _array.reverse()}function _getCharClass(chars,types,classes,ix){var wType,nType,len,i,cType=types[ix];switch(cType){case 0:case 1:lastArabic=!1;case 4:case 3:return cType;case 2:return lastArabic?3:2;case 7:return lastArabic=!0,!0,1;case 8:return 4;case 9:return ix<1||ix+1>=types.length||2!=(wType=classes[ix-1])&&3!=wType||2!=(nType=types[ix+1])&&3!=nType?4:(lastArabic&&(nType=3),nType==wType?nType:4);case 10:return 2==(wType=ix>0?classes[ix-1]:5)&&ix+1<types.length&&2==types[ix+1]?2:4;case 11:if(ix>0&&2==classes[ix-1])return 2;if(lastArabic)return 4;for(i=ix+1,len=types.length;i<len&&11==types[i];)i++;return i<len&&2==types[i]?2:4;case 12:for(len=types.length,i=ix+1;i<len&&12==types[i];)i++;if(i<len){var c=chars[ix],rtlCandidate=c>=1425&&c<=2303||64286==c;if(wType=types[i],rtlCandidate&&(1==wType||7==wType))return 1}return ix<1||5==(wType=types[ix-1])?4:classes[ix-1];case 5:return lastArabic=!1,hasUBAT_B=!0,dir;case 6:return hasUBAT_S=!0,4;case 13:case 14:case 16:case 17:case 15:lastArabic=!1;case 18:return 4}}function _getCharacterType(ch){var uc=ch.charCodeAt(0),hi=uc>>8;return 0==hi?uc>191?0:UnicodeTBL00[uc]:5==hi?/[\u0591-\u05f4]/.test(ch)?1:0:6==hi?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ch)?12:/[\u0660-\u0669\u066b-\u066c]/.test(ch)?3:1642==uc?11:/[\u06f0-\u06f9]/.test(ch)?2:7:32==hi&&uc<=8287?UnicodeTBL20[255&uc]:254==hi&&uc>=65136?7:4}exports.L=0,exports.R=1,exports.EN=2,exports.ON_R=3,exports.AN=4,exports.R_H=5,exports.B=6,exports.DOT="·",exports.doBidiReorder=function(text,textCharTypes,isRtl){if(text.length<2)return{};var chars=text.split(""),logicalFromVisual=new Array(chars.length),bidiLevels=new Array(chars.length),levels=[];dir=isRtl?1:0,function(chars,levels,len,charTypes){var impTab=dir?impTab_RTL:impTab_LTR,prevState=null,newClass=null,newLevel=null,newState=0,action=null,condPos=-1,i=null,ix=null,classes=[];if(!charTypes)for(i=0,charTypes=[];i<len;i++)charTypes[i]=_getCharacterType(chars[i]);for(hiLevel=dir,lastArabic=!1,!1,hasUBAT_B=!1,hasUBAT_S=!1,ix=0;ix<len;ix++){if(prevState=newState,classes[ix]=newClass=_getCharClass(chars,charTypes,classes,ix),action=240&(newState=impTab[prevState][newClass]),newState&=15,levels[ix]=newLevel=impTab[newState][5],action>0)if(16==action){for(i=condPos;i<ix;i++)levels[i]=1;condPos=-1}else condPos=-1;if(impTab[newState][6])-1==condPos&&(condPos=ix);else if(condPos>-1){for(i=condPos;i<ix;i++)levels[i]=newLevel;condPos=-1}5==charTypes[ix]&&(levels[ix]=0),hiLevel|=newLevel}if(hasUBAT_S)for(i=0;i<len;i++)if(6==charTypes[i]){levels[i]=dir;for(var j=i-1;j>=0&&8==charTypes[j];j--)levels[j]=dir}}(chars,levels,chars.length,textCharTypes);for(var i=0;i<logicalFromVisual.length;logicalFromVisual[i]=i,i++);_invertLevel(2,levels,logicalFromVisual),_invertLevel(1,levels,logicalFromVisual);for(i=0;i<logicalFromVisual.length-1;i++)3===textCharTypes[i]?levels[i]=exports.AN:1===levels[i]&&(textCharTypes[i]>7&&textCharTypes[i]<13||4===textCharTypes[i]||18===textCharTypes[i])?levels[i]=exports.ON_R:i>0&&"ل"===chars[i-1]&&/\u0622|\u0623|\u0625|\u0627/.test(chars[i])&&(levels[i-1]=levels[i]=exports.R_H,i++);chars[chars.length-1]===exports.DOT&&(levels[chars.length-1]=exports.B);for(i=0;i<logicalFromVisual.length;i++)bidiLevels[i]=levels[logicalFromVisual[i]];return{logicalFromVisual:logicalFromVisual,bidiLevels:bidiLevels}},exports.hasBidiCharacters=function(text,textCharTypes){for(var ret=!1,i=0;i<text.length;i++)textCharTypes[i]=_getCharacterType(text.charAt(i)),ret||1!=textCharTypes[i]&&7!=textCharTypes[i]||(ret=!0);return ret},exports.getVisualFromLogicalIdx=function(logIdx,rowMap){for(var i=0;i<rowMap.logicalFromVisual.length;i++)if(rowMap.logicalFromVisual[i]==logIdx)return i;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],(function(acequire,exports,module){"use strict";var bidiUtil=acequire("./lib/bidiutil"),lang=acequire("./lib/lang"),useragent=acequire("./lib/useragent"),bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,BidiHandler=function(session){this.session=session,this.bidiMap={},this.currentRow=null,this.bidiUtil=bidiUtil,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.isLastRow=!1,this.EOF="¶",this.seenBidi=!1};(function(){this.isBidiRow=function(screenRow,docRow,splitIndex){return!!this.seenBidi&&(screenRow!==this.currentRow&&(this.currentRow=screenRow,this.updateRowLine(docRow,splitIndex),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(delta){this.seenBidi?this.currentRow=null:"insert"==delta.action&&bidiRE.test(delta.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var docRow=0,rowCache=this.session.$screenRowCache;if(rowCache.length){var index=this.session.$getRowCacheIndex(rowCache,this.currentRow);index>=0&&(docRow=this.session.$docRowCache[index])}return docRow},this.getSplitIndex=function(){var splitIndex=0,rowCache=this.session.$screenRowCache;if(rowCache.length)for(var currentIndex,prevIndex=this.session.$getRowCacheIndex(rowCache,this.currentRow);this.currentRow-splitIndex>0&&(currentIndex=this.session.$getRowCacheIndex(rowCache,this.currentRow-splitIndex-1))===prevIndex;)prevIndex=currentIndex,splitIndex++;return splitIndex},this.updateRowLine=function(docRow,splitIndex){if(void 0===docRow&&(docRow=this.getDocumentRow()),this.wrapIndent=0,this.isLastRow=docRow===this.session.getLength()-1,this.line=this.session.getLine(docRow),this.session.$useWrapMode){var splits=this.session.$wrapData[docRow];splits&&(void 0===splitIndex&&(splitIndex=this.getSplitIndex()),splitIndex>0&&splits.length?(this.wrapIndent=splits.indent,this.line=splitIndex<splits.length?this.line.substring(splits[splitIndex-1],splits[splits.length-1]):this.line.substring(splits[splits.length-1])):this.line=this.line.substring(0,splits[splitIndex]))}var size,session=this.session,shift=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(ch,i){return"\t"===ch||session.isFullWidth(ch.charCodeAt(0))?(size="\t"===ch?session.getScreenTabSize(i+shift):2,shift+=size-1,lang.stringRepeat(bidiUtil.DOT,size)):ch}))},this.updateBidiMap=function(){var textCharTypes=[],endOfLine=this.isLastRow?this.EOF:this.EOL,line=this.line+(this.showInvisibles?endOfLine:bidiUtil.DOT);bidiUtil.hasBidiCharacters(line,textCharTypes)?this.bidiMap=bidiUtil.doBidiReorder(line,textCharTypes,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(fontMetrics){if(this.seenBidi&&this.characterWidth!==fontMetrics.$characterSize.width){var characterWidth=this.characterWidth=fontMetrics.$characterSize.width,bidiCharWidth=fontMetrics.$measureCharWidth("ה");this.charWidths[bidiUtil.L]=this.charWidths[bidiUtil.EN]=this.charWidths[bidiUtil.ON_R]=characterWidth,this.charWidths[bidiUtil.R]=this.charWidths[bidiUtil.AN]=bidiCharWidth,this.charWidths[bidiUtil.R_H]=useragent.isChrome?bidiCharWidth:.45*bidiCharWidth,this.charWidths[bidiUtil.B]=0,this.currentRow=null}},this.getShowInvisibles=function(){return this.showInvisibles},this.setShowInvisibles=function(showInvisibles){this.showInvisibles=showInvisibles,this.currentRow=null},this.setEolChar=function(eolChar){this.EOL=eolChar},this.setTextDir=function(isRtlDir){this.isRtlDir=isRtlDir},this.getPosLeft=function(col){col-=this.wrapIndent;var visualIdx=bidiUtil.getVisualFromLogicalIdx(col>0?col-1:0,this.bidiMap),levels=this.bidiMap.bidiLevels,left=0;0===col&&levels[visualIdx]%2!=0&&visualIdx++;for(var i=0;i<visualIdx;i++)left+=this.charWidths[levels[i]];return 0!==col&&levels[visualIdx]%2==0&&(left+=this.charWidths[levels[visualIdx]]),this.wrapIndent&&(left+=this.wrapIndent*this.charWidths[bidiUtil.L]),left},this.getSelections=function(startCol,endCol){for(var level,logIdx,map=this.bidiMap,levels=map.bidiLevels,offset=this.wrapIndent*this.charWidths[bidiUtil.L],selections=[],selColMin=Math.min(startCol,endCol)-this.wrapIndent,selColMax=Math.max(startCol,endCol)-this.wrapIndent,isSelected=!1,isSelectedPrev=!1,selectionStart=0,visIdx=0;visIdx<levels.length;visIdx++)logIdx=map.logicalFromVisual[visIdx],level=levels[visIdx],(isSelected=logIdx>=selColMin&&logIdx<selColMax)&&!isSelectedPrev?selectionStart=offset:!isSelected&&isSelectedPrev&&selections.push({left:selectionStart,width:offset-selectionStart}),offset+=this.charWidths[level],isSelectedPrev=isSelected;return isSelected&&visIdx===levels.length&&selections.push({left:selectionStart,width:offset-selectionStart}),selections},this.offsetToCol=function(posX){var logicalIdx=0,offset=(posX=Math.max(posX,0),0),visualIdx=0,levels=this.bidiMap.bidiLevels,charWidth=this.charWidths[levels[visualIdx]];for(this.wrapIndent&&(posX-=this.wrapIndent*this.charWidths[bidiUtil.L]);posX>offset+charWidth/2;){if(offset+=charWidth,visualIdx===levels.length-1){charWidth=0;break}charWidth=this.charWidths[levels[++visualIdx]]}return visualIdx>0&&levels[visualIdx-1]%2!=0&&levels[visualIdx]%2==0?(posX<offset&&visualIdx--,logicalIdx=this.bidiMap.logicalFromVisual[visualIdx]):visualIdx>0&&levels[visualIdx-1]%2==0&&levels[visualIdx]%2!=0?logicalIdx=1+(posX>offset?this.bidiMap.logicalFromVisual[visualIdx]:this.bidiMap.logicalFromVisual[visualIdx-1]):this.isRtlDir&&visualIdx===levels.length-1&&0===charWidth&&levels[visualIdx-1]%2==0||!this.isRtlDir&&0===visualIdx&&levels[visualIdx]%2!=0?logicalIdx=1+this.bidiMap.logicalFromVisual[visualIdx]:(visualIdx>0&&levels[visualIdx-1]%2!=0&&0!==charWidth&&visualIdx--,logicalIdx=this.bidiMap.logicalFromVisual[visualIdx]),logicalIdx+this.wrapIndent}}).call(BidiHandler.prototype),exports.BidiHandler=BidiHandler})),ace.define("ace/range",["require","exports","module"],(function(acequire,exports,module){"use strict";var Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return 1==(cmp=this.compare(end.row,end.column))?1==(cmp=this.compare(start.row,start.column))?2:0==cmp?1:0:-1==cmp?-2:-1==(cmp=this.compare(start.row,start.column))?-1:1==cmp?42:0},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)&&(!this.isEnd(row,column)&&!this.isStart(row,column))},this.insideStart=function(row,column){return 0==this.compare(row,column)&&!this.isEnd(row,column)},this.insideEnd=function(row,column){return 0==this.compare(row,column)&&!this.isStart(row,column)},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?row<this.start.row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?column<=this.end.column?0:1:0:column<this.start.column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(this.end.row<firstRow)end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(this.start.row<firstRow)start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),lang=acequire("./lib/lang"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Selection=function(session){this.session=session,this.doc=session.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var self=this;this.lead.on("change",(function(e){self._emit("changeCursor"),self.$isEmpty||self._emit("changeSelection"),self.$keepDesiredColumnOnChange||e.old.column==e.value.column||(self.$desiredColumn=null)})),this.selectionAnchor.on("change",(function(){self.$isEmpty||self._emit("changeSelection")}))};(function(){oop.implement(this,EventEmitter),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(row,column){this.anchor.setPosition(row,column),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(columns){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+columns);else{var anchor=this.getSelectionAnchor(),lead=this.getSelectionLead(),isBackwards=this.isBackwards();isBackwards&&0===anchor.column||this.setSelectionAnchor(anchor.row,anchor.column+columns),(isBackwards||0!==lead.column)&&this.$moveSelection((function(){this.moveCursorTo(lead.row,lead.column+columns)}))}},this.isBackwards=function(){var anchor=this.anchor,lead=this.lead;return anchor.row>lead.row||anchor.row==lead.row&&anchor.column>lead.column},this.getRange=function(){var anchor=this.anchor,lead=this.lead;return this.isEmpty()?Range.fromPoints(lead,lead):this.isBackwards()?Range.fromPoints(lead,anchor):Range.fromPoints(anchor,lead)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var lastRow=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(lastRow,this.doc.getLine(lastRow).length)},this.setRange=this.setSelectionRange=function(range,reverse){reverse?(this.setSelectionAnchor(range.end.row,range.end.column),this.selectTo(range.start.row,range.start.column)):(this.setSelectionAnchor(range.start.row,range.start.column),this.selectTo(range.end.row,range.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(mover){var lead=this.lead;this.$isEmpty&&this.setSelectionAnchor(lead.row,lead.column),mover.call(this)},this.selectTo=function(row,column){this.$moveSelection((function(){this.moveCursorTo(row,column)}))},this.selectToPosition=function(pos){this.$moveSelection((function(){this.moveCursorToPosition(pos)}))},this.moveTo=function(row,column){this.clearSelection(),this.moveCursorTo(row,column)},this.moveToPosition=function(pos){this.clearSelection(),this.moveCursorToPosition(pos)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(row,column){if(void 0===column){var cursor=row||this.lead;row=cursor.row,column=cursor.column}return this.session.getWordRange(row,column)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var cursor=this.getCursor(),range=this.session.getAWordRange(cursor.row,cursor.column);this.setSelectionRange(range)},this.getLineRange=function(row,excludeLastChar){var rowEnd,rowStart="number"==typeof row?row:this.lead.row,foldLine=this.session.getFoldLine(rowStart);return foldLine?(rowStart=foldLine.start.row,rowEnd=foldLine.end.row):rowEnd=rowStart,!0===excludeLastChar?new Range(rowStart,0,rowEnd,this.session.getLine(rowEnd).length):new Range(rowStart,0,rowEnd+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(cursor,tabSize,direction){var start=cursor.column,end=cursor.column+tabSize;return direction<0&&(start=cursor.column-tabSize,end=cursor.column),this.session.isTabStop(cursor)&&this.doc.getLine(cursor.row).slice(start,end).split(" ").length-1==tabSize},this.moveCursorLeft=function(){var fold,cursor=this.lead.getPosition();if(fold=this.session.getFoldAt(cursor.row,cursor.column,-1))this.moveCursorTo(fold.start.row,fold.start.column);else if(0===cursor.column)cursor.row>0&&this.moveCursorTo(cursor.row-1,this.doc.getLine(cursor.row-1).length);else{var tabSize=this.session.getTabSize();this.wouldMoveIntoSoftTab(cursor,tabSize,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-tabSize):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var fold,cursor=this.lead.getPosition();if(fold=this.session.getFoldAt(cursor.row,cursor.column,1))this.moveCursorTo(fold.end.row,fold.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var tabSize=this.session.getTabSize();cursor=this.lead;this.wouldMoveIntoSoftTab(cursor,tabSize,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,tabSize):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var row=this.lead.row,column=this.lead.column,screenRow=this.session.documentToScreenRow(row,column),firstColumnPosition=this.session.screenToDocumentPosition(screenRow,0),leadingSpace=this.session.getDisplayLine(row,null,firstColumnPosition.row,firstColumnPosition.column).match(/^\s*/);leadingSpace[0].length==column||this.session.$useEmacsStyleLineStart||(firstColumnPosition.column+=leadingSpace[0].length),this.moveCursorToPosition(firstColumnPosition)},this.moveCursorLineEnd=function(){var lead=this.lead,lineEnd=this.session.getDocumentLastRowColumnPosition(lead.row,lead.column);if(this.lead.column==lineEnd.column){var line=this.session.getLine(lineEnd.row);if(lineEnd.column==line.length){var textEnd=line.search(/\s+$/);textEnd>0&&(lineEnd.column=textEnd)}}this.moveCursorTo(lineEnd.row,lineEnd.column)},this.moveCursorFileEnd=function(){var row=this.doc.getLength()-1,column=this.doc.getLine(row).length;this.moveCursorTo(row,column)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var row=this.lead.row,column=this.lead.column,line=this.doc.getLine(row),rightOfCursor=line.substring(column);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var fold=this.session.getFoldAt(row,column,1);if(fold)this.moveCursorTo(fold.end.row,fold.end.column);else{if(this.session.nonTokenRe.exec(rightOfCursor)&&(column+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,rightOfCursor=line.substring(column)),column>=line.length)return this.moveCursorTo(row,line.length),this.moveCursorRight(),void(row<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(rightOfCursor)&&(column+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(row,column)}},this.moveCursorLongWordLeft=function(){var fold,row=this.lead.row,column=this.lead.column;if(fold=this.session.getFoldAt(row,column,-1))this.moveCursorTo(fold.start.row,fold.start.column);else{var str=this.session.getFoldStringAt(row,column,-1);null==str&&(str=this.doc.getLine(row).substring(0,column));var leftOfCursor=lang.stringReverse(str);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(leftOfCursor)&&(column-=this.session.nonTokenRe.lastIndex,leftOfCursor=leftOfCursor.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),column<=0)return this.moveCursorTo(row,0),this.moveCursorLeft(),void(row>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(leftOfCursor)&&(column-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(row,column)}},this.$shortWordEndIndex=function(rightOfCursor){var ch,index=0,whitespaceRe=/\s/,tokenRe=this.session.tokenRe;if(tokenRe.lastIndex=0,this.session.tokenRe.exec(rightOfCursor))index=this.session.tokenRe.lastIndex;else{for(;(ch=rightOfCursor[index])&&whitespaceRe.test(ch);)index++;if(index<1)for(tokenRe.lastIndex=0;(ch=rightOfCursor[index])&&!tokenRe.test(ch);)if(tokenRe.lastIndex=0,index++,whitespaceRe.test(ch)){if(index>2){index--;break}for(;(ch=rightOfCursor[index])&&whitespaceRe.test(ch);)index++;if(index>2)break}}return tokenRe.lastIndex=0,index},this.moveCursorShortWordRight=function(){var row=this.lead.row,column=this.lead.column,line=this.doc.getLine(row),rightOfCursor=line.substring(column),fold=this.session.getFoldAt(row,column,1);if(fold)return this.moveCursorTo(fold.end.row,fold.end.column);if(column==line.length){var l=this.doc.getLength();do{row++,rightOfCursor=this.doc.getLine(row)}while(row<l&&/^\s*$/.test(rightOfCursor));/^\s+/.test(rightOfCursor)||(rightOfCursor=""),column=0}var index=this.$shortWordEndIndex(rightOfCursor);this.moveCursorTo(row,column+index)},this.moveCursorShortWordLeft=function(){var fold,row=this.lead.row,column=this.lead.column;if(fold=this.session.getFoldAt(row,column,-1))return this.moveCursorTo(fold.start.row,fold.start.column);var line=this.session.getLine(row).substring(0,column);if(0===column){do{row--,line=this.doc.getLine(row)}while(row>0&&/^\s*$/.test(line));column=line.length,/\s+$/.test(line)||(line="")}var leftOfCursor=lang.stringReverse(line),index=this.$shortWordEndIndex(leftOfCursor);return this.moveCursorTo(row,column-index)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(rows,chars){var offsetX,screenPos=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===chars&&(0!==rows&&(this.session.$bidiHandler.isBidiRow(screenPos.row,this.lead.row)?(offsetX=this.session.$bidiHandler.getPosLeft(screenPos.column),screenPos.column=Math.round(offsetX/this.session.$bidiHandler.charWidths[0])):offsetX=screenPos.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?screenPos.column=this.$desiredColumn:this.$desiredColumn=screenPos.column);var docPos=this.session.screenToDocumentPosition(screenPos.row+rows,screenPos.column,offsetX);0!==rows&&0===chars&&docPos.row===this.lead.row&&docPos.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[docPos.row]&&(docPos.row>0||rows>0)&&docPos.row++,this.moveCursorTo(docPos.row,docPos.column+chars,0===chars)},this.moveCursorToPosition=function(position){this.moveCursorTo(position.row,position.column)},this.moveCursorTo=function(row,column,keepDesiredColumn){var fold=this.session.getFoldAt(row,column,1);fold&&(row=fold.start.row,column=fold.start.column),this.$keepDesiredColumnOnChange=!0;var line=this.session.getLine(row);/[\uDC00-\uDFFF]/.test(line.charAt(column))&&line.charAt(column-1)&&(this.lead.row==row&&this.lead.column==column+1?column-=1:column+=1),this.lead.setPosition(row,column),this.$keepDesiredColumnOnChange=!1,keepDesiredColumn||(this.$desiredColumn=null)},this.moveCursorToScreen=function(row,column,keepDesiredColumn){var pos=this.session.screenToDocumentPosition(row,column);this.moveCursorTo(pos.row,pos.column,keepDesiredColumn)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(range){this.setSelectionRange(range,range.cursor==range.start),this.$desiredColumn=range.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(range){var r=this.getRange();return range?(range.start.column=r.start.column,range.start.row=r.start.row,range.end.column=r.end.column,range.end.row=r.end.row):range=r,range.cursor=this.isBackwards()?range.start:range.end,range.desiredColumn=this.$desiredColumn,range},this.getRangeOfMovements=function(func){var start=this.getCursor();try{func(this);var end=this.getCursor();return Range.fromPoints(start,end)}catch(e){return Range.fromPoints(start,start)}finally{this.moveCursorToPosition(start)}},this.toJSON=function(){if(this.rangeCount)var data=this.ranges.map((function(r){var r1=r.clone();return r1.isBackwards=r.cursor==r.start,r1}));else(data=this.getRange()).isBackwards=this.isBackwards();return data},this.fromJSON=function(data){if(null==data.start){if(this.rangeList){this.toSingleRange(data[0]);for(var i=data.length;i--;){var r=Range.fromPoints(data[i].start,data[i].end);data[i].isBackwards&&(r.cursor=r.start),this.addRange(r,!0)}return}data=data[0]}this.rangeList&&this.toSingleRange(data),this.setSelectionRange(data,data.isBackwards)},this.isEqual=function(data){if((data.length||this.rangeCount)&&data.length!=this.rangeCount)return!1;if(!data.length||!this.ranges)return this.getRange().isEqual(data);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(data[i]))return!1;return!0}}).call(Selection.prototype),exports.Selection=Selection})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(acequire,exports,module){"use strict";var config=acequire("./config"),MAX_TOKEN_COUNT=2e3,Tokenizer=function(rules){for(var key in this.states=rules,this.regExps={},this.matchMappings={},this.states){for(var state=this.states[key],ruleRegExps=[],matchTotal=0,mapping=this.matchMappings[key]={defaultToken:"text"},flag="g",splitterRurles=[],i=0;i<state.length;i++){var rule=state[i];if(rule.defaultToken&&(mapping.defaultToken=rule.defaultToken),rule.caseInsensitive&&(flag="gi"),null!=rule.regex){rule.regex instanceof RegExp&&(rule.regex=rule.regex.toString().slice(1,-1));var adjustedregex=rule.regex,matchcount=new RegExp("(?:("+adjustedregex+")|(.))").exec("a").length-2;Array.isArray(rule.token)?1==rule.token.length||1==matchcount?rule.token=rule.token[0]:matchcount-1!=rule.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:rule,groupCount:matchcount-1}),rule.token=rule.token[0]):(rule.tokenArray=rule.token,rule.token=null,rule.onMatch=this.$arrayTokens):"function"!=typeof rule.token||rule.onMatch||(rule.onMatch=matchcount>1?this.$applyToken:rule.token),matchcount>1&&(/\\\d/.test(rule.regex)?adjustedregex=rule.regex.replace(/\\([0-9]+)/g,(function(match,digit){return"\\"+(parseInt(digit,10)+matchTotal+1)})):(matchcount=1,adjustedregex=this.removeCapturingGroups(rule.regex)),rule.splitRegex||"string"==typeof rule.token||splitterRurles.push(rule)),mapping[matchTotal]=i,matchTotal+=matchcount,ruleRegExps.push(adjustedregex),rule.onMatch||(rule.onMatch=null)}}ruleRegExps.length||(mapping[0]=0,ruleRegExps.push("$")),splitterRurles.forEach((function(rule){rule.splitRegex=this.createSplitterRegexp(rule.regex,flag)}),this),this.regExps[key]=new RegExp("("+ruleRegExps.join(")|(")+")|($)",flag)}};(function(){this.$setMaxTokenCount=function(m){MAX_TOKEN_COUNT=0|m},this.$applyToken=function(str){var values=this.splitRegex.exec(str).slice(1),types=this.token.apply(this,values);if("string"==typeof types)return[{type:types,value:str}];for(var tokens=[],i=0,l=types.length;i<l;i++)values[i]&&(tokens[tokens.length]={type:types[i],value:values[i]});return tokens},this.$arrayTokens=function(str){if(!str)return[];var values=this.splitRegex.exec(str);if(!values)return"text";for(var tokens=[],types=this.tokenArray,i=0,l=types.length;i<l;i++)values[i+1]&&(tokens[tokens.length]={type:types[i],value:values[i+1]});return tokens},this.removeCapturingGroups=function(src){return src.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,(function(x,y){return y?"(?:":x}))},this.createSplitterRegexp=function(src,flag){if(-1!=src.indexOf("(?=")){var stack=0,inChClass=!1,lastCapture={};src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(m,esc,parenOpen,parenClose,square,index){return inChClass?inChClass="]"!=square:square?inChClass=!0:parenClose?(stack==lastCapture.stack&&(lastCapture.end=index+1,lastCapture.stack=-1),stack--):parenOpen&&(stack++,1!=parenOpen.length&&(lastCapture.stack=stack,lastCapture.start=index)),m})),null!=lastCapture.end&&/^\)*$/.test(src.substr(lastCapture.end))&&(src=src.substring(0,lastCapture.start)+src.substr(lastCapture.end))}return"^"!=src.charAt(0)&&(src="^"+src),"$"!=src.charAt(src.length-1)&&(src+="$"),new RegExp(src,(flag||"").replace("g",""))},this.getLineTokens=function(line,startState){if(startState&&"string"!=typeof startState){var stack=startState.slice(0);"#tmp"===(startState=stack[0])&&(stack.shift(),startState=stack.shift())}else stack=[];var currentState=startState||"start",state=this.states[currentState];state||(currentState="start",state=this.states[currentState]);var mapping=this.matchMappings[currentState],re=this.regExps[currentState];re.lastIndex=0;for(var match,tokens=[],lastIndex=0,matchAttempts=0,token={type:null,value:""};match=re.exec(line);){var type=mapping.defaultToken,rule=null,value=match[0],index=re.lastIndex;if(index-value.length>lastIndex){var skipped=line.substring(lastIndex,index-value.length);token.type==type?token.value+=skipped:(token.type&&tokens.push(token),token={type:type,value:skipped})}for(var i=0;i<match.length-2;i++)if(void 0!==match[i+1]){type=(rule=state[mapping[i]]).onMatch?rule.onMatch(value,currentState,stack,line):rule.token,rule.next&&(currentState="string"==typeof rule.next?rule.next:rule.next(currentState,stack),(state=this.states[currentState])||(this.reportError("state doesn't exist",currentState),currentState="start",state=this.states[currentState]),mapping=this.matchMappings[currentState],lastIndex=index,(re=this.regExps[currentState]).lastIndex=index),rule.consumeLineEnd&&(lastIndex=index);break}if(value)if("string"==typeof type)rule&&!1===rule.merge||token.type!==type?(token.type&&tokens.push(token),token={type:type,value:value}):token.value+=value;else if(type){token.type&&tokens.push(token),token={type:null,value:""};for(i=0;i<type.length;i++)tokens.push(type[i])}if(lastIndex==line.length)break;if(lastIndex=index,matchAttempts++>MAX_TOKEN_COUNT){for(matchAttempts>2*line.length&&this.reportError("infinite loop with in ace tokenizer",{startState:startState,line:line});lastIndex<line.length;)token.type&&tokens.push(token),token={value:line.substring(lastIndex,lastIndex+=2e3),type:"overflow"};currentState="start",stack=[];break}}return token.type&&tokens.push(token),stack.length>1&&stack[0]!==currentState&&stack.unshift("#tmp",currentState),{tokens:tokens,state:stack.length?stack:currentState}},this.reportError=config.reportError}).call(Tokenizer.prototype),exports.Tokenizer=Tokenizer})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(acequire,exports,module){"use strict";var lang=acequire("../lib/lang"),TextHighlightRules=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(rules,prefix){if(prefix)for(var key in rules){for(var state=rules[key],i=0;i<state.length;i++){var rule=state[i];(rule.next||rule.onMatch)&&("string"==typeof rule.next&&0!==rule.next.indexOf(prefix)&&(rule.next=prefix+rule.next),rule.nextState&&0!==rule.nextState.indexOf(prefix)&&(rule.nextState=prefix+rule.nextState))}this.$rules[prefix+key]=state}else for(var key in rules)this.$rules[key]=rules[key]},this.getRules=function(){return this.$rules},this.embedRules=function(HighlightRules,prefix,escapeRules,states,append){var embedRules="function"==typeof HighlightRules?(new HighlightRules).getRules():HighlightRules;if(states)for(var i=0;i<states.length;i++)states[i]=prefix+states[i];else for(var key in states=[],embedRules)states.push(prefix+key);if(this.addRules(embedRules,prefix),escapeRules){var addRules=Array.prototype[append?"push":"unshift"];for(i=0;i<states.length;i++)addRules.apply(this.$rules[states[i]],lang.deepCopy(escapeRules))}this.$embeds||(this.$embeds=[]),this.$embeds.push(prefix)},this.getEmbeds=function(){return this.$embeds};var pushState=function(currentState,stack){return("start"!=currentState||stack.length)&&stack.unshift(this.nextState,currentState),this.nextState},popState=function(currentState,stack){return stack.shift(),stack.shift()||"start"};this.normalizeRules=function(){var id=0,rules=this.$rules;Object.keys(rules).forEach((function processState(key){var state=rules[key];state.processed=!0;for(var i=0;i<state.length;i++){var rule=state[i],toInsert=null;Array.isArray(rule)&&(toInsert=rule,rule={}),!rule.regex&&rule.start&&(rule.regex=rule.start,rule.next||(rule.next=[]),rule.next.push({defaultToken:rule.token},{token:rule.token+".end",regex:rule.end||rule.start,next:"pop"}),rule.token=rule.token+".start",rule.push=!0);var next=rule.next||rule.push;if(next&&Array.isArray(next)){var stateName=rule.stateName;stateName||("string"!=typeof(stateName=rule.token)&&(stateName=stateName[0]||""),rules[stateName]&&(stateName+=id++)),rules[stateName]=next,rule.next=stateName,processState(stateName)}else"pop"==next&&(rule.next=popState);if(rule.push&&(rule.nextState=rule.next||rule.push,rule.next=pushState,delete rule.push),rule.rules)for(var r in rule.rules)rules[r]?rules[r].push&&rules[r].push.apply(rules[r],rule.rules[r]):rules[r]=rule.rules[r];var includeName="string"==typeof rule?rule:rule.include;if(includeName&&(toInsert=Array.isArray(includeName)?includeName.map((function(x){return rules[x]})):rules[includeName]),toInsert){var args=[i,1].concat(toInsert);rule.noEscape&&(args=args.filter((function(x){return!x.next}))),state.splice.apply(state,args),i--}rule.keywordMap&&(rule.token=this.createKeywordMapper(rule.keywordMap,rule.defaultToken||"text",rule.caseInsensitive),delete rule.defaultToken)}}),this)},this.createKeywordMapper=function(map,defaultToken,ignoreCase,splitChar){var keywords=Object.create(null);return Object.keys(map).forEach((function(className){var a=map[className];ignoreCase&&(a=a.toLowerCase());for(var list=a.split(splitChar||"|"),i=list.length;i--;)keywords[list[i]]=className})),Object.getPrototypeOf(keywords)&&(keywords.__proto__=null),this.$keywordList=Object.keys(keywords),map=null,ignoreCase?function(value){return keywords[value.toLowerCase()]||defaultToken}:function(value){return keywords[value]||defaultToken}},this.getKeywords=function(){return this.$keywords}}).call(TextHighlightRules.prototype),exports.TextHighlightRules=TextHighlightRules})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(acequire,exports,module){"use strict";var Behaviour=function(){this.$behaviours={}};(function(){this.add=function(name,action,callback){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[name]:this.$behaviours[name]={}}this.$behaviours[name][action]=callback},this.addBehaviours=function(behaviours){for(var key in behaviours)for(var action in behaviours[key])this.add(key,action,behaviours[key][action])},this.remove=function(name){this.$behaviours&&this.$behaviours[name]&&delete this.$behaviours[name]},this.inherit=function(mode,filter){if("function"==typeof mode)var behaviours=(new mode).getBehaviours(filter);else behaviours=mode.getBehaviours(filter);this.addBehaviours(behaviours)},this.getBehaviours=function(filter){if(filter){for(var ret={},i=0;i<filter.length;i++)this.$behaviours[filter[i]]&&(ret[filter[i]]=this.$behaviours[filter[i]]);return ret}return this.$behaviours}}).call(Behaviour.prototype),exports.Behaviour=Behaviour})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(acequire,exports,module){"use strict";var Range=acequire("./range").Range,TokenIterator=function(session,initialRow,initialColumn){this.$session=session,this.$row=initialRow,this.$rowTokens=session.getTokens(initialRow);var token=session.getTokenAt(initialRow,initialColumn);this.$tokenIndex=token?token.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var rowCount;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,rowCount||(rowCount=this.$session.getLength()),this.$row>=rowCount)return this.$row=rowCount-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var rowTokens=this.$rowTokens,tokenIndex=this.$tokenIndex,column=rowTokens[tokenIndex].start;if(void 0!==column)return column;for(column=0;tokenIndex>0;)column+=rowTokens[tokenIndex-=1].value.length;return column},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var token=this.$rowTokens[this.$tokenIndex],column=this.getCurrentTokenColumn();return new Range(this.$row,column,this.$row,column+token.value.length)}}).call(TokenIterator.prototype),exports.TokenIterator=TokenIterator})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(acequire,exports,module){"use strict";var context,oop=acequire("../../lib/oop"),Behaviour=acequire("../behaviour").Behaviour,TokenIterator=acequire("../../token_iterator").TokenIterator,lang=acequire("../../lib/lang"),SAFE_INSERT_IN_TOKENS=["text","paren.rparen","punctuation.operator"],SAFE_INSERT_BEFORE_TOKENS=["text","paren.rparen","punctuation.operator","comment"],contextCache={},defaultQuotes={'"':'"',"'":"'"},initContext=function(editor){var id=-1;if(editor.multiSelect&&(id=editor.selection.index,contextCache.rangeCount!=editor.multiSelect.rangeCount&&(contextCache={rangeCount:editor.multiSelect.rangeCount})),contextCache[id])return context=contextCache[id];context=contextCache[id]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},getWrapped=function(selection,selected,opening,closing){var rowDiff=selection.end.row-selection.start.row;return{text:opening+selected+closing,selection:[0,selection.start.column+1,rowDiff,selection.end.column+(rowDiff?0:1)]}},CstyleBehaviour=function(options){this.add("braces","insertion",(function(state,action,editor,session,text){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if("{"==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&"{"!==selected&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,"{","}");if(CstyleBehaviour.isSaneInsertion(editor,session))return/[\]\}\)]/.test(line[cursor.column])||editor.inMultiSelectMode||options&&options.braces?(CstyleBehaviour.recordAutoInsert(editor,session,"}"),{text:"{}",selection:[1,1]}):(CstyleBehaviour.recordMaybeInsert(editor,session,"{"),{text:"{",selection:[1,1]})}else if("}"==text){if(initContext(editor),"}"==line.substring(cursor.column,cursor.column+1))if(null!==session.$findOpeningBracket("}",{column:cursor.column+1,row:cursor.row})&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text))return CstyleBehaviour.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==text||"\r\n"==text){initContext(editor);var closing="";if(CstyleBehaviour.isMaybeInsertedClosing(cursor,line)&&(closing=lang.stringRepeat("}",context.maybeInsertedBrackets),CstyleBehaviour.clearMaybeInsertedClosing()),"}"===line.substring(cursor.column,cursor.column+1)){var openBracePos=session.findMatchingBracket({row:cursor.row,column:cursor.column+1},"}");if(!openBracePos)return null;var next_indent=this.$getIndent(session.getLine(openBracePos.row))}else{if(!closing)return void CstyleBehaviour.clearMaybeInsertedClosing();next_indent=this.$getIndent(line)}var indent=next_indent+session.getTabString();return{text:"\n"+indent+"\n"+next_indent+closing,selection:[1,indent.length,1,indent.length]}}CstyleBehaviour.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"{"==selected){if(initContext(editor),"}"==session.doc.getLine(range.start.row).substring(range.end.column,range.end.column+1))return range.end.column++,range;context.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(state,action,editor,session,text){if("("==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,"(",")");if(CstyleBehaviour.isSaneInsertion(editor,session))return CstyleBehaviour.recordAutoInsert(editor,session,")"),{text:"()",selection:[1,1]}}else if(")"==text){initContext(editor);var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if(")"==line.substring(cursor.column,cursor.column+1))if(null!==session.$findOpeningBracket(")",{column:cursor.column+1,row:cursor.row})&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text))return CstyleBehaviour.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"("==selected&&(initContext(editor),")"==session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2)))return range.end.column++,range})),this.add("brackets","insertion",(function(state,action,editor,session,text){if("["==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,"[","]");if(CstyleBehaviour.isSaneInsertion(editor,session))return CstyleBehaviour.recordAutoInsert(editor,session,"]"),{text:"[]",selection:[1,1]}}else if("]"==text){initContext(editor);var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if("]"==line.substring(cursor.column,cursor.column+1))if(null!==session.$findOpeningBracket("]",{column:cursor.column+1,row:cursor.row})&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text))return CstyleBehaviour.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"["==selected&&(initContext(editor),"]"==session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2)))return range.end.column++,range})),this.add("string_dquotes","insertion",(function(state,action,editor,session,text){var quotes=session.$mode.$quotes||defaultQuotes;if(1==text.length&&quotes[text]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(text))return;initContext(editor);var quote=text,selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(!(""===selected||1==selected.length&&quotes[selected])&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,quote,quote);if(!selected){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row),leftChar=line.substring(cursor.column-1,cursor.column),rightChar=line.substring(cursor.column,cursor.column+1),token=session.getTokenAt(cursor.row,cursor.column),rightToken=session.getTokenAt(cursor.row,cursor.column+1);if("\\"==leftChar&&token&&/escape/.test(token.type))return null;var pair,stringBefore=token&&/string|escape/.test(token.type),stringAfter=!rightToken||/string|escape/.test(rightToken.type);if(rightChar==quote)(pair=stringBefore!==stringAfter)&&/string\.end/.test(rightToken.type)&&(pair=!1);else{if(stringBefore&&!stringAfter)return null;if(stringBefore&&stringAfter)return null;var wordRe=session.$mode.tokenRe;wordRe.lastIndex=0;var isWordBefore=wordRe.test(leftChar);wordRe.lastIndex=0;var isWordAfter=wordRe.test(leftChar);if(isWordBefore||isWordAfter)return null;if(rightChar&&!/[\s;,.})\]\\]/.test(rightChar))return null;pair=!0}return{text:pair?quote+quote:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&('"'==selected||"'"==selected)&&(initContext(editor),session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2)==selected))return range.end.column++,range}))};CstyleBehaviour.isSaneInsertion=function(editor,session){var cursor=editor.getCursorPosition(),iterator=new TokenIterator(session,cursor.row,cursor.column);if(!this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS)){var iterator2=new TokenIterator(session,cursor.row,cursor.column+1);if(!this.$matchTokenType(iterator2.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS))return!1}return iterator.stepForward(),iterator.getCurrentTokenRow()!==cursor.row||this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_BEFORE_TOKENS)},CstyleBehaviour.$matchTokenType=function(token,types){return types.indexOf(token.type||token)>-1},CstyleBehaviour.recordAutoInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);this.isAutoInsertedClosing(cursor,line,context.autoInsertedLineEnd[0])||(context.autoInsertedBrackets=0),context.autoInsertedRow=cursor.row,context.autoInsertedLineEnd=bracket+line.substr(cursor.column),context.autoInsertedBrackets++},CstyleBehaviour.recordMaybeInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);this.isMaybeInsertedClosing(cursor,line)||(context.maybeInsertedBrackets=0),context.maybeInsertedRow=cursor.row,context.maybeInsertedLineStart=line.substr(0,cursor.column)+bracket,context.maybeInsertedLineEnd=line.substr(cursor.column),context.maybeInsertedBrackets++},CstyleBehaviour.isAutoInsertedClosing=function(cursor,line,bracket){return context.autoInsertedBrackets>0&&cursor.row===context.autoInsertedRow&&bracket===context.autoInsertedLineEnd[0]&&line.substr(cursor.column)===context.autoInsertedLineEnd},CstyleBehaviour.isMaybeInsertedClosing=function(cursor,line){return context.maybeInsertedBrackets>0&&cursor.row===context.maybeInsertedRow&&line.substr(cursor.column)===context.maybeInsertedLineEnd&&line.substr(0,cursor.column)==context.maybeInsertedLineStart},CstyleBehaviour.popAutoInsertedClosing=function(){context.autoInsertedLineEnd=context.autoInsertedLineEnd.substr(1),context.autoInsertedBrackets--},CstyleBehaviour.clearMaybeInsertedClosing=function(){context&&(context.maybeInsertedBrackets=0,context.maybeInsertedRow=-1)},oop.inherits(CstyleBehaviour,Behaviour),exports.CstyleBehaviour=CstyleBehaviour})),ace.define("ace/unicode",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.packages={},function(pack){var codePoint=/\w{4}/g;for(var name in pack)exports.packages[name]=pack[name].replace(codePoint,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})})),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(acequire,exports,module){"use strict";var Tokenizer=acequire("../tokenizer").Tokenizer,TextHighlightRules=acequire("./text_highlight_rules").TextHighlightRules,CstyleBehaviour=acequire("./behaviour/cstyle").CstyleBehaviour,unicode=acequire("../unicode"),lang=acequire("../lib/lang"),TokenIterator=acequire("../token_iterator").TokenIterator,Range=acequire("../range").Range,Mode=function(){this.HighlightRules=TextHighlightRules};(function(){this.$defaultBehaviour=new CstyleBehaviour,this.tokenRe=new RegExp("^["+unicode.packages.L+unicode.packages.Mn+unicode.packages.Mc+unicode.packages.Nd+unicode.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+unicode.packages.L+unicode.packages.Mn+unicode.packages.Mc+unicode.packages.Nd+unicode.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new Tokenizer(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(state,session,startRow,endRow){var doc=session.doc,ignoreBlankLines=!0,shouldRemove=!0,minIndent=1/0,tabSize=session.getTabSize(),insertAtTabStop=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))regexpStart=this.lineCommentStart.map(lang.escapeRegExp).join("|"),lineCommentStart=this.lineCommentStart[0];else regexpStart=lang.escapeRegExp(this.lineCommentStart),lineCommentStart=this.lineCommentStart;regexpStart=new RegExp("^(\\s*)(?:"+regexpStart+") ?"),insertAtTabStop=session.getUseSoftTabs();uncomment=function(line,i){var m=line.match(regexpStart);if(m){var start=m[1].length,end=m[0].length;shouldInsertSpace(line,start,end)||" "!=m[0][end-1]||end--,doc.removeInLine(i,start,end)}};var commentWithSpace=lineCommentStart+" ",shouldInsertSpace=(comment=function(line,i){ignoreBlankLines&&!/\S/.test(line)||(shouldInsertSpace(line,minIndent,minIndent)?doc.insertInLine({row:i,column:minIndent},commentWithSpace):doc.insertInLine({row:i,column:minIndent},lineCommentStart))},testRemove=function(line,i){return regexpStart.test(line)},function(line,before,after){for(var spaces=0;before--&&" "==line.charAt(before);)spaces++;if(spaces%tabSize!=0)return!1;for(spaces=0;" "==line.charAt(after++);)spaces++;return tabSize>2?spaces%tabSize!=tabSize-1:spaces%tabSize==0})}else{if(!this.blockComment)return!1;var lineCommentStart=this.blockComment.start,lineCommentEnd=this.blockComment.end,regexpStart=new RegExp("^(\\s*)(?:"+lang.escapeRegExp(lineCommentStart)+")"),regexpEnd=new RegExp("(?:"+lang.escapeRegExp(lineCommentEnd)+")\\s*$"),comment=function(line,i){testRemove(line,i)||ignoreBlankLines&&!/\S/.test(line)||(doc.insertInLine({row:i,column:line.length},lineCommentEnd),doc.insertInLine({row:i,column:minIndent},lineCommentStart))},uncomment=function(line,i){var m;(m=line.match(regexpEnd))&&doc.removeInLine(i,line.length-m[0].length,line.length),(m=line.match(regexpStart))&&doc.removeInLine(i,m[1].length,m[0].length)},testRemove=function(line,row){if(regexpStart.test(line))return!0;for(var tokens=session.getTokens(row),i=0;i<tokens.length;i++)if("comment"===tokens[i].type)return!0}}function iter(fun){for(var i=startRow;i<=endRow;i++)fun(doc.getLine(i),i)}var minEmptyLength=1/0;iter((function(line,i){var indent=line.search(/\S/);-1!==indent?(indent<minIndent&&(minIndent=indent),shouldRemove&&!testRemove(line,i)&&(shouldRemove=!1)):minEmptyLength>line.length&&(minEmptyLength=line.length)})),minIndent==1/0&&(minIndent=minEmptyLength,ignoreBlankLines=!1,shouldRemove=!1),insertAtTabStop&&minIndent%tabSize!=0&&(minIndent=Math.floor(minIndent/tabSize)*tabSize),iter(shouldRemove?uncomment:comment)},this.toggleBlockComment=function(state,session,range,cursor){var comment=this.blockComment;if(comment){!comment.start&&comment[0]&&(comment=comment[0]);var startRow,colDiff,token=(iterator=new TokenIterator(session,cursor.row,cursor.column)).getCurrentToken(),initialRange=(session.selection,session.selection.toOrientedRange());if(token&&/comment/.test(token.type)){for(var startRange,endRange;token&&/comment/.test(token.type);){if(-1!=(i=token.value.indexOf(comment.start))){var row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn()+i;startRange=new Range(row,column,row,column+comment.start.length);break}token=iterator.stepBackward()}var iterator;for(token=(iterator=new TokenIterator(session,cursor.row,cursor.column)).getCurrentToken();token&&/comment/.test(token.type);){var i;if(-1!=(i=token.value.indexOf(comment.end))){row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn()+i;endRange=new Range(row,column,row,column+comment.end.length);break}token=iterator.stepForward()}endRange&&session.remove(endRange),startRange&&(session.remove(startRange),startRow=startRange.start.row,colDiff=-comment.start.length)}else colDiff=comment.start.length,startRow=range.start.row,session.insert(range.end,comment.end),session.insert(range.start,comment.start);initialRange.start.row==startRow&&(initialRange.start.column+=colDiff),initialRange.end.row==startRow&&(initialRange.end.column+=colDiff),session.selection.fromOrientedRange(initialRange)}},this.getNextLineIndent=function(state,line,tab){return this.$getIndent(line)},this.checkOutdent=function(state,line,input){return!1},this.autoOutdent=function(state,doc,row){},this.$getIndent=function(line){return line.match(/^\s*/)[0]},this.createWorker=function(session){return null},this.createModeDelegates=function(mapping){for(var i in this.$embeds=[],this.$modes={},mapping)mapping[i]&&(this.$embeds.push(i),this.$modes[i]=new mapping[i]);var delegations=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(i=0;i<delegations.length;i++)!function(scope){var functionName=delegations[i],defaultHandler=scope[functionName];scope[delegations[i]]=function(){return this.$delegator(functionName,arguments,defaultHandler)}}(this)},this.$delegator=function(method,args,defaultHandler){var state=args[0];"string"!=typeof state&&(state=state[0]);for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var split=state.split(this.$embeds[i]);if(!split[0]&&split[1]){args[0]=split[1];var mode=this.$modes[this.$embeds[i]];return mode[method].apply(mode,args)}}var ret=defaultHandler.apply(this,args);return defaultHandler?ret:void 0},this.transformAction=function(state,action,editor,session,param){if(this.$behaviour){var behaviours=this.$behaviour.getBehaviours();for(var key in behaviours)if(behaviours[key][action]){var ret=behaviours[key][action].apply(this,arguments);if(ret)return ret}}},this.getKeywords=function(append){if(!this.completionKeywords){var rules=this.$tokenizer.rules,completionKeywords=[];for(var rule in rules)for(var ruleItr=rules[rule],r=0,l=ruleItr.length;r<l;r++)if("string"==typeof ruleItr[r].token)/keyword|support|storage/.test(ruleItr[r].token)&&completionKeywords.push(ruleItr[r].regex);else if("object"==typeof ruleItr[r].token)for(var a=0,aLength=ruleItr[r].token.length;a<aLength;a++)if(/keyword|support|storage/.test(ruleItr[r].token[a])){rule=ruleItr[r].regex.match(/\(.+?\)/g)[a];completionKeywords.push(rule.substr(1,rule.length-2))}this.completionKeywords=completionKeywords}return append?completionKeywords.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(state,session,pos,prefix){return(this.$keywordList||this.$createKeywordList()).map((function(word){return{name:word,value:word,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(Mode.prototype),exports.Mode=Mode})),ace.define("ace/apply_delta",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.applyDelta=function(docLines,delta,doNotValidate){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":if(1===delta.lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),void 0===column?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=function(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;if($pointsInOrder(point,deltaStart,moveIfEqual))return{row:point.row,column:point.column};if($pointsInOrder(deltaEnd,point,!moveIfEqual))return{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)};return{row:deltaStart.row,column:deltaStart.column}}(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):row<0?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),column<0&&(pos.column=0),pos}}).call(Anchor.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},0==="aaa".split(/a/).length?this.$split=function(text){return text.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(text){return text.split(/\r\n|\r|\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=match?match[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\r\n"==text||"\r"==text||"\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{(lines=this.getLines(range.start.row,range.end.row))[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return this.getLength()<=1&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:row<0?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return null==column&&(column=line.length),{row:row,column:column=Math.min(Math.max(column,0),line.length)}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){var column=0;(row=Math.min(Math.max(row,0),this.getLength()))<this.getLength()?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1);var deleteFirstNewLine=(lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1))==this.getLength()-1&&firstRow>0,deleteLastNewLine=lastRow<this.getLength()-1,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){row<this.getLength()-1&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){return range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty()?range.start:text==this.getTextRange(range)?range.end:(this.remove(range),text?this.insert(range.start,text):range.start)},this.applyDeltas=function(deltas){for(var i=0;i<deltas.length;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?delta.lines.length<=1&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;i<l;i++)if((index-=lines[i].length+newlineLength)<0)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;i<row;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,BackgroundTokenizer=function(tokenizer,editor){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=tokenizer;var self=this;this.$worker=function(){if(self.running){for(var workerStart=new Date,currentLine=self.currentLine,endLine=-1,doc=self.doc,startLine=currentLine;self.lines[currentLine];)currentLine++;var len=doc.getLength(),processedLines=0;for(self.running=!1;currentLine<len;){self.$tokenizeRow(currentLine),endLine=currentLine;do{currentLine++}while(self.lines[currentLine]);if(++processedLines%5==0&&new Date-workerStart>20){self.running=setTimeout(self.$worker,20);break}}self.currentLine=currentLine,-1==endLine&&(endLine=currentLine),startLine<=endLine&&self.fireUpdateEvent(startLine,endLine)}}};(function(){oop.implement(this,EventEmitter),this.setTokenizer=function(tokenizer){this.tokenizer=tokenizer,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(doc){this.doc=doc,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(firstRow,lastRow){var data={first:firstRow,last:lastRow};this._signal("update",{data:data})},this.start=function(startRow){this.currentLine=Math.min(startRow||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(delta){var startRow=delta.start.row,len=delta.end.row-startRow;if(0===len)this.lines[startRow]=null;else if("remove"==delta.action)this.lines.splice(startRow,len+1,null),this.states.splice(startRow,len+1,null);else{var args=Array(len+1);args.unshift(startRow,1),this.lines.splice.apply(this.lines,args),this.states.splice.apply(this.states,args)}this.currentLine=Math.min(startRow,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(row){return this.lines[row]||this.$tokenizeRow(row)},this.getState=function(row){return this.currentLine==row&&this.$tokenizeRow(row),this.states[row]||"start"},this.$tokenizeRow=function(row){var line=this.doc.getLine(row),state=this.states[row-1],data=this.tokenizer.getLineTokens(line,state,row);return this.states[row]+""!=data.state+""?(this.states[row]=data.state,this.lines[row+1]=null,this.currentLine>row+1&&(this.currentLine=row+1)):this.currentLine==row&&(this.currentLine=row+1),this.lines[row]=data.tokens}}).call(BackgroundTokenizer.prototype),exports.BackgroundTokenizer=BackgroundTokenizer})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(acequire,exports,module){"use strict";var lang=acequire("./lib/lang"),Range=(acequire("./lib/oop"),acequire("./range").Range),SearchHighlight=function(regExp,clazz,type){this.setRegexp(regExp),this.clazz=clazz,this.type=type||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(regExp){this.regExp+""!=regExp+""&&(this.regExp=regExp,this.cache=[])},this.update=function(html,markerLayer,session,config){if(this.regExp)for(var start=config.firstRow,end=config.lastRow,i=start;i<=end;i++){var ranges=this.cache[i];null==ranges&&((ranges=lang.getMatchOffsets(session.getLine(i),this.regExp)).length>this.MAX_RANGES&&(ranges=ranges.slice(0,this.MAX_RANGES)),ranges=ranges.map((function(match){return new Range(i,match.offset,i,match.offset+match.length)})),this.cache[i]=ranges.length?ranges:"");for(var j=ranges.length;j--;)markerLayer.drawSingleLineMarker(html,ranges[j].toScreenRange(session),this.clazz,config)}}}).call(SearchHighlight.prototype),exports.SearchHighlight=SearchHighlight})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(acequire,exports,module){"use strict";var Range=acequire("../range").Range;function FoldLine(foldData,folds){this.foldData=foldData,Array.isArray(folds)?this.folds=folds:folds=this.folds=[folds];var last=folds[folds.length-1];this.range=new Range(folds[0].start.row,folds[0].start.column,last.end.row,last.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(fold){fold.setFoldLine(this)}),this)}(function(){this.shiftRow=function(shift){this.start.row+=shift,this.end.row+=shift,this.folds.forEach((function(fold){fold.start.row+=shift,fold.end.row+=shift}))},this.addFold=function(fold){if(fold.sameRow){if(fold.start.row<this.startRow||fold.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(fold),this.folds.sort((function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)})),this.range.compareEnd(fold.start.row,fold.start.column)>0?(this.end.row=fold.end.row,this.end.column=fold.end.column):this.range.compareStart(fold.end.row,fold.end.column)<0&&(this.start.row=fold.start.row,this.start.column=fold.start.column)}else if(fold.start.row==this.end.row)this.folds.push(fold),this.end.row=fold.end.row,this.end.column=fold.end.column;else{if(fold.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(fold),this.start.row=fold.start.row,this.start.column=fold.start.column}fold.foldLine=this},this.containsRow=function(row){return row>=this.start.row&&row<=this.end.row},this.walk=function(callback,endRow,endColumn){var fold,cmp,lastEnd=0,folds=this.folds,isNewRow=!0;null==endRow&&(endRow=this.end.row,endColumn=this.end.column);for(var i=0;i<folds.length;i++){if(-1==(cmp=(fold=folds[i]).range.compareStart(endRow,endColumn)))return void callback(null,endRow,endColumn,lastEnd,isNewRow);if(!callback(null,fold.start.row,fold.start.column,lastEnd,isNewRow)&&callback(fold.placeholder,fold.start.row,fold.start.column,lastEnd)||0===cmp)return;isNewRow=!fold.sameRow,lastEnd=fold.end.column}callback(null,endRow,endColumn,lastEnd,isNewRow)},this.getNextFoldTo=function(row,column){for(var fold,cmp,i=0;i<this.folds.length;i++){if(-1==(cmp=(fold=this.folds[i]).range.compareEnd(row,column)))return{fold:fold,kind:"after"};if(0===cmp)return{fold:fold,kind:"inside"}}return null},this.addRemoveChars=function(row,column,len){var fold,folds,ret=this.getNextFoldTo(row,column);if(ret)if(fold=ret.fold,"inside"==ret.kind&&fold.start.column!=column&&fold.start.row!=row)window.console&&window.console.log(row,column,fold);else if(fold.start.row==row){var i=(folds=this.folds).indexOf(fold);for(0===i&&(this.start.column+=len);i<folds.length;i++){if((fold=folds[i]).start.column+=len,!fold.sameRow)return;fold.end.column+=len}this.end.column+=len}},this.split=function(row,column){var pos=this.getNextFoldTo(row,column);if(!pos||"inside"==pos.kind)return null;var fold=pos.fold,folds=this.folds,foldData=this.foldData,i=folds.indexOf(fold),foldBefore=folds[i-1];this.end.row=foldBefore.end.row,this.end.column=foldBefore.end.column;var newFoldLine=new FoldLine(foldData,folds=folds.splice(i,folds.length-i));return foldData.splice(foldData.indexOf(this)+1,0,newFoldLine),newFoldLine},this.merge=function(foldLineNext){for(var folds=foldLineNext.folds,i=0;i<folds.length;i++)this.addFold(folds[i]);var foldData=this.foldData;foldData.splice(foldData.indexOf(foldLineNext),1)},this.toString=function(){var ret=[this.range.toString()+": ["];return this.folds.forEach((function(fold){ret.push("  "+fold.toString())})),ret.push("]"),ret.join("\n")},this.idxToPosition=function(idx){for(var lastFoldEndColumn=0,i=0;i<this.folds.length;i++){var fold=this.folds[i];if((idx-=fold.start.column-lastFoldEndColumn)<0)return{row:fold.start.row,column:fold.start.column+idx};if((idx-=fold.placeholder.length)<0)return fold.start;lastFoldEndColumn=fold.end.column}return{row:this.end.row,column:this.end.column+idx}}}).call(FoldLine.prototype),exports.FoldLine=FoldLine})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(acequire,exports,module){"use strict";var comparePoints=acequire("./range").Range.comparePoints,RangeList=function(){this.ranges=[]};(function(){this.comparePoints=comparePoints,this.pointIndex=function(pos,excludeEdges,startIndex){for(var list=this.ranges,i=startIndex||0;i<list.length;i++){var range=list[i],cmpEnd=comparePoints(pos,range.end);if(!(cmpEnd>0)){var cmpStart=comparePoints(pos,range.start);return 0===cmpEnd?excludeEdges&&0!==cmpStart?-i-2:i:cmpStart>0||0===cmpStart&&!excludeEdges?i:-i-1}}return-i-1},this.add=function(range){var excludeEdges=!range.isEmpty(),startIndex=this.pointIndex(range.start,excludeEdges);startIndex<0&&(startIndex=-startIndex-1);var endIndex=this.pointIndex(range.end,excludeEdges,startIndex);return endIndex<0?endIndex=-endIndex-1:endIndex++,this.ranges.splice(startIndex,endIndex-startIndex,range)},this.addList=function(list){for(var removed=[],i=list.length;i--;)removed.push.apply(removed,this.add(list[i]));return removed},this.substractPoint=function(pos){var i=this.pointIndex(pos);if(i>=0)return this.ranges.splice(i,1)},this.merge=function(){for(var range,removed=[],list=this.ranges,next=(list=list.sort((function(a,b){return comparePoints(a.start,b.start)})))[0],i=1;i<list.length;i++){range=next,next=list[i];var cmp=comparePoints(range.end,next.start);cmp<0||(0!=cmp||range.isEmpty()||next.isEmpty())&&(comparePoints(range.end,next.end)<0&&(range.end.row=next.end.row,range.end.column=next.end.column),list.splice(i,1),removed.push(next),next=range,i--)}return this.ranges=list,removed},this.contains=function(row,column){return this.pointIndex({row:row,column:column})>=0},this.containsPoint=function(pos){return this.pointIndex(pos)>=0},this.rangeAtPoint=function(pos){var i=this.pointIndex(pos);if(i>=0)return this.ranges[i]},this.clipRows=function(startRow,endRow){var list=this.ranges;if(list[0].start.row>endRow||list[list.length-1].start.row<startRow)return[];var startIndex=this.pointIndex({row:startRow,column:0});startIndex<0&&(startIndex=-startIndex-1);var endIndex=this.pointIndex({row:endRow,column:0},startIndex);endIndex<0&&(endIndex=-endIndex-1);for(var clipped=[],i=startIndex;i<endIndex;i++)clipped.push(list[i]);return clipped},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(session){this.session&&this.detach(),this.session=session,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(delta){if("insert"==delta.action)var start=delta.start,end=delta.end;else end=delta.start,start=delta.end;for(var startRow=start.row,lineDif=end.row-startRow,colDiff=-start.column+end.column,ranges=this.ranges,i=0,n=ranges.length;i<n;i++){if(!((r=ranges[i]).end.row<startRow)){if(r.start.row>startRow)break;if(r.start.row==startRow&&r.start.column>=start.column&&(r.start.column==start.column&&this.$insertRight||(r.start.column+=colDiff,r.start.row+=lineDif)),r.end.row==startRow&&r.end.column>=start.column){if(r.end.column==start.column&&this.$insertRight)continue;r.end.column==start.column&&colDiff>0&&i<n-1&&r.end.column>r.start.column&&r.end.column==ranges[i+1].start.column&&(r.end.column-=colDiff),r.end.column+=colDiff,r.end.row+=lineDif}}}if(0!=lineDif&&i<n)for(;i<n;i++){var r;(r=ranges[i]).start.row+=lineDif,r.end.row+=lineDif}}}).call(RangeList.prototype),exports.RangeList=RangeList})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],(function(acequire,exports,module){"use strict";acequire("../range").Range;var RangeList=acequire("../range_list").RangeList,oop=acequire("../lib/oop"),Fold=exports.Fold=function(range,placeholder){this.foldLine=null,this.placeholder=placeholder,this.range=range,this.start=range.start,this.end=range.end,this.sameRow=range.start.row==range.end.row,this.subFolds=this.ranges=[]};function consumePoint(point,anchor){point.row-=anchor.row,0==point.row&&(point.column-=anchor.column)}function restorePoint(point,anchor){0==point.row&&(point.column+=anchor.column),point.row+=anchor.row}oop.inherits(Fold,RangeList),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(foldLine){this.foldLine=foldLine,this.subFolds.forEach((function(fold){fold.setFoldLine(foldLine)}))},this.clone=function(){var range=this.range.clone(),fold=new Fold(range,this.placeholder);return this.subFolds.forEach((function(subFold){fold.subFolds.push(subFold.clone())})),fold.collapseChildren=this.collapseChildren,fold},this.addSubFold=function(fold){if(!this.range.isEqual(fold)){if(!this.range.containsRange(fold))throw new Error("A fold can't intersect already existing fold"+fold.range+this.range);var range,anchor;range=fold,anchor=this.start,consumePoint(range.start,anchor),consumePoint(range.end,anchor);for(var row=fold.start.row,column=fold.start.column,i=0,cmp=-1;i<this.subFolds.length&&1==(cmp=this.subFolds[i].range.compare(row,column));i++);var afterStart=this.subFolds[i];if(0==cmp)return afterStart.addSubFold(fold);row=fold.range.end.row,column=fold.range.end.column;var j=i;for(cmp=-1;j<this.subFolds.length&&1==(cmp=this.subFolds[j].range.compare(row,column));j++);this.subFolds[j];if(0==cmp)throw new Error("A fold can't intersect already existing fold"+fold.range+this.range);this.subFolds.splice(i,j-i,fold);return fold.setFoldLine(this.foldLine),fold}},this.restoreRange=function(range){return function(range,anchor){restorePoint(range.start,anchor),restorePoint(range.end,anchor)}(range,this.start)}}.call(Fold.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(acequire,exports,module){"use strict";var Range=acequire("../range").Range,FoldLine=acequire("./fold_line").FoldLine,Fold=acequire("./fold").Fold,TokenIterator=acequire("../token_iterator").TokenIterator;exports.Folding=function(){this.getFoldAt=function(row,column,side){var foldLine=this.getFoldLine(row);if(!foldLine)return null;for(var folds=foldLine.folds,i=0;i<folds.length;i++){var fold=folds[i];if(fold.range.contains(row,column)){if(1==side&&fold.range.isEnd(row,column))continue;if(-1==side&&fold.range.isStart(row,column))continue;return fold}}},this.getFoldsInRange=function(range){var start=range.start,end=range.end,foldLines=this.$foldData,foundFolds=[];start.column+=1,end.column-=1;for(var i=0;i<foldLines.length;i++){var cmp=foldLines[i].range.compareRange(range);if(2!=cmp){if(-2==cmp)break;for(var folds=foldLines[i].folds,j=0;j<folds.length;j++){var fold=folds[j];if(-2==(cmp=fold.range.compareRange(range)))break;if(2!=cmp){if(42==cmp)break;foundFolds.push(fold)}}}}return start.column-=1,end.column+=1,foundFolds},this.getFoldsInRangeList=function(ranges){if(Array.isArray(ranges)){var folds=[];ranges.forEach((function(range){folds=folds.concat(this.getFoldsInRange(range))}),this)}else folds=this.getFoldsInRange(ranges);return folds},this.getAllFolds=function(){for(var folds=[],foldLines=this.$foldData,i=0;i<foldLines.length;i++)for(var j=0;j<foldLines[i].folds.length;j++)folds.push(foldLines[i].folds[j]);return folds},this.getFoldStringAt=function(row,column,trim,foldLine){if(!(foldLine=foldLine||this.getFoldLine(row)))return null;for(var str,fold,lastFold={end:{column:0}},i=0;i<foldLine.folds.length;i++){var cmp=(fold=foldLine.folds[i]).range.compareEnd(row,column);if(-1==cmp){str=this.getLine(fold.start.row).substring(lastFold.end.column,fold.start.column);break}if(0===cmp)return null;lastFold=fold}return str||(str=this.getLine(fold.start.row).substring(lastFold.end.column)),-1==trim?str.substring(0,column-lastFold.end.column):1==trim?str.substring(column-lastFold.end.column):str},this.getFoldLine=function(docRow,startFoldLine){var foldData=this.$foldData,i=0;for(startFoldLine&&(i=foldData.indexOf(startFoldLine)),-1==i&&(i=0);i<foldData.length;i++){var foldLine=foldData[i];if(foldLine.start.row<=docRow&&foldLine.end.row>=docRow)return foldLine;if(foldLine.end.row>docRow)return null}return null},this.getNextFoldLine=function(docRow,startFoldLine){var foldData=this.$foldData,i=0;for(startFoldLine&&(i=foldData.indexOf(startFoldLine)),-1==i&&(i=0);i<foldData.length;i++){var foldLine=foldData[i];if(foldLine.end.row>=docRow)return foldLine}return null},this.getFoldedRowCount=function(first,last){for(var foldData=this.$foldData,rowCount=last-first+1,i=0;i<foldData.length;i++){var foldLine=foldData[i],end=foldLine.end.row,start=foldLine.start.row;if(end>=last){start<last&&(start>=first?rowCount-=last-start:rowCount=0);break}end>=first&&(rowCount-=start>=first?end-start:end-first+1)}return rowCount},this.$addFoldLine=function(foldLine){return this.$foldData.push(foldLine),this.$foldData.sort((function(a,b){return a.start.row-b.start.row})),foldLine},this.addFold=function(placeholder,range){var fold,foldData=this.$foldData,added=!1;placeholder instanceof Fold?fold=placeholder:(fold=new Fold(range,placeholder)).collapseChildren=range.collapseChildren,this.$clipRangeToDocument(fold.range);var startRow=fold.start.row,startColumn=fold.start.column,endRow=fold.end.row,endColumn=fold.end.column;if(!(startRow<endRow||startRow==endRow&&startColumn<=endColumn-2))throw new Error("The range has to be at least 2 characters width");var startFold=this.getFoldAt(startRow,startColumn,1),endFold=this.getFoldAt(endRow,endColumn,-1);if(startFold&&endFold==startFold)return startFold.addSubFold(fold);startFold&&!startFold.range.isStart(startRow,startColumn)&&this.removeFold(startFold),endFold&&!endFold.range.isEnd(endRow,endColumn)&&this.removeFold(endFold);var folds=this.getFoldsInRange(fold.range);folds.length>0&&(this.removeFolds(folds),folds.forEach((function(subFold){fold.addSubFold(subFold)})));for(var i=0;i<foldData.length;i++){var foldLine=foldData[i];if(endRow==foldLine.start.row){foldLine.addFold(fold),added=!0;break}if(startRow==foldLine.end.row){if(foldLine.addFold(fold),added=!0,!fold.sameRow){var foldLineNext=foldData[i+1];if(foldLineNext&&foldLineNext.start.row==endRow){foldLine.merge(foldLineNext);break}}break}if(endRow<=foldLine.start.row)break}return added||(foldLine=this.$addFoldLine(new FoldLine(this.$foldData,fold))),this.$useWrapMode?this.$updateWrapData(foldLine.start.row,foldLine.start.row):this.$updateRowLengthCache(foldLine.start.row,foldLine.start.row),this.$modified=!0,this._signal("changeFold",{data:fold,action:"add"}),fold},this.addFolds=function(folds){folds.forEach((function(fold){this.addFold(fold)}),this)},this.removeFold=function(fold){var foldLine=fold.foldLine,startRow=foldLine.start.row,endRow=foldLine.end.row,foldLines=this.$foldData,folds=foldLine.folds;if(1==folds.length)foldLines.splice(foldLines.indexOf(foldLine),1);else if(foldLine.range.isEnd(fold.end.row,fold.end.column))folds.pop(),foldLine.end.row=folds[folds.length-1].end.row,foldLine.end.column=folds[folds.length-1].end.column;else if(foldLine.range.isStart(fold.start.row,fold.start.column))folds.shift(),foldLine.start.row=folds[0].start.row,foldLine.start.column=folds[0].start.column;else if(fold.sameRow)folds.splice(folds.indexOf(fold),1);else{var newFoldLine=foldLine.split(fold.start.row,fold.start.column);(folds=newFoldLine.folds).shift(),newFoldLine.start.row=folds[0].start.row,newFoldLine.start.column=folds[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(startRow,endRow):this.$updateRowLengthCache(startRow,endRow)),this.$modified=!0,this._signal("changeFold",{data:fold,action:"remove"})},this.removeFolds=function(folds){for(var cloneFolds=[],i=0;i<folds.length;i++)cloneFolds.push(folds[i]);cloneFolds.forEach((function(fold){this.removeFold(fold)}),this),this.$modified=!0},this.expandFold=function(fold){this.removeFold(fold),fold.subFolds.forEach((function(subFold){fold.restoreRange(subFold),this.addFold(subFold)}),this),fold.collapseChildren>0&&this.foldAll(fold.start.row+1,fold.end.row,fold.collapseChildren-1),fold.subFolds=[]},this.expandFolds=function(folds){folds.forEach((function(fold){this.expandFold(fold)}),this)},this.unfold=function(location,expandInner){var range,folds;if(null==location?(range=new Range(0,0,this.getLength(),0),expandInner=!0):range="number"==typeof location?new Range(location,0,location,this.getLine(location).length):"row"in location?Range.fromPoints(location,location):location,folds=this.getFoldsInRangeList(range),expandInner)this.removeFolds(folds);else for(var subFolds=folds;subFolds.length;)this.expandFolds(subFolds),subFolds=this.getFoldsInRangeList(range);if(folds.length)return folds},this.isRowFolded=function(docRow,startFoldRow){return!!this.getFoldLine(docRow,startFoldRow)},this.getRowFoldEnd=function(docRow,startFoldRow){var foldLine=this.getFoldLine(docRow,startFoldRow);return foldLine?foldLine.end.row:docRow},this.getRowFoldStart=function(docRow,startFoldRow){var foldLine=this.getFoldLine(docRow,startFoldRow);return foldLine?foldLine.start.row:docRow},this.getFoldDisplayLine=function(foldLine,endRow,endColumn,startRow,startColumn){null==startRow&&(startRow=foldLine.start.row),null==startColumn&&(startColumn=0),null==endRow&&(endRow=foldLine.end.row),null==endColumn&&(endColumn=this.getLine(endRow).length);var doc=this.doc,textLine="";return foldLine.walk((function(placeholder,row,column,lastColumn){if(!(row<startRow)){if(row==startRow){if(column<startColumn)return;lastColumn=Math.max(startColumn,lastColumn)}textLine+=null!=placeholder?placeholder:doc.getLine(row).substring(lastColumn,column)}}),endRow,endColumn),textLine},this.getDisplayLine=function(row,endColumn,startRow,startColumn){var line,foldLine=this.getFoldLine(row);return foldLine?this.getFoldDisplayLine(foldLine,row,endColumn,startRow,startColumn):(line=this.doc.getLine(row)).substring(startColumn||0,endColumn||line.length)},this.$cloneFoldData=function(){var fd=[];return fd=this.$foldData.map((function(foldLine){var folds=foldLine.folds.map((function(fold){return fold.clone()}));return new FoldLine(fd,folds)}))},this.toggleFold=function(tryToUnfold){var fold,bracketPos,range=this.selection.getRange();if(range.isEmpty()){var cursor=range.start;if(fold=this.getFoldAt(cursor.row,cursor.column))return void this.expandFold(fold);(bracketPos=this.findMatchingBracket(cursor))?1==range.comparePoint(bracketPos)?range.end=bracketPos:(range.start=bracketPos,range.start.column++,range.end.column--):(bracketPos=this.findMatchingBracket({row:cursor.row,column:cursor.column+1}))?(1==range.comparePoint(bracketPos)?range.end=bracketPos:range.start=bracketPos,range.start.column++):range=this.getCommentFoldRange(cursor.row,cursor.column)||range}else{var folds=this.getFoldsInRange(range);if(tryToUnfold&&folds.length)return void this.expandFolds(folds);1==folds.length&&(fold=folds[0])}if(fold||(fold=this.getFoldAt(range.start.row,range.start.column)),fold&&fold.range.toString()==range.toString())this.expandFold(fold);else{var placeholder="...";if(!range.isMultiLine()){if((placeholder=this.getTextRange(range)).length<4)return;placeholder=placeholder.trim().substring(0,2)+".."}this.addFold(placeholder,range)}},this.getCommentFoldRange=function(row,column,dir){var iterator=new TokenIterator(this,row,column),token=iterator.getCurrentToken(),type=token.type;if(token&&/^comment|string/.test(type)){"comment"==(type=type.match(/comment|string/)[0])&&(type+="|doc-start");var re=new RegExp(type),range=new Range;if(1!=dir){do{token=iterator.stepBackward()}while(token&&re.test(token.type));iterator.stepForward()}if(range.start.row=iterator.getCurrentTokenRow(),range.start.column=iterator.getCurrentTokenColumn()+2,iterator=new TokenIterator(this,row,column),-1!=dir){var lastRow=-1;do{if(token=iterator.stepForward(),-1==lastRow){var state=this.getState(iterator.$row);re.test(state)||(lastRow=iterator.$row)}else if(iterator.$row>lastRow)break}while(token&&re.test(token.type));token=iterator.stepBackward()}else token=iterator.getCurrentToken();return range.end.row=iterator.getCurrentTokenRow(),range.end.column=iterator.getCurrentTokenColumn()+token.value.length-2,range}},this.foldAll=function(startRow,endRow,depth){null==depth&&(depth=1e5);var foldWidgets=this.foldWidgets;if(foldWidgets){endRow=endRow||this.getLength();for(var row=startRow=startRow||0;row<endRow;row++)if(null==foldWidgets[row]&&(foldWidgets[row]=this.getFoldWidget(row)),"start"==foldWidgets[row]){var range=this.getFoldWidgetRange(row);if(range&&range.isMultiLine()&&range.end.row<=endRow&&range.start.row>=startRow){row=range.end.row;try{var fold=this.addFold("...",range);fold&&(fold.collapseChildren=depth)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(style){if(!this.$foldStyles[style])throw new Error("invalid fold style: "+style+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=style){this.$foldStyle=style,"manual"==style&&this.unfold();var mode=this.$foldMode;this.$setFolding(null),this.$setFolding(mode)}},this.$setFolding=function(foldMode){this.$foldMode!=foldMode&&(this.$foldMode=foldMode,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),foldMode&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=foldMode.getFoldWidget.bind(foldMode,this,this.$foldStyle),this.getFoldWidgetRange=foldMode.getFoldWidgetRange.bind(foldMode,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(row,ignoreCurrent){var fw=this.foldWidgets;if(!fw||ignoreCurrent&&fw[row])return{};for(var firstRange,i=row-1;i>=0;){var c=fw[i];if(null==c&&(c=fw[i]=this.getFoldWidget(i)),"start"==c){var range=this.getFoldWidgetRange(i);if(firstRange||(firstRange=range),range&&range.end.row>=row)break}i--}return{range:-1!==i&&range,firstRange:firstRange}},this.onFoldWidgetClick=function(row,e){var options={children:(e=e.domEvent).shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey};if(!this.$toggleFoldWidget(row,options)){var el=e.target||e.srcElement;el&&/ace_fold-widget/.test(el.className)&&(el.className+=" ace_invalid")}},this.$toggleFoldWidget=function(row,options){if(this.getFoldWidget){var type=this.getFoldWidget(row),line=this.getLine(row),dir="end"===type?-1:1,fold=this.getFoldAt(row,-1===dir?0:line.length,dir);if(fold)return options.children||options.all?this.removeFold(fold):this.expandFold(fold),fold;var range=this.getFoldWidgetRange(row,!0);if(range&&!range.isMultiLine()&&(fold=this.getFoldAt(range.start.row,range.start.column,1))&&range.isEqual(fold.range))return this.removeFold(fold),fold;if(options.siblings){var data=this.getParentFoldRangeData(row);if(data.range)var startRow=data.range.start.row+1,endRow=data.range.end.row;this.foldAll(startRow,endRow,options.all?1e4:0)}else options.children?(endRow=range?range.end.row:this.getLength(),this.foldAll(row+1,endRow,options.all?1e4:0)):range&&(options.all&&(range.collapseChildren=1e4),this.addFold("...",range));return range}},this.toggleFoldWidget=function(toggleParent){var row=this.selection.getCursor().row;row=this.getRowFoldStart(row);var range=this.$toggleFoldWidget(row,{});if(!range){var data=this.getParentFoldRangeData(row,!0);if(range=data.range||data.firstRange){row=range.start.row;var fold=this.getFoldAt(row,this.getLine(row).length,1);fold?this.removeFold(fold):this.addFold("...",range)}}},this.updateFoldWidgets=function(delta){var firstRow=delta.start.row,len=delta.end.row-firstRow;if(0===len)this.foldWidgets[firstRow]=null;else if("remove"==delta.action)this.foldWidgets.splice(firstRow,len+1,null);else{var args=Array(len+1);args.unshift(firstRow,1),this.foldWidgets.splice.apply(this.foldWidgets,args)}},this.tokenizerUpdateFoldWidgets=function(e){var rows=e.data;rows.first!=rows.last&&this.foldWidgets.length>rows.first&&this.foldWidgets.splice(rows.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(acequire,exports,module){"use strict";var TokenIterator=acequire("../token_iterator").TokenIterator,Range=acequire("../range").Range;exports.BracketMatch=function(){this.findMatchingBracket=function(position,chr){if(0==position.column)return null;var charBeforeCursor=chr||this.getLine(position.row).charAt(position.column-1);if(""==charBeforeCursor)return null;var match=charBeforeCursor.match(/([\(\[\{])|([\)\]\}])/);return match?match[1]?this.$findClosingBracket(match[1],position):this.$findOpeningBracket(match[2],position):null},this.getBracketRange=function(pos){var range,line=this.getLine(pos.row),before=!0,chr=line.charAt(pos.column-1),match=chr&&chr.match(/([\(\[\{])|([\)\]\}])/);if(match||(chr=line.charAt(pos.column),pos={row:pos.row,column:pos.column+1},match=chr&&chr.match(/([\(\[\{])|([\)\]\}])/),before=!1),!match)return null;if(match[1]){if(!(bracketPos=this.$findClosingBracket(match[1],pos)))return null;range=Range.fromPoints(pos,bracketPos),before||(range.end.column++,range.start.column--),range.cursor=range.end}else{var bracketPos;if(!(bracketPos=this.$findOpeningBracket(match[2],pos)))return null;range=Range.fromPoints(bracketPos,pos),before||(range.start.column++,range.end.column--),range.cursor=range.start}return range},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(bracket,position,typeRe){var openBracket=this.$brackets[bracket],depth=1,iterator=new TokenIterator(this,position.row,position.column),token=iterator.getCurrentToken();if(token||(token=iterator.stepForward()),token){typeRe||(typeRe=new RegExp("(\\.?"+token.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var valueIndex=position.column-iterator.getCurrentTokenColumn()-2,value=token.value;;){for(;valueIndex>=0;){var chr=value.charAt(valueIndex);if(chr==openBracket){if(0==(depth-=1))return{row:iterator.getCurrentTokenRow(),column:valueIndex+iterator.getCurrentTokenColumn()}}else chr==bracket&&(depth+=1);valueIndex-=1}do{token=iterator.stepBackward()}while(token&&!typeRe.test(token.type));if(null==token)break;valueIndex=(value=token.value).length-1}return null}},this.$findClosingBracket=function(bracket,position,typeRe){var closingBracket=this.$brackets[bracket],depth=1,iterator=new TokenIterator(this,position.row,position.column),token=iterator.getCurrentToken();if(token||(token=iterator.stepForward()),token){typeRe||(typeRe=new RegExp("(\\.?"+token.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var valueIndex=position.column-iterator.getCurrentTokenColumn();;){for(var value=token.value,valueLength=value.length;valueIndex<valueLength;){var chr=value.charAt(valueIndex);if(chr==closingBracket){if(0==(depth-=1))return{row:iterator.getCurrentTokenRow(),column:valueIndex+iterator.getCurrentTokenColumn()}}else chr==bracket&&(depth+=1);valueIndex+=1}do{token=iterator.stepForward()}while(token&&!typeRe.test(token.type));if(null==token)break;valueIndex=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),lang=acequire("./lib/lang"),BidiHandler=acequire("./bidihandler").BidiHandler,config=acequire("./config"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Selection=acequire("./selection").Selection,TextMode=acequire("./mode/text").Mode,Range=acequire("./range").Range,Document=acequire("./document").Document,BackgroundTokenizer=acequire("./background_tokenizer").BackgroundTokenizer,SearchHighlight=acequire("./search_highlight").SearchHighlight,EditSession=function(text,mode){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++EditSession.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof text&&text.getLine||(text=new Document(text)),this.$bidiHandler=new BidiHandler(this),this.setDocument(text),this.selection=new Selection(this),config.resetOptions(this),this.setMode(mode),config._signal("session",this)};EditSession.$uid=0,function(){oop.implement(this,EventEmitter),this.setDocument=function(doc){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=doc,doc.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(docRow){if(!docRow)return this.$docRowCache=[],void(this.$screenRowCache=[]);var l=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,docRow)+1;l>i&&(this.$docRowCache.splice(i,l),this.$screenRowCache.splice(i,l))},this.$getRowCacheIndex=function(cacheArray,val){for(var low=0,hi=cacheArray.length-1;low<=hi;){var mid=low+hi>>1,c=cacheArray[mid];if(val>c)low=mid+1;else{if(!(val<c))return mid;hi=mid-1}}return low-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var fold=e.data;this.$resetRowCache(fold.start.row)},this.onChange=function(delta){this.$modified=!0,this.$bidiHandler.onChange(delta),this.$resetRowCache(delta.start.row);var removedFolds=this.$updateInternalDataOnChange(delta);this.$fromUndo||!this.$undoManager||delta.ignore||(this.$deltasDoc.push(delta),removedFolds&&0!=removedFolds.length&&this.$deltasFold.push({action:"removeFolds",folds:removedFolds}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(delta),this._signal("change",delta)},this.setValue=function(text){this.doc.setValue(text),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(row){return this.bgTokenizer.getState(row)},this.getTokens=function(row){return this.bgTokenizer.getTokens(row)},this.getTokenAt=function(row,column){var token,tokens=this.bgTokenizer.getTokens(row),c=0;if(null==column){var i=tokens.length-1;c=this.getLine(row).length}else for(i=0;i<tokens.length&&!((c+=tokens[i].value.length)>=column);i++);return(token=tokens[i])?(token.index=i,token.start=c-token.value.length,token):null},this.setUndoManager=function(undoManager){if(this.$undoManager=undoManager,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),undoManager){var self=this;this.$syncInformUndoManager=function(){self.$informUndoManager.cancel(),self.$deltasFold.length&&(self.$deltas.push({group:"fold",deltas:self.$deltasFold}),self.$deltasFold=[]),self.$deltasDoc.length&&(self.$deltas.push({group:"doc",deltas:self.$deltasDoc}),self.$deltasDoc=[]),self.$deltas.length>0&&undoManager.execute({action:"aceupdate",args:[self.$deltas,self],merge:self.mergeUndoDeltas}),self.mergeUndoDeltas=!1,self.$deltas=[]},this.$informUndoManager=lang.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?lang.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(val){this.setOption("useSoftTabs",val)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(tabSize){this.setOption("tabSize",tabSize)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(position){return this.$useSoftTabs&&position.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(navigateWithinSoftTabs){this.setOption("navigateWithinSoftTabs",navigateWithinSoftTabs)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(overwrite){this.setOption("overwrite",overwrite)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(row,className){this.$decorations[row]||(this.$decorations[row]=""),this.$decorations[row]+=" "+className,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(row,className){this.$decorations[row]=(this.$decorations[row]||"").replace(" "+className,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(rows){this.$breakpoints=[];for(var i=0;i<rows.length;i++)this.$breakpoints[rows[i]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(row,className){void 0===className&&(className="ace_breakpoint"),className?this.$breakpoints[row]=className:delete this.$breakpoints[row],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(row){delete this.$breakpoints[row],this._signal("changeBreakpoint",{})},this.addMarker=function(range,clazz,type,inFront){var id=this.$markerId++,marker={range:range,type:type||"line",renderer:"function"==typeof type?type:null,clazz:clazz,inFront:!!inFront,id:id};return inFront?(this.$frontMarkers[id]=marker,this._signal("changeFrontMarker")):(this.$backMarkers[id]=marker,this._signal("changeBackMarker")),id},this.addDynamicMarker=function(marker,inFront){if(marker.update){var id=this.$markerId++;return marker.id=id,marker.inFront=!!inFront,inFront?(this.$frontMarkers[id]=marker,this._signal("changeFrontMarker")):(this.$backMarkers[id]=marker,this._signal("changeBackMarker")),marker}},this.removeMarker=function(markerId){var marker=this.$frontMarkers[markerId]||this.$backMarkers[markerId];if(marker){var markers=marker.inFront?this.$frontMarkers:this.$backMarkers;marker&&(delete markers[markerId],this._signal(marker.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(inFront){return inFront?this.$frontMarkers:this.$backMarkers},this.highlight=function(re){if(!this.$searchHighlight){var highlight=new SearchHighlight(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(highlight)}this.$searchHighlight.setRegexp(re)},this.highlightLines=function(startRow,endRow,clazz,inFront){"number"!=typeof endRow&&(clazz=endRow,endRow=startRow),clazz||(clazz="ace_step");var range=new Range(startRow,0,endRow,1/0);return range.id=this.addMarker(range,clazz,"fullLine",inFront),range},this.setAnnotations=function(annotations){this.$annotations=annotations,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(text){var match=text.match(/^.*?(\r?\n)/m);this.$autoNewLine=match?match[1]:"\n"},this.getWordRange=function(row,column){var line=this.getLine(row),inToken=!1;if(column>0&&(inToken=!!line.charAt(column-1).match(this.tokenRe)),inToken||(inToken=!!line.charAt(column).match(this.tokenRe)),inToken)var re=this.tokenRe;else if(/^\s+$/.test(line.slice(column-1,column+1)))re=/\s/;else re=this.nonTokenRe;var start=column;if(start>0){do{start--}while(start>=0&&line.charAt(start).match(re));start++}for(var end=column;end<line.length&&line.charAt(end).match(re);)end++;return new Range(row,start,row,end)},this.getAWordRange=function(row,column){for(var wordRange=this.getWordRange(row,column),line=this.getLine(wordRange.end.row);line.charAt(wordRange.end.column).match(/[ \t]/);)wordRange.end.column+=1;return wordRange},this.setNewLineMode=function(newLineMode){this.doc.setNewLineMode(newLineMode)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(useWorker){this.setOption("useWorker",useWorker)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var rows=e.data;this.bgTokenizer.start(rows.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(mode,cb){if(mode&&"object"==typeof mode){if(mode.getTokenizer)return this.$onChangeMode(mode);var options=mode,path=options.path}else path=mode||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new TextMode),this.$modes[path]&&!options)return this.$onChangeMode(this.$modes[path]),void(cb&&cb());this.$modeId=path,config.loadModule(["mode",path],function(m){if(this.$modeId!==path)return cb&&cb();this.$modes[path]&&!options?this.$onChangeMode(this.$modes[path]):m&&m.Mode&&(m=new m.Mode(options),options||(this.$modes[path]=m,m.$id=path),this.$onChangeMode(m)),cb&&cb()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(mode,$isPlaceholder){if($isPlaceholder||(this.$modeId=mode.$id),this.$mode!==mode){this.$mode=mode,this.$stopWorker(),this.$useWorker&&this.$startWorker();var tokenizer=mode.getTokenizer();if(void 0!==tokenizer.addEventListener){var onReloadTokenizer=this.onReloadTokenizer.bind(this);tokenizer.addEventListener("update",onReloadTokenizer)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(tokenizer);else{this.bgTokenizer=new BackgroundTokenizer(tokenizer);var _self=this;this.bgTokenizer.addEventListener("update",(function(e){_self._signal("tokenizerUpdate",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=mode.tokenRe,this.nonTokenRe=mode.nonTokenRe,$isPlaceholder||(mode.attachToSession&&mode.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(mode.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){config.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(scrollTop){this.$scrollTop===scrollTop||isNaN(scrollTop)||(this.$scrollTop=scrollTop,this._signal("changeScrollTop",scrollTop))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(scrollLeft){this.$scrollLeft===scrollLeft||isNaN(scrollLeft)||(this.$scrollLeft=scrollLeft,this._signal("changeScrollLeft",scrollLeft))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var width=0;return this.lineWidgets.forEach((function(w){w&&w.screenWidth>width&&(width=w.screenWidth)})),this.lineWidgetWidth=width},this.$computeWidth=function(force){if(this.$modified||force){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var lines=this.doc.getAllLines(),cache=this.$rowLengthCache,longestScreenLine=0,foldIndex=0,foldLine=this.$foldData[foldIndex],foldStart=foldLine?foldLine.start.row:1/0,len=lines.length,i=0;i<len;i++){if(i>foldStart){if((i=foldLine.end.row+1)>=len)break;foldStart=(foldLine=this.$foldData[foldIndex++])?foldLine.start.row:1/0}null==cache[i]&&(cache[i]=this.$getStringScreenWidth(lines[i])[0]),cache[i]>longestScreenLine&&(longestScreenLine=cache[i])}this.screenWidth=longestScreenLine}},this.getLine=function(row){return this.doc.getLine(row)},this.getLines=function(firstRow,lastRow){return this.doc.getLines(firstRow,lastRow)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(range){return this.doc.getTextRange(range||this.selection.getRange())},this.insert=function(position,text){return this.doc.insert(position,text)},this.remove=function(range){return this.doc.remove(range)},this.removeFullLines=function(firstRow,lastRow){return this.doc.removeFullLines(firstRow,lastRow)},this.undoChanges=function(deltas,dontSelect){if(deltas.length){this.$fromUndo=!0;for(var lastUndoRange=null,i=deltas.length-1;-1!=i;i--){var delta=deltas[i];"doc"==delta.group?(this.doc.revertDeltas(delta.deltas),lastUndoRange=this.$getUndoSelection(delta.deltas,!0,lastUndoRange)):delta.deltas.forEach((function(foldDelta){this.addFolds(foldDelta.folds)}),this)}return this.$fromUndo=!1,lastUndoRange&&this.$undoSelect&&!dontSelect&&this.selection.setSelectionRange(lastUndoRange),lastUndoRange}},this.redoChanges=function(deltas,dontSelect){if(deltas.length){this.$fromUndo=!0;for(var lastUndoRange=null,i=0;i<deltas.length;i++){var delta=deltas[i];"doc"==delta.group&&(this.doc.applyDeltas(delta.deltas),lastUndoRange=this.$getUndoSelection(delta.deltas,!1,lastUndoRange))}return this.$fromUndo=!1,lastUndoRange&&this.$undoSelect&&!dontSelect&&this.selection.setSelectionRange(lastUndoRange),lastUndoRange}},this.setUndoSelect=function(enable){this.$undoSelect=enable},this.$getUndoSelection=function(deltas,isUndo,lastUndoRange){function isInsert(delta){return isUndo?"insert"!==delta.action:"insert"===delta.action}var range,point,delta=deltas[0];isInsert(delta)?range=Range.fromPoints(delta.start,delta.end):range=Range.fromPoints(delta.start,delta.start);for(var i=1;i<deltas.length;i++)isInsert(delta=deltas[i])?(point=delta.start,-1==range.compare(point.row,point.column)&&range.setStart(point),point=delta.end,1==range.compare(point.row,point.column)&&range.setEnd(point),!0):(point=delta.start,-1==range.compare(point.row,point.column)&&(range=Range.fromPoints(delta.start,delta.start)),!1);if(null!=lastUndoRange){0===Range.comparePoints(lastUndoRange.start,range.start)&&(lastUndoRange.start.column+=range.end.column-range.start.column,lastUndoRange.end.column+=range.end.column-range.start.column);var cmp=lastUndoRange.compareRange(range);1==cmp?range.setStart(lastUndoRange.start):-1==cmp&&range.setEnd(lastUndoRange.end)}return range},this.replace=function(range,text){return this.doc.replace(range,text)},this.moveText=function(fromRange,toPosition,copy){var text=this.getTextRange(fromRange),folds=this.getFoldsInRange(fromRange),toRange=Range.fromPoints(toPosition,toPosition);if(!copy){this.remove(fromRange);var rowDiff=fromRange.start.row-fromRange.end.row;(collDiff=rowDiff?-fromRange.end.column:fromRange.start.column-fromRange.end.column)&&(toRange.start.row==fromRange.end.row&&toRange.start.column>fromRange.end.column&&(toRange.start.column+=collDiff),toRange.end.row==fromRange.end.row&&toRange.end.column>fromRange.end.column&&(toRange.end.column+=collDiff)),rowDiff&&toRange.start.row>=fromRange.end.row&&(toRange.start.row+=rowDiff,toRange.end.row+=rowDiff)}if(toRange.end=this.insert(toRange.start,text),folds.length){var oldStart=fromRange.start,newStart=toRange.start,collDiff=(rowDiff=newStart.row-oldStart.row,newStart.column-oldStart.column);this.addFolds(folds.map((function(x){return(x=x.clone()).start.row==oldStart.row&&(x.start.column+=collDiff),x.end.row==oldStart.row&&(x.end.column+=collDiff),x.start.row+=rowDiff,x.end.row+=rowDiff,x})))}return toRange},this.indentRows=function(startRow,endRow,indentString){indentString=indentString.replace(/\t/g,this.getTabString());for(var row=startRow;row<=endRow;row++)this.doc.insertInLine({row:row,column:0},indentString)},this.outdentRows=function(range){for(var rowRange=range.collapseRows(),deleteRange=new Range(0,0,0,0),size=this.getTabSize(),i=rowRange.start.row;i<=rowRange.end.row;++i){var line=this.getLine(i);deleteRange.start.row=i,deleteRange.end.row=i;for(var j=0;j<size&&" "==line.charAt(j);++j);j<size&&"\t"==line.charAt(j)?(deleteRange.start.column=j,deleteRange.end.column=j+1):(deleteRange.start.column=0,deleteRange.end.column=j),this.remove(deleteRange)}},this.$moveLines=function(firstRow,lastRow,dir){if(firstRow=this.getRowFoldStart(firstRow),lastRow=this.getRowFoldEnd(lastRow),dir<0){if((row=this.getRowFoldStart(firstRow+dir))<0)return 0;var diff=row-firstRow}else if(dir>0){var row;if((row=this.getRowFoldEnd(lastRow+dir))>this.doc.getLength()-1)return 0;diff=row-lastRow}else{firstRow=this.$clipRowToDocument(firstRow);diff=(lastRow=this.$clipRowToDocument(lastRow))-firstRow+1}var range=new Range(firstRow,0,lastRow,Number.MAX_VALUE),folds=this.getFoldsInRange(range).map((function(x){return(x=x.clone()).start.row+=diff,x.end.row+=diff,x})),lines=0==dir?this.doc.getLines(firstRow,lastRow):this.doc.removeFullLines(firstRow,lastRow);return this.doc.insertFullLines(firstRow+diff,lines),folds.length&&this.addFolds(folds),diff},this.moveLinesUp=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,-1)},this.moveLinesDown=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,1)},this.duplicateLines=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,0)},this.$clipRowToDocument=function(row){return Math.max(0,Math.min(row,this.doc.getLength()-1))},this.$clipColumnToRow=function(row,column){return column<0?0:Math.min(this.doc.getLine(row).length,column)},this.$clipPositionToDocument=function(row,column){if(column=Math.max(0,column),row<0)row=0,column=0;else{var len=this.doc.getLength();row>=len?(row=len-1,column=this.doc.getLine(len-1).length):column=Math.min(this.doc.getLine(row).length,column)}return{row:row,column:column}},this.$clipRangeToDocument=function(range){range.start.row<0?(range.start.row=0,range.start.column=0):range.start.column=this.$clipColumnToRow(range.start.row,range.start.column);var len=this.doc.getLength()-1;return range.end.row>len?(range.end.row=len,range.end.column=this.doc.getLine(len).length):range.end.column=this.$clipColumnToRow(range.end.row,range.end.column),range},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(useWrapMode){if(useWrapMode!=this.$useWrapMode){if(this.$useWrapMode=useWrapMode,this.$modified=!0,this.$resetRowCache(0),useWrapMode){var len=this.getLength();this.$wrapData=Array(len),this.$updateWrapData(0,len-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(min,max){this.$wrapLimitRange.min===min&&this.$wrapLimitRange.max===max||(this.$wrapLimitRange={min:min,max:max},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(desiredLimit,$printMargin){var limits=this.$wrapLimitRange;limits.max<0&&(limits={min:$printMargin,max:$printMargin});var wrapLimit=this.$constrainWrapLimit(desiredLimit,limits.min,limits.max);return wrapLimit!=this.$wrapLimit&&wrapLimit>1&&(this.$wrapLimit=wrapLimit,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(wrapLimit,min,max){return min&&(wrapLimit=Math.max(min,wrapLimit)),max&&(wrapLimit=Math.min(max,wrapLimit)),wrapLimit},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(limit){this.setWrapLimitRange(limit,limit)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(delta){var useWrapMode=this.$useWrapMode,action=delta.action,start=delta.start,end=delta.end,firstRow=start.row,lastRow=end.row,len=lastRow-firstRow,removedFolds=null;if(this.$updating=!0,0!=len)if("remove"===action){this[useWrapMode?"$wrapData":"$rowLengthCache"].splice(firstRow,len);var foldLines=this.$foldData;removedFolds=this.getFoldsInRange(delta),this.removeFolds(removedFolds);var idx=0;if(foldLine=this.getFoldLine(end.row)){foldLine.addRemoveChars(end.row,end.column,start.column-end.column),foldLine.shiftRow(-len);var foldLineBefore=this.getFoldLine(firstRow);foldLineBefore&&foldLineBefore!==foldLine&&(foldLineBefore.merge(foldLine),foldLine=foldLineBefore),idx=foldLines.indexOf(foldLine)+1}for(;idx<foldLines.length;idx++){(foldLine=foldLines[idx]).start.row>=end.row&&foldLine.shiftRow(-len)}lastRow=firstRow}else{var args=Array(len);args.unshift(firstRow,0);var arr=useWrapMode?this.$wrapData:this.$rowLengthCache;arr.splice.apply(arr,args);foldLines=this.$foldData,idx=0;if(foldLine=this.getFoldLine(firstRow)){var cmp=foldLine.range.compareInside(start.row,start.column);0==cmp?(foldLine=foldLine.split(start.row,start.column))&&(foldLine.shiftRow(len),foldLine.addRemoveChars(lastRow,0,end.column-start.column)):-1==cmp&&(foldLine.addRemoveChars(firstRow,0,end.column-start.column),foldLine.shiftRow(len)),idx=foldLines.indexOf(foldLine)+1}for(;idx<foldLines.length;idx++){var foldLine;(foldLine=foldLines[idx]).start.row>=firstRow&&foldLine.shiftRow(len)}}else len=Math.abs(delta.start.column-delta.end.column),"remove"===action&&(removedFolds=this.getFoldsInRange(delta),this.removeFolds(removedFolds),len=-len),(foldLine=this.getFoldLine(firstRow))&&foldLine.addRemoveChars(firstRow,start.column,len);return useWrapMode&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,useWrapMode?this.$updateWrapData(firstRow,lastRow):this.$updateRowLengthCache(firstRow,lastRow),removedFolds},this.$updateRowLengthCache=function(firstRow,lastRow,b){this.$rowLengthCache[firstRow]=null,this.$rowLengthCache[lastRow]=null},this.$updateWrapData=function(firstRow,lastRow){var tokens,foldLine,lines=this.doc.getAllLines(),tabSize=this.getTabSize(),wrapData=this.$wrapData,wrapLimit=this.$wrapLimit,row=firstRow;for(lastRow=Math.min(lastRow,lines.length-1);row<=lastRow;)(foldLine=this.getFoldLine(row,foldLine))?(tokens=[],foldLine.walk(function(placeholder,row,column,lastColumn){var walkTokens;if(null!=placeholder){(walkTokens=this.$getDisplayTokens(placeholder,tokens.length))[0]=PLACEHOLDER_START;for(var i=1;i<walkTokens.length;i++)walkTokens[i]=PLACEHOLDER_BODY}else walkTokens=this.$getDisplayTokens(lines[row].substring(lastColumn,column),tokens.length);tokens=tokens.concat(walkTokens)}.bind(this),foldLine.end.row,lines[foldLine.end.row].length+1),wrapData[foldLine.start.row]=this.$computeWrapSplits(tokens,wrapLimit,tabSize),row=foldLine.end.row+1):(tokens=this.$getDisplayTokens(lines[row]),wrapData[row]=this.$computeWrapSplits(tokens,wrapLimit,tabSize),row++)};var PLACEHOLDER_START=3,PLACEHOLDER_BODY=4;function isFullWidth(c){return!(c<4352)&&(c>=4352&&c<=4447||c>=4515&&c<=4519||c>=4602&&c<=4607||c>=9001&&c<=9002||c>=11904&&c<=11929||c>=11931&&c<=12019||c>=12032&&c<=12245||c>=12272&&c<=12283||c>=12288&&c<=12350||c>=12353&&c<=12438||c>=12441&&c<=12543||c>=12549&&c<=12589||c>=12593&&c<=12686||c>=12688&&c<=12730||c>=12736&&c<=12771||c>=12784&&c<=12830||c>=12832&&c<=12871||c>=12880&&c<=13054||c>=13056&&c<=19903||c>=19968&&c<=42124||c>=42128&&c<=42182||c>=43360&&c<=43388||c>=44032&&c<=55203||c>=55216&&c<=55238||c>=55243&&c<=55291||c>=63744&&c<=64255||c>=65040&&c<=65049||c>=65072&&c<=65106||c>=65108&&c<=65126||c>=65128&&c<=65131||c>=65281&&c<=65376||c>=65504&&c<=65510)}this.$computeWrapSplits=function(tokens,wrapLimit,tabSize){if(0==tokens.length)return[];var splits=[],displayLength=tokens.length,lastSplit=0,lastDocSplit=0,isCode=this.$wrapAsCode,indentedSoftWrap=this.$indentedSoftWrap,maxIndent=wrapLimit<=Math.max(2*tabSize,8)||!1===indentedSoftWrap?0:Math.floor(wrapLimit/2);function addSplit(screenPos){var displayed=tokens.slice(lastSplit,screenPos),len=displayed.length;displayed.join("").replace(/12/g,(function(){len-=1})).replace(/2/g,(function(){len-=1})),splits.length||(indent=function(){var indentation=0;if(0===maxIndent)return indentation;if(indentedSoftWrap)for(var i=0;i<tokens.length;i++){var token=tokens[i];if(10==token)indentation+=1;else{if(11!=token){if(12==token)continue;break}indentation+=tabSize}}return isCode&&!1!==indentedSoftWrap&&(indentation+=tabSize),Math.min(indentation,maxIndent)}(),splits.indent=indent),lastDocSplit+=len,splits.push(lastDocSplit),lastSplit=screenPos}for(var indent=0;displayLength-lastSplit>wrapLimit-indent;){var split=lastSplit+wrapLimit-indent;if(tokens[split-1]>=10&&tokens[split]>=10)addSplit(split);else if(tokens[split]!=PLACEHOLDER_START&&tokens[split]!=PLACEHOLDER_BODY){for(var minSplit=Math.max(split-(wrapLimit-(wrapLimit>>2)),lastSplit-1);split>minSplit&&tokens[split]<PLACEHOLDER_START;)split--;if(isCode){for(;split>minSplit&&tokens[split]<PLACEHOLDER_START;)split--;for(;split>minSplit&&9==tokens[split];)split--}else for(;split>minSplit&&tokens[split]<10;)split--;split>minSplit?addSplit(++split):(2==tokens[split=lastSplit+wrapLimit]&&split--,addSplit(split-indent))}else{for(;split!=lastSplit-1&&tokens[split]!=PLACEHOLDER_START;split--);if(split>lastSplit){addSplit(split);continue}for(split=lastSplit+wrapLimit;split<tokens.length&&tokens[split]==PLACEHOLDER_BODY;split++);if(split==tokens.length)break;addSplit(split)}}return splits},this.$getDisplayTokens=function(str,offset){var tabSize,arr=[];offset=offset||0;for(var i=0;i<str.length;i++){var c=str.charCodeAt(i);if(9==c){tabSize=this.getScreenTabSize(arr.length+offset),arr.push(11);for(var n=1;n<tabSize;n++)arr.push(12)}else 32==c?arr.push(10):c>39&&c<48||c>57&&c<64?arr.push(9):c>=4352&&isFullWidth(c)?arr.push(1,2):arr.push(1)}return arr},this.$getStringScreenWidth=function(str,maxScreenColumn,screenColumn){if(0==maxScreenColumn)return[0,0];var c,column;for(null==maxScreenColumn&&(maxScreenColumn=1/0),screenColumn=screenColumn||0,column=0;column<str.length&&(9==(c=str.charCodeAt(column))?screenColumn+=this.getScreenTabSize(screenColumn):c>=4352&&isFullWidth(c)?screenColumn+=2:screenColumn+=1,!(screenColumn>maxScreenColumn));column++);return[screenColumn,column]},this.lineWidgets=null,this.getRowLength=function(row){if(this.lineWidgets)var h=this.lineWidgets[row]&&this.lineWidgets[row].rowCount||0;else h=0;return this.$useWrapMode&&this.$wrapData[row]?this.$wrapData[row].length+1+h:1+h},this.getRowLineCount=function(row){return this.$useWrapMode&&this.$wrapData[row]?this.$wrapData[row].length+1:1},this.getRowWrapIndent=function(screenRow){if(this.$useWrapMode){var pos=this.screenToDocumentPosition(screenRow,Number.MAX_VALUE),splits=this.$wrapData[pos.row];return splits.length&&splits[0]<pos.column?splits.indent:0}return 0},this.getScreenLastRowColumn=function(screenRow){var pos=this.screenToDocumentPosition(screenRow,Number.MAX_VALUE);return this.documentToScreenColumn(pos.row,pos.column)},this.getDocumentLastRowColumn=function(docRow,docColumn){var screenRow=this.documentToScreenRow(docRow,docColumn);return this.getScreenLastRowColumn(screenRow)},this.getDocumentLastRowColumnPosition=function(docRow,docColumn){var screenRow=this.documentToScreenRow(docRow,docColumn);return this.screenToDocumentPosition(screenRow,Number.MAX_VALUE/10)},this.getRowSplitData=function(row){return this.$useWrapMode?this.$wrapData[row]:void 0},this.getScreenTabSize=function(screenColumn){return this.$tabSize-screenColumn%this.$tabSize},this.screenToDocumentRow=function(screenRow,screenColumn){return this.screenToDocumentPosition(screenRow,screenColumn).row},this.screenToDocumentColumn=function(screenRow,screenColumn){return this.screenToDocumentPosition(screenRow,screenColumn).column},this.screenToDocumentPosition=function(screenRow,screenColumn,offsetX){if(screenRow<0)return{row:0,column:0};var line,column,docRow=0,docColumn=0,row=0,rowLength=0,rowCache=this.$screenRowCache,i=this.$getRowCacheIndex(rowCache,screenRow),l=rowCache.length;if(l&&i>=0){row=rowCache[i],docRow=this.$docRowCache[i];var doCache=screenRow>rowCache[l-1]}else doCache=!l;for(var maxRow=this.getLength()-1,foldLine=this.getNextFoldLine(docRow),foldStart=foldLine?foldLine.start.row:1/0;row<=screenRow&&!(row+(rowLength=this.getRowLength(docRow))>screenRow||docRow>=maxRow);)row+=rowLength,++docRow>foldStart&&(docRow=foldLine.end.row+1,foldStart=(foldLine=this.getNextFoldLine(docRow,foldLine))?foldLine.start.row:1/0),doCache&&(this.$docRowCache.push(docRow),this.$screenRowCache.push(row));if(foldLine&&foldLine.start.row<=docRow)line=this.getFoldDisplayLine(foldLine),docRow=foldLine.start.row;else{if(row+rowLength<=screenRow||docRow>maxRow)return{row:maxRow,column:this.getLine(maxRow).length};line=this.getLine(docRow),foldLine=null}var wrapIndent=0,splitIndex=Math.floor(screenRow-row);if(this.$useWrapMode){var splits=this.$wrapData[docRow];splits&&(column=splits[splitIndex],splitIndex>0&&splits.length&&(wrapIndent=splits.indent,docColumn=splits[splitIndex-1]||splits[splits.length-1],line=line.substring(docColumn)))}return void 0!==offsetX&&this.$bidiHandler.isBidiRow(row+splitIndex,docRow,splitIndex)&&(screenColumn=this.$bidiHandler.offsetToCol(offsetX)),docColumn+=this.$getStringScreenWidth(line,screenColumn-wrapIndent)[1],this.$useWrapMode&&docColumn>=column&&(docColumn=column-1),foldLine?foldLine.idxToPosition(docColumn):{row:docRow,column:docColumn}},this.documentToScreenPosition=function(docRow,docColumn){if(void 0===docColumn)var pos=this.$clipPositionToDocument(docRow.row,docRow.column);else pos=this.$clipPositionToDocument(docRow,docColumn);docRow=pos.row,docColumn=pos.column;var fold,screenRow=0,foldStartRow=null;(fold=this.getFoldAt(docRow,docColumn,1))&&(docRow=fold.start.row,docColumn=fold.start.column);var rowEnd,row=0,rowCache=this.$docRowCache,i=this.$getRowCacheIndex(rowCache,docRow),l=rowCache.length;if(l&&i>=0){row=rowCache[i],screenRow=this.$screenRowCache[i];var doCache=docRow>rowCache[l-1]}else doCache=!l;for(var foldLine=this.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;row<docRow;){if(row>=foldStart){if((rowEnd=foldLine.end.row+1)>docRow)break;foldStart=(foldLine=this.getNextFoldLine(rowEnd,foldLine))?foldLine.start.row:1/0}else rowEnd=row+1;screenRow+=this.getRowLength(row),row=rowEnd,doCache&&(this.$docRowCache.push(row),this.$screenRowCache.push(screenRow))}var textLine="";foldLine&&row>=foldStart?(textLine=this.getFoldDisplayLine(foldLine,docRow,docColumn),foldStartRow=foldLine.start.row):(textLine=this.getLine(docRow).substring(0,docColumn),foldStartRow=docRow);var wrapIndent=0;if(this.$useWrapMode){var wrapRow=this.$wrapData[foldStartRow];if(wrapRow){for(var screenRowOffset=0;textLine.length>=wrapRow[screenRowOffset];)screenRow++,screenRowOffset++;textLine=textLine.substring(wrapRow[screenRowOffset-1]||0,textLine.length),wrapIndent=screenRowOffset>0?wrapRow.indent:0}}return{row:screenRow,column:wrapIndent+this.$getStringScreenWidth(textLine)[0]}},this.documentToScreenColumn=function(row,docColumn){return this.documentToScreenPosition(row,docColumn).column},this.documentToScreenRow=function(docRow,docColumn){return this.documentToScreenPosition(docRow,docColumn).row},this.getScreenLength=function(){var screenRows=0,fold=null;if(this.$useWrapMode)for(var lastRow=this.$wrapData.length,row=0,foldStart=(i=0,(fold=this.$foldData[i++])?fold.start.row:1/0);row<lastRow;){var splits=this.$wrapData[row];screenRows+=splits?splits.length+1:1,++row>foldStart&&(row=fold.end.row+1,foldStart=(fold=this.$foldData[i++])?fold.start.row:1/0)}else{screenRows=this.getLength();for(var foldData=this.$foldData,i=0;i<foldData.length;i++)screenRows-=(fold=foldData[i]).end.row-fold.start.row}return this.lineWidgets&&(screenRows+=this.$getWidgetScreenLength()),screenRows},this.$setFontMetrics=function(fm){this.$enableVarChar&&(this.$getStringScreenWidth=function(str,maxScreenColumn,screenColumn){if(0===maxScreenColumn)return[0,0];var c,column;for(maxScreenColumn||(maxScreenColumn=1/0),screenColumn=screenColumn||0,column=0;column<str.length&&!((screenColumn+="\t"===(c=str.charAt(column))?this.getScreenTabSize(screenColumn):fm.getCharacterWidth(c))>maxScreenColumn);column++);return[screenColumn,column]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=isFullWidth}.call(EditSession.prototype),acequire("./edit_session/folding").Folding.call(EditSession.prototype),acequire("./edit_session/bracket_match").BracketMatch.call(EditSession.prototype),config.defineOptions(EditSession.prototype,"session",{wrap:{set:function(value){if(value&&"off"!=value?"free"==value?value=!0:"printMargin"==value?value=-1:"string"==typeof value&&(value=parseInt(value,10)||!1):value=!1,this.$wrap!=value)if(this.$wrap=value,value){var col="number"==typeof value?value:null;this.setWrapLimitRange(col,col),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(val){(val="auto"==val?"text"!=this.$mode.type:"text"!=val)!=this.$wrapAsCode&&(this.$wrapAsCode=val,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(useWorker){this.$useWorker=useWorker,this.$stopWorker(),useWorker&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(tabSize){isNaN(tabSize)||this.$tabSize===tabSize||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=tabSize,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(val){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(val){this.doc.setNewLineMode(val)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(val){this.setMode(val)},get:function(){return this.$modeId}}}),exports.EditSession=EditSession})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(acequire,exports,module){"use strict";var lang=acequire("./lib/lang"),oop=acequire("./lib/oop"),Range=acequire("./range").Range,Search=function(){this.$options={}};(function(){this.set=function(options){return oop.mixin(this.$options,options),this},this.getOptions=function(){return lang.copyObject(this.$options)},this.setOptions=function(options){this.$options=options},this.find=function(session){var options=this.$options,iterator=this.$matchIterator(session,options);if(!iterator)return!1;var firstRange=null;return iterator.forEach((function(sr,sc,er,ec){return firstRange=new Range(sr,sc,er,ec),!(sc==ec&&options.start&&options.start.start&&0!=options.skipCurrent&&firstRange.isEqual(options.start))||(firstRange=null,!1)})),firstRange},this.findAll=function(session){var options=this.$options;if(!options.needle)return[];this.$assembleRegExp(options);var range=options.range,lines=range?session.getLines(range.start.row,range.end.row):session.doc.getAllLines(),ranges=[],re=options.re;if(options.$isMultiLine){var prevRange,len=re.length,maxRow=lines.length-len;outer:for(var row=re.offset||0;row<=maxRow;row++){for(var j=0;j<len;j++)if(-1==lines[row+j].search(re[j]))continue outer;var startLine=lines[row],line=lines[row+len-1],startIndex=startLine.length-startLine.match(re[0])[0].length,endIndex=line.match(re[len-1])[0].length;prevRange&&prevRange.end.row===row&&prevRange.end.column>startIndex||(ranges.push(prevRange=new Range(row,startIndex,row+len-1,endIndex)),len>2&&(row=row+len-2))}}else for(var i=0;i<lines.length;i++){var matches=lang.getMatchOffsets(lines[i],re);for(j=0;j<matches.length;j++){var match=matches[j];ranges.push(new Range(i,match.offset,i,match.offset+match.length))}}if(range){var startColumn=range.start.column,endColumn=range.start.column;for(i=0,j=ranges.length-1;i<j&&ranges[i].start.column<startColumn&&ranges[i].start.row==range.start.row;)i++;for(;i<j&&ranges[j].end.column>endColumn&&ranges[j].end.row==range.end.row;)j--;for(ranges=ranges.slice(i,j+1),i=0,j=ranges.length;i<j;i++)ranges[i].start.row+=range.start.row,ranges[i].end.row+=range.start.row}return ranges},this.replace=function(input,replacement){var options=this.$options,re=this.$assembleRegExp(options);if(options.$isMultiLine)return replacement;if(re){var match=re.exec(input);if(!match||match[0].length!=input.length)return null;if(replacement=input.replace(re,replacement),options.preserveCase){replacement=replacement.split("");for(var i=Math.min(input.length,input.length);i--;){var ch=input[i];ch&&ch.toLowerCase()!=ch?replacement[i]=replacement[i].toUpperCase():replacement[i]=replacement[i].toLowerCase()}replacement=replacement.join("")}return replacement}},this.$assembleRegExp=function(options,$disableFakeMultiline){if(options.needle instanceof RegExp)return options.re=options.needle;var needle=options.needle;if(!options.needle)return options.re=!1;options.regExp||(needle=lang.escapeRegExp(needle)),options.wholeWord&&(needle=function(needle,options){function wordBoundary(c){return/\w/.test(c)||options.regExp?"\\b":""}return wordBoundary(needle[0])+needle+wordBoundary(needle[needle.length-1])}(needle,options));var modifier=options.caseSensitive?"gm":"gmi";if(options.$isMultiLine=!$disableFakeMultiline&&/[\n\r]/.test(needle),options.$isMultiLine)return options.re=this.$assembleMultilineRegExp(needle,modifier);try{var re=new RegExp(needle,modifier)}catch(e){re=!1}return options.re=re},this.$assembleMultilineRegExp=function(needle,modifier){for(var parts=needle.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),re=[],i=0;i<parts.length;i++)try{re.push(new RegExp(parts[i],modifier))}catch(e){return!1}return re},this.$matchIterator=function(session,options){var re=this.$assembleRegExp(options);if(!re)return!1;var backwards=1==options.backwards,skipCurrent=0!=options.skipCurrent,range=options.range,start=options.start;start||(start=range?range[backwards?"end":"start"]:session.selection.getRange()),start.start&&(start=start[skipCurrent!=backwards?"end":"start"]);var firstRow=range?range.start.row:0,lastRow=range?range.end.row:session.getLength()-1;if(backwards)var forEach=function(callback){var row=start.row;if(!forEachInLine(row,start.column,callback)){for(row--;row>=firstRow;row--)if(forEachInLine(row,Number.MAX_VALUE,callback))return;if(0!=options.wrap)for(row=lastRow,firstRow=start.row;row>=firstRow;row--)if(forEachInLine(row,Number.MAX_VALUE,callback))return}};else forEach=function(callback){var row=start.row;if(!forEachInLine(row,start.column,callback)){for(row+=1;row<=lastRow;row++)if(forEachInLine(row,0,callback))return;if(0!=options.wrap)for(row=firstRow,lastRow=start.row;row<=lastRow;row++)if(forEachInLine(row,0,callback))return}};if(options.$isMultiLine)var len=re.length,forEachInLine=function(row,offset,callback){var startRow=backwards?row-len+1:row;if(!(startRow<0)){var line=session.getLine(startRow),startIndex=line.search(re[0]);if(!(!backwards&&startIndex<offset||-1===startIndex)){for(var i=1;i<len;i++)if(-1==(line=session.getLine(startRow+i)).search(re[i]))return;var endIndex=line.match(re[len-1])[0].length;if(!(backwards&&endIndex>offset))return!!callback(startRow,startIndex,startRow+len-1,endIndex)||void 0}}};else if(backwards)forEachInLine=function(row,endIndex,callback){var m,line=session.getLine(row),matches=[],last=0;for(re.lastIndex=0;m=re.exec(line);){var length=m[0].length;if(last=m.index,!length){if(last>=line.length)break;re.lastIndex=last+=1}if(m.index+length>endIndex)break;matches.push(m.index,length)}for(var i=matches.length-1;i>=0;i-=2){var column=matches[i-1];if(callback(row,column,row,column+(length=matches[i])))return!0}};else forEachInLine=function(row,startIndex,callback){var m,line=session.getLine(row),last=startIndex;for(re.lastIndex=startIndex;m=re.exec(line);){var length=m[0].length;if(callback(row,last=m.index,row,last+length))return!0;if(!length&&(re.lastIndex=last+=1,last>=line.length))return!1}};return{forEach:forEach}}}).call(Search.prototype),exports.Search=Search})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(acequire,exports,module){"use strict";var keyUtil=acequire("../lib/keys"),useragent=acequire("../lib/useragent"),KEY_MODS=keyUtil.KEY_MODS;function HashHandler(config,platform){this.platform=platform||(useragent.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(config),this.$singleCommand=!0}function MultiHashHandler(config,platform){HashHandler.call(this,config,platform),this.$singleCommand=!1}MultiHashHandler.prototype=HashHandler.prototype,function(){function getPosition(command){return"object"==typeof command&&command.bindKey&&command.bindKey.position||(command.isDefault?-100:0)}this.addCommand=function(command){this.commands[command.name]&&this.removeCommand(command),this.commands[command.name]=command,command.bindKey&&this._buildKeyHash(command)},this.removeCommand=function(command,keepCommand){var name=command&&("string"==typeof command?command:command.name);command=this.commands[name],keepCommand||delete this.commands[name];var ckb=this.commandKeyBinding;for(var keyId in ckb){var cmdGroup=ckb[keyId];if(cmdGroup==command)delete ckb[keyId];else if(Array.isArray(cmdGroup)){var i=cmdGroup.indexOf(command);-1!=i&&(cmdGroup.splice(i,1),1==cmdGroup.length&&(ckb[keyId]=cmdGroup[0]))}}},this.bindKey=function(key,command,position){if("object"==typeof key&&key&&(null==position&&(position=key.position),key=key[this.platform]),key)return"function"==typeof command?this.addCommand({exec:command,bindKey:key,name:command.name||key}):void key.split("|").forEach((function(keyPart){var chain="";if(-1!=keyPart.indexOf(" ")){var parts=keyPart.split(/\s+/);keyPart=parts.pop(),parts.forEach((function(keyPart){var binding=this.parseKeys(keyPart),id=KEY_MODS[binding.hashId]+binding.key;chain+=(chain?" ":"")+id,this._addCommandToBinding(chain,"chainKeys")}),this),chain+=" "}var binding=this.parseKeys(keyPart),id=KEY_MODS[binding.hashId]+binding.key;this._addCommandToBinding(chain+id,command,position)}),this)},this._addCommandToBinding=function(keyId,command,position){var i,ckb=this.commandKeyBinding;if(command)if(!ckb[keyId]||this.$singleCommand)ckb[keyId]=command;else{Array.isArray(ckb[keyId])?-1!=(i=ckb[keyId].indexOf(command))&&ckb[keyId].splice(i,1):ckb[keyId]=[ckb[keyId]],"number"!=typeof position&&(position=getPosition(command));var commands=ckb[keyId];for(i=0;i<commands.length;i++){if(getPosition(commands[i])>position)break}commands.splice(i,0,command)}else delete ckb[keyId]},this.addCommands=function(commands){commands&&Object.keys(commands).forEach((function(name){var command=commands[name];if(command){if("string"==typeof command)return this.bindKey(command,name);"function"==typeof command&&(command={exec:command}),"object"==typeof command&&(command.name||(command.name=name),this.addCommand(command))}}),this)},this.removeCommands=function(commands){Object.keys(commands).forEach((function(name){this.removeCommand(commands[name])}),this)},this.bindKeys=function(keyList){Object.keys(keyList).forEach((function(key){this.bindKey(key,keyList[key])}),this)},this._buildKeyHash=function(command){this.bindKey(command.bindKey,command)},this.parseKeys=function(keys){var parts=keys.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(x){return x})),key=parts.pop(),keyCode=keyUtil[key];if(keyUtil.FUNCTION_KEYS[keyCode])key=keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();else{if(!parts.length)return{key:key,hashId:-1};if(1==parts.length&&"shift"==parts[0])return{key:key.toUpperCase(),hashId:-1}}for(var hashId=0,i=parts.length;i--;){var modifier=keyUtil.KEY_MODS[parts[i]];if(null==modifier)return"undefined"!=typeof console&&console.error("invalid modifier "+parts[i]+" in "+keys),!1;hashId|=modifier}return{key:key,hashId:hashId}},this.findKeyCommand=function(hashId,keyString){var key=KEY_MODS[hashId]+keyString;return this.commandKeyBinding[key]},this.handleKeyboard=function(data,hashId,keyString,keyCode){if(!(keyCode<0)){var key=KEY_MODS[hashId]+keyString,command=this.commandKeyBinding[key];return data.$keyChain&&(data.$keyChain+=" "+key,command=this.commandKeyBinding[data.$keyChain]||command),!command||"chainKeys"!=command&&"chainKeys"!=command[command.length-1]?(data.$keyChain&&(hashId&&4!=hashId||1!=keyString.length?(-1==hashId||keyCode>0)&&(data.$keyChain=""):data.$keyChain=data.$keyChain.slice(0,-key.length-1)),{command:command}):(data.$keyChain=data.$keyChain||key,{command:"null"})}},this.getStatusText=function(editor,data){return data.$keyChain||""}}.call(HashHandler.prototype),exports.HashHandler=HashHandler,exports.MultiHashHandler=MultiHashHandler})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop"),MultiHashHandler=acequire("../keyboard/hash_handler").MultiHashHandler,EventEmitter=acequire("../lib/event_emitter").EventEmitter,CommandManager=function(platform,commands){MultiHashHandler.call(this,commands,platform),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))};oop.inherits(CommandManager,MultiHashHandler),function(){oop.implement(this,EventEmitter),this.exec=function(command,editor,args){if(Array.isArray(command)){for(var i=command.length;i--;)if(this.exec(command[i],editor,args))return!0;return!1}if("string"==typeof command&&(command=this.commands[command]),!command)return!1;if(editor&&editor.$readOnly&&!command.readOnly)return!1;if(command.isAvailable&&!command.isAvailable(editor))return!1;var e={editor:editor,command:command,args:args};return e.returnValue=this._emit("exec",e),this._signal("afterExec",e),!1!==e.returnValue},this.toggleRecording=function(editor){if(!this.$inReplay)return editor&&editor._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(editor){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(editor);try{this.$inReplay=!0,this.macro.forEach((function(x){"string"==typeof x?this.exec(x,editor):this.exec(x[0],editor,x[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(m){return m.map((function(x){return"string"!=typeof x[0]&&(x[0]=x[0].name),x[1]||(x=x[0]),x}))}}.call(CommandManager.prototype),exports.CommandManager=CommandManager})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(acequire,exports,module){"use strict";var lang=acequire("../lib/lang"),config=acequire("../config"),Range=acequire("../range").Range;function bindKey(win,mac){return{win:win,mac:mac}}exports.commands=[{name:"showSettingsMenu",bindKey:bindKey("Ctrl-,","Command-,"),exec:function(editor){config.loadModule("ace/ext/settings_menu",(function(module){module.init(editor),editor.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:bindKey("Alt-E","F4"),exec:function(editor){config.loadModule("ace/ext/error_marker",(function(module){module.showErrorMarker(editor,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:bindKey("Alt-Shift-E","Shift-F4"),exec:function(editor){config.loadModule("ace/ext/error_marker",(function(module){module.showErrorMarker(editor,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:bindKey("Ctrl-A","Command-A"),exec:function(editor){editor.selectAll()},readOnly:!0},{name:"centerselection",bindKey:bindKey(null,"Ctrl-L"),exec:function(editor){editor.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:bindKey("Ctrl-L","Command-L"),exec:function(editor){var line=parseInt(prompt("Enter line number:"),10);isNaN(line)||editor.gotoLine(line)},readOnly:!0},{name:"fold",bindKey:bindKey("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(editor){editor.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:bindKey("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(editor){editor.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:bindKey("F2","F2"),exec:function(editor){editor.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:bindKey("Alt-F2","Alt-F2"),exec:function(editor){editor.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:bindKey(null,"Ctrl-Command-Option-0"),exec:function(editor){editor.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:bindKey("Alt-0","Command-Option-0"),exec:function(editor){editor.session.foldAll(),editor.session.unfold(editor.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:bindKey("Alt-Shift-0","Command-Option-Shift-0"),exec:function(editor){editor.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:bindKey("Ctrl-K","Command-G"),exec:function(editor){editor.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:bindKey("Ctrl-Shift-K","Command-Shift-G"),exec:function(editor){editor.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:bindKey("Alt-K","Ctrl-G"),exec:function(editor){editor.selection.isEmpty()?editor.selection.selectWord():editor.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:bindKey("Alt-Shift-K","Ctrl-Shift-G"),exec:function(editor){editor.selection.isEmpty()?editor.selection.selectWord():editor.findPrevious()},readOnly:!0},{name:"find",bindKey:bindKey("Ctrl-F","Command-F"),exec:function(editor){config.loadModule("ace/ext/searchbox",(function(e){e.Search(editor)}))},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(editor){editor.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:bindKey("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(editor){editor.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:bindKey("Ctrl-Home","Command-Home|Command-Up"),exec:function(editor){editor.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:bindKey("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(editor){editor.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:bindKey("Up","Up|Ctrl-P"),exec:function(editor,args){editor.navigateUp(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:bindKey("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(editor){editor.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:bindKey("Ctrl-End","Command-End|Command-Down"),exec:function(editor){editor.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:bindKey("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(editor){editor.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:bindKey("Down","Down|Ctrl-N"),exec:function(editor,args){editor.navigateDown(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:bindKey("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(editor){editor.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:bindKey("Ctrl-Left","Option-Left"),exec:function(editor){editor.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:bindKey("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(editor){editor.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:bindKey("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(editor){editor.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:bindKey("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(editor){editor.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:bindKey("Left","Left|Ctrl-B"),exec:function(editor,args){editor.navigateLeft(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:bindKey("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(editor){editor.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:bindKey("Ctrl-Right","Option-Right"),exec:function(editor){editor.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:bindKey("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(editor){editor.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:bindKey("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(editor){editor.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:bindKey("Shift-Right","Shift-Right"),exec:function(editor){editor.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:bindKey("Right","Right|Ctrl-F"),exec:function(editor,args){editor.navigateRight(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(editor){editor.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:bindKey(null,"Option-PageDown"),exec:function(editor){editor.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:bindKey("PageDown","PageDown|Ctrl-V"),exec:function(editor){editor.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(editor){editor.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:bindKey(null,"Option-PageUp"),exec:function(editor){editor.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(editor){editor.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:bindKey("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:bindKey("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(editor){editor.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(editor){editor.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:bindKey("Ctrl-Alt-E","Command-Option-E"),exec:function(editor){editor.commands.toggleRecording(editor)},readOnly:!0},{name:"replaymacro",bindKey:bindKey("Ctrl-Shift-E","Command-Shift-E"),exec:function(editor){editor.commands.replay(editor)},readOnly:!0},{name:"jumptomatching",bindKey:bindKey("Ctrl-P","Ctrl-P"),exec:function(editor){editor.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:bindKey("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(editor){editor.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:bindKey("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(editor){editor.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:bindKey(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(editor){},readOnly:!0},{name:"cut",exec:function(editor){var range=editor.getSelectionRange();editor._emit("cut",range),editor.selection.isEmpty()||(editor.session.remove(range),editor.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(editor,args){editor.$handlePaste(args)},scrollIntoView:"cursor"},{name:"removeline",bindKey:bindKey("Ctrl-D","Command-D"),exec:function(editor){editor.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:bindKey("Ctrl-Shift-D","Command-Shift-D"),exec:function(editor){editor.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:bindKey("Ctrl-Alt-S","Command-Alt-S"),exec:function(editor){editor.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:bindKey("Ctrl-/","Command-/"),exec:function(editor){editor.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:bindKey("Ctrl-Shift-/","Command-Shift-/"),exec:function(editor){editor.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:bindKey("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(editor){editor.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:bindKey("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(editor){editor.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:bindKey("Ctrl-H","Command-Option-F"),exec:function(editor){config.loadModule("ace/ext/searchbox",(function(e){e.Search(editor,!0)}))}},{name:"undo",bindKey:bindKey("Ctrl-Z","Command-Z"),exec:function(editor){editor.undo()}},{name:"redo",bindKey:bindKey("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(editor){editor.redo()}},{name:"copylinesup",bindKey:bindKey("Alt-Shift-Up","Command-Option-Up"),exec:function(editor){editor.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:bindKey("Alt-Up","Option-Up"),exec:function(editor){editor.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:bindKey("Alt-Shift-Down","Command-Option-Down"),exec:function(editor){editor.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:bindKey("Alt-Down","Option-Down"),exec:function(editor){editor.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:bindKey("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(editor){editor.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:bindKey("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(editor){editor.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:bindKey("Shift-Delete",null),exec:function(editor){if(!editor.selection.isEmpty())return!1;editor.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:bindKey("Alt-Backspace","Command-Backspace"),exec:function(editor){editor.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:bindKey("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(editor){editor.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:bindKey("Ctrl-Shift-Backspace",null),exec:function(editor){var range=editor.selection.getRange();range.start.column=0,editor.session.remove(range)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:bindKey("Ctrl-Shift-Delete",null),exec:function(editor){var range=editor.selection.getRange();range.end.column=Number.MAX_VALUE,editor.session.remove(range)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:bindKey("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(editor){editor.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:bindKey("Ctrl-Delete","Alt-Delete"),exec:function(editor){editor.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:bindKey("Shift-Tab","Shift-Tab"),exec:function(editor){editor.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:bindKey("Tab","Tab"),exec:function(editor){editor.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:bindKey("Ctrl-[","Ctrl-["),exec:function(editor){editor.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:bindKey("Ctrl-]","Ctrl-]"),exec:function(editor){editor.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(editor,str){editor.insert(str)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(editor,args){editor.insert(lang.stringRepeat(args.text||"",args.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:bindKey(null,"Ctrl-O"),exec:function(editor){editor.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:bindKey("Alt-Shift-X","Ctrl-T"),exec:function(editor){editor.transposeLetters()},multiSelectAction:function(editor){editor.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:bindKey("Ctrl-U","Ctrl-U"),exec:function(editor){editor.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:bindKey("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(editor){editor.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:bindKey("Ctrl-Shift-L","Command-Shift-L"),exec:function(editor){var range=editor.selection.getRange();range.start.column=range.end.column=0,range.end.row++,editor.selection.setRange(range,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:bindKey(null,null),exec:function(editor){for(var isBackwards=editor.selection.isBackwards(),selectionStart=isBackwards?editor.selection.getSelectionLead():editor.selection.getSelectionAnchor(),selectionEnd=isBackwards?editor.selection.getSelectionAnchor():editor.selection.getSelectionLead(),firstLineEndCol=editor.session.doc.getLine(selectionStart.row).length,selectedCount=editor.session.doc.getTextRange(editor.selection.getRange()).replace(/\n\s*/," ").length,insertLine=editor.session.doc.getLine(selectionStart.row),i=selectionStart.row+1;i<=selectionEnd.row+1;i++){var curLine=lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));0!==curLine.length&&(curLine=" "+curLine),insertLine+=curLine}selectionEnd.row+1<editor.session.doc.getLength()-1&&(insertLine+=editor.session.doc.getNewLineCharacter()),editor.clearSelection(),editor.session.doc.replace(new Range(selectionStart.row,0,selectionEnd.row+2,0),insertLine),selectedCount>0?(editor.selection.moveCursorTo(selectionStart.row,selectionStart.column),editor.selection.selectTo(selectionStart.row,selectionStart.column+selectedCount)):(firstLineEndCol=editor.session.doc.getLine(selectionStart.row).length>firstLineEndCol?firstLineEndCol+1:firstLineEndCol,editor.selection.moveCursorTo(selectionStart.row,firstLineEndCol))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:bindKey(null,null),exec:function(editor){var endRow=editor.session.doc.getLength()-1,endCol=editor.session.doc.getLine(endRow).length,ranges=editor.selection.rangeList.ranges,newRanges=[];ranges.length<1&&(ranges=[editor.selection.getRange()]);for(var i=0;i<ranges.length;i++)i==ranges.length-1&&(ranges[i].end.row===endRow&&ranges[i].end.column===endCol||newRanges.push(new Range(ranges[i].end.row,ranges[i].end.column,endRow,endCol))),0===i?0===ranges[i].start.row&&0===ranges[i].start.column||newRanges.push(new Range(0,0,ranges[i].start.row,ranges[i].start.column)):newRanges.push(new Range(ranges[i-1].end.row,ranges[i-1].end.column,ranges[i].start.row,ranges[i].start.column));editor.exitMultiSelectMode(),editor.clearSelection();for(i=0;i<newRanges.length;i++)editor.selection.addRange(newRanges[i],!1)},readOnly:!0,scrollIntoView:"none"}]})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],(function(acequire,exports,module){"use strict";acequire("./lib/fixoldbrowsers");var oop=acequire("./lib/oop"),dom=acequire("./lib/dom"),lang=acequire("./lib/lang"),useragent=acequire("./lib/useragent"),TextInput=acequire("./keyboard/textinput").TextInput,MouseHandler=acequire("./mouse/mouse_handler").MouseHandler,FoldHandler=acequire("./mouse/fold_handler").FoldHandler,KeyBinding=acequire("./keyboard/keybinding").KeyBinding,EditSession=acequire("./edit_session").EditSession,Search=acequire("./search").Search,Range=acequire("./range").Range,EventEmitter=acequire("./lib/event_emitter").EventEmitter,CommandManager=acequire("./commands/command_manager").CommandManager,defaultCommands=acequire("./commands/default_commands").commands,config=acequire("./config"),TokenIterator=acequire("./token_iterator").TokenIterator,Editor=function(renderer,session){var container=renderer.getContainerElement();this.container=container,this.renderer=renderer,this.id="editor"+ ++Editor.$uid,this.commands=new CommandManager(useragent.isMac?"mac":"win",defaultCommands),"object"==typeof document&&(this.textInput=new TextInput(renderer.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new MouseHandler(this),new FoldHandler(this)),this.keyBinding=new KeyBinding(this),this.$blockScrolling=0,this.$search=(new Search).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=lang.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(_,_self){_self._$emitInputEvent.schedule(31)})),this.setSession(session||new EditSession("")),config.resetOptions(this),config._signal("editor",this)};Editor.$uid=0,function(){oop.implement(this,EventEmitter),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=lang.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(commadEvent){if(this.curOp){if(!commadEvent||this.curOp.command)return;this.prevOp=this.curOp}commadEvent||(this.previousCommand=null,commadEvent={}),this.$opResetTimer.schedule(),this.curOp={command:commadEvent.command||{},args:commadEvent.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var command=this.curOp.command;command.name&&this.$blockScrolling>0&&this.$blockScrolling--;var scrollIntoView=command&&command.scrollIntoView;if(scrollIntoView){switch(scrollIntoView){case"center-animate":scrollIntoView="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var range=this.selection.getRange(),config=this.renderer.layerConfig;(range.start.row>=config.lastRow||range.end.row<=config.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==scrollIntoView&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var prev=this.prevOp,mergeableCommands=this.$mergeableCommands,shouldMerge=prev.command&&e.command.name==prev.command.name;if("insertstring"==e.command.name){var text=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),shouldMerge=shouldMerge&&this.mergeNextCommand&&(!/\s/.test(text)||/\s/.test(prev.args)),this.mergeNextCommand=!0}else shouldMerge=shouldMerge&&-1!==mergeableCommands.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(shouldMerge=!1),shouldMerge?this.session.mergeUndoDeltas=!0:-1!==mergeableCommands.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(keyboardHandler,cb){if(keyboardHandler&&"string"==typeof keyboardHandler){this.$keybindingId=keyboardHandler;var _self=this;config.loadModule(["keybinding",keyboardHandler],(function(module){_self.$keybindingId==keyboardHandler&&_self.keyBinding.setKeyboardHandler(module&&module.handler),cb&&cb()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(keyboardHandler),cb&&cb()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(session){if(this.session!=session){this.curOp&&this.endOperation(),this.curOp={};var oldSession=this.session;if(oldSession){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var selection=this.session.getSelection();selection.off("changeCursor",this.$onCursorChange),selection.off("changeSelection",this.$onSelectionChange)}this.session=session,session?(this.$onDocumentChange=this.onDocumentChange.bind(this),session.on("change",this.$onDocumentChange),this.renderer.setSession(session),this.$onChangeMode=this.onChangeMode.bind(this),session.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),session.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),session.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),session.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),session.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),session.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=session.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(session)),this._signal("changeSession",{session:session,oldSession:oldSession}),this.curOp=null,oldSession&&oldSession._signal("changeEditor",{oldEditor:this}),session&&session._signal("changeEditor",{editor:this}),session&&session.bgTokenizer&&session.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(val,cursorPos){return this.session.doc.setValue(val),cursorPos?1==cursorPos?this.navigateFileEnd():-1==cursorPos&&this.navigateFileStart():this.selectAll(),val},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(force){this.renderer.onResize(force)},this.setTheme=function(theme,cb){this.renderer.setTheme(theme,cb)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(style){this.renderer.setStyle(style)},this.unsetStyle=function(style){this.renderer.unsetStyle(style)},this.getFontSize=function(){return this.getOption("fontSize")||dom.computedStyle(this.container,"fontSize")},this.setFontSize=function(size){this.setOption("fontSize",size)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var self=this;this.$highlightPending=!0,setTimeout((function(){self.$highlightPending=!1;var session=self.session;if(session&&session.bgTokenizer){var pos=session.findMatchingBracket(self.getCursorPosition());if(pos)var range=new Range(pos.row,pos.column,pos.row,pos.column+1);else if(session.$mode.getMatching)range=session.$mode.getMatching(self.session);range&&(session.$bracketHighlight=session.addMarker(range,"ace_bracket","text"))}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var self=this;this.$highlightTagPending=!0,setTimeout((function(){self.$highlightTagPending=!1;var session=self.session;if(session&&session.bgTokenizer){var pos=self.getCursorPosition(),iterator=new TokenIterator(self.session,pos.row,pos.column),token=iterator.getCurrentToken();if(!token||!/\b(?:tag-open|tag-name)/.test(token.type))return session.removeMarker(session.$tagHighlight),void(session.$tagHighlight=null);if(-1==token.type.indexOf("tag-open")||(token=iterator.stepForward())){var tag=token.value,depth=0,prevToken=iterator.stepBackward();if("<"==prevToken.value)do{prevToken=token,(token=iterator.stepForward())&&token.value===tag&&-1!==token.type.indexOf("tag-name")&&("<"===prevToken.value?depth++:"</"===prevToken.value&&depth--)}while(token&&depth>=0);else{do{token=prevToken,prevToken=iterator.stepBackward(),token&&token.value===tag&&-1!==token.type.indexOf("tag-name")&&("<"===prevToken.value?depth++:"</"===prevToken.value&&depth--)}while(prevToken&&depth<=0);iterator.stepForward()}if(!token)return session.removeMarker(session.$tagHighlight),void(session.$tagHighlight=null);var row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn(),range=new Range(row,column,row,column+token.value.length),sbm=session.$backMarkers[session.$tagHighlight];session.$tagHighlight&&null!=sbm&&0!==range.compareRange(sbm.range)&&(session.removeMarker(session.$tagHighlight),session.$tagHighlight=null),range&&!session.$tagHighlight&&(session.$tagHighlight=session.addMarker(range,"ace_bracket","text"))}}}),50)}},this.focus=function(){var _self=this;setTimeout((function(){_self.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(delta){var wrap=this.session.$useWrapMode,lastRow=delta.start.row==delta.end.row?delta.end.row:1/0;this.renderer.updateLines(delta.start.row,lastRow,wrap),this._signal("change",delta),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var rows=e.data;this.renderer.updateLines(rows.first,rows.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(config.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var highlight,session=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(highlight=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(highlight=!1)),session.$highlightLineMarker&&!highlight)session.removeMarker(session.$highlightLineMarker.id),session.$highlightLineMarker=null;else if(!session.$highlightLineMarker&&highlight){var range=new Range(highlight.row,highlight.column,highlight.row,1/0);range.id=session.addMarker(range,"ace_active-line","screenLine"),session.$highlightLineMarker=range}else highlight&&(session.$highlightLineMarker.start.row=highlight.row,session.$highlightLineMarker.end.row=highlight.row,session.$highlightLineMarker.start.column=highlight.column,session._signal("changeBackMarker"))},this.onSelectionChange=function(e){var session=this.session;if(session.$selectionMarker&&session.removeMarker(session.$selectionMarker),session.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var range=this.selection.getRange(),style=this.getSelectionStyle();session.$selectionMarker=session.addMarker(range,"ace_selection",style)}var re=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(re),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var session=this.session,selection=this.getSelectionRange();if(!selection.isEmpty()&&!selection.isMultiLine()){var startOuter=selection.start.column-1,endOuter=selection.end.column+1,line=session.getLine(selection.start.row),lineCols=line.length,needle=line.substring(Math.max(startOuter,0),Math.min(endOuter,lineCols));if(!(startOuter>=0&&/^[\w\d]/.test(needle)||endOuter<=lineCols&&/[\w\d]$/.test(needle)))if(needle=line.substring(selection.start.column,selection.end.column),/^[\w\d]+$/.test(needle))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:needle})}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var text=this.getSelectedText();return this._signal("copy",text),text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(text,event){var e={text:text,event:event};this.commands.exec("paste",this,e)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var text=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(text);else{var lines=text.split(/\r\n|\r|\n/),ranges=this.selection.rangeList.ranges;if(lines.length>ranges.length||lines.length<2||!lines[1])return this.commands.exec("insertstring",this,text);for(var i=ranges.length;i--;){var range=ranges[i];range.isEmpty()||this.session.remove(range),this.session.insert(range.start,lines[i])}}},this.execCommand=function(command,args){return this.commands.exec(command,this,args)},this.insert=function(text,pasted){var session=this.session,mode=session.getMode(),cursor=this.getCursorPosition();if(this.getBehavioursEnabled()&&!pasted){var transform=mode.transformAction(session.getState(cursor.row),"insertion",this,session,text);transform&&(text!==transform.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),text=transform.text)}if("\t"==text&&(text=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==text.indexOf("\n")){(range=new Range.fromPoints(cursor,cursor)).end.column+=text.length,this.session.remove(range)}}else{var range=this.getSelectionRange();cursor=this.session.remove(range),this.clearSelection()}if("\n"==text||"\r\n"==text){var line=session.getLine(cursor.row);if(cursor.column>line.search(/\S|$/)){var d=line.substr(cursor.column).search(/\S|$/);session.doc.removeInLine(cursor.row,cursor.column,cursor.column+d)}}this.clearSelection();var start=cursor.column,lineState=session.getState(cursor.row),shouldOutdent=(line=session.getLine(cursor.row),mode.checkOutdent(lineState,line,text));session.insert(cursor,text);if(transform&&transform.selection&&(2==transform.selection.length?this.selection.setSelectionRange(new Range(cursor.row,start+transform.selection[0],cursor.row,start+transform.selection[1])):this.selection.setSelectionRange(new Range(cursor.row+transform.selection[0],transform.selection[1],cursor.row+transform.selection[2],transform.selection[3]))),session.getDocument().isNewLine(text)){var lineIndent=mode.getNextLineIndent(lineState,line.slice(0,cursor.column),session.getTabString());session.insert({row:cursor.row+1,column:0},lineIndent)}shouldOutdent&&mode.autoOutdent(lineState,session,cursor.row)},this.onTextInput=function(text){this.keyBinding.onTextInput(text)},this.onCommandKey=function(e,hashId,keyCode){this.keyBinding.onCommandKey(e,hashId,keyCode)},this.setOverwrite=function(overwrite){this.session.setOverwrite(overwrite)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(speed){this.setOption("scrollSpeed",speed)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(dragDelay){this.setOption("dragDelay",dragDelay)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(val){this.setOption("selectionStyle",val)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(shouldHighlight){this.setOption("highlightActiveLine",shouldHighlight)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(shouldHighlight){this.setOption("highlightGutterLine",shouldHighlight)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(shouldHighlight){this.setOption("highlightSelectedWord",shouldHighlight)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(shouldAnimate){this.renderer.setAnimatedScroll(shouldAnimate)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(showInvisibles){this.renderer.setShowInvisibles(showInvisibles)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(display){this.renderer.setDisplayIndentGuides(display)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(showPrintMargin){this.renderer.setShowPrintMargin(showPrintMargin)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(showPrintMargin){this.renderer.setPrintMarginColumn(showPrintMargin)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(readOnly){this.setOption("readOnly",readOnly)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(enabled){this.setOption("behavioursEnabled",enabled)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(enabled){this.setOption("wrapBehavioursEnabled",enabled)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(show){this.setOption("showFoldWidgets",show)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(fade){this.setOption("fadeFoldWidgets",fade)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(dir){this.selection.isEmpty()&&("left"==dir?this.selection.selectLeft():this.selection.selectRight());var range=this.getSelectionRange();if(this.getBehavioursEnabled()){var session=this.session,state=session.getState(range.start.row),new_range=session.getMode().transformAction(state,"deletion",this,session,range);if(0===range.end.column){var text=session.getTextRange(range);if("\n"==text[text.length-1]){var line=session.getLine(range.end.row);/^\s+$/.test(line)&&(range.end.column=line.length)}}new_range&&(range=new_range)}this.session.remove(range),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var range=this.getSelectionRange();range.start.column==range.end.column&&range.start.row==range.end.row&&(range.end.column=0,range.end.row++),this.session.remove(range),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var cursor=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(cursor)},this.transposeLetters=function(){if(this.selection.isEmpty()){var cursor=this.getCursorPosition(),column=cursor.column;if(0!==column){var swap,range,line=this.session.getLine(cursor.row);column<line.length?(swap=line.charAt(column)+line.charAt(column-1),range=new Range(cursor.row,column-1,cursor.row,column+1)):(swap=line.charAt(column-1)+line.charAt(column-2),range=new Range(cursor.row,column-2,cursor.row,column)),this.session.replace(range,swap),this.session.selection.moveToPosition(range.end)}}},this.toLowerCase=function(){var originalRange=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var range=this.getSelectionRange(),text=this.session.getTextRange(range);this.session.replace(range,text.toLowerCase()),this.selection.setSelectionRange(originalRange)},this.toUpperCase=function(){var originalRange=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var range=this.getSelectionRange(),text=this.session.getTextRange(range);this.session.replace(range,text.toUpperCase()),this.selection.setSelectionRange(originalRange)},this.indent=function(){var session=this.session,range=this.getSelectionRange();if(!(range.start.row<range.end.row)){if(range.start.column<range.end.column){var text=session.getTextRange(range);if(!/^\s+$/.test(text)){rows=this.$getSelectedRows();return void session.indentRows(rows.first,rows.last,"\t")}}var line=session.getLine(range.start.row),position=range.start,size=session.getTabSize(),column=session.documentToScreenColumn(position.row,position.column);if(this.session.getUseSoftTabs())var count=size-column%size,indentString=lang.stringRepeat(" ",count);else{for(count=column%size;" "==line[range.start.column-1]&&count;)range.start.column--,count--;this.selection.setSelectionRange(range),indentString="\t"}return this.insert(indentString)}var rows=this.$getSelectedRows();session.indentRows(rows.first,rows.last,"\t")},this.blockIndent=function(){var rows=this.$getSelectedRows();this.session.indentRows(rows.first,rows.last,"\t")},this.blockOutdent=function(){var selection=this.session.getSelection();this.session.outdentRows(selection.getRange())},this.sortLines=function(){for(var rows=this.$getSelectedRows(),session=this.session,lines=[],i=rows.first;i<=rows.last;i++)lines.push(session.getLine(i));lines.sort((function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:a.toLowerCase()>b.toLowerCase()?1:0}));var deleteRange=new Range(0,0,0,0);for(i=rows.first;i<=rows.last;i++){var line=session.getLine(i);deleteRange.start.row=i,deleteRange.end.row=i,deleteRange.end.column=line.length,session.replace(deleteRange,lines[i-rows.first])}},this.toggleCommentLines=function(){var state=this.session.getState(this.getCursorPosition().row),rows=this.$getSelectedRows();this.session.getMode().toggleCommentLines(state,this.session,rows.first,rows.last)},this.toggleBlockComment=function(){var cursor=this.getCursorPosition(),state=this.session.getState(cursor.row),range=this.getSelectionRange();this.session.getMode().toggleBlockComment(state,this.session,range,cursor)},this.getNumberAt=function(row,column){var _numberRx=/[\-]?[0-9]+(?:\.[0-9]+)?/g;_numberRx.lastIndex=0;for(var s=this.session.getLine(row);_numberRx.lastIndex<column;){var m=_numberRx.exec(s);if(m.index<=column&&m.index+m[0].length>=column)return{value:m[0],start:m.index,end:m.index+m[0].length}}return null},this.modifyNumber=function(amount){var row=this.selection.getCursor().row,column=this.selection.getCursor().column,charRange=new Range(row,column-1,row,column),c=this.session.getTextRange(charRange);if(!isNaN(parseFloat(c))&&isFinite(c)){var nr=this.getNumberAt(row,column);if(nr){var fp=nr.value.indexOf(".")>=0?nr.start+nr.value.indexOf(".")+1:nr.end,decimals=nr.start+nr.value.length-fp,t=parseFloat(nr.value);t*=Math.pow(10,decimals),fp!==nr.end&&column<fp?amount*=Math.pow(10,nr.end-column-1):amount*=Math.pow(10,nr.end-column),t+=amount;var nnr=(t/=Math.pow(10,decimals)).toFixed(decimals),replaceRange=new Range(row,nr.start,row,nr.end);this.session.replace(replaceRange,nnr),this.moveCursorTo(row,Math.max(nr.start+1,column+nnr.length-nr.value.length))}}},this.removeLines=function(){var rows=this.$getSelectedRows();this.session.removeFullLines(rows.first,rows.last),this.clearSelection()},this.duplicateSelection=function(){var sel=this.selection,doc=this.session,range=sel.getRange(),reverse=sel.isBackwards();if(range.isEmpty()){var row=range.start.row;doc.duplicateLines(row,row)}else{var point=reverse?range.start:range.end,endPoint=doc.insert(point,doc.getTextRange(range),!1);range.start=point,range.end=endPoint,sel.setSelectionRange(range,reverse)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(range,toPosition,copy){return this.session.moveText(range,toPosition,copy)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(dir,copy){var rows,moved,selection=this.selection;if(!selection.inMultiSelectMode||this.inVirtualSelectionMode){var range=selection.toOrientedRange();rows=this.$getSelectedRows(range),moved=this.session.$moveLines(rows.first,rows.last,copy?0:dir),copy&&-1==dir&&(moved=0),range.moveBy(moved,0),selection.fromOrientedRange(range)}else{var ranges=selection.rangeList.ranges;selection.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var diff=0,totalDiff=0,l=ranges.length,i=0;i<l;i++){var rangeIndex=i;ranges[i].moveBy(diff,0);for(var first=(rows=this.$getSelectedRows(ranges[i])).first,last=rows.last;++i<l;){totalDiff&&ranges[i].moveBy(totalDiff,0);var subRows=this.$getSelectedRows(ranges[i]);if(copy&&subRows.first!=last)break;if(!copy&&subRows.first>last+1)break;last=subRows.last}for(i--,diff=this.session.$moveLines(first,last,copy?0:dir),copy&&-1==dir&&(rangeIndex=i+1);rangeIndex<=i;)ranges[rangeIndex].moveBy(diff,0),rangeIndex++;copy||(diff=0),totalDiff+=diff}selection.fromOrientedRange(selection.ranges[0]),selection.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(range){return range=(range||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(range.start.row),last:this.session.getRowFoldEnd(range.end.row)}},this.onCompositionStart=function(text){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(text){this.renderer.setCompositionText(text)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(row){return row>=this.getFirstVisibleRow()&&row<=this.getLastVisibleRow()},this.isRowFullyVisible=function(row){return row>=this.renderer.getFirstFullyVisibleRow()&&row<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(dir,select){var renderer=this.renderer,config=this.renderer.layerConfig,rows=dir*Math.floor(config.height/config.lineHeight);this.$blockScrolling++,!0===select?this.selection.$moveSelection((function(){this.moveCursorBy(rows,0)})):!1===select&&(this.selection.moveCursorBy(rows,0),this.selection.clearSelection()),this.$blockScrolling--;var scrollTop=renderer.scrollTop;renderer.scrollBy(0,rows*config.lineHeight),null!=select&&renderer.scrollCursorIntoView(null,.5),renderer.animateScrolling(scrollTop)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(row){this.renderer.scrollToRow(row)},this.scrollToLine=function(line,center,animate,callback){this.renderer.scrollToLine(line,center,animate,callback)},this.centerSelection=function(){var range=this.getSelectionRange(),pos={row:Math.floor(range.start.row+(range.end.row-range.start.row)/2),column:Math.floor(range.start.column+(range.end.column-range.start.column)/2)};this.renderer.alignCursor(pos,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(row,column){this.selection.moveCursorTo(row,column)},this.moveCursorToPosition=function(pos){this.selection.moveCursorToPosition(pos)},this.jumpToMatching=function(select,expand){var cursor=this.getCursorPosition(),iterator=new TokenIterator(this.session,cursor.row,cursor.column),prevToken=iterator.getCurrentToken(),token=prevToken||iterator.stepForward();if(token){var matchType,bracketType,found=!1,depth={},i=cursor.column-token.start,brackets={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(token.value.match(/[{}()\[\]]/g)){for(;i<token.value.length&&!found;i++)if(brackets[token.value[i]])switch(bracketType=brackets[token.value[i]]+"."+token.type.replace("rparen","lparen"),isNaN(depth[bracketType])&&(depth[bracketType]=0),token.value[i]){case"(":case"[":case"{":depth[bracketType]++;break;case")":case"]":case"}":depth[bracketType]--,-1===depth[bracketType]&&(matchType="bracket",found=!0)}}else token&&-1!==token.type.indexOf("tag-name")&&(isNaN(depth[token.value])&&(depth[token.value]=0),"<"===prevToken.value?depth[token.value]++:"</"===prevToken.value&&depth[token.value]--,-1===depth[token.value]&&(matchType="tag",found=!0));found||(prevToken=token,token=iterator.stepForward(),i=0)}while(token&&!found);if(matchType){var range,pos;if("bracket"===matchType)(range=this.session.getBracketRange(cursor))||(pos=(range=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+i-1,iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+i-1)).start,(expand||pos.row===cursor.row&&Math.abs(pos.column-cursor.column)<2)&&(range=this.session.getBracketRange(pos)));else if("tag"===matchType){if(!token||-1===token.type.indexOf("tag-name"))return;var tag=token.value;if(0===(range=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()-2,iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()-2)).compare(cursor.row,cursor.column)){found=!1;do{token=prevToken,(prevToken=iterator.stepBackward())&&(-1!==prevToken.type.indexOf("tag-close")&&range.setEnd(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+1),token.value===tag&&-1!==token.type.indexOf("tag-name")&&("<"===prevToken.value?depth[tag]++:"</"===prevToken.value&&depth[tag]--,0===depth[tag]&&(found=!0)))}while(prevToken&&!found)}token&&token.type.indexOf("tag-name")&&(pos=range.start).row==cursor.row&&Math.abs(pos.column-cursor.column)<2&&(pos=range.end)}(pos=range&&range.cursor||pos)&&(select?range&&expand?this.selection.setRange(range):range&&range.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(pos.row,pos.column):this.selection.moveTo(pos.row,pos.column))}}},this.gotoLine=function(lineNumber,column,animate){this.selection.clearSelection(),this.session.unfold({row:lineNumber-1,column:column||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(lineNumber-1,column||0),this.$blockScrolling-=1,this.isRowFullyVisible(lineNumber-1)||this.scrollToLine(lineNumber-1,!0,animate)},this.navigateTo=function(row,column){this.selection.moveTo(row,column)},this.navigateUp=function(times){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var selectionStart=this.selection.anchor.getPosition();return this.moveCursorToPosition(selectionStart)}this.selection.clearSelection(),this.selection.moveCursorBy(-times||-1,0)},this.navigateDown=function(times){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var selectionEnd=this.selection.anchor.getPosition();return this.moveCursorToPosition(selectionEnd)}this.selection.clearSelection(),this.selection.moveCursorBy(times||1,0)},this.navigateLeft=function(times){if(this.selection.isEmpty())for(times=times||1;times--;)this.selection.moveCursorLeft();else{var selectionStart=this.getSelectionRange().start;this.moveCursorToPosition(selectionStart)}this.clearSelection()},this.navigateRight=function(times){if(this.selection.isEmpty())for(times=times||1;times--;)this.selection.moveCursorRight();else{var selectionEnd=this.getSelectionRange().end;this.moveCursorToPosition(selectionEnd)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(replacement,options){options&&this.$search.set(options);var range=this.$search.find(this.session),replaced=0;return range?(this.$tryReplace(range,replacement)&&(replaced=1),null!==range&&(this.selection.setSelectionRange(range),this.renderer.scrollSelectionIntoView(range.start,range.end)),replaced):replaced},this.replaceAll=function(replacement,options){options&&this.$search.set(options);var ranges=this.$search.findAll(this.session),replaced=0;if(!ranges.length)return replaced;this.$blockScrolling+=1;var selection=this.getSelectionRange();this.selection.moveTo(0,0);for(var i=ranges.length-1;i>=0;--i)this.$tryReplace(ranges[i],replacement)&&replaced++;return this.selection.setSelectionRange(selection),this.$blockScrolling-=1,replaced},this.$tryReplace=function(range,replacement){var input=this.session.getTextRange(range);return null!==(replacement=this.$search.replace(input,replacement))?(range.end=this.session.replace(range,replacement),range):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(needle,options,animate){options||(options={}),"string"==typeof needle||needle instanceof RegExp?options.needle=needle:"object"==typeof needle&&oop.mixin(options,needle);var range=this.selection.getRange();null==options.needle&&((needle=this.session.getTextRange(range)||this.$search.$options.needle)||(range=this.session.getWordRange(range.start.row,range.start.column),needle=this.session.getTextRange(range)),this.$search.set({needle:needle})),this.$search.set(options),options.start||this.$search.set({start:range});var newRange=this.$search.find(this.session);return options.preventScroll?newRange:newRange?(this.revealRange(newRange,animate),newRange):(options.backwards?range.start=range.end:range.end=range.start,void this.selection.setRange(range))},this.findNext=function(options,animate){this.find({skipCurrent:!0,backwards:!1},options,animate)},this.findPrevious=function(options,animate){this.find(options,{skipCurrent:!0,backwards:!0},animate)},this.revealRange=function(range,animate){this.$blockScrolling+=1,this.session.unfold(range),this.selection.setSelectionRange(range),this.$blockScrolling-=1;var scrollTop=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(range.start,range.end,.5),!1!==animate&&this.renderer.animateScrolling(scrollTop)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(enable){if(enable){var rect,self=this,shouldScroll=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var scrollAnchor=this.$scrollAnchor;scrollAnchor.style.cssText="position:absolute",this.container.insertBefore(scrollAnchor,this.container.firstChild);var onChangeSelection=this.on("changeSelection",(function(){shouldScroll=!0})),onBeforeRender=this.renderer.on("beforeRender",(function(){shouldScroll&&(rect=self.renderer.container.getBoundingClientRect())})),onAfterRender=this.renderer.on("afterRender",(function(){if(shouldScroll&&rect&&(self.isFocused()||self.searchBox&&self.searchBox.isFocused())){var renderer=self.renderer,pos=renderer.$cursorLayer.$pixelPos,config=renderer.layerConfig,top=pos.top-config.offset;null!=(shouldScroll=pos.top>=0&&top+rect.top<0||!(pos.top<config.height&&pos.top+rect.top+config.lineHeight>window.innerHeight)&&null)&&(scrollAnchor.style.top=top+"px",scrollAnchor.style.left=pos.left+"px",scrollAnchor.style.height=config.lineHeight+"px",scrollAnchor.scrollIntoView(shouldScroll)),shouldScroll=rect=null}}));this.setAutoScrollEditorIntoView=function(enable){enable||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",onChangeSelection),this.renderer.off("afterRender",onAfterRender),this.renderer.off("beforeRender",onBeforeRender))}}},this.$resetCursorStyle=function(){var style=this.$cursorStyle||"ace",cursorLayer=this.renderer.$cursorLayer;cursorLayer&&(cursorLayer.setSmoothBlinking(/smooth/.test(style)),cursorLayer.isBlinking=!this.$readOnly&&"wide"!=style,dom.setCssClass(cursorLayer.element,"ace_slim-cursors",/slim/.test(style)))}}.call(Editor.prototype),config.defineOptions(Editor.prototype,"editor",{selectionStyle:{set:function(style){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:style})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(shouldHighlight){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(readOnly){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(val){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(val){this.setAutoScrollEditorIntoView(val)}},keyboardHandler:{set:function(val){this.setKeyboardHandler(val)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),exports.Editor=Editor})),ace.define("ace/undomanager",["require","exports","module"],(function(acequire,exports,module){"use strict";var UndoManager=function(){this.reset()};(function(){function $serializeDelta(delta){return{action:delta.action,start:delta.start,end:delta.end,lines:1==delta.lines.length?null:delta.lines,text:1==delta.lines.length?delta.lines[0]:null}}function $deserializeDelta(delta){return{action:delta.action,start:delta.start,end:delta.end,lines:delta.lines||[delta.text]}}function cloneDeltaSetsObj(deltaSets_old,fnGetModifiedDelta){for(var deltaSets_new=new Array(deltaSets_old.length),i=0;i<deltaSets_old.length;i++){for(var deltaSet_old=deltaSets_old[i],deltaSet_new={group:deltaSet_old.group,deltas:new Array(deltaSet_old.length)},j=0;j<deltaSet_old.deltas.length;j++){var delta_old=deltaSet_old.deltas[j];deltaSet_new.deltas[j]=fnGetModifiedDelta(delta_old)}deltaSets_new[i]=deltaSet_new}return deltaSets_new}this.execute=function(options){var deltaSets=options.args[0];this.$doc=options.args[1],options.merge&&this.hasUndo()&&(this.dirtyCounter--,deltaSets=this.$undoStack.pop().concat(deltaSets)),this.$undoStack.push(deltaSets),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(dontSelect){var deltaSets=this.$undoStack.pop(),undoSelectionRange=null;return deltaSets&&(undoSelectionRange=this.$doc.undoChanges(deltaSets,dontSelect),this.$redoStack.push(deltaSets),this.dirtyCounter--),undoSelectionRange},this.redo=function(dontSelect){var deltaSets=this.$redoStack.pop(),redoSelectionRange=null;return deltaSets&&(redoSelectionRange=this.$doc.redoChanges(this.$deserializeDeltas(deltaSets),dontSelect),this.$undoStack.push(deltaSets),this.dirtyCounter++),redoSelectionRange},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(deltaSets){return cloneDeltaSetsObj(deltaSets,$serializeDelta)},this.$deserializeDeltas=function(deltaSets){return cloneDeltaSetsObj(deltaSets,$deserializeDelta)}}).call(UndoManager.prototype),exports.UndoManager=UndoManager})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var dom=acequire("../lib/dom"),oop=acequire("../lib/oop"),lang=acequire("../lib/lang"),EventEmitter=acequire("../lib/event_emitter").EventEmitter,Gutter=function(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_gutter-layer",parentEl.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){oop.implement(this,EventEmitter),this.setSession=function(session){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=session,session&&session.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(row,className){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(row,className)},this.removeGutterDecoration=function(row,className){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(row,className)},this.setAnnotations=function(annotations){this.$annotations=[];for(var i=0;i<annotations.length;i++){var annotation=annotations[i],row=annotation.row,rowInfo=this.$annotations[row];rowInfo||(rowInfo=this.$annotations[row]={text:[]});var annoText=annotation.text;annoText=annoText?lang.escapeHTML(annoText):annotation.html||"",-1===rowInfo.text.indexOf(annoText)&&rowInfo.text.push(annoText);var type=annotation.type;"error"==type?rowInfo.className=" ace_error":"warning"==type&&" ace_error"!=rowInfo.className?rowInfo.className=" ace_warning":"info"!=type||rowInfo.className||(rowInfo.className=" ace_info")}},this.$updateAnnotations=function(delta){if(this.$annotations.length){var firstRow=delta.start.row,len=delta.end.row-firstRow;if(0===len);else if("remove"==delta.action)this.$annotations.splice(firstRow,len+1,null);else{var args=new Array(len+1);args.unshift(firstRow,1),this.$annotations.splice.apply(this.$annotations,args)}}},this.update=function(config){for(var session=this.session,firstRow=config.firstRow,lastRow=Math.min(config.lastRow+config.gutterOffset,session.getLength()-1),fold=session.getNextFoldLine(firstRow),foldStart=fold?fold.start.row:1/0,foldWidgets=this.$showFoldWidgets&&session.foldWidgets,breakpoints=session.$breakpoints,decorations=session.$decorations,firstLineNumber=session.$firstLineNumber,lastLineNumber=0,gutterRenderer=session.gutterRenderer||this.$renderer,cell=null,index=-1,row=firstRow;;){if(row>foldStart&&(row=fold.end.row+1,foldStart=(fold=session.getNextFoldLine(row,fold))?fold.start.row:1/0),row>lastRow){for(;this.$cells.length>index+1;)cell=this.$cells.pop(),this.element.removeChild(cell.element);break}(cell=this.$cells[++index])||((cell={element:null,textNode:null,foldWidget:null}).element=dom.createElement("div"),cell.textNode=document.createTextNode(""),cell.element.appendChild(cell.textNode),this.element.appendChild(cell.element),this.$cells[index]=cell);var className="ace_gutter-cell ";if(breakpoints[row]&&(className+=breakpoints[row]),decorations[row]&&(className+=decorations[row]),this.$annotations[row]&&(className+=this.$annotations[row].className),cell.element.className!=className&&(cell.element.className=className),(height=session.getRowLength(row)*config.lineHeight+"px")!=cell.element.style.height&&(cell.element.style.height=height),foldWidgets){var c=foldWidgets[row];null==c&&(c=foldWidgets[row]=session.getFoldWidget(row))}if(c){cell.foldWidget||(cell.foldWidget=dom.createElement("span"),cell.element.appendChild(cell.foldWidget));className="ace_fold-widget ace_"+c;"start"==c&&row==foldStart&&row<fold.end.row?className+=" ace_closed":className+=" ace_open",cell.foldWidget.className!=className&&(cell.foldWidget.className=className);var height=config.lineHeight+"px";cell.foldWidget.style.height!=height&&(cell.foldWidget.style.height=height)}else cell.foldWidget&&(cell.element.removeChild(cell.foldWidget),cell.foldWidget=null);var text=lastLineNumber=gutterRenderer?gutterRenderer.getText(session,row):row+firstLineNumber;text!==cell.textNode.data&&(cell.textNode.data=text),row++}this.element.style.height=config.minHeight+"px",(this.$fixedWidth||session.$useWrapMode)&&(lastLineNumber=session.getLength()+firstLineNumber);var gutterWidth=gutterRenderer?gutterRenderer.getWidth(session,lastLineNumber,config):lastLineNumber.toString().length*config.characterWidth,padding=this.$padding||this.$computePadding();(gutterWidth+=padding.left+padding.right)===this.gutterWidth||isNaN(gutterWidth)||(this.gutterWidth=gutterWidth,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",gutterWidth))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(show){this.$renderer=!show&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(show){show?dom.addCssClass(this.element,"ace_folding-enabled"):dom.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=show,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var style=dom.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(style.paddingLeft)+1||0,this.$padding.right=parseInt(style.paddingRight)||0,this.$padding},this.getRegion=function(point){var padding=this.$padding||this.$computePadding(),rect=this.element.getBoundingClientRect();return point.x<padding.left+rect.left?"markers":this.$showFoldWidgets&&point.x>rect.right-padding.right?"foldWidgets":void 0}}).call(Gutter.prototype),exports.Gutter=Gutter})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(acequire,exports,module){"use strict";var Range=acequire("../range").Range,dom=acequire("../lib/dom"),Marker=function(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_marker-layer",parentEl.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(padding){this.$padding=padding},this.setSession=function(session){this.session=session},this.setMarkers=function(markers){this.markers=markers},this.update=function(config){if(config){this.config=config;var html=[];for(var key in this.markers){var marker=this.markers[key];if(marker.range){var range=marker.range.clipRows(config.firstRow,config.lastRow);if(!range.isEmpty())if(range=range.toScreenRange(this.session),marker.renderer){var top=this.$getTop(range.start.row,config),left=this.$padding+(this.session.$bidiHandler.isBidiRow(range.start.row)?this.session.$bidiHandler.getPosLeft(range.start.column):range.start.column*config.characterWidth);marker.renderer(html,range,left,top,config)}else"fullLine"==marker.type?this.drawFullLineMarker(html,range,marker.clazz,config):"screenLine"==marker.type?this.drawScreenLineMarker(html,range,marker.clazz,config):range.isMultiLine()?"text"==marker.type?this.drawTextMarker(html,range,marker.clazz,config):this.drawMultiLineMarker(html,range,marker.clazz,config):this.session.$bidiHandler.isBidiRow(range.start.row)?this.drawBidiSingleLineMarker(html,range,marker.clazz+" ace_start ace_br15",config):this.drawSingleLineMarker(html,range,marker.clazz+" ace_start ace_br15",config)}else marker.update(html,this,this.session,config)}this.element.innerHTML=html.join("")}},this.$getTop=function(row,layerConfig){return(row-layerConfig.firstRowScreen)*layerConfig.lineHeight},this.drawTextMarker=function(stringBuilder,range,clazz,layerConfig,extraStyle){for(var session=this.session,start=range.start.row,end=range.end.row,row=start,prev=0,curr=0,next=session.getScreenLastRowColumn(row),clazzModified=null,lineRange=new Range(row,range.start.column,row,curr);row<=end;row++)lineRange.start.row=lineRange.end.row=row,lineRange.start.column=row==start?range.start.column:session.getRowWrapIndent(row),lineRange.end.column=next,prev=curr,curr=next,next=row+1<end?session.getScreenLastRowColumn(row+1):row==end?0:range.end.column,clazzModified=clazz+(row==start?" ace_start":"")+" ace_br"+((row==start||row==start+1&&range.start.column?1:0)|(prev<curr?2:0)|(curr>next?4:0)|(row==end?8:0)),this.session.$bidiHandler.isBidiRow(row)?this.drawBidiSingleLineMarker(stringBuilder,lineRange,clazzModified,layerConfig,row==end?0:1,extraStyle):this.drawSingleLineMarker(stringBuilder,lineRange,clazzModified,layerConfig,row==end?0:1,extraStyle)},this.drawMultiLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var height,top,left,padding=this.$padding;(extraStyle=extraStyle||"",this.session.$bidiHandler.isBidiRow(range.start.row))?((range1=range.clone()).end.row=range1.start.row,range1.end.column=this.session.getLine(range1.start.row).length,this.drawBidiSingleLineMarker(stringBuilder,range1,clazz+" ace_br1 ace_start",config,null,extraStyle)):(height=config.lineHeight,top=this.$getTop(range.start.row,config),left=padding+range.start.column*config.characterWidth,stringBuilder.push("<div class='",clazz," ace_br1 ace_start' style='","height:",height,"px;","right:0;","top:",top,"px;","left:",left,"px;",extraStyle,"'></div>"));if(this.session.$bidiHandler.isBidiRow(range.end.row)){var range1;(range1=range.clone()).start.row=range1.end.row,range1.start.column=0,this.drawBidiSingleLineMarker(stringBuilder,range1,clazz+" ace_br12",config,null,extraStyle)}else{var width=range.end.column*config.characterWidth;height=config.lineHeight,top=this.$getTop(range.end.row,config),stringBuilder.push("<div class='",clazz," ace_br12' style='","height:",height,"px;","width:",width,"px;","top:",top,"px;","left:",padding,"px;",extraStyle,"'></div>")}if(!((height=(range.end.row-range.start.row-1)*config.lineHeight)<=0)){top=this.$getTop(range.start.row+1,config);var radiusClass=(range.start.column?1:0)|(range.end.column?0:8);stringBuilder.push("<div class='",clazz,radiusClass?" ace_br"+radiusClass:"","' style='","height:",height,"px;","right:0;","top:",top,"px;","left:",padding,"px;",extraStyle,"'></div>")}},this.drawSingleLineMarker=function(stringBuilder,range,clazz,config,extraLength,extraStyle){var height=config.lineHeight,width=(range.end.column+(extraLength||0)-range.start.column)*config.characterWidth,top=this.$getTop(range.start.row,config),left=this.$padding+range.start.column*config.characterWidth;stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","width:",width,"px;","top:",top,"px;","left:",left,"px;",extraStyle||"","'></div>")},this.drawBidiSingleLineMarker=function(stringBuilder,range,clazz,config,extraLength,extraStyle){var height=config.lineHeight,top=this.$getTop(range.start.row,config),padding=this.$padding;this.session.$bidiHandler.getSelections(range.start.column,range.end.column).forEach((function(selection){stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","width:",selection.width+(extraLength||0),"px;","top:",top,"px;","left:",padding+selection.left,"px;",extraStyle||"","'></div>")}))},this.drawFullLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var top=this.$getTop(range.start.row,config),height=config.lineHeight;range.start.row!=range.end.row&&(height+=this.$getTop(range.end.row,config)-top),stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","top:",top,"px;","left:0;right:0;",extraStyle||"","'></div>")},this.drawScreenLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var top=this.$getTop(range.start.row,config),height=config.lineHeight;stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","top:",top,"px;","left:0;right:0;",extraStyle||"","'></div>")}}).call(Marker.prototype),exports.Marker=Marker})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop"),dom=acequire("../lib/dom"),lang=acequire("../lib/lang"),EventEmitter=(acequire("../lib/useragent"),acequire("../lib/event_emitter").EventEmitter),Text=function(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_text-layer",parentEl.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){oop.implement(this,EventEmitter),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var EOL_CHAR="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=EOL_CHAR)return this.EOL_CHAR=EOL_CHAR,!0},this.setPadding=function(padding){this.$padding=padding,this.element.style.padding="0 "+padding+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(measure){this.$fontMetrics=measure,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(session){this.session=session,session&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(showInvisibles){return this.showInvisibles!=showInvisibles&&(this.showInvisibles=showInvisibles,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(display){return this.displayIndentGuides!=display&&(this.displayIndentGuides=display,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var tabSize=this.session.getTabSize();this.tabSize=tabSize;for(var tabStr=this.$tabStrings=[0],i=1;i<tabSize+1;i++)this.showInvisibles?tabStr.push("<span class='ace_invisible ace_invisible_tab'>"+lang.stringRepeat(this.TAB_CHAR,i)+"</span>"):tabStr.push(lang.stringRepeat(" ",i));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var className="ace_indent-guide",spaceClass="",tabClass="";if(this.showInvisibles){className+=" ace_invisible",spaceClass=" ace_invisible_space",tabClass=" ace_invisible_tab";var spaceContent=lang.stringRepeat(this.SPACE_CHAR,this.tabSize),tabContent=lang.stringRepeat(this.TAB_CHAR,this.tabSize)}else tabContent=spaceContent=lang.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+className+spaceClass+"'>"+spaceContent+"</span>",this.$tabStrings["\t"]="<span class='"+className+tabClass+"'>"+tabContent+"</span>"}},this.updateLines=function(config,firstRow,lastRow){this.config.lastRow==config.lastRow&&this.config.firstRow==config.firstRow||this.scrollLines(config),this.config=config;for(var first=Math.max(firstRow,config.firstRow),last=Math.min(lastRow,config.lastRow),lineElements=this.element.childNodes,lineElementsIdx=0,row=config.firstRow;row<first;row++){if(foldLine=this.session.getFoldLine(row)){if(foldLine.containsRow(first)){first=foldLine.start.row;break}row=foldLine.end.row}lineElementsIdx++}row=first;for(var foldLine,foldStart=(foldLine=this.session.getNextFoldLine(row))?foldLine.start.row:1/0;row>foldStart&&(row=foldLine.end.row+1,foldStart=(foldLine=this.session.getNextFoldLine(row,foldLine))?foldLine.start.row:1/0),!(row>last);){var lineElement=lineElements[lineElementsIdx++];if(lineElement){var html=[];this.$renderLine(html,row,!this.$useLineGroups(),row==foldStart&&foldLine),lineElement.style.height=config.lineHeight*this.session.getRowLength(row)+"px",lineElement.innerHTML=html.join("")}row++}},this.scrollLines=function(config){var oldConfig=this.config;if(this.config=config,!oldConfig||oldConfig.lastRow<config.firstRow)return this.update(config);if(config.lastRow<oldConfig.firstRow)return this.update(config);var el=this.element;if(oldConfig.firstRow<config.firstRow)for(var row=this.session.getFoldedRowCount(oldConfig.firstRow,config.firstRow-1);row>0;row--)el.removeChild(el.firstChild);if(oldConfig.lastRow>config.lastRow)for(row=this.session.getFoldedRowCount(config.lastRow+1,oldConfig.lastRow);row>0;row--)el.removeChild(el.lastChild);if(config.firstRow<oldConfig.firstRow){var fragment=this.$renderLinesFragment(config,config.firstRow,oldConfig.firstRow-1);el.firstChild?el.insertBefore(fragment,el.firstChild):el.appendChild(fragment)}if(config.lastRow>oldConfig.lastRow){fragment=this.$renderLinesFragment(config,oldConfig.lastRow+1,config.lastRow);el.appendChild(fragment)}},this.$renderLinesFragment=function(config,firstRow,lastRow){for(var fragment=this.element.ownerDocument.createDocumentFragment(),row=firstRow,foldLine=this.session.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;row>foldStart&&(row=foldLine.end.row+1,foldStart=(foldLine=this.session.getNextFoldLine(row,foldLine))?foldLine.start.row:1/0),!(row>lastRow);){var container=dom.createElement("div"),html=[];if(this.$renderLine(html,row,!1,row==foldStart&&foldLine),container.innerHTML=html.join(""),this.$useLineGroups())container.className="ace_line_group",fragment.appendChild(container),container.style.height=config.lineHeight*this.session.getRowLength(row)+"px";else for(;container.firstChild;)fragment.appendChild(container.firstChild);row++}return fragment},this.update=function(config){this.config=config;for(var html=[],firstRow=config.firstRow,lastRow=config.lastRow,row=firstRow,foldLine=this.session.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;row>foldStart&&(row=foldLine.end.row+1,foldStart=(foldLine=this.session.getNextFoldLine(row,foldLine))?foldLine.start.row:1/0),!(row>lastRow);)this.$useLineGroups()&&html.push("<div class='ace_line_group' style='height:",config.lineHeight*this.session.getRowLength(row),"px'>"),this.$renderLine(html,row,!1,row==foldStart&&foldLine),this.$useLineGroups()&&html.push("</div>"),row++;this.element.innerHTML=html.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(stringBuilder,screenColumn,token,value){var self=this,output=value.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,(function(c,a,b,tabIdx,idx4){if(a)return self.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+lang.stringRepeat(self.SPACE_CHAR,c.length)+"</span>":c;if("&"==c)return"&#38;";if("<"==c)return"&#60;";if(">"==c)return"&#62;";if("\t"==c){var tabSize=self.session.getScreenTabSize(screenColumn+tabIdx);return screenColumn+=tabSize-1,self.$tabStrings[tabSize]}if("　"==c){var classToUse=self.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",space=self.showInvisibles?self.SPACE_CHAR:"";return screenColumn+=1,"<span class='"+classToUse+"' style='width:"+2*self.config.characterWidth+"px'>"+space+"</span>"}return b?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+self.SPACE_CHAR+"</span>":(screenColumn+=1,"<span class='ace_cjk' style='width:"+2*self.config.characterWidth+"px'>"+c+"</span>")}));if(this.$textToken[token.type])stringBuilder.push(output);else{var classes="ace_"+token.type.replace(/\./g," ace_"),style="";"fold"==token.type&&(style=" style='width:"+token.value.length*this.config.characterWidth+"px;' "),stringBuilder.push("<span class='",classes,"'",style,">",output,"</span>")}return screenColumn+value.length},this.renderIndentGuide=function(stringBuilder,value,max){var cols=value.search(this.$indentGuideRe);return cols<=0||cols>=max?value:" "==value[0]?(cols-=cols%this.tabSize,stringBuilder.push(lang.stringRepeat(this.$tabStrings[" "],cols/this.tabSize)),value.substr(cols)):"\t"==value[0]?(stringBuilder.push(lang.stringRepeat(this.$tabStrings["\t"],cols)),value.substr(cols)):value},this.$renderWrappedLine=function(stringBuilder,tokens,splits,onlyContents){for(var chars=0,split=0,splitChars=splits[0],screenColumn=0,i=0;i<tokens.length;i++){var token=tokens[i],value=token.value;if(0==i&&this.displayIndentGuides){if(chars=value.length,!(value=this.renderIndentGuide(stringBuilder,value,splitChars)))continue;chars-=value.length}if(chars+value.length<splitChars)screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value),chars+=value.length;else{for(;chars+value.length>=splitChars;)screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value.substring(0,splitChars-chars)),value=value.substring(splitChars-chars),chars=splitChars,onlyContents||stringBuilder.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),stringBuilder.push(lang.stringRepeat(" ",splits.indent)),screenColumn=0,splitChars=splits[++split]||Number.MAX_VALUE;0!=value.length&&(chars+=value.length,screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value))}}},this.$renderSimpleLine=function(stringBuilder,tokens){var screenColumn=0,token=tokens[0],value=token.value;this.displayIndentGuides&&(value=this.renderIndentGuide(stringBuilder,value)),value&&(screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value));for(var i=1;i<tokens.length;i++)value=(token=tokens[i]).value,screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value)},this.$renderLine=function(stringBuilder,row,onlyContents,foldLine){if(foldLine||0==foldLine||(foldLine=this.session.getFoldLine(row)),foldLine)var tokens=this.$getFoldLineTokens(row,foldLine);else tokens=this.session.getTokens(row);if(onlyContents||stringBuilder.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(row)),"px'>"),tokens.length){var splits=this.session.getRowSplitData(row);splits&&splits.length?this.$renderWrappedLine(stringBuilder,tokens,splits,onlyContents):this.$renderSimpleLine(stringBuilder,tokens)}this.showInvisibles&&(foldLine&&(row=foldLine.end.row),stringBuilder.push("<span class='ace_invisible ace_invisible_eol'>",row==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),onlyContents||stringBuilder.push("</div>")},this.$getFoldLineTokens=function(row,foldLine){var session=this.session,renderTokens=[];var tokens=session.getTokens(row);return foldLine.walk((function(placeholder,row,column,lastColumn,isNewRow){null!=placeholder?renderTokens.push({type:"fold",value:placeholder}):(isNewRow&&(tokens=session.getTokens(row)),tokens.length&&function(tokens,from,to){for(var idx=0,col=0;col+tokens[idx].value.length<from;)if(col+=tokens[idx].value.length,++idx==tokens.length)return;for(col!=from&&((value=tokens[idx].value.substring(from-col)).length>to-from&&(value=value.substring(0,to-from)),renderTokens.push({type:tokens[idx].type,value:value}),col=from+value.length,idx+=1);col<to&&idx<tokens.length;){var value;(value=tokens[idx].value).length+col>to?renderTokens.push({type:tokens[idx].type,value:value.substring(0,to-col)}):renderTokens.push(tokens[idx]),col+=value.length,idx+=1}}(tokens,lastColumn,column))}),foldLine.end.row,this.session.getLine(foldLine.end.row).length),renderTokens},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(Text.prototype),exports.Text=Text})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(acequire,exports,module){"use strict";var isIE8,dom=acequire("../lib/dom"),Cursor=function(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_cursor-layer",parentEl.appendChild(this.element),void 0===isIE8&&(isIE8=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),dom.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(isIE8?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(val){for(var cursors=this.cursors,i=cursors.length;i--;)cursors[i].style.visibility=val?"":"hidden"},this.$updateOpacity=function(val){for(var cursors=this.cursors,i=cursors.length;i--;)cursors[i].style.opacity=val?"":"0"},this.$padding=0,this.setPadding=function(padding){this.$padding=padding},this.setSession=function(session){this.session=session},this.setBlinking=function(blinking){blinking!=this.isBlinking&&(this.isBlinking=blinking,this.restartTimer())},this.setBlinkInterval=function(blinkInterval){blinkInterval!=this.blinkInterval&&(this.blinkInterval=blinkInterval,this.restartTimer())},this.setSmoothBlinking=function(smoothBlinking){smoothBlinking==this.smoothBlinking||isIE8||(this.smoothBlinking=smoothBlinking,dom.setCssClass(this.element,"ace_smooth-blinking",smoothBlinking),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var el=dom.createElement("div");return el.className="ace_cursor",this.element.appendChild(el),this.cursors.push(el),el},this.removeCursor=function(){if(this.cursors.length>1){var el=this.cursors.pop();return el.parentNode.removeChild(el),el}},this.hideCursor=function(){this.isVisible=!1,dom.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,dom.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var update=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&dom.removeCssClass(this.element,"ace_smooth-blinking"),update(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){dom.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var blink=function(){this.timeoutId=setTimeout((function(){update(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){update(!0),blink()}),this.blinkInterval),blink()}},this.getPixelPosition=function(position,onScreen){if(!this.config||!this.session)return{left:0,top:0};position||(position=this.session.selection.getCursor());var pos=this.session.documentToScreenPosition(position);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(pos.row,position.row)?this.session.$bidiHandler.getPosLeft(pos.column):pos.column*this.config.characterWidth),top:(pos.row-(onScreen?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(config){this.config=config;var selections=this.session.$selectionMarkers,i=0,cursorIndex=0;void 0!==selections&&0!==selections.length||(selections=[{cursor:null}]);i=0;for(var n=selections.length;i<n;i++){var pixelPos=this.getPixelPosition(selections[i].cursor,!0);if(!((pixelPos.top>config.height+config.offset||pixelPos.top<0)&&i>1)){var style=(this.cursors[cursorIndex++]||this.addCursor()).style;this.drawCursor?this.drawCursor(style,pixelPos,config,selections[i],this.session):(style.left=pixelPos.left+"px",style.top=pixelPos.top+"px",style.width=config.characterWidth+"px",style.height=config.lineHeight+"px")}}for(;this.cursors.length>cursorIndex;)this.removeCursor();var overwrite=this.session.getOverwrite();this.$setOverwrite(overwrite),this.$pixelPos=pixelPos,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(overwrite){overwrite!=this.overwrite&&(this.overwrite=overwrite,overwrite?dom.addCssClass(this.element,"ace_overwrite-cursors"):dom.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(Cursor.prototype),exports.Cursor=Cursor})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),dom=acequire("./lib/dom"),event=acequire("./lib/event"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,ScrollBar=function(parent){this.element=dom.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=dom.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),parent.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,event.addListener(this.element,"scroll",this.onScroll.bind(this)),event.addListener(this.element,"mousedown",event.preventDefault)};(function(){oop.implement(this,EventEmitter),this.setVisible=function(isVisible){this.element.style.display=isVisible?"":"none",this.isVisible=isVisible,this.coeff=1}}).call(ScrollBar.prototype);var VScrollBar=function(parent,renderer){ScrollBar.call(this,parent),this.scrollTop=0,this.scrollHeight=0,renderer.$scrollbarWidth=this.width=dom.scrollbarWidth(parent.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};oop.inherits(VScrollBar,ScrollBar),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var h=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-h)/(this.coeff-h)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(height){this.element.style.height=height+"px"},this.setInnerHeight=this.setScrollHeight=function(height){this.scrollHeight=height,height>32768?(this.coeff=32768/height,height=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=height+"px"},this.setScrollTop=function(scrollTop){this.scrollTop!=scrollTop&&(this.skipEvent=!0,this.scrollTop=scrollTop,this.element.scrollTop=scrollTop*this.coeff)}}.call(VScrollBar.prototype);var HScrollBar=function(parent,renderer){ScrollBar.call(this,parent),this.scrollLeft=0,this.height=renderer.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};oop.inherits(HScrollBar,ScrollBar),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(width){this.element.style.width=width+"px"},this.setInnerWidth=function(width){this.inner.style.width=width+"px"},this.setScrollWidth=function(width){this.inner.style.width=width+"px"},this.setScrollLeft=function(scrollLeft){this.scrollLeft!=scrollLeft&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=scrollLeft)}}.call(HScrollBar.prototype),exports.ScrollBar=VScrollBar,exports.ScrollBarV=VScrollBar,exports.ScrollBarH=HScrollBar,exports.VScrollBar=VScrollBar,exports.HScrollBar=HScrollBar})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(acequire,exports,module){"use strict";var event=acequire("./lib/event"),RenderLoop=function(onRender,win){this.onRender=onRender,this.pending=!1,this.changes=0,this.window=win||window};(function(){this.schedule=function(change){if(this.changes=this.changes|change,!this.pending&&this.changes){this.pending=!0;var _self=this;event.nextFrame((function(){var changes;for(_self.pending=!1;changes=_self.changes;)_self.changes=0,_self.onRender(changes)}),this.window)}}}).call(RenderLoop.prototype),exports.RenderLoop=RenderLoop})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(acequire,exports,module){var oop=acequire("../lib/oop"),dom=acequire("../lib/dom"),lang=acequire("../lib/lang"),useragent=acequire("../lib/useragent"),EventEmitter=acequire("../lib/event_emitter").EventEmitter,CHAR_COUNT=0,FontMetrics=exports.FontMetrics=function(parentEl){this.el=dom.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=dom.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=dom.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),parentEl.appendChild(this.el),CHAR_COUNT||this.$testFractionalRect(),this.$measureNode.innerHTML=lang.stringRepeat("X",CHAR_COUNT),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){oop.implement(this,EventEmitter),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var el=dom.createElement("div");this.$setMeasureNodeStyles(el.style),el.style.width="0.2px",document.documentElement.appendChild(el);var w=el.getBoundingClientRect().width;CHAR_COUNT=w>0&&w<1?50:100,el.parentNode.removeChild(el)},this.$setMeasureNodeStyles=function(style,isRoot){style.width=style.height="auto",style.left=style.top="0px",style.visibility="hidden",style.position="absolute",style.whiteSpace="pre",useragent.isIE<8?style["font-family"]="inherit":style.font="inherit",style.overflow=isRoot?"hidden":"visible"},this.checkForSizeChanges=function(){var size=this.$measureSizes();if(size&&(this.$characterSize.width!==size.width||this.$characterSize.height!==size.height)){this.$measureNode.style.fontWeight="bold";var boldSize=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=size,this.charSizes=Object.create(null),this.allowBoldFonts=boldSize&&boldSize.width===size.width&&boldSize.height===size.height,this._emit("changeCharacterSize",{data:size})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var self=this;return this.$pollSizeChangesTimer=setInterval((function(){self.checkForSizeChanges()}),500)},this.setPolling=function(val){val?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===CHAR_COUNT){var rect=null;try{rect=this.$measureNode.getBoundingClientRect()}catch(e){rect={width:0,height:0}}var size={height:rect.height,width:rect.width/CHAR_COUNT}}else size={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/CHAR_COUNT};return 0===size.width||0===size.height?null:size},this.$measureCharWidth=function(ch){return this.$main.innerHTML=lang.stringRepeat(ch,CHAR_COUNT),this.$main.getBoundingClientRect().width/CHAR_COUNT},this.getCharacterWidth=function(ch){var w=this.charSizes[ch];return void 0===w&&(w=this.charSizes[ch]=this.$measureCharWidth(ch)/this.$characterSize.width),w},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(FontMetrics.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),dom=acequire("./lib/dom"),config=acequire("./config"),useragent=acequire("./lib/useragent"),GutterLayer=acequire("./layer/gutter").Gutter,MarkerLayer=acequire("./layer/marker").Marker,TextLayer=acequire("./layer/text").Text,CursorLayer=acequire("./layer/cursor").Cursor,HScrollBar=acequire("./scrollbar").HScrollBar,VScrollBar=acequire("./scrollbar").VScrollBar,RenderLoop=acequire("./renderloop").RenderLoop,FontMetrics=acequire("./layer/font_metrics").FontMetrics,EventEmitter=acequire("./lib/event_emitter").EventEmitter;dom.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',"ace_editor.css");var VirtualRenderer=function(container,theme){var _self=this;this.container=container||dom.createElement("div"),this.$keepTextAreaAtCursor=!useragent.isOldIE,dom.addCssClass(this.container,"ace_editor"),this.setTheme(theme),this.$gutter=dom.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=dom.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=dom.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new GutterLayer(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new MarkerLayer(this.content);var textLayer=this.$textLayer=new TextLayer(this.content);this.canvas=textLayer.element,this.$markerFront=new MarkerLayer(this.content),this.$cursorLayer=new CursorLayer(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new VScrollBar(this.container,this),this.scrollBarH=new HScrollBar(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){_self.$scrollAnimation||_self.session.setScrollTop(e.data-_self.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){_self.$scrollAnimation||_self.session.setScrollLeft(e.data-_self.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new FontMetrics(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",(function(e){_self.updateCharacterSize(),_self.onResize(!0,_self.gutterWidth,_self.$size.width,_self.$size.height),_self._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new RenderLoop(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),config.resetOptions(this),config._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,oop.implement(this,EventEmitter),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(session){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=session,session&&this.scrollMargin.top&&session.getScrollTop()<=0&&session.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(session),this.$markerBack.setSession(session),this.$markerFront.setSession(session),this.$gutterLayer.setSession(session),this.$textLayer.setSession(session),session&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(firstRow,lastRow,force){if(void 0===lastRow&&(lastRow=1/0),this.$changedLines?(this.$changedLines.firstRow>firstRow&&(this.$changedLines.firstRow=firstRow),this.$changedLines.lastRow<lastRow&&(this.$changedLines.lastRow=lastRow)):this.$changedLines={firstRow:firstRow,lastRow:lastRow},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!force)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(force){force?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(force,gutterWidth,width,height){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=force?1:0;var el=this.container;height||(height=el.clientHeight||el.scrollHeight),width||(width=el.clientWidth||el.scrollWidth);var changes=this.$updateCachedSize(force,gutterWidth,width,height);if(!this.$size.scrollerHeight||!width&&!height)return this.resizing=0;force&&(this.$gutterLayer.$padding=null),force?this.$renderChanges(changes|this.$changes,!0):this.$loop.schedule(changes|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(force,gutterWidth,width,height){height-=this.$extraHeight||0;var changes=0,size=this.$size,oldSize={width:size.width,height:size.height,scrollerHeight:size.scrollerHeight,scrollerWidth:size.scrollerWidth};return height&&(force||size.height!=height)&&(size.height=height,changes|=this.CHANGE_SIZE,size.scrollerHeight=size.height,this.$horizScroll&&(size.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",changes|=this.CHANGE_SCROLL),width&&(force||size.width!=width)&&(changes|=this.CHANGE_SIZE,size.width=width,null==gutterWidth&&(gutterWidth=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=gutterWidth,this.scrollBarH.element.style.left=this.scroller.style.left=gutterWidth+"px",size.scrollerWidth=Math.max(0,width-gutterWidth-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||force)&&(changes|=this.CHANGE_FULL)),size.$dirty=!width||!height,changes&&this._signal("resize",oldSize),changes},this.onGutterResize=function(){var gutterWidth=this.$showGutter?this.$gutter.offsetWidth:0;gutterWidth!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,gutterWidth,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var availableWidth=this.$size.scrollerWidth-2*this.$padding,limit=Math.floor(availableWidth/this.characterWidth);return this.session.adjustWrapLimit(limit,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(shouldAnimate){this.setOption("animatedScroll",shouldAnimate)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(showInvisibles){this.setOption("showInvisibles",showInvisibles),this.session.$bidiHandler.setShowInvisibles(showInvisibles)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(display){this.setOption("displayIndentGuides",display)},this.setShowPrintMargin=function(showPrintMargin){this.setOption("showPrintMargin",showPrintMargin)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(showPrintMargin){this.setOption("printMarginColumn",showPrintMargin)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(show){return this.setOption("showGutter",show)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(show){this.setOption("fadeFoldWidgets",show)},this.setHighlightGutterLine=function(shouldHighlight){this.setOption("highlightGutterLine",shouldHighlight)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var pos=this.$cursorLayer.$pixelPos,height=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var cursor=this.session.selection.getCursor();cursor.column=0,pos=this.$cursorLayer.getPixelPosition(cursor,!0),height*=this.session.getRowLength(cursor.row)}this.$gutterLineHighlight.style.top=pos.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=height+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var containerEl=dom.createElement("div");containerEl.className="ace_layer ace_print-margin-layer",this.$printMarginEl=dom.createElement("div"),this.$printMarginEl.className="ace_print-margin",containerEl.appendChild(this.$printMarginEl),this.content.insertBefore(containerEl,this.content.firstChild)}var style=this.$printMarginEl.style;style.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",style.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var config=this.layerConfig,posTop=this.$cursorLayer.$pixelPos.top,posLeft=this.$cursorLayer.$pixelPos.left;posTop-=config.offset;var style=this.textarea.style,h=this.lineHeight;if(posTop<0||posTop>config.height-h)style.top=style.left="0";else{var w=this.characterWidth;if(this.$composition){var val=this.textarea.value.replace(/^\x01+/,"");w*=this.session.$getStringScreenWidth(val)[0]+2,h+=2}(posLeft-=this.scrollLeft)>this.$size.scrollerWidth-w&&(posLeft=this.$size.scrollerWidth-w),posLeft+=this.gutterWidth,style.height=h+"px",style.width=w+"px",style.left=Math.min(posLeft,this.$size.scrollerWidth-w)+"px",style.top=Math.min(posTop,this.$size.height-h)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var config=this.layerConfig,lastRow=config.lastRow;return this.session.documentToScreenRow(lastRow,0)*config.lineHeight-this.session.getScrollTop()>config.height-config.lineHeight?lastRow-1:lastRow},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(padding){this.$padding=padding,this.$textLayer.setPadding(padding),this.$cursorLayer.setPadding(padding),this.$markerFront.setPadding(padding),this.$markerBack.setPadding(padding),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(top,bottom,left,right){var sm=this.scrollMargin;sm.top=0|top,sm.bottom=0|bottom,sm.right=0|right,sm.left=0|left,sm.v=sm.top+sm.bottom,sm.h=sm.left+sm.right,sm.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-sm.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(alwaysVisible){this.setOption("hScrollBarAlwaysVisible",alwaysVisible)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(alwaysVisible){this.setOption("vScrollBarAlwaysVisible",alwaysVisible)},this.$updateScrollBarV=function(){var scrollHeight=this.layerConfig.maxHeight,scrollerHeight=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(scrollHeight-=(scrollerHeight-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>scrollHeight-scrollerHeight&&(scrollHeight=this.scrollTop+scrollerHeight,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(scrollHeight+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(changes,force){if(this.$changes&&(changes|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(changes||force)){if(this.$size.$dirty)return this.$changes|=changes,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var config=this.layerConfig;if(changes&this.CHANGE_FULL||changes&this.CHANGE_SIZE||changes&this.CHANGE_TEXT||changes&this.CHANGE_LINES||changes&this.CHANGE_SCROLL||changes&this.CHANGE_H_SCROLL){if(changes|=this.$computeLayerConfig(),config.firstRow!=this.layerConfig.firstRow&&config.firstRowScreen==this.layerConfig.firstRowScreen){var st=this.scrollTop+(config.firstRow-this.layerConfig.firstRow)*this.lineHeight;st>0&&(this.scrollTop=st,changes|=this.CHANGE_SCROLL,changes|=this.$computeLayerConfig())}config=this.layerConfig,this.$updateScrollBarV(),changes&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-config.offset+"px",this.content.style.marginTop=-config.offset+"px",this.content.style.width=config.width+2*this.$padding+"px",this.content.style.height=config.minHeight+"px"}if(changes&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),changes&this.CHANGE_FULL)return this.$textLayer.update(config),this.$showGutter&&this.$gutterLayer.update(config),this.$markerBack.update(config),this.$markerFront.update(config),this.$cursorLayer.update(config),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender");if(changes&this.CHANGE_SCROLL)return changes&this.CHANGE_TEXT||changes&this.CHANGE_LINES?this.$textLayer.update(config):this.$textLayer.scrollLines(config),this.$showGutter&&this.$gutterLayer.update(config),this.$markerBack.update(config),this.$markerFront.update(config),this.$cursorLayer.update(config),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender");changes&this.CHANGE_TEXT?(this.$textLayer.update(config),this.$showGutter&&this.$gutterLayer.update(config)):changes&this.CHANGE_LINES?(this.$updateLines()||changes&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(config):(changes&this.CHANGE_TEXT||changes&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(config),changes&this.CHANGE_CURSOR&&(this.$cursorLayer.update(config),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),changes&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(config),changes&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(config),this._signal("afterRender")}else this.$changes|=changes},this.$autosize=function(){var height=this.session.getScreenLength()*this.lineHeight,maxHeight=this.$maxLines*this.lineHeight,desiredHeight=Math.min(maxHeight,Math.max((this.$minLines||1)*this.lineHeight,height))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(desiredHeight+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&desiredHeight>this.$maxPixelHeight&&(desiredHeight=this.$maxPixelHeight);var vScroll=height>maxHeight;if(desiredHeight!=this.desiredHeight||this.$size.height!=this.desiredHeight||vScroll!=this.$vScroll){vScroll!=this.$vScroll&&(this.$vScroll=vScroll,this.scrollBarV.setVisible(vScroll));var w=this.container.clientWidth;this.container.style.height=desiredHeight+"px",this.$updateCachedSize(!0,this.$gutterWidth,w,desiredHeight),this.desiredHeight=desiredHeight,this._signal("autosize")}},this.$computeLayerConfig=function(){var session=this.session,size=this.$size,hideScrollbars=size.height<=2*this.lineHeight,maxHeight=this.session.getScreenLength()*this.lineHeight,longestLine=this.$getLongestLine(),horizScroll=!hideScrollbars&&(this.$hScrollBarAlwaysVisible||size.scrollerWidth-longestLine-2*this.$padding<0),hScrollChanged=this.$horizScroll!==horizScroll;hScrollChanged&&(this.$horizScroll=horizScroll,this.scrollBarH.setVisible(horizScroll));var vScrollBefore=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var offset=this.scrollTop%this.lineHeight,minHeight=size.scrollerHeight+this.lineHeight,scrollPastEnd=!this.$maxLines&&this.$scrollPastEnd?(size.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;maxHeight+=scrollPastEnd;var sm=this.scrollMargin;this.session.setScrollTop(Math.max(-sm.top,Math.min(this.scrollTop,maxHeight-size.scrollerHeight+sm.bottom))),this.session.setScrollLeft(Math.max(-sm.left,Math.min(this.scrollLeft,longestLine+2*this.$padding-size.scrollerWidth+sm.right)));var vScroll=!hideScrollbars&&(this.$vScrollBarAlwaysVisible||size.scrollerHeight-maxHeight+scrollPastEnd<0||this.scrollTop>sm.top),vScrollChanged=vScrollBefore!==vScroll;vScrollChanged&&(this.$vScroll=vScroll,this.scrollBarV.setVisible(vScroll));var firstRowScreen,firstRowHeight,lineCount=Math.ceil(minHeight/this.lineHeight)-1,firstRow=Math.max(0,Math.round((this.scrollTop-offset)/this.lineHeight)),lastRow=firstRow+lineCount,lineHeight=this.lineHeight;firstRow=session.screenToDocumentRow(firstRow,0);var foldLine=session.getFoldLine(firstRow);foldLine&&(firstRow=foldLine.start.row),firstRowScreen=session.documentToScreenRow(firstRow,0),firstRowHeight=session.getRowLength(firstRow)*lineHeight,lastRow=Math.min(session.screenToDocumentRow(lastRow,0),session.getLength()-1),minHeight=size.scrollerHeight+session.getRowLength(lastRow)*lineHeight+firstRowHeight,offset=this.scrollTop-firstRowScreen*lineHeight;var changes=0;return this.layerConfig.width!=longestLine&&(changes=this.CHANGE_H_SCROLL),(hScrollChanged||vScrollChanged)&&(changes=this.$updateCachedSize(!0,this.gutterWidth,size.width,size.height),this._signal("scrollbarVisibilityChanged"),vScrollChanged&&(longestLine=this.$getLongestLine())),this.layerConfig={width:longestLine,padding:this.$padding,firstRow:firstRow,firstRowScreen:firstRowScreen,lastRow:lastRow,lineHeight:lineHeight,characterWidth:this.characterWidth,minHeight:minHeight,maxHeight:maxHeight,offset:offset,gutterOffset:lineHeight?Math.max(0,Math.ceil((offset+size.height-size.scrollerHeight)/lineHeight)):0,height:this.$size.scrollerHeight},changes},this.$updateLines=function(){if(this.$changedLines){var firstRow=this.$changedLines.firstRow,lastRow=this.$changedLines.lastRow;this.$changedLines=null;var layerConfig=this.layerConfig;if(!(firstRow>layerConfig.lastRow+1||lastRow<layerConfig.firstRow))return lastRow===1/0?(this.$showGutter&&this.$gutterLayer.update(layerConfig),void this.$textLayer.update(layerConfig)):(this.$textLayer.updateLines(layerConfig,firstRow,lastRow),!0)}},this.$getLongestLine=function(){var charCount=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(charCount+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(charCount*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(row,className){this.$gutterLayer.addGutterDecoration(row,className)},this.removeGutterDecoration=function(row,className){this.$gutterLayer.removeGutterDecoration(row,className)},this.updateBreakpoints=function(rows){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(annotations){this.$gutterLayer.setAnnotations(annotations),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(anchor,lead,offset){this.scrollCursorIntoView(anchor,offset),this.scrollCursorIntoView(lead,offset)},this.scrollCursorIntoView=function(cursor,offset,$viewMargin){if(0!==this.$size.scrollerHeight){var pos=this.$cursorLayer.getPixelPosition(cursor),left=pos.left,top=pos.top,topMargin=$viewMargin&&$viewMargin.top||0,bottomMargin=$viewMargin&&$viewMargin.bottom||0,scrollTop=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;scrollTop+topMargin>top?(offset&&scrollTop+topMargin>top+this.lineHeight&&(top-=offset*this.$size.scrollerHeight),0===top&&(top=-this.scrollMargin.top),this.session.setScrollTop(top)):scrollTop+this.$size.scrollerHeight-bottomMargin<top+this.lineHeight&&(offset&&scrollTop+this.$size.scrollerHeight-bottomMargin<top-this.lineHeight&&(top+=offset*this.$size.scrollerHeight),this.session.setScrollTop(top+this.lineHeight-this.$size.scrollerHeight));var scrollLeft=this.scrollLeft;scrollLeft>left?(left<this.$padding+2*this.layerConfig.characterWidth&&(left=-this.scrollMargin.left),this.session.setScrollLeft(left)):scrollLeft+this.$size.scrollerWidth<left+this.characterWidth?this.session.setScrollLeft(Math.round(left+this.characterWidth-this.$size.scrollerWidth)):scrollLeft<=this.$padding&&left-scrollLeft<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(row){this.session.setScrollTop(row*this.lineHeight)},this.alignCursor=function(cursor,alignment){"number"==typeof cursor&&(cursor={row:cursor,column:0});var pos=this.$cursorLayer.getPixelPosition(cursor),h=this.$size.scrollerHeight-this.lineHeight,offset=pos.top-h*(alignment||0);return this.session.setScrollTop(offset),offset},this.STEPS=8,this.$calcSteps=function(fromValue,toValue){var t,x_min,i=0,l=this.STEPS,steps=[];for(i=0;i<l;++i)steps.push((t=i/this.STEPS,x_min=fromValue,(toValue-fromValue)*(Math.pow(t-1,3)+1)+x_min));return steps},this.scrollToLine=function(line,center,animate,callback){var offset=this.$cursorLayer.getPixelPosition({row:line,column:0}).top;center&&(offset-=this.$size.scrollerHeight/2);var initialScroll=this.scrollTop;this.session.setScrollTop(offset),!1!==animate&&this.animateScrolling(initialScroll,callback)},this.animateScrolling=function(fromValue,callback){var toValue=this.scrollTop;if(this.$animatedScroll){var _self=this;if(fromValue!=toValue){if(this.$scrollAnimation){var oldSteps=this.$scrollAnimation.steps;if(oldSteps.length&&(fromValue=oldSteps[0])==toValue)return}var steps=_self.$calcSteps(fromValue,toValue);this.$scrollAnimation={from:fromValue,to:toValue,steps:steps},clearInterval(this.$timer),_self.session.setScrollTop(steps.shift()),_self.session.$scrollTop=toValue,this.$timer=setInterval((function(){steps.length?(_self.session.setScrollTop(steps.shift()),_self.session.$scrollTop=toValue):null!=toValue?(_self.session.$scrollTop=-1,_self.session.setScrollTop(toValue),toValue=null):(_self.$timer=clearInterval(_self.$timer),_self.$scrollAnimation=null,callback&&callback())}),10)}}},this.scrollToY=function(scrollTop){this.scrollTop!==scrollTop&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=scrollTop)},this.scrollToX=function(scrollLeft){this.scrollLeft!==scrollLeft&&(this.scrollLeft=scrollLeft),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(x,y){this.session.setScrollTop(y),this.session.setScrollLeft(y)},this.scrollBy=function(deltaX,deltaY){deltaY&&this.session.setScrollTop(this.session.getScrollTop()+deltaY),deltaX&&this.session.setScrollLeft(this.session.getScrollLeft()+deltaX)},this.isScrollableBy=function(deltaX,deltaY){return deltaY<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(deltaY>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(deltaX<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(deltaX>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(x,y){var canvasPos=this.scroller.getBoundingClientRect(),offsetX=x+this.scrollLeft-canvasPos.left-this.$padding,offset=offsetX/this.characterWidth,row=Math.floor((y+this.scrollTop-canvasPos.top)/this.lineHeight),col=Math.round(offset);return{row:row,column:col,side:offset-col>0?1:-1,offsetX:offsetX}},this.screenToTextCoordinates=function(x,y){var canvasPos=this.scroller.getBoundingClientRect(),offsetX=x+this.scrollLeft-canvasPos.left-this.$padding,col=Math.round(offsetX/this.characterWidth),row=(y+this.scrollTop-canvasPos.top)/this.lineHeight;return this.session.screenToDocumentPosition(row,Math.max(col,0),offsetX)},this.textToScreenCoordinates=function(row,column){var canvasPos=this.scroller.getBoundingClientRect(),pos=this.session.documentToScreenPosition(row,column),x=this.$padding+(this.session.$bidiHandler.isBidiRow(pos.row,row)?this.session.$bidiHandler.getPosLeft(pos.column):Math.round(pos.column*this.characterWidth)),y=pos.row*this.lineHeight;return{pageX:canvasPos.left+x-this.scrollLeft,pageY:canvasPos.top+y-this.scrollTop}},this.visualizeFocus=function(){dom.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){dom.removeCssClass(this.container,"ace_focus")},this.showComposition=function(position){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,dom.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(text){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(dom.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(theme,cb){var _self=this;if(this.$themeId=theme,_self._dispatchEvent("themeChange",{theme:theme}),theme&&"string"!=typeof theme)afterLoad(theme);else{var moduleName=theme||this.$options.theme.initialValue;config.loadModule(["theme",moduleName],afterLoad)}function afterLoad(module){if(_self.$themeId!=theme)return cb&&cb();if(!module||!module.cssClass)throw new Error("couldn't load module "+theme+" or it didn't call define");dom.importCssString(module.cssText,module.cssClass,_self.container.ownerDocument),_self.theme&&dom.removeCssClass(_self.container,_self.theme.cssClass);var padding="padding"in module?module.padding:"padding"in(_self.theme||{})?4:_self.$padding;_self.$padding&&padding!=_self.$padding&&_self.setPadding(padding),_self.$theme=module.cssClass,_self.theme=module,dom.addCssClass(_self.container,module.cssClass),dom.setCssClass(_self.container,"ace_dark",module.isDark),_self.$size&&(_self.$size.width=0,_self.$updateSizeAsync()),_self._dispatchEvent("themeLoaded",{theme:module}),cb&&cb()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(style,include){dom.setCssClass(this.container,style,!1!==include)},this.unsetStyle=function(style){dom.removeCssClass(this.container,style)},this.setCursorStyle=function(style){this.scroller.style.cursor!=style&&(this.scroller.style.cursor=style)},this.setMouseCursor=function(cursorStyle){this.scroller.style.cursor=cursorStyle},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(VirtualRenderer.prototype),config.defineOptions(VirtualRenderer.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(value){this.$textLayer.setShowInvisibles(value)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(val){"number"==typeof val&&(this.$printMarginColumn=val),this.$showPrintMargin=!!val,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(show){this.$gutter.style.display=show?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(show){dom.setCssClass(this.$gutter,"ace_fade-fold-widgets",show)},initialValue:!1},showFoldWidgets:{set:function(show){this.$gutterLayer.setShowFoldWidgets(show)},initialValue:!0},showLineNumbers:{set:function(show){this.$gutterLayer.setShowLineNumbers(show),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(show){this.$textLayer.setDisplayIndentGuides(show)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(shouldHighlight){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=dom.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=shouldHighlight?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(val){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(val){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(size){"number"==typeof size&&(size+="px"),this.container.style.fontSize=size,this.updateFontSize()},initialValue:12},fontFamily:{set:function(name){this.container.style.fontFamily=name,this.updateFontSize()}},maxLines:{set:function(val){this.updateFull()}},minLines:{set:function(val){this.updateFull()}},maxPixelHeight:{set:function(val){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(val){val=+val||0,this.$scrollPastEnd!=val&&(this.$scrollPastEnd=val,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(val){this.$gutterLayer.$fixedWidth=!!val,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(val){this.setTheme(val)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),exports.VirtualRenderer=VirtualRenderer})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop"),net=acequire("../lib/net"),EventEmitter=acequire("../lib/event_emitter").EventEmitter,config=acequire("../config");function createWorker(workerUrl,mod){var blob=function(workerUrl,mod){var script=mod.src;net.qualifyURL(workerUrl);try{return new Blob([script],{type:"application/javascript"})}catch(e){var blobBuilder=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return blobBuilder.append(script),blobBuilder.getBlob("application/javascript")}}(workerUrl,mod),blobURL=(window.URL||window.webkitURL).createObjectURL(blob);return new Worker(blobURL)}var WorkerClient=function(topLevelNamespaces,mod,classname,workerUrl,importScripts){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),acequire.nameToUrl&&!acequire.toUrl&&(acequire.toUrl=acequire.nameToUrl),config.get("packaged")||!acequire.toUrl)workerUrl=workerUrl||config.moduleUrl(mod.id,"worker");else{var normalizePath=this.$normalizePath;workerUrl=workerUrl||normalizePath(acequire.toUrl("ace/worker/worker.js",null,"_"));var tlns={};topLevelNamespaces.forEach((function(ns){tlns[ns]=normalizePath(acequire.toUrl(ns,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}this.$worker=createWorker(workerUrl,mod),importScripts&&this.send("importScripts",importScripts),this.$worker.postMessage({init:!0,tlns:tlns,module:mod.id,classname:classname}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){oop.implement(this,EventEmitter),this.onMessage=function(e){var msg=e.data;switch(msg.type){case"event":this._signal(msg.name,{data:msg.data});break;case"call":var callback=this.callbacks[msg.id];callback&&(callback(msg.data),delete this.callbacks[msg.id]);break;case"error":this.reportError(msg.data);break;case"log":window.console&&console.log&&console.log.apply(console,msg.data)}},this.reportError=function(err){window.console&&console.error&&console.error(err)},this.$normalizePath=function(path){return net.qualifyURL(path)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(cmd,args){this.$worker.postMessage({command:cmd,args:args})},this.call=function(cmd,args,callback){if(callback){var id=this.callbackId++;this.callbacks[id]=callback,args.push(id)}this.send(cmd,args)},this.emit=function(event,data){try{this.$worker.postMessage({event:event,data:{data:data.data}})}catch(ex){console.error(ex.stack)}},this.attachToDocument=function(doc){this.$doc&&this.terminate(),this.$doc=doc,this.call("setValue",[doc.getValue()]),doc.on("change",this.changeListener)},this.changeListener=function(delta){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==delta.action?this.deltaQueue.push(delta.start,delta.lines):this.deltaQueue.push(delta.start,delta.end)},this.$sendDeltaQueue=function(){var q=this.deltaQueue;q&&(this.deltaQueue=null,q.length>50&&q.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:q}))}}).call(WorkerClient.prototype);var UIWorkerClient=function(topLevelNamespaces,mod,classname){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var main=null,emitSync=!1,sender=Object.create(EventEmitter),_self=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){_self.messageBuffer.push(e),main&&(emitSync?setTimeout(processNext):processNext())},this.setEmitSync=function(val){emitSync=val};var processNext=function(){var msg=_self.messageBuffer.shift();msg.command?main[msg.command].apply(main,msg.args):msg.event&&sender._signal(msg.event,msg.data)};sender.postMessage=function(msg){_self.onMessage({data:msg})},sender.callback=function(data,callbackId){this.postMessage({type:"call",id:callbackId,data:data})},sender.emit=function(name,data){this.postMessage({type:"event",name:name,data:data})},config.loadModule(["worker",mod],(function(Main){for(main=new Main[classname](sender);_self.messageBuffer.length;)processNext()}))};UIWorkerClient.prototype=WorkerClient.prototype,exports.UIWorkerClient=UIWorkerClient,exports.WorkerClient=WorkerClient,exports.createWorker=createWorker})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(acequire,exports,module){"use strict";var Range=acequire("./range").Range,EventEmitter=acequire("./lib/event_emitter").EventEmitter,oop=acequire("./lib/oop"),PlaceHolder=function(session,length,pos,others,mainClass,othersClass){var _self=this;this.length=length,this.session=session,this.doc=session.getDocument(),this.mainClass=mainClass,this.othersClass=othersClass,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=others,this.$onCursorChange=function(){setTimeout((function(){_self.onCursorChange()}))},this.$pos=pos;var undoStack=session.getUndoManager().$undoStack||session.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=undoStack.length,this.setup(),session.selection.on("changeCursor",this.$onCursorChange)};(function(){oop.implement(this,EventEmitter),this.setup=function(){var _self=this,doc=this.doc,session=this.session;this.selectionBefore=session.selection.toJSON(),session.selection.inMultiSelectMode&&session.selection.toSingleRange(),this.pos=doc.createAnchor(this.$pos.row,this.$pos.column);var pos=this.pos;pos.$insertRight=!0,pos.detach(),pos.markerId=session.addMarker(new Range(pos.row,pos.column,pos.row,pos.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(other){var anchor=doc.createAnchor(other.row,other.column);anchor.$insertRight=!0,anchor.detach(),_self.others.push(anchor)})),session.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var session=this.session,_self=this;this.othersActive=!0,this.others.forEach((function(anchor){anchor.markerId=session.addMarker(new Range(anchor.row,anchor.column,anchor.row,anchor.column+_self.length),_self.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var i=0;i<this.others.length;i++)this.session.removeMarker(this.others[i].markerId)}},this.onUpdate=function(delta){if(this.$updating)return this.updateAnchors(delta);var range=delta;if(range.start.row===range.end.row&&range.start.row===this.pos.row){this.$updating=!0;var lengthDiff="insert"===delta.action?range.end.column-range.start.column:range.start.column-range.end.column,inMainRange=range.start.column>=this.pos.column&&range.start.column<=this.pos.column+this.length+1,distanceFromStart=range.start.column-this.pos.column;if(this.updateAnchors(delta),inMainRange&&(this.length+=lengthDiff),inMainRange&&!this.session.$fromUndo)if("insert"===delta.action)for(var i=this.others.length-1;i>=0;i--){var newPos={row:(otherPos=this.others[i]).row,column:otherPos.column+distanceFromStart};this.doc.insertMergedLines(newPos,delta.lines)}else if("remove"===delta.action)for(i=this.others.length-1;i>=0;i--){var otherPos;newPos={row:(otherPos=this.others[i]).row,column:otherPos.column+distanceFromStart};this.doc.remove(new Range(newPos.row,newPos.column,newPos.row,newPos.column-lengthDiff))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(delta){this.pos.onChange(delta);for(var i=this.others.length;i--;)this.others[i].onChange(delta);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var _self=this,session=this.session,updateMarker=function(pos,className){session.removeMarker(pos.markerId),pos.markerId=session.addMarker(new Range(pos.row,pos.column,pos.row,pos.column+_self.length),className,null,!1)};updateMarker(this.pos,this.mainClass);for(var i=this.others.length;i--;)updateMarker(this.others[i],this.othersClass)}},this.onCursorChange=function(event){if(!this.$updating&&this.session){var pos=this.session.selection.getCursor();pos.row===this.pos.row&&pos.column>=this.pos.column&&pos.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",event)):(this.hideOtherMarkers(),this._emit("cursorLeave",event))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var undoManager=this.session.getUndoManager(),undosRequired=(undoManager.$undoStack||undoManager.$undostack).length-this.$undoStackDepth,i=0;i<undosRequired;i++)undoManager.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(PlaceHolder.prototype),exports.PlaceHolder=PlaceHolder})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(acequire,exports,module){var event=acequire("../lib/event"),useragent=acequire("../lib/useragent");function isSamePoint(p1,p2){return p1.row==p2.row&&p1.column==p2.column}exports.onMouseDown=function(e){var ev=e.domEvent,alt=ev.altKey,shift=ev.shiftKey,ctrl=ev.ctrlKey,accel=e.getAccelKey(),button=e.getButton();if(ctrl&&useragent.isMac&&(button=ev.button),e.editor.inMultiSelectMode&&2==button)e.editor.textInput.onContextMenu(e.domEvent);else if(ctrl||alt||accel){if(0===button){var selectionMode,editor=e.editor,selection=editor.selection,isMultiSelect=editor.inMultiSelectMode,pos=e.getDocumentPosition(),cursor=selection.getCursor(),inSelection=e.inSelection()||selection.isEmpty()&&isSamePoint(pos,cursor),mouseX=e.x,mouseY=e.y,session=editor.session,screenAnchor=editor.renderer.pixelToScreenCoordinates(mouseX,mouseY),screenCursor=screenAnchor;if(editor.$mouseHandler.$enableJumpToDef)ctrl&&alt||accel&&alt?selectionMode=shift?"block":"add":alt&&editor.$blockSelectEnabled&&(selectionMode="block");else if(accel&&!alt){if(selectionMode="add",!isMultiSelect&&shift)return}else alt&&editor.$blockSelectEnabled&&(selectionMode="block");if(selectionMode&&useragent.isMac&&ev.ctrlKey&&editor.$mouseHandler.cancelContextMenu(),"add"==selectionMode){if(!isMultiSelect&&inSelection)return;if(!isMultiSelect){var range=selection.toOrientedRange();editor.addSelectionMarker(range)}var oldRange=selection.rangeList.rangeAtPoint(pos);editor.$blockScrolling++,editor.inVirtualSelectionMode=!0,shift&&(oldRange=null,range=selection.ranges[0]||range,editor.removeSelectionMarker(range)),editor.once("mouseup",(function(){var tmpSel=selection.toOrientedRange();oldRange&&tmpSel.isEmpty()&&isSamePoint(oldRange.cursor,tmpSel.cursor)?selection.substractPoint(tmpSel.cursor):(shift?selection.substractPoint(range.cursor):range&&(editor.removeSelectionMarker(range),selection.addRange(range)),selection.addRange(tmpSel)),editor.$blockScrolling--,editor.inVirtualSelectionMode=!1}))}else if("block"==selectionMode){var initialRange;e.stop(),editor.inVirtualSelectionMode=!0;var rectSel=[];editor.$blockScrolling++,isMultiSelect&&!accel?selection.toSingleRange():!isMultiSelect&&accel&&(initialRange=selection.toOrientedRange(),editor.addSelectionMarker(initialRange)),shift?screenAnchor=session.documentToScreenPosition(selection.lead):selection.moveToPosition(pos),editor.$blockScrolling--,screenCursor={row:-1,column:-1};var onSelectionInterval=function(){var newCursor=editor.renderer.pixelToScreenCoordinates(mouseX,mouseY),cursor=session.screenToDocumentPosition(newCursor.row,newCursor.column,newCursor.offsetX);isSamePoint(screenCursor,newCursor)&&isSamePoint(cursor,selection.lead)||(screenCursor=newCursor,editor.$blockScrolling++,editor.selection.moveToPosition(cursor),editor.renderer.scrollCursorIntoView(),editor.removeSelectionMarkers(rectSel),rectSel=selection.rectangularRangeBlock(screenCursor,screenAnchor),editor.$mouseHandler.$clickSelection&&1==rectSel.length&&rectSel[0].isEmpty()&&(rectSel[0]=editor.$mouseHandler.$clickSelection.clone()),rectSel.forEach(editor.addSelectionMarker,editor),editor.updateSelectionMarkers(),editor.$blockScrolling--)};event.capture(editor.container,(function(e){mouseX=e.clientX,mouseY=e.clientY}),(function(e){clearInterval(timerId),editor.removeSelectionMarkers(rectSel),rectSel.length||(rectSel=[selection.toOrientedRange()]),editor.$blockScrolling++,initialRange&&(editor.removeSelectionMarker(initialRange),selection.toSingleRange(initialRange));for(var i=0;i<rectSel.length;i++)selection.addRange(rectSel[i]);editor.inVirtualSelectionMode=!1,editor.$mouseHandler.$clickSelection=null,editor.$blockScrolling--}));var timerId=setInterval((function(){onSelectionInterval()}),20);return e.preventDefault()}}}else 0===button&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(acequire,exports,module){exports.defaultCommands=[{name:"addCursorAbove",exec:function(editor){editor.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(editor){editor.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(editor){editor.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(editor){editor.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(editor){editor.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(editor){editor.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(editor){editor.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(editor){editor.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(editor){editor.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(editor){editor.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(editor){editor.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],exports.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(editor){editor.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(editor){return editor&&editor.inMultiSelectMode}}];var HashHandler=acequire("../keyboard/hash_handler").HashHandler;exports.keyboardHandler=new HashHandler(exports.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(acequire,exports,module){var RangeList=acequire("./range_list").RangeList,Range=acequire("./range").Range,Selection=acequire("./selection").Selection,onMouseDown=acequire("./mouse/multi_select_handler").onMouseDown,event=acequire("./lib/event"),lang=acequire("./lib/lang"),commands=acequire("./commands/multi_select_commands");exports.commands=commands.defaultCommands.concat(commands.multiSelectCommands);var search=new(0,acequire("./search").Search);var EditSession=acequire("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(EditSession.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(range,$blockChangeEvents){if(range){if(!this.inMultiSelectMode&&0===this.rangeCount){var oldRange=this.toOrientedRange();if(this.rangeList.add(oldRange),this.rangeList.add(range),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),$blockChangeEvents||this.fromOrientedRange(range);this.rangeList.removeAll(),this.rangeList.add(oldRange),this.$onAddRange(oldRange)}range.cursor||(range.cursor=range.end);var removed=this.rangeList.add(range);return this.$onAddRange(range),removed.length&&this.$onRemoveRange(removed),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),$blockChangeEvents||this.fromOrientedRange(range)}},this.toSingleRange=function(range){range=range||this.ranges[0];var removed=this.rangeList.removeAll();removed.length&&this.$onRemoveRange(removed),range&&this.fromOrientedRange(range)},this.substractPoint=function(pos){var removed=this.rangeList.substractPoint(pos);if(removed)return this.$onRemoveRange(removed),removed[0]},this.mergeOverlappingRanges=function(){var removed=this.rangeList.merge();removed.length?this.$onRemoveRange(removed):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(range){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(range),this._signal("addRange",{range:range})},this.$onRemoveRange=function(removed){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var lastRange=this.rangeList.ranges.pop();removed.push(lastRange),this.rangeCount=0}for(var i=removed.length;i--;){var index=this.ranges.indexOf(removed[i]);this.ranges.splice(index,1)}this._signal("removeRange",{ranges:removed}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(lastRange=lastRange||this.ranges[0])&&!lastRange.isEqual(this.getRange())&&this.fromOrientedRange(lastRange)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new RangeList,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var ranges=this.rangeList.ranges,lastRange=ranges[ranges.length-1],range=Range.fromPoints(ranges[0].start,lastRange.end);this.toSingleRange(),this.setSelectionRange(range,lastRange.cursor==lastRange.start)}else{range=this.getRange();var isBackwards=this.isBackwards(),startRow=range.start.row,endRow=range.end.row;if(startRow==endRow){if(isBackwards)var start=range.end,end=range.start;else start=range.start,end=range.end;return this.addRange(Range.fromPoints(end,end)),void this.addRange(Range.fromPoints(start,start))}var rectSel=[],r=this.getLineRange(startRow,!0);r.start.column=range.start.column,rectSel.push(r);for(var i=startRow+1;i<endRow;i++)rectSel.push(this.getLineRange(i,!0));(r=this.getLineRange(endRow,!0)).end.column=range.end.column,rectSel.push(r),rectSel.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var ranges=this.rangeList.ranges,lastRange=ranges[ranges.length-1],range=Range.fromPoints(ranges[0].start,lastRange.end);this.toSingleRange(),this.setSelectionRange(range,lastRange.cursor==lastRange.start)}else{var cursor=this.session.documentToScreenPosition(this.selectionLead),anchor=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(cursor,anchor).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(screenCursor,screenAnchor,includeEmptyLines){var rectSel=[],xBackwards=screenCursor.column<screenAnchor.column;if(xBackwards)var startColumn=screenCursor.column,endColumn=screenAnchor.column,startOffsetX=screenCursor.offsetX,endOffsetX=screenAnchor.offsetX;else startColumn=screenAnchor.column,endColumn=screenCursor.column,startOffsetX=screenAnchor.offsetX,endOffsetX=screenCursor.offsetX;var p1,p2,yBackwards=screenCursor.row<screenAnchor.row;if(yBackwards)var startRow=screenCursor.row,endRow=screenAnchor.row;else startRow=screenAnchor.row,endRow=screenCursor.row;startColumn<0&&(startColumn=0),startRow<0&&(startRow=0),startRow==endRow&&(includeEmptyLines=!0);for(var row=startRow;row<=endRow;row++){var range=Range.fromPoints(this.session.screenToDocumentPosition(row,startColumn,startOffsetX),this.session.screenToDocumentPosition(row,endColumn,endOffsetX));if(range.isEmpty()){if(docEnd&&(p1=range.end,p2=docEnd,p1.row==p2.row&&p1.column==p2.column))break;var docEnd=range.end}range.cursor=xBackwards?range.start:range.end,rectSel.push(range)}if(yBackwards&&rectSel.reverse(),!includeEmptyLines){for(var end=rectSel.length-1;rectSel[end].isEmpty()&&end>0;)end--;if(end>0)for(var start=0;rectSel[start].isEmpty();)start++;for(var i=end;i>=start;i--)rectSel[i].isEmpty()&&rectSel.splice(i,1)}return rectSel}}.call(Selection.prototype);var Editor=acequire("./editor").Editor;function MultiSelect(editor){editor.$multiselectOnSessionChange||(editor.$onAddRange=editor.$onAddRange.bind(editor),editor.$onRemoveRange=editor.$onRemoveRange.bind(editor),editor.$onMultiSelect=editor.$onMultiSelect.bind(editor),editor.$onSingleSelect=editor.$onSingleSelect.bind(editor),editor.$multiselectOnSessionChange=exports.onSessionChange.bind(editor),editor.$checkMultiselectChange=editor.$checkMultiselectChange.bind(editor),editor.$multiselectOnSessionChange(editor),editor.on("changeSession",editor.$multiselectOnSessionChange),editor.on("mousedown",onMouseDown),editor.commands.addCommands(commands.defaultCommands),function(editor){var el=editor.textInput.getElement(),altCursor=!1;function reset(e){altCursor&&(editor.renderer.setMouseCursor(""),altCursor=!1)}event.addListener(el,"keydown",(function(e){var altDown=18==e.keyCode&&!(e.ctrlKey||e.shiftKey||e.metaKey);editor.$blockSelectEnabled&&altDown?altCursor||(editor.renderer.setMouseCursor("crosshair"),altCursor=!0):altCursor&&reset()})),event.addListener(el,"keyup",reset),event.addListener(el,"blur",reset)}(editor))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(orientedRange){orientedRange.cursor||(orientedRange.cursor=orientedRange.end);var style=this.getSelectionStyle();return orientedRange.marker=this.session.addMarker(orientedRange,"ace_selection",style),this.session.$selectionMarkers.push(orientedRange),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,orientedRange},this.removeSelectionMarker=function(range){if(range.marker){this.session.removeMarker(range.marker);var index=this.session.$selectionMarkers.indexOf(range);-1!=index&&this.session.$selectionMarkers.splice(index,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(ranges){for(var markerList=this.session.$selectionMarkers,i=ranges.length;i--;){var range=ranges[i];if(range.marker){this.session.removeMarker(range.marker);var index=markerList.indexOf(range);-1!=index&&markerList.splice(index,1)}}this.session.selectionMarkerCount=markerList.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(commands.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(commands.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var command=e.command,editor=e.editor;if(editor.multiSelect){if(command.multiSelectAction)"forEach"==command.multiSelectAction?result=editor.forEachSelection(command,e.args):"forEachLine"==command.multiSelectAction?result=editor.forEachSelection(command,e.args,!0):"single"==command.multiSelectAction?(editor.exitMultiSelectMode(),result=command.exec(editor,e.args||{})):result=command.multiSelectAction(editor,e.args||{});else{var result=command.exec(editor,e.args||{});editor.multiSelect.addRange(editor.multiSelect.toOrientedRange()),editor.multiSelect.mergeOverlappingRanges()}return result}},this.forEachSelection=function(cmd,args,options){if(!this.inVirtualSelectionMode){var result,keepOrder=options&&options.keepOrder,$byLines=1==options||options&&options.$byLines,session=this.session,selection=this.selection,rangeList=selection.rangeList,ranges=(keepOrder?selection:rangeList).ranges;if(!ranges.length)return cmd.exec?cmd.exec(this,args||{}):cmd(this,args||{});var reg=selection._eventRegistry;selection._eventRegistry={};var tmpSel=new Selection(session);this.inVirtualSelectionMode=!0;for(var i=ranges.length;i--;){if($byLines)for(;i>0&&ranges[i].start.row==ranges[i-1].end.row;)i--;tmpSel.fromOrientedRange(ranges[i]),tmpSel.index=i,this.selection=session.selection=tmpSel;var cmdResult=cmd.exec?cmd.exec(this,args||{}):cmd(this,args||{});result||void 0===cmdResult||(result=cmdResult),tmpSel.toOrientedRange(ranges[i])}tmpSel.detach(),this.selection=session.selection=selection,this.inVirtualSelectionMode=!1,selection._eventRegistry=reg,selection.mergeOverlappingRanges();var anim=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),anim&&anim.from==anim.to&&this.renderer.animateScrolling(anim.from),result}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var text="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var ranges=this.multiSelect.rangeList.ranges,buf=[],i=0;i<ranges.length;i++)buf.push(this.session.getTextRange(ranges[i]));var nl=this.session.getDocument().getNewLineCharacter();(text=buf.join(nl)).length==(buf.length-1)*nl.length&&(text="")}else this.selection.isEmpty()||(text=this.session.getTextRange(this.getSelectionRange()));return text},this.$checkMultiselectChange=function(e,anchor){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var range=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&anchor==this.multiSelect.anchor)return;var pos=anchor==this.multiSelect.anchor?range.cursor==range.start?range.end:range.start:range.cursor;pos.row==anchor.row&&this.session.$clipPositionToDocument(pos.row,pos.column).column==anchor.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(needle,options,additive){if((options=options||{}).needle=needle||options.needle,null==options.needle){var range=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();options.needle=this.session.getTextRange(range)}this.$search.set(options);var ranges=this.$search.findAll(this.session);if(!ranges.length)return 0;this.$blockScrolling+=1;var selection=this.multiSelect;additive||selection.toSingleRange(ranges[0]);for(var i=ranges.length;i--;)selection.addRange(ranges[i],!0);return range&&selection.rangeList.rangeAtPoint(range.start)&&selection.addRange(range,!0),this.$blockScrolling-=1,ranges.length},this.selectMoreLines=function(dir,skip){var range=this.selection.toOrientedRange(),isBackwards=range.cursor==range.end,screenLead=this.session.documentToScreenPosition(range.cursor);this.selection.$desiredColumn&&(screenLead.column=this.selection.$desiredColumn);var newRange,lead=this.session.screenToDocumentPosition(screenLead.row+dir,screenLead.column);if(range.isEmpty())anchor=lead;else var screenAnchor=this.session.documentToScreenPosition(isBackwards?range.end:range.start),anchor=this.session.screenToDocumentPosition(screenAnchor.row+dir,screenAnchor.column);isBackwards?(newRange=Range.fromPoints(lead,anchor)).cursor=newRange.start:(newRange=Range.fromPoints(anchor,lead)).cursor=newRange.end;if(newRange.desiredColumn=screenLead.column,this.selection.inMultiSelectMode){if(skip)var toRemove=range.cursor}else this.selection.addRange(range);this.selection.addRange(newRange),toRemove&&this.selection.substractPoint(toRemove)},this.transposeSelections=function(dir){for(var session=this.session,sel=session.multiSelect,all=sel.ranges,i=all.length;i--;){if((range=all[i]).isEmpty()){var tmp=session.getWordRange(range.start.row,range.start.column);range.start.row=tmp.start.row,range.start.column=tmp.start.column,range.end.row=tmp.end.row,range.end.column=tmp.end.column}}sel.mergeOverlappingRanges();var words=[];for(i=all.length;i--;){var range=all[i];words.unshift(session.getTextRange(range))}dir<0?words.unshift(words.pop()):words.push(words.shift());for(i=all.length;i--;){tmp=(range=all[i]).clone();session.replace(range,words[i]),range.start.row=tmp.start.row,range.start.column=tmp.start.column}},this.selectMore=function(dir,skip,stopAtFirst){var session=this.session,range=session.multiSelect.toOrientedRange();if(!range.isEmpty()||((range=session.getWordRange(range.start.row,range.start.column)).cursor=-1==dir?range.start:range.end,this.multiSelect.addRange(range),!stopAtFirst)){var needle=session.getTextRange(range),newRange=function(session,needle,dir){return search.$options.wrap=!0,search.$options.needle=needle,search.$options.backwards=-1==dir,search.find(session)}(session,needle,dir);newRange&&(newRange.cursor=-1==dir?newRange.start:newRange.end,this.$blockScrolling+=1,this.session.unfold(newRange),this.multiSelect.addRange(newRange),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),skip&&this.multiSelect.substractPoint(range.cursor)}},this.alignCursors=function(){var session=this.session,sel=session.multiSelect,ranges=sel.ranges,row=-1,sameRowRanges=ranges.filter((function(r){if(r.cursor.row==row)return!0;row=r.cursor.row}));if(ranges.length&&sameRowRanges.length!=ranges.length-1){sameRowRanges.forEach((function(r){sel.substractPoint(r.cursor)}));var maxCol=0,minSpace=1/0,spaceOffsets=ranges.map((function(r){var p=r.cursor,spaceOffset=session.getLine(p.row).substr(p.column).search(/\S/g);return-1==spaceOffset&&(spaceOffset=0),p.column>maxCol&&(maxCol=p.column),spaceOffset<minSpace&&(minSpace=spaceOffset),spaceOffset}));ranges.forEach((function(r,i){var p=r.cursor,l=maxCol-p.column,d=spaceOffsets[i]-minSpace;l>d?session.insert(p,lang.stringRepeat(" ",l-d)):session.remove(new Range(p.row,p.column,p.row,p.column-l+d)),r.start.column=r.end.column=maxCol,r.start.row=r.end.row=p.row,r.cursor=r.end})),sel.fromOrientedRange(ranges[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var range=this.selection.getRange(),fr=range.start.row,lr=range.end.row,guessRange=fr==lr;if(guessRange){var line,max=this.session.getLength();do{line=this.session.getLine(lr)}while(/[=:]/.test(line)&&++lr<max);do{line=this.session.getLine(fr)}while(/[=:]/.test(line)&&--fr>0);fr<0&&(fr=0),lr>=max&&(lr=max-1)}var lines=this.session.removeFullLines(fr,lr);lines=this.$reAlignText(lines,guessRange),this.session.insert({row:fr,column:0},lines.join("\n")+"\n"),guessRange||(range.start.column=0,range.end.column=lines[lines.length-1].length),this.selection.setRange(range)}},this.$reAlignText=function(lines,forceLeft){var startW,textW,endW,isLeftAligned=!0,isRightAligned=!0;return lines.map((function(line){var m=line.match(/(\s*)(.*?)(\s*)([=:].*)/);return m?null==startW?(startW=m[1].length,textW=m[2].length,endW=m[3].length,m):(startW+textW+endW!=m[1].length+m[2].length+m[3].length&&(isRightAligned=!1),startW!=m[1].length&&(isLeftAligned=!1),startW>m[1].length&&(startW=m[1].length),textW<m[2].length&&(textW=m[2].length),endW>m[3].length&&(endW=m[3].length),m):[line]})).map(forceLeft?alignLeft:isLeftAligned?isRightAligned?function(m){return m[2]?spaces(startW+textW-m[2].length)+m[2]+spaces(endW)+m[4].replace(/^([=:])\s+/,"$1 "):m[0]}:alignLeft:function(m){return m[2]?spaces(startW)+m[2]+spaces(endW)+m[4].replace(/^([=:])\s+/,"$1 "):m[0]});function spaces(n){return lang.stringRepeat(" ",n)}function alignLeft(m){return m[2]?spaces(startW)+m[2]+spaces(textW-m[2].length+endW)+m[4].replace(/^([=:])\s+/,"$1 "):m[0]}}}).call(Editor.prototype),exports.onSessionChange=function(e){var session=e.session;session&&!session.multiSelect&&(session.$selectionMarkers=[],session.selection.$initRangeList(),session.multiSelect=session.selection),this.multiSelect=session&&session.multiSelect;var oldSession=e.oldSession;oldSession&&(oldSession.multiSelect.off("addRange",this.$onAddRange),oldSession.multiSelect.off("removeRange",this.$onRemoveRange),oldSession.multiSelect.off("multiSelect",this.$onMultiSelect),oldSession.multiSelect.off("singleSelect",this.$onSingleSelect),oldSession.multiSelect.lead.off("change",this.$checkMultiselectChange),oldSession.multiSelect.anchor.off("change",this.$checkMultiselectChange)),session&&(session.multiSelect.on("addRange",this.$onAddRange),session.multiSelect.on("removeRange",this.$onRemoveRange),session.multiSelect.on("multiSelect",this.$onMultiSelect),session.multiSelect.on("singleSelect",this.$onSingleSelect),session.multiSelect.lead.on("change",this.$checkMultiselectChange),session.multiSelect.anchor.on("change",this.$checkMultiselectChange)),session&&this.inMultiSelectMode!=session.selection.inMultiSelectMode&&(session.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},exports.MultiSelect=MultiSelect,acequire("./config").defineOptions(Editor.prototype,"editor",{enableMultiselect:{set:function(val){MultiSelect(this),val?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",onMouseDown)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",onMouseDown))},value:!0},enableBlockSelect:{set:function(val){this.$blockSelectEnabled=val},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(acequire,exports,module){"use strict";var Range=acequire("../../range").Range,FoldMode=exports.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);return this.foldingStartMarker.test(line)?"start":"markbeginend"==foldStyle&&this.foldingStopMarker&&this.foldingStopMarker.test(line)?"end":""},this.getFoldWidgetRange=function(session,foldStyle,row){return null},this.indentationBlock=function(session,row,column){var re=/\S/,line=session.getLine(row),startLevel=line.search(re);if(-1!=startLevel){for(var startColumn=column||line.length,maxRow=session.getLength(),startRow=row,endRow=row;++row<maxRow;){var level=session.getLine(row).search(re);if(-1!=level){if(level<=startLevel)break;endRow=row}}if(endRow>startRow){var endColumn=session.getLine(endRow).length;return new Range(startRow,startColumn,endRow,endColumn)}}},this.openingBracketBlock=function(session,bracket,row,column,typeRe){var start={row:row,column:column+1},end=session.$findClosingBracket(bracket,start,typeRe);if(end){var fw=session.foldWidgets[end.row];return null==fw&&(fw=session.getFoldWidget(end.row)),"start"==fw&&end.row>start.row&&(end.row--,end.column=session.getLine(end.row).length),Range.fromPoints(start,end)}},this.closingBracketBlock=function(session,bracket,row,column,typeRe){var end={row:row,column:column},start=session.$findOpeningBracket(bracket,end);if(start)return start.column++,end.column--,Range.fromPoints(start,end)}}).call(FoldMode.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(acequire,exports,module){"use strict";exports.isDark=!1,exports.cssClass="ace-tm",exports.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',acequire("../lib/dom").importCssString(exports.cssText,exports.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],(function(acequire,exports,module){"use strict";acequire("./lib/oop");var dom=acequire("./lib/dom");acequire("./range").Range;function LineWidgets(session){this.session=session,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(row){var h;return h=this.lineWidgets&&this.lineWidgets[row]&&this.lineWidgets[row].rowCount||0,this.$useWrapMode&&this.$wrapData[row]?this.$wrapData[row].length+1+h:1+h},this.$getWidgetScreenLength=function(){var screenRows=0;return this.lineWidgets.forEach((function(w){w&&w.rowCount&&!w.hidden&&(screenRows+=w.rowCount)})),screenRows},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(editor){editor&&editor.widgetManager&&editor.widgetManager!=this&&editor.widgetManager.detach(),this.editor!=editor&&(this.detach(),this.editor=editor,editor&&(editor.widgetManager=this,editor.renderer.on("beforeRender",this.measureWidgets),editor.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var editor=this.editor;if(editor){this.editor=null,editor.widgetManager=null,editor.renderer.off("beforeRender",this.measureWidgets),editor.renderer.off("afterRender",this.renderWidgets);var lineWidgets=this.session.lineWidgets;lineWidgets&&lineWidgets.forEach((function(w){w&&w.el&&w.el.parentNode&&(w._inDocument=!1,w.el.parentNode.removeChild(w.el))}))}},this.updateOnFold=function(e,session){var lineWidgets=session.lineWidgets;if(lineWidgets&&e.action){for(var fold=e.data,start=fold.start.row,end=fold.end.row,hide="add"==e.action,i=start+1;i<end;i++)lineWidgets[i]&&(lineWidgets[i].hidden=hide);lineWidgets[end]&&(hide?lineWidgets[start]?lineWidgets[end].hidden=hide:lineWidgets[start]=lineWidgets[end]:(lineWidgets[start]==lineWidgets[end]&&(lineWidgets[start]=void 0),lineWidgets[end].hidden=hide))}},this.updateOnChange=function(delta){var lineWidgets=this.session.lineWidgets;if(lineWidgets){var startRow=delta.start.row,len=delta.end.row-startRow;if(0===len);else if("remove"==delta.action){lineWidgets.splice(startRow+1,len).forEach((function(w){w&&this.removeLineWidget(w)}),this),this.$updateRows()}else{var args=new Array(len);args.unshift(startRow,0),lineWidgets.splice.apply(lineWidgets,args),this.$updateRows()}}},this.$updateRows=function(){var lineWidgets=this.session.lineWidgets;if(lineWidgets){var noWidgets=!0;lineWidgets.forEach((function(w,i){if(w)for(noWidgets=!1,w.row=i;w.$oldWidget;)w.$oldWidget.row=i,w=w.$oldWidget})),noWidgets&&(this.session.lineWidgets=null)}},this.addLineWidget=function(w){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var old=this.session.lineWidgets[w.row];old&&(w.$oldWidget=old,old.el&&old.el.parentNode&&(old.el.parentNode.removeChild(old.el),old._inDocument=!1)),this.session.lineWidgets[w.row]=w,w.session=this.session;var renderer=this.editor.renderer;w.html&&!w.el&&(w.el=dom.createElement("div"),w.el.innerHTML=w.html),w.el&&(dom.addCssClass(w.el,"ace_lineWidgetContainer"),w.el.style.position="absolute",w.el.style.zIndex=5,renderer.container.appendChild(w.el),w._inDocument=!0),w.coverGutter||(w.el.style.zIndex=3),null==w.pixelHeight&&(w.pixelHeight=w.el.offsetHeight),null==w.rowCount&&(w.rowCount=w.pixelHeight/renderer.layerConfig.lineHeight);var fold=this.session.getFoldAt(w.row,0);if(w.$fold=fold,fold){var lineWidgets=this.session.lineWidgets;w.row!=fold.end.row||lineWidgets[fold.start.row]?w.hidden=!0:lineWidgets[fold.start.row]=w}return this.session._emit("changeFold",{data:{start:{row:w.row}}}),this.$updateRows(),this.renderWidgets(null,renderer),this.onWidgetChanged(w),w},this.removeLineWidget=function(w){if(w._inDocument=!1,w.session=null,w.el&&w.el.parentNode&&w.el.parentNode.removeChild(w.el),w.editor&&w.editor.destroy)try{w.editor.destroy()}catch(e){}if(this.session.lineWidgets){var w1=this.session.lineWidgets[w.row];if(w1==w)this.session.lineWidgets[w.row]=w.$oldWidget,w.$oldWidget&&this.onWidgetChanged(w.$oldWidget);else for(;w1;){if(w1.$oldWidget==w){w1.$oldWidget=w.$oldWidget;break}w1=w1.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:w.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(row){for(var lineWidgets=this.session.lineWidgets,w=lineWidgets&&lineWidgets[row],list=[];w;)list.push(w),w=w.$oldWidget;return list},this.onWidgetChanged=function(w){this.session._changedWidgets.push(w),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,renderer){var changedWidgets=this.session._changedWidgets,config=renderer.layerConfig;if(changedWidgets&&changedWidgets.length){for(var min=1/0,i=0;i<changedWidgets.length;i++){var w=changedWidgets[i];if(w&&w.el&&w.session==this.session){if(!w._inDocument){if(this.session.lineWidgets[w.row]!=w)continue;w._inDocument=!0,renderer.container.appendChild(w.el)}w.h=w.el.offsetHeight,w.fixedWidth||(w.w=w.el.offsetWidth,w.screenWidth=Math.ceil(w.w/config.characterWidth));var rowCount=w.h/config.lineHeight;w.coverLine&&(rowCount-=this.session.getRowLineCount(w.row))<0&&(rowCount=0),w.rowCount!=rowCount&&(w.rowCount=rowCount,w.row<min&&(min=w.row))}}min!=1/0&&(this.session._emit("changeFold",{data:{start:{row:min}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,renderer){var config=renderer.layerConfig,lineWidgets=this.session.lineWidgets;if(lineWidgets){for(var first=Math.min(this.firstRow,config.firstRow),last=Math.max(this.lastRow,config.lastRow,lineWidgets.length);first>0&&!lineWidgets[first];)first--;this.firstRow=config.firstRow,this.lastRow=config.lastRow,renderer.$cursorLayer.config=config;for(var i=first;i<=last;i++){var w=lineWidgets[i];if(w&&w.el)if(w.hidden)w.el.style.top=-100-(w.pixelHeight||0)+"px";else{w._inDocument||(w._inDocument=!0,renderer.container.appendChild(w.el));var top=renderer.$cursorLayer.getPixelPosition({row:i,column:0},!0).top;w.coverLine||(top+=config.lineHeight*this.session.getRowLineCount(w.row)),w.el.style.top=top-config.offset+"px";var left=w.coverGutter?0:renderer.gutterWidth;w.fixedWidth||(left-=renderer.scrollLeft),w.el.style.left=left+"px",w.fullWidth&&w.screenWidth&&(w.el.style.minWidth=config.width+2*config.padding+"px"),w.fixedWidth?w.el.style.right=renderer.scrollBar.getWidth()+"px":w.el.style.right=""}}}}}).call(LineWidgets.prototype),exports.LineWidgets=LineWidgets})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(acequire,exports,module){"use strict";var LineWidgets=acequire("../line_widgets").LineWidgets,dom=acequire("../lib/dom"),Range=acequire("../range").Range;exports.showErrorMarker=function(editor,dir){var session=editor.session;session.widgetManager||(session.widgetManager=new LineWidgets(session),session.widgetManager.attach(editor));var pos=editor.getCursorPosition(),row=pos.row,oldWidget=session.widgetManager.getWidgetsAtRow(row).filter((function(w){return"errorMarker"==w.type}))[0];oldWidget?oldWidget.destroy():row-=dir;var gutterAnno,annotations=function(session,row,dir){var annotations=session.getAnnotations().sort(Range.comparePoints);if(annotations.length){var i=function(array,needle,comparator){for(var first=0,last=array.length-1;first<=last;){var mid=first+last>>1,c=comparator(needle,array[mid]);if(c>0)first=mid+1;else{if(!(c<0))return mid;last=mid-1}}return-(first+1)}(annotations,{row:row,column:-1},Range.comparePoints);i<0&&(i=-i-1),i>=annotations.length?i=dir>0?0:annotations.length-1:0===i&&dir<0&&(i=annotations.length-1);var annotation=annotations[i];if(annotation&&dir){if(annotation.row===row){do{annotation=annotations[i+=dir]}while(annotation&&annotation.row===row);if(!annotation)return annotations.slice()}var matched=[];row=annotation.row;do{matched[dir<0?"unshift":"push"](annotation),annotation=annotations[i+=dir]}while(annotation&&annotation.row==row);return matched.length&&matched}}}(session,row,dir);if(annotations){var annotation=annotations[0];pos.column=(annotation.pos&&"number"!=typeof annotation.column?annotation.pos.sc:annotation.column)||0,pos.row=annotation.row,gutterAnno=editor.renderer.$gutterLayer.$annotations[pos.row]}else{if(oldWidget)return;gutterAnno={text:["Looks good!"],className:"ace_ok"}}editor.session.unfold(pos.row),editor.selection.moveToPosition(pos);var w={row:pos.row,fixedWidth:!0,coverGutter:!0,el:dom.createElement("div"),type:"errorMarker"},el=w.el.appendChild(dom.createElement("div")),arrow=w.el.appendChild(dom.createElement("div"));arrow.className="error_widget_arrow "+gutterAnno.className;var left=editor.renderer.$cursorLayer.getPixelPosition(pos).left;arrow.style.left=left+editor.renderer.gutterWidth-5+"px",w.el.className="error_widget_wrapper",el.className="error_widget "+gutterAnno.className,el.innerHTML=gutterAnno.text.join("<br>"),el.appendChild(dom.createElement("div"));var kb=function(_,hashId,keyString){if(0===hashId&&("esc"===keyString||"return"===keyString))return w.destroy(),{command:"null"}};w.destroy=function(){editor.$mouseHandler.isMousePressed||(editor.keyBinding.removeKeyboardHandler(kb),session.widgetManager.removeLineWidget(w),editor.off("changeSelection",w.destroy),editor.off("changeSession",w.destroy),editor.off("mouseup",w.destroy),editor.off("change",w.destroy))},editor.keyBinding.addKeyboardHandler(kb),editor.on("changeSelection",w.destroy),editor.on("changeSession",w.destroy),editor.on("mouseup",w.destroy),editor.on("change",w.destroy),editor.session.widgetManager.addLineWidget(w),w.el.onmousedown=editor.focus.bind(editor),editor.renderer.scrollCursorIntoView(null,.5,{bottom:w.el.offsetHeight})},dom.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(acequire,exports,module){"use strict";acequire("./lib/fixoldbrowsers");var dom=acequire("./lib/dom"),event=acequire("./lib/event"),Editor=acequire("./editor").Editor,EditSession=acequire("./edit_session").EditSession,UndoManager=acequire("./undomanager").UndoManager,Renderer=acequire("./virtual_renderer").VirtualRenderer;acequire("./worker/worker_client"),acequire("./keyboard/hash_handler"),acequire("./placeholder"),acequire("./multi_select"),acequire("./mode/folding/fold_mode"),acequire("./theme/textmate"),acequire("./ext/error_marker"),exports.config=acequire("./config"),exports.acequire=acequire,exports.define=__webpack_require__(94),exports.edit=function(el){if("string"==typeof el){var _id=el;if(!(el=document.getElementById(_id)))throw new Error("ace.edit can't find div #"+_id)}if(el&&el.env&&el.env.editor instanceof Editor)return el.env.editor;var value="";if(el&&/input|textarea/i.test(el.tagName)){var oldNode=el;value=oldNode.value,el=dom.createElement("pre"),oldNode.parentNode.replaceChild(el,oldNode)}else el&&(value=dom.getInnerText(el),el.innerHTML="");var doc=exports.createEditSession(value),editor=new Editor(new Renderer(el));editor.setSession(doc);var env={document:doc,editor:editor,onResize:editor.resize.bind(editor,null)};return oldNode&&(env.textarea=oldNode),event.addListener(window,"resize",env.onResize),editor.on("destroy",(function(){event.removeListener(window,"resize",env.onResize),env.editor.container.env=null})),editor.container.env=editor.env=env,editor},exports.createEditSession=function(text,mode){var doc=new EditSession(text,mode);return doc.setUndoManager(new UndoManager),doc},exports.EditSession=EditSession,exports.UndoManager=UndoManager,exports.version="1.2.9"})),ace.acequire(["ace/ace"],(function(a){for(var key in a&&(a.config.init(!0),a.define=ace.define),window.ace||(window.ace=a),a)a.hasOwnProperty(key)&&(window.ace[key]=a[key])})),module.exports=window.ace.acequire("ace/ace")},function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},function(module,exports){ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,lang=acequire("./lib/lang"),Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,HashHandler=acequire("./keyboard/hash_handler").HashHandler,Tokenizer=acequire("./tokenizer").Tokenizer,comparePoints=Range.comparePoints,SnippetManager=function(){this.snippetMap={},this.snippetNameMap={}};(function(){oop.implement(this,EventEmitter),this.getTokenizer=function(){function TabstopToken(str,_,stack){return str=str.substr(1),/^\d+$/.test(str)&&!stack.inFormatString?[{tabstopId:parseInt(str,10)}]:[{text:str}]}function escape(ch){return"(?:[^\\\\"+ch+"]|\\\\.)"}return SnippetManager.$tokenizer=new Tokenizer({start:[{regex:/:/,onMatch:function(val,state,stack){return stack.length&&stack[0].expectIf?(stack[0].expectIf=!1,stack[0].elseBranch=stack[0],[stack[0]]):":"}},{regex:/\\./,onMatch:function(val,state,stack){var ch=val[1];return"}"==ch&&stack.length||-1!="`$\\".indexOf(ch)?val=ch:stack.inFormatString&&("n"==ch||"t"==ch?val="\n":-1!="ulULE".indexOf(ch)&&(val={changeCase:ch,local:ch>"a"})),[val]}},{regex:/}/,onMatch:function(val,state,stack){return[stack.length?stack.shift():val]}},{regex:/\$(?:\d+|\w+)/,onMatch:TabstopToken},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(str,state,stack){var t=TabstopToken(str.substr(1),0,stack);return stack.unshift(t[0]),t},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+escape("\\|")+"*\\|",onMatch:function(val,state,stack){stack[0].choices=val.slice(1,-1).split(",")},next:"start"},{regex:"/("+escape("/")+"+)/(?:("+escape("/")+"*)/)(\\w*):?",onMatch:function(val,state,stack){var ts=stack[0];return ts.fmtString=val,val=this.splitRegex.exec(val),ts.guard=val[1],ts.fmt=val[2],ts.flag=val[3],""},next:"start"},{regex:"`"+escape("`")+"*`",onMatch:function(val,state,stack){return stack[0].code=val.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(val,state,stack){stack[0]&&(stack[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+escape("/")+"+)/",token:"regex"},{regex:"",onMatch:function(val,state,stack){stack.inFormatString=!0},next:"start"}]}),SnippetManager.prototype.getTokenizer=function(){return SnippetManager.$tokenizer},SnippetManager.$tokenizer},this.tokenizeTmSnippet=function(str,startState){return this.getTokenizer().getLineTokens(str,startState).tokens.map((function(x){return x.value||x}))},this.$getDefaultValue=function(editor,name){if(/^[A-Z]\d+$/.test(name)){var i=name.substr(1);return(this.variables[name[0]+"__"]||{})[i]}if(/^\d+$/.test(name))return(this.variables.__||{})[name];if(name=name.replace(/^TM_/,""),editor){var s=editor.session;switch(name){case"CURRENT_WORD":var r=s.getWordRange();case"SELECTION":case"SELECTED_TEXT":return s.getTextRange(r);case"CURRENT_LINE":return s.getLine(editor.getCursorPosition().row);case"PREV_LINE":return s.getLine(editor.getCursorPosition().row-1);case"LINE_INDEX":return editor.getCursorPosition().column;case"LINE_NUMBER":return editor.getCursorPosition().row+1;case"SOFT_TABS":return s.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return s.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(editor,varName){return this.variables.hasOwnProperty(varName)?this.variables[varName](editor,varName)||"":this.$getDefaultValue(editor,varName)||""},this.tmStrFormat=function(str,ch,editor){var flag=ch.flag||"",re=ch.guard;re=new RegExp(re,flag.replace(/[^gi]/,""));var fmtTokens=this.tokenizeTmSnippet(ch.fmt,"formatString"),_self=this,formatted=str.replace(re,(function(){_self.variables.__=arguments;for(var fmtParts=_self.resolveVariables(fmtTokens,editor),gChangeCase="E",i=0;i<fmtParts.length;i++){var ch=fmtParts[i];if("object"==typeof ch)if(fmtParts[i]="",ch.changeCase&&ch.local){var next=fmtParts[i+1];next&&"string"==typeof next&&("u"==ch.changeCase?fmtParts[i]=next[0].toUpperCase():fmtParts[i]=next[0].toLowerCase(),fmtParts[i+1]=next.substr(1))}else ch.changeCase&&(gChangeCase=ch.changeCase);else"U"==gChangeCase?fmtParts[i]=ch.toUpperCase():"L"==gChangeCase&&(fmtParts[i]=ch.toLowerCase())}return fmtParts.join("")}));return this.variables.__=null,formatted},this.resolveVariables=function(snippet,editor){for(var result=[],i=0;i<snippet.length;i++){var ch=snippet[i];if("string"==typeof ch)result.push(ch);else{if("object"!=typeof ch)continue;if(ch.skip)gotoNext(ch);else{if(ch.processed<i)continue;if(ch.text){var value=this.getVariableValue(editor,ch.text);value&&ch.fmtString&&(value=this.tmStrFormat(value,ch)),ch.processed=i,null==ch.expectIf?value&&(result.push(value),gotoNext(ch)):value?ch.skip=ch.elseBranch:gotoNext(ch)}else(null!=ch.tabstopId||null!=ch.changeCase)&&result.push(ch)}}}function gotoNext(ch){var i1=snippet.indexOf(ch,i+1);-1!=i1&&(i=i1)}return result},this.insertSnippetForSelection=function(editor,snippetText){var cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),tabString=editor.session.getTabString(),indentString=line.match(/^\s*/)[0];cursor.column<indentString.length&&(indentString=indentString.slice(0,cursor.column)),snippetText=snippetText.replace(/\r/g,"");var tokens=this.tokenizeTmSnippet(snippetText);tokens=(tokens=this.resolveVariables(tokens,editor)).map((function(x){return"\n"==x?x+indentString:"string"==typeof x?x.replace(/\t/g,tabString):x}));var tabstops=[];tokens.forEach((function(p,i){if("object"==typeof p){var id=p.tabstopId,ts=tabstops[id];if(ts||((ts=tabstops[id]=[]).index=id,ts.value=""),-1===ts.indexOf(p)){ts.push(p);var i1=tokens.indexOf(p,i+1);if(-1!==i1){var value=tokens.slice(i+1,i1);value.some((function(t){return"object"==typeof t}))&&!ts.value?ts.value=value:!value.length||ts.value&&"string"==typeof ts.value||(ts.value=value.join(""))}}}})),tabstops.forEach((function(ts){ts.length=0}));var expanding={};function copyValue(val){for(var copy=[],i=0;i<val.length;i++){var p=val[i];if("object"==typeof p){if(expanding[p.tabstopId])continue;p=copy[val.lastIndexOf(p,i-1)]||{tabstopId:p.tabstopId}}copy[i]=p}return copy}for(var i=0;i<tokens.length;i++){var p=tokens[i];if("object"==typeof p){var id=p.tabstopId,i1=tokens.indexOf(p,i+1);if(expanding[id])expanding[id]===p&&(expanding[id]=null);else{var ts=tabstops[id],arg="string"==typeof ts.value?[ts.value]:copyValue(ts.value);arg.unshift(i+1,Math.max(0,i1-i)),arg.push(p),expanding[id]=p,tokens.splice.apply(tokens,arg),-1===ts.indexOf(p)&&ts.push(p)}}}var row=0,column=0,text="";tokens.forEach((function(t){if("string"==typeof t){var lines=t.split("\n");lines.length>1?(column=lines[lines.length-1].length,row+=lines.length-1):column+=t.length,text+=t}else t.start?t.end={row:row,column:column}:t.start={row:row,column:column}}));var range=editor.getSelectionRange(),end=editor.session.replace(range,text),tabstopManager=new TabstopManager(editor),selectionId=editor.inVirtualSelectionMode&&editor.selection.index;tabstopManager.addTabstops(tabstops,range.start,end,selectionId)},this.insertSnippet=function(editor,snippetText){var self=this;if(editor.inVirtualSelectionMode)return self.insertSnippetForSelection(editor,snippetText);editor.forEachSelection((function(){self.insertSnippetForSelection(editor,snippetText)}),null,{keepOrder:!0}),editor.tabstopManager&&editor.tabstopManager.tabNext()},this.$getScope=function(editor){var scope=editor.session.$mode.$id||"";if("html"===(scope=scope.split("/").pop())||"php"===scope){"php"!==scope||editor.session.$mode.inlinePhp||(scope="html");var c=editor.getCursorPosition(),state=editor.session.getState(c.row);"object"==typeof state&&(state=state[0]),state.substring&&("js-"==state.substring(0,3)?scope="javascript":"css-"==state.substring(0,4)?scope="css":"php-"==state.substring(0,4)&&(scope="php"))}return scope},this.getActiveScopes=function(editor){var scope=this.$getScope(editor),scopes=[scope],snippetMap=this.snippetMap;return snippetMap[scope]&&snippetMap[scope].includeScopes&&scopes.push.apply(scopes,snippetMap[scope].includeScopes),scopes.push("_"),scopes},this.expandWithTab=function(editor,options){var self=this,result=editor.forEachSelection((function(){return self.expandSnippetForSelection(editor,options)}),null,{keepOrder:!0});return result&&editor.tabstopManager&&editor.tabstopManager.tabNext(),result},this.expandSnippetForSelection=function(editor,options){var snippet,cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),before=line.substring(0,cursor.column),after=line.substr(cursor.column),snippetMap=this.snippetMap;return this.getActiveScopes(editor).some((function(scope){var snippets=snippetMap[scope];return snippets&&(snippet=this.findMatchingSnippet(snippets,before,after)),!!snippet}),this),!!snippet&&(options&&options.dryRun||(editor.session.doc.removeInLine(cursor.row,cursor.column-snippet.replaceBefore.length,cursor.column+snippet.replaceAfter.length),this.variables.M__=snippet.matchBefore,this.variables.T__=snippet.matchAfter,this.insertSnippetForSelection(editor,snippet.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(snippetList,before,after){for(var i=snippetList.length;i--;){var s=snippetList[i];if((!s.startRe||s.startRe.test(before))&&((!s.endRe||s.endRe.test(after))&&(s.startRe||s.endRe)))return s.matchBefore=s.startRe?s.startRe.exec(before):[""],s.matchAfter=s.endRe?s.endRe.exec(after):[""],s.replaceBefore=s.triggerRe?s.triggerRe.exec(before)[0]:"",s.replaceAfter=s.endTriggerRe?s.endTriggerRe.exec(after)[0]:"",s}},this.snippetMap={},this.snippetNameMap={},this.register=function(snippets,scope){var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap,self=this;function wrapRegexp(src){return src&&!/^\^?\(.*\)\$?$|^\\b$/.test(src)&&(src="(?:"+src+")"),src||""}function guardedRegexp(re,guard,opening){return re=wrapRegexp(re),guard=wrapRegexp(guard),opening?(re=guard+re)&&"$"!=re[re.length-1]&&(re+="$"):(re+=guard)&&"^"!=re[0]&&(re="^"+re),new RegExp(re)}function addSnippet(s){s.scope||(s.scope=scope||"_"),scope=s.scope,snippetMap[scope]||(snippetMap[scope]=[],snippetNameMap[scope]={});var map=snippetNameMap[scope];if(s.name){var old=map[s.name];old&&self.unregister(old),map[s.name]=s}snippetMap[scope].push(s),s.tabTrigger&&!s.trigger&&(!s.guard&&/^\w/.test(s.tabTrigger)&&(s.guard="\\b"),s.trigger=lang.escapeRegExp(s.tabTrigger)),(s.trigger||s.guard||s.endTrigger||s.endGuard)&&(s.startRe=guardedRegexp(s.trigger,s.guard,!0),s.triggerRe=new RegExp(s.trigger,"",!0),s.endRe=guardedRegexp(s.endTrigger,s.endGuard,!0),s.endTriggerRe=new RegExp(s.endTrigger,"",!0))}snippets||(snippets=[]),snippets&&snippets.content?addSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(addSnippet),this._signal("registerSnippets",{scope:scope})},this.unregister=function(snippets,scope){var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap;function removeSnippet(s){var nameMap=snippetNameMap[s.scope||scope];if(nameMap&&nameMap[s.name]){delete nameMap[s.name];var map=snippetMap[s.scope||scope],i=map&&map.indexOf(s);i>=0&&map.splice(i,1)}}snippets.content?removeSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(removeSnippet)},this.parseSnippetFile=function(str){str=str.replace(/\r/g,"");for(var m,list=[],snippet={},re=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;m=re.exec(str);){if(m[1])try{snippet=JSON.parse(m[1]),list.push(snippet)}catch(e){}if(m[4])snippet.content=m[4].replace(/^\t/gm,""),list.push(snippet),snippet={};else{var key=m[2],val=m[3];if("regex"==key){var guardRe=/\/((?:[^\/\\]|\\.)*)|$/g;snippet.guard=guardRe.exec(val)[1],snippet.trigger=guardRe.exec(val)[1],snippet.endTrigger=guardRe.exec(val)[1],snippet.endGuard=guardRe.exec(val)[1]}else"snippet"==key?(snippet.tabTrigger=val.match(/^\S*/)[0],snippet.name||(snippet.name=val)):snippet[key]=val}}return list},this.getSnippetByName=function(name,editor){var snippet,snippetMap=this.snippetNameMap;return this.getActiveScopes(editor).some((function(scope){var snippets=snippetMap[scope];return snippets&&(snippet=snippets[name]),!!snippet}),this),snippet}}).call(SnippetManager.prototype);var TabstopManager=function(editor){if(editor.tabstopManager)return editor.tabstopManager;editor.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=lang.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(editor)};(function(){this.attach=function(editor){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=editor,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(delta){var isRemove="r"==delta.action[0],start=delta.start,end=delta.end,startRow=start.row,lineDif=end.row-startRow,colDiff=end.column-start.column;if(isRemove&&(lineDif=-lineDif,colDiff=-colDiff),!this.$inChange&&isRemove){var ts=this.selectedTabstop;if(ts&&!ts.some((function(r){return comparePoints(r.start,start)<=0&&comparePoints(r.end,end)>=0})))return this.detach()}for(var ranges=this.ranges,i=0;i<ranges.length;i++){var r=ranges[i];r.end.row<start.row||(isRemove&&comparePoints(start,r.start)<0&&comparePoints(end,r.end)>0?(this.removeRange(r),i--):(r.start.row==startRow&&r.start.column>start.column&&(r.start.column+=colDiff),r.end.row==startRow&&r.end.column>=start.column&&(r.end.column+=colDiff),r.start.row>=startRow&&(r.start.row+=lineDif),r.end.row>=startRow&&(r.end.row+=lineDif),comparePoints(r.start,r.end)>0&&this.removeRange(r)))}ranges.length||this.detach()},this.updateLinkedFields=function(){var ts=this.selectedTabstop;if(ts&&ts.hasLinkedRanges){this.$inChange=!0;for(var session=this.editor.session,text=session.getTextRange(ts.firstNonLinked),i=ts.length;i--;){var range=ts[i];if(range.linked){var fmt=exports.snippetManager.tmStrFormat(text,range.original);session.replace(range,fmt)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var lead=this.editor.selection.lead,anchor=this.editor.selection.anchor,isEmpty=this.editor.selection.isEmpty(),i=this.ranges.length;i--;)if(!this.ranges[i].linked){var containsLead=this.ranges[i].contains(lead.row,lead.column),containsAnchor=isEmpty||this.ranges[i].contains(anchor.row,anchor.column);if(containsLead&&containsAnchor)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(dir){var max=this.tabstops.length,index=this.index+(dir||1);(index=Math.min(Math.max(index,1),max))==max&&(index=0),this.selectTabstop(index),0===index&&this.detach()},this.selectTabstop=function(index){this.$openTabstops=null;var ts=this.tabstops[this.index];if(ts&&this.addTabstopMarkers(ts),this.index=index,(ts=this.tabstops[this.index])&&ts.length){if(this.selectedTabstop=ts,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(ts.firstNonLinked);else{var sel=this.editor.multiSelect;sel.toSingleRange(ts.firstNonLinked.clone());for(var i=ts.length;i--;)ts.hasLinkedRanges&&ts[i].linked||sel.addRange(ts[i].clone(),!0);sel.ranges[0]&&sel.addRange(sel.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(tabstops,start,end){if(this.$openTabstops||(this.$openTabstops=[]),!tabstops[0]){var p=Range.fromPoints(end,end);moveRelative(p.start,start),moveRelative(p.end,start),tabstops[0]=[p],tabstops[0].index=0}var arg=[this.index+1,0],ranges=this.ranges;tabstops.forEach((function(ts,index){for(var dest=this.$openTabstops[index]||ts,i=ts.length;i--;){var p=ts[i],range=Range.fromPoints(p.start,p.end||p.start);movePoint(range.start,start),movePoint(range.end,start),range.original=p,range.tabstop=dest,ranges.push(range),dest!=ts?dest.unshift(range):dest[i]=range,p.fmtString?(range.linked=!0,dest.hasLinkedRanges=!0):dest.firstNonLinked||(dest.firstNonLinked=range)}dest.firstNonLinked||(dest.hasLinkedRanges=!1),dest===ts&&(arg.push(dest),this.$openTabstops[index]=dest),this.addTabstopMarkers(dest)}),this),arg.length>2&&(this.tabstops.length&&arg.push(arg.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,arg))},this.addTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach((function(range){range.markerId||(range.markerId=session.addMarker(range,"ace_snippet-marker","text"))}))},this.removeTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach((function(range){session.removeMarker(range.markerId),range.markerId=null}))},this.removeRange=function(range){var i=range.tabstop.indexOf(range);range.tabstop.splice(i,1),i=this.ranges.indexOf(range),this.ranges.splice(i,1),this.editor.session.removeMarker(range.markerId),range.tabstop.length||(-1!=(i=this.tabstops.indexOf(range.tabstop))&&this.tabstops.splice(i,1),this.tabstops.length||this.detach())},this.keyboardHandler=new HashHandler,this.keyboardHandler.bindKeys({Tab:function(ed){exports.snippetManager&&exports.snippetManager.expandWithTab(ed)||ed.tabstopManager.tabNext(1)},"Shift-Tab":function(ed){ed.tabstopManager.tabNext(-1)},Esc:function(ed){ed.tabstopManager.detach()},Return:function(ed){return!1}})}).call(TabstopManager.prototype);var changeTracker={};changeTracker.onChange=Anchor.prototype.onChange,changeTracker.setPosition=function(row,column){this.pos.row=row,this.pos.column=column},changeTracker.update=function(pos,delta,$insertRight){this.$insertRight=$insertRight,this.pos=pos,this.onChange(delta)};var movePoint=function(point,diff){0==point.row&&(point.column+=diff.column),point.row+=diff.row},moveRelative=function(point,start){point.row==start.row&&(point.column-=start.column),point.row-=start.row};acequire("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),exports.snippetManager=new SnippetManager;var Editor=acequire("./editor").Editor;(function(){this.insertSnippet=function(content,options){return exports.snippetManager.insertSnippet(this,content,options)},this.expandSnippet=function(options){return exports.snippetManager.expandWithTab(this,options)}}).call(Editor.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],(function(acequire,exports,module){"use strict";var Renderer=acequire("../virtual_renderer").VirtualRenderer,Editor=acequire("../editor").Editor,Range=acequire("../range").Range,event=acequire("../lib/event"),lang=acequire("../lib/lang"),dom=acequire("../lib/dom"),$singleLineEditor=function(el){var renderer=new Renderer(el);renderer.$maxLines=4;var editor=new Editor(renderer);return editor.setHighlightActiveLine(!1),editor.setShowPrintMargin(!1),editor.renderer.setShowGutter(!1),editor.renderer.setHighlightGutterLine(!1),editor.$mouseHandler.$focusWaitTimout=0,editor.$highlightTagPending=!0,editor};dom.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),exports.AcePopup=function(parentNode){var el=dom.createElement("div"),popup=new $singleLineEditor(el);parentNode&&parentNode.appendChild(el),el.style.display="none",popup.renderer.content.style.cursor="default",popup.renderer.setStyle("ace_autocomplete"),popup.setOption("displayIndentGuides",!1),popup.setOption("dragDelay",150);var lastMouseEvent,noop=function(){};popup.focus=noop,popup.$isFocused=!0,popup.renderer.$cursorLayer.restartTimer=noop,popup.renderer.$cursorLayer.element.style.opacity=0,popup.renderer.$maxLines=8,popup.renderer.$keepTextAreaAtCursor=!1,popup.setHighlightActiveLine(!1),popup.session.highlight(""),popup.session.$searchHighlight.clazz="ace_highlight-marker",popup.on("mousedown",(function(e){var pos=e.getDocumentPosition();popup.selection.moveToPosition(pos),selectionMarker.start.row=selectionMarker.end.row=pos.row,e.stop()}));var hoverMarker=new Range(-1,0,-1,1/0),selectionMarker=new Range(-1,0,-1,1/0);selectionMarker.id=popup.session.addMarker(selectionMarker,"ace_active-line","fullLine"),popup.setSelectOnHover=function(val){val?hoverMarker.id&&(popup.session.removeMarker(hoverMarker.id),hoverMarker.id=null):hoverMarker.id=popup.session.addMarker(hoverMarker,"ace_line-hover","fullLine")},popup.setSelectOnHover(!1),popup.on("mousemove",(function(e){if(lastMouseEvent){if(lastMouseEvent.x!=e.x||lastMouseEvent.y!=e.y){(lastMouseEvent=e).scrollTop=popup.renderer.scrollTop;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.start.row!=row&&(hoverMarker.id||popup.setRow(row),setHoverMarker(row))}}else lastMouseEvent=e})),popup.renderer.on("beforeRender",(function(){if(lastMouseEvent&&-1!=hoverMarker.start.row){lastMouseEvent.$pos=null;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.id||popup.setRow(row),setHoverMarker(row,!0)}})),popup.renderer.on("afterRender",(function(){var row=popup.getRow(),t=popup.renderer.$textLayer,selected=t.element.childNodes[row-t.config.firstRow];selected!=t.selectedNode&&(t.selectedNode&&dom.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=selected,selected&&dom.addCssClass(selected,"ace_selected"))}));var hideHoverMarker=function(){setHoverMarker(-1)},setHoverMarker=function(row,suppressRedraw){row!==hoverMarker.start.row&&(hoverMarker.start.row=hoverMarker.end.row=row,suppressRedraw||popup.session._emit("changeBackMarker"),popup._emit("changeHoverMarker"))};popup.getHoveredRow=function(){return hoverMarker.start.row},event.addListener(popup.container,"mouseout",hideHoverMarker),popup.on("hide",hideHoverMarker),popup.on("changeSelection",hideHoverMarker),popup.session.doc.getLength=function(){return popup.data.length},popup.session.doc.getLine=function(i){var data=popup.data[i];return"string"==typeof data?data:data&&data.value||""};var bgTokenizer=popup.session.bgTokenizer;return bgTokenizer.$tokenizeRow=function(row){var data=popup.data[row],tokens=[];if(!data)return tokens;"string"==typeof data&&(data={value:data}),data.caption||(data.caption=data.value||data.name);for(var flag,c,last=-1,i=0;i<data.caption.length;i++)c=data.caption[i],last!==(flag=data.matchMask&1<<i?1:0)?(tokens.push({type:data.className||(flag?"completion-highlight":""),value:c}),last=flag):tokens[tokens.length-1].value+=c;if(data.meta){var maxW=popup.renderer.$size.scrollerWidth/popup.renderer.layerConfig.characterWidth,metaData=data.meta;metaData.length+data.caption.length>maxW-2&&(metaData=metaData.substr(0,maxW-data.caption.length-3)+"…"),tokens.push({type:"rightAlignedText",value:metaData})}return tokens},bgTokenizer.$updateOnChange=noop,bgTokenizer.start=noop,popup.session.$computeWidth=function(){return this.screenWidth=0},popup.$blockScrolling=1/0,popup.isOpen=!1,popup.isTopdown=!1,popup.autoSelect=!0,popup.data=[],popup.setData=function(list){popup.setValue(lang.stringRepeat("\n",list.length),-1),popup.data=list||[],popup.setRow(0)},popup.getData=function(row){return popup.data[row]},popup.getRow=function(){return selectionMarker.start.row},popup.setRow=function(line){line=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,line)),selectionMarker.start.row!=line&&(popup.selection.clearSelection(),selectionMarker.start.row=selectionMarker.end.row=line||0,popup.session._emit("changeBackMarker"),popup.moveCursorTo(line||0,0),popup.isOpen&&popup._signal("select"))},popup.on("changeSelection",(function(){popup.isOpen&&popup.setRow(popup.selection.lead.row),popup.renderer.scrollCursorIntoView()})),popup.hide=function(){this.container.style.display="none",this._signal("hide"),popup.isOpen=!1},popup.show=function(pos,lineHeight,topdownOnly){var el=this.container,screenHeight=window.innerHeight,screenWidth=window.innerWidth,renderer=this.renderer,maxH=renderer.$maxLines*lineHeight*1.4,top=pos.top+this.$borderSize;top>screenHeight/2&&!topdownOnly&&top+lineHeight+maxH>screenHeight?(renderer.$maxPixelHeight=top-2*this.$borderSize,el.style.top="",el.style.bottom=screenHeight-top+"px",popup.isTopdown=!1):(top+=lineHeight,renderer.$maxPixelHeight=screenHeight-top-.2*lineHeight,el.style.top=top+"px",el.style.bottom="",popup.isTopdown=!0),el.style.display="",this.renderer.$textLayer.checkForSizeChanges();var left=pos.left;left+el.offsetWidth>screenWidth&&(left=screenWidth-el.offsetWidth),el.style.left=left+"px",this._signal("show"),lastMouseEvent=null,popup.isOpen=!0},popup.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},popup.$imageSize=0,popup.$borderSize=1,popup}})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.parForEach=function(array,fn,callback){var completed=0,arLength=array.length;0===arLength&&callback();for(var i=0;i<arLength;i++)fn(array[i],(function(result,err){++completed===arLength&&callback(result,err)}))};var ID_REGEX=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;exports.retrievePrecedingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos-1;i>=0&&regex.test(text[i]);i--)buf.push(text[i]);return buf.reverse().join("")},exports.retrieveFollowingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos;i<text.length&&regex.test(text[i]);i++)buf.push(text[i]);return buf},exports.getCompletionPrefix=function(editor){var prefix,pos=editor.getCursorPosition(),line=editor.session.getLine(pos.row);return editor.completers.forEach(function(completer){completer.identifierRegexps&&completer.identifierRegexps.forEach(function(identifierRegex){!prefix&&identifierRegex&&(prefix=this.retrievePrecedingIdentifier(line,pos.column,identifierRegex))}.bind(this))}.bind(this)),prefix||this.retrievePrecedingIdentifier(line,pos.column)}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],(function(acequire,exports,module){"use strict";var HashHandler=acequire("./keyboard/hash_handler").HashHandler,AcePopup=acequire("./autocomplete/popup").AcePopup,util=acequire("./autocomplete/util"),lang=(acequire("./lib/event"),acequire("./lib/lang")),dom=acequire("./lib/dom"),snippetManager=acequire("./snippets").snippetManager,Autocomplete=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new HashHandler,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=lang.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=lang.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new AcePopup(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(editor,prefix,keepPopupPosition){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered),editor.keyBinding.addKeyboardHandler(this.keyboardHandler);var renderer=editor.renderer;if(this.popup.setRow(this.autoSelect?0:-1),keepPopupPosition)keepPopupPosition&&!prefix&&this.detach();else{this.popup.setTheme(editor.getTheme()),this.popup.setFontSize(editor.getFontSize());var lineHeight=renderer.layerConfig.lineHeight,pos=renderer.$cursorLayer.getPixelPosition(this.base,!0);pos.left-=this.popup.getTextLeftOffset();var rect=editor.container.getBoundingClientRect();pos.top+=rect.top-renderer.layerConfig.offset,pos.left+=rect.left-editor.renderer.scrollLeft,pos.left+=renderer.gutterWidth,this.popup.show(pos,lineHeight)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var cursor=this.editor.selection.lead;(cursor.row!=this.base.row||cursor.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var el=document.activeElement,text=this.editor.textInput.getElement(),fromTooltip=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),container=this.popup&&this.popup.container;el==text||el.parentNode==container||fromTooltip||el==this.tooltipNode||e.relatedTarget==text||this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(where){var row=this.popup.getRow(),max=this.popup.session.getLength()-1;switch(where){case"up":row=row<=0?max:row-1;break;case"down":row=row>=max?-1:row+1;break;case"start":row=0;break;case"end":row=max}this.popup.setRow(row)},this.insertMatch=function(data,options){if(data||(data=this.popup.getData(this.popup.getRow())),!data)return!1;if(data.completer&&data.completer.insertMatch)data.completer.insertMatch(this.editor,data);else{if(this.completions.filterText)for(var range,ranges=this.editor.selection.getAllRanges(),i=0;range=ranges[i];i++)range.start.column-=this.completions.filterText.length,this.editor.session.remove(range);data.snippet?snippetManager.insertSnippet(this.editor,data.snippet):this.editor.execCommand("insertstring",data.value||data)}this.detach()},this.commands={Up:function(editor){editor.completer.goTo("up")},Down:function(editor){editor.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(editor){editor.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(editor){editor.completer.goTo("end")},Esc:function(editor){editor.completer.detach()},Return:function(editor){return editor.completer.insertMatch()},"Shift-Return":function(editor){editor.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(editor){var result=editor.completer.insertMatch();if(result||editor.tabstopManager)return result;editor.completer.goTo("down")},PageUp:function(editor){editor.completer.popup.gotoPageUp()},PageDown:function(editor){editor.completer.popup.gotoPageDown()}},this.gatherCompletions=function(editor,callback){var session=editor.getSession(),pos=editor.getCursorPosition(),prefix=util.getCompletionPrefix(editor);this.base=session.doc.createAnchor(pos.row,pos.column-prefix.length),this.base.$insertRight=!0;var matches=[],total=editor.completers.length;return editor.completers.forEach((function(completer,i){completer.getCompletions(editor,session,pos,prefix,(function(err,results){!err&&results&&(matches=matches.concat(results)),callback(null,{prefix:util.getCompletionPrefix(editor),matches:matches,finished:0==--total})}))})),!0},this.showPopup=function(editor){this.editor&&this.detach(),this.activated=!0,this.editor=editor,editor.completer!=this&&(editor.completer&&editor.completer.detach(),editor.completer=this),editor.on("changeSelection",this.changeListener),editor.on("blur",this.blurListener),editor.on("mousedown",this.mousedownListener),editor.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(keepPopupPosition){if(keepPopupPosition&&this.base&&this.completions){var pos=this.editor.getCursorPosition(),prefix=this.editor.session.getTextRange({start:this.base,end:pos});if(prefix==this.completions.filterText)return;return this.completions.setFilter(prefix),this.completions.filtered.length?1!=this.completions.filtered.length||this.completions.filtered[0].value!=prefix||this.completions.filtered[0].snippet?void this.openPopup(this.editor,prefix,keepPopupPosition):this.detach():this.detach()}var _id=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(err,results){var detachIfFinished=function(){if(results.finished)return this.detach()}.bind(this),prefix=results.prefix,matches=results&&results.matches;if(!matches||!matches.length)return detachIfFinished();if(0===prefix.indexOf(results.prefix)&&_id==this.gatherCompletionsId){this.completions=new FilteredList(matches),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(prefix);var filtered=this.completions.filtered;return filtered.length&&(1!=filtered.length||filtered[0].value!=prefix||filtered[0].snippet)?this.autoInsert&&1==filtered.length&&results.finished?this.insertMatch(filtered[0]):void this.openPopup(this.editor,prefix,keepPopupPosition):detachIfFinished()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var popup=this.popup,all=popup.data,selected=all&&(all[popup.getHoveredRow()]||all[popup.getRow()]),doc=null;return selected&&this.editor&&this.popup.isOpen?(this.editor.completers.some((function(completer){return completer.getDocTooltip&&(doc=completer.getDocTooltip(selected)),doc})),doc||(doc=selected),"string"==typeof doc&&(doc={docText:doc}),doc&&(doc.docHTML||doc.docText)?void this.showDocTooltip(doc):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(item){this.tooltipNode||(this.tooltipNode=dom.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var tooltipNode=this.tooltipNode;item.docHTML?tooltipNode.innerHTML=item.docHTML:item.docText&&(tooltipNode.textContent=item.docText),tooltipNode.parentNode||document.body.appendChild(tooltipNode);var popup=this.popup,rect=popup.container.getBoundingClientRect();tooltipNode.style.top=popup.container.style.top,tooltipNode.style.bottom=popup.container.style.bottom,window.innerWidth-rect.right<320?(tooltipNode.style.right=window.innerWidth-rect.left+"px",tooltipNode.style.left=""):(tooltipNode.style.left=rect.right+1+"px",tooltipNode.style.right=""),tooltipNode.style.display="block"},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var el=this.tooltipNode;this.editor.isFocused()||document.activeElement!=el||this.editor.focus(),this.tooltipNode=null,el.parentNode&&el.parentNode.removeChild(el)}},this.onTooltipClick=function(e){for(var a=e.target;a&&a!=this.tooltipNode;){if("A"==a.nodeName&&a.href){a.rel="noreferrer",a.target="_blank";break}a=a.parentNode}}}).call(Autocomplete.prototype),Autocomplete.startCommand={name:"startAutocomplete",exec:function(editor){editor.completer||(editor.completer=new Autocomplete),editor.completer.autoInsert=!1,editor.completer.autoSelect=!0,editor.completer.showPopup(editor),editor.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var FilteredList=function(array,filterText){this.all=array,this.filtered=array,this.filterText=filterText||"",this.exactMatch=!1};(function(){this.setFilter=function(str){if(str.length>this.filterText&&0===str.lastIndexOf(this.filterText,0))var matches=this.filtered;else matches=this.all;this.filterText=str,matches=(matches=this.filterCompletions(matches,this.filterText)).sort((function(a,b){return b.exactMatch-a.exactMatch||b.score-a.score}));var prev=null;matches=matches.filter((function(item){var caption=item.snippet||item.caption||item.value;return caption!==prev&&(prev=caption,!0)})),this.filtered=matches},this.filterCompletions=function(items,needle){var results=[],upper=needle.toUpperCase(),lower=needle.toLowerCase();loop:for(var item,i=0;item=items[i];i++){var caption=item.value||item.caption||item.snippet;if(caption){var index,distance,lastIndex=-1,matchMask=0,penalty=0;if(this.exactMatch){if(needle!==caption.substr(0,needle.length))continue loop}else for(var j=0;j<needle.length;j++){var i1=caption.indexOf(lower[j],lastIndex+1),i2=caption.indexOf(upper[j],lastIndex+1);if((index=i1>=0&&(i2<0||i1<i2)?i1:i2)<0)continue loop;(distance=index-lastIndex-1)>0&&(-1===lastIndex&&(penalty+=10),penalty+=distance),matchMask|=1<<index,lastIndex=index}item.matchMask=matchMask,item.exactMatch=penalty?0:1,item.score=(item.score||0)-penalty,results.push(item)}}return results}}).call(FilteredList.prototype),exports.Autocomplete=Autocomplete,exports.FilteredList=FilteredList})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(acequire,exports,module){var Range=acequire("../range").Range,splitRegex=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function wordDistance(doc,pos){var prefixPos=function(doc,pos){return doc.getTextRange(Range.fromPoints({row:0,column:0},pos)).split(splitRegex).length-1}(doc,pos),words=doc.getValue().split(splitRegex),wordScores=Object.create(null),currentWord=words[prefixPos];return words.forEach((function(word,idx){if(word&&word!==currentWord){var distance=Math.abs(prefixPos-idx),score=words.length-distance;wordScores[word]?wordScores[word]=Math.max(score,wordScores[word]):wordScores[word]=score}})),wordScores}exports.getCompletions=function(editor,session,pos,prefix,callback){var wordScore=wordDistance(session,pos);callback(null,Object.keys(wordScore).map((function(word){return{caption:word,value:word,score:wordScore[word],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(acequire,exports,module){"use strict";var snippetManager=acequire("../snippets").snippetManager,Autocomplete=acequire("../autocomplete").Autocomplete,config=acequire("../config"),lang=acequire("../lib/lang"),util=acequire("../autocomplete/util"),textCompleter=acequire("../autocomplete/text_completer"),keyWordCompleter={getCompletions:function(editor,session,pos,prefix,callback){if(session.$mode.completer)return session.$mode.completer.getCompletions(editor,session,pos,prefix,callback);var state=editor.session.getState(pos.row);callback(null,session.$mode.getCompletions(state,session,pos,prefix))}},snippetCompleter={getCompletions:function(editor,session,pos,prefix,callback){var snippetMap=snippetManager.snippetMap,completions=[];snippetManager.getActiveScopes(editor).forEach((function(scope){for(var snippets=snippetMap[scope]||[],i=snippets.length;i--;){var s=snippets[i],caption=s.name||s.tabTrigger;caption&&completions.push({caption:caption,snippet:s.content,meta:s.tabTrigger&&!s.name?s.tabTrigger+"⇥ ":"snippet",type:"snippet"})}}),this),callback(null,completions)},getDocTooltip:function(item){"snippet"!=item.type||item.docHTML||(item.docHTML=["<b>",lang.escapeHTML(item.caption),"</b>","<hr></hr>",lang.escapeHTML(item.snippet)].join(""))}},completers=[snippetCompleter,textCompleter,keyWordCompleter];exports.setCompleters=function(val){completers.length=0,val&&completers.push.apply(completers,val)},exports.addCompleter=function(completer){completers.push(completer)},exports.textCompleter=textCompleter,exports.keyWordCompleter=keyWordCompleter,exports.snippetCompleter=snippetCompleter;var expandSnippet={name:"expandSnippet",exec:function(editor){return snippetManager.expandWithTab(editor)},bindKey:"Tab"},onChangeMode=function(e,editor){loadSnippetsForMode(editor.session.$mode)},loadSnippetsForMode=function(mode){var id=mode.$id;snippetManager.files||(snippetManager.files={}),loadSnippetFile(id),mode.modes&&mode.modes.forEach(loadSnippetsForMode)},loadSnippetFile=function(id){if(id&&!snippetManager.files[id]){var snippetFilePath=id.replace("mode","snippets");snippetManager.files[id]={},config.loadModule(snippetFilePath,(function(m){m&&(snippetManager.files[id]=m,!m.snippets&&m.snippetText&&(m.snippets=snippetManager.parseSnippetFile(m.snippetText)),snippetManager.register(m.snippets||[],m.scope),m.includeScopes&&(snippetManager.snippetMap[m.scope].includeScopes=m.includeScopes,m.includeScopes.forEach((function(x){loadSnippetFile("ace/mode/"+x)}))))}))}},doLiveAutocomplete=function(e){var editor=e.editor,hasCompleter=editor.completer&&editor.completer.activated;if("backspace"===e.command.name)hasCompleter&&!util.getCompletionPrefix(editor)&&editor.completer.detach();else if("insertstring"===e.command.name){util.getCompletionPrefix(editor)&&!hasCompleter&&(editor.completer||(editor.completer=new Autocomplete),editor.completer.autoInsert=!1,editor.completer.showPopup(editor))}},Editor=acequire("../editor").Editor;acequire("../config").defineOptions(Editor.prototype,"editor",{enableBasicAutocompletion:{set:function(val){val?(this.completers||(this.completers=Array.isArray(val)?val:completers),this.commands.addCommand(Autocomplete.startCommand)):this.commands.removeCommand(Autocomplete.startCommand)},value:!1},enableLiveAutocompletion:{set:function(val){val?(this.completers||(this.completers=Array.isArray(val)?val:completers),this.commands.on("afterExec",doLiveAutocomplete)):this.commands.removeListener("afterExec",doLiveAutocomplete)},value:!1},enableSnippets:{set:function(val){val?(this.commands.addCommand(expandSnippet),this.on("changeMode",onChangeMode),onChangeMode(0,this)):(this.commands.removeCommand(expandSnippet),this.off("changeMode",onChangeMode))},value:!1}})})),ace.acequire(["ace/ext/language_tools"],(function(){}))},function(module,exports,__webpack_require__){module.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.Query=void 0;var _extends2=_interopRequireDefault(__webpack_require__(37)),_utils=__webpack_require__(33),_notifyManager=__webpack_require__(34),_logger=__webpack_require__(52),_retryer=__webpack_require__(50),Query=function(){function Query(config){this.defaultOptions=config.defaultOptions,this.setOptions(config.options),this.observers=[],this.cache=config.cache,this.queryKey=config.queryKey,this.queryHash=config.queryHash,this.initialState=config.state||this.getDefaultState(this.options),this.state=this.initialState,this.scheduleGc()}var _proto=Query.prototype;return _proto.setOptions=function(options){var _this$options$cacheTi;this.options=(0,_extends2.default)({},this.defaultOptions,options),this.cacheTime=Math.max(this.cacheTime||0,null!=(_this$options$cacheTi=this.options.cacheTime)?_this$options$cacheTi:3e5)},_proto.setDefaultOptions=function(options){this.defaultOptions=options},_proto.scheduleGc=function(){var _this=this;this.clearGcTimeout(),(0,_utils.isValidTimeout)(this.cacheTime)&&(this.gcTimeout=setTimeout((function(){_this.optionalRemove()}),this.cacheTime))},_proto.clearGcTimeout=function(){clearTimeout(this.gcTimeout),this.gcTimeout=void 0},_proto.optionalRemove=function(){this.observers.length||this.state.isFetching||this.cache.remove(this)},_proto.setData=function(updater,options){var _this$options$isDataE,_this$options,prevData=this.state.data,data=(0,_utils.functionalUpdate)(updater,prevData);return(null==(_this$options$isDataE=(_this$options=this.options).isDataEqual)?void 0:_this$options$isDataE.call(_this$options,prevData,data))?data=prevData:!1!==this.options.structuralSharing&&(data=(0,_utils.replaceEqualDeep)(prevData,data)),this.dispatch({data:data,type:"success",dataUpdatedAt:null==options?void 0:options.updatedAt}),data},_proto.setState=function(state,setStateOptions){this.dispatch({type:"setState",state:state,setStateOptions:setStateOptions})},_proto.cancel=function(options){var _this$retryer,promise=this.promise;return null==(_this$retryer=this.retryer)||_this$retryer.cancel(options),promise?promise.then(_utils.noop).catch(_utils.noop):Promise.resolve()},_proto.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},_proto.reset=function(){this.destroy(),this.setState(this.initialState)},_proto.isActive=function(){return this.observers.some((function(observer){return!1!==observer.options.enabled}))},_proto.isFetching=function(){return this.state.isFetching},_proto.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(observer){return observer.getCurrentResult().isStale}))},_proto.isStaleByTime=function(staleTime){return void 0===staleTime&&(staleTime=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,_utils.timeUntilStale)(this.state.dataUpdatedAt,staleTime)},_proto.onFocus=function(){var _this$retryer2,observer=this.observers.find((function(x){return x.shouldFetchOnWindowFocus()}));observer&&observer.refetch(),null==(_this$retryer2=this.retryer)||_this$retryer2.continue()},_proto.onOnline=function(){var _this$retryer3,observer=this.observers.find((function(x){return x.shouldFetchOnReconnect()}));observer&&observer.refetch(),null==(_this$retryer3=this.retryer)||_this$retryer3.continue()},_proto.addObserver=function(observer){-1===this.observers.indexOf(observer)&&(this.observers.push(observer),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:observer}))},_proto.removeObserver=function(observer){-1!==this.observers.indexOf(observer)&&(this.observers=this.observers.filter((function(x){return x!==observer})),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:observer}))},_proto.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},_proto.fetch=function(options,fetchOptions){var _this$options$behavio,_context$fetchOptions,_this2=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==fetchOptions?void 0:fetchOptions.cancelRefetch))this.cancel({silent:!0});else if(this.promise)return this.promise;if(options&&this.setOptions(options),!this.options.queryFn){var observer=this.observers.find((function(x){return x.options.queryFn}));observer&&this.setOptions(observer.options)}var _this$options$behavio2,_context$fetchOptions2,queryFnContext={queryKey:this.queryKey,pageParam:void 0},context={fetchOptions:fetchOptions,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:function(){return _this2.options.queryFn?_this2.options.queryFn(queryFnContext):Promise.reject("Missing queryFn")}};(null==(_this$options$behavio=this.options.behavior)?void 0:_this$options$behavio.onFetch)&&(null==(_this$options$behavio2=this.options.behavior)||_this$options$behavio2.onFetch(context));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(_context$fetchOptions=context.fetchOptions)?void 0:_context$fetchOptions.meta))||this.dispatch({type:"fetch",meta:null==(_context$fetchOptions2=context.fetchOptions)?void 0:_context$fetchOptions2.meta});return this.retryer=new _retryer.Retryer({fn:context.fetchFn,onSuccess:function(data){_this2.setData(data),0===_this2.cacheTime&&_this2.optionalRemove()},onError:function(error){(0,_retryer.isCancelledError)(error)&&error.silent||_this2.dispatch({type:"error",error:error}),(0,_retryer.isCancelledError)(error)||(_this2.cache.config.onError&&_this2.cache.config.onError(error,_this2),(0,_logger.getLogger)().error(error)),0===_this2.cacheTime&&_this2.optionalRemove()},onFail:function(){_this2.dispatch({type:"failed"})},onPause:function(){_this2.dispatch({type:"pause"})},onContinue:function(){_this2.dispatch({type:"continue"})},retry:context.options.retry,retryDelay:context.options.retryDelay}),this.promise=this.retryer.promise,this.promise},_proto.dispatch=function(action){var _this3=this;this.state=this.reducer(this.state,action),_notifyManager.notifyManager.batch((function(){_this3.observers.forEach((function(observer){observer.onQueryUpdate(action)})),_this3.cache.notify({query:_this3,type:"queryUpdated",action:action})}))},_proto.getDefaultState=function(options){var data="function"==typeof options.initialData?options.initialData():options.initialData,initialDataUpdatedAt=void 0!==options.initialData?"function"==typeof options.initialDataUpdatedAt?options.initialDataUpdatedAt():options.initialDataUpdatedAt:0,hasData=void 0!==data;return{data:data,dataUpdateCount:0,dataUpdatedAt:hasData?null!=initialDataUpdatedAt?initialDataUpdatedAt:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:hasData?"success":"idle"}},_proto.reducer=function(state,action){var _action$meta,_action$dataUpdatedAt;switch(action.type){case"failed":return(0,_extends2.default)({},state,{fetchFailureCount:state.fetchFailureCount+1});case"pause":return(0,_extends2.default)({},state,{isPaused:!0});case"continue":return(0,_extends2.default)({},state,{isPaused:!1});case"fetch":return(0,_extends2.default)({},state,{fetchFailureCount:0,fetchMeta:null!=(_action$meta=action.meta)?_action$meta:null,isFetching:!0,isPaused:!1,status:state.dataUpdatedAt?state.status:"loading"});case"success":return(0,_extends2.default)({},state,{data:action.data,dataUpdateCount:state.dataUpdateCount+1,dataUpdatedAt:null!=(_action$dataUpdatedAt=action.dataUpdatedAt)?_action$dataUpdatedAt:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var error=action.error;return(0,_retryer.isCancelledError)(error)&&error.revert&&this.revertState?(0,_extends2.default)({},this.revertState):(0,_extends2.default)({},state,{error:error,errorUpdateCount:state.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:state.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,_extends2.default)({},state,{isInvalidated:!0});case"setState":return(0,_extends2.default)({},state,action.state);default:return state}},Query}();exports.Query=Query},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.QueryClient=void 0;var _extends2=_interopRequireDefault(__webpack_require__(37)),_utils=__webpack_require__(33),_queryCache=__webpack_require__(67),_mutationCache=__webpack_require__(68),_focusManager=__webpack_require__(51),_onlineManager=__webpack_require__(56),_notifyManager=__webpack_require__(34),_infiniteQueryBehavior=__webpack_require__(70),QueryClient=function(){function QueryClient(config){void 0===config&&(config={}),this.queryCache=config.queryCache||new _queryCache.QueryCache,this.mutationCache=config.mutationCache||new _mutationCache.MutationCache,this.defaultOptions=config.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var _proto=QueryClient.prototype;return _proto.mount=function(){var _this=this;this.unsubscribeFocus=_focusManager.focusManager.subscribe((function(){_focusManager.focusManager.isFocused()&&_onlineManager.onlineManager.isOnline()&&(_this.mutationCache.onFocus(),_this.queryCache.onFocus())})),this.unsubscribeOnline=_onlineManager.onlineManager.subscribe((function(){_focusManager.focusManager.isFocused()&&_onlineManager.onlineManager.isOnline()&&(_this.mutationCache.onOnline(),_this.queryCache.onOnline())}))},_proto.unmount=function(){var _this$unsubscribeFocu,_this$unsubscribeOnli;null==(_this$unsubscribeFocu=this.unsubscribeFocus)||_this$unsubscribeFocu.call(this),null==(_this$unsubscribeOnli=this.unsubscribeOnline)||_this$unsubscribeOnli.call(this)},_proto.isFetching=function(arg1,arg2){var filters=(0,_utils.parseFilterArgs)(arg1,arg2)[0];return filters.fetching=!0,this.queryCache.findAll(filters).length},_proto.isMutating=function(filters){return this.mutationCache.findAll((0,_extends2.default)({},filters,{fetching:!0})).length},_proto.getQueryData=function(queryKey,filters){var _this$queryCache$find;return null==(_this$queryCache$find=this.queryCache.find(queryKey,filters))?void 0:_this$queryCache$find.state.data},_proto.setQueryData=function(queryKey,updater,options){var parsedOptions=(0,_utils.parseQueryArgs)(queryKey),defaultedOptions=this.defaultQueryOptions(parsedOptions);return this.queryCache.build(this,defaultedOptions).setData(updater,options)},_proto.getQueryState=function(queryKey,filters){var _this$queryCache$find2;return null==(_this$queryCache$find2=this.queryCache.find(queryKey,filters))?void 0:_this$queryCache$find2.state},_proto.removeQueries=function(arg1,arg2){var filters=(0,_utils.parseFilterArgs)(arg1,arg2)[0],queryCache=this.queryCache;_notifyManager.notifyManager.batch((function(){queryCache.findAll(filters).forEach((function(query){queryCache.remove(query)}))}))},_proto.resetQueries=function(arg1,arg2,arg3){var _this2=this,_parseFilterArgs3=(0,_utils.parseFilterArgs)(arg1,arg2,arg3),filters=_parseFilterArgs3[0],options=_parseFilterArgs3[1],queryCache=this.queryCache,refetchFilters=(0,_extends2.default)({},filters,{active:!0});return _notifyManager.notifyManager.batch((function(){return queryCache.findAll(filters).forEach((function(query){query.reset()})),_this2.refetchQueries(refetchFilters,options)}))},_proto.cancelQueries=function(arg1,arg2,arg3){var _this3=this,_parseFilterArgs4=(0,_utils.parseFilterArgs)(arg1,arg2,arg3),filters=_parseFilterArgs4[0],_parseFilterArgs4$=_parseFilterArgs4[1],cancelOptions=void 0===_parseFilterArgs4$?{}:_parseFilterArgs4$;void 0===cancelOptions.revert&&(cancelOptions.revert=!0);var promises=_notifyManager.notifyManager.batch((function(){return _this3.queryCache.findAll(filters).map((function(query){return query.cancel(cancelOptions)}))}));return Promise.all(promises).then(_utils.noop).catch(_utils.noop)},_proto.invalidateQueries=function(arg1,arg2,arg3){var _filters$refetchActiv,_this4=this,_parseFilterArgs5=(0,_utils.parseFilterArgs)(arg1,arg2,arg3),filters=_parseFilterArgs5[0],options=_parseFilterArgs5[1],refetchFilters=(0,_extends2.default)({},filters,{active:null==(_filters$refetchActiv=filters.refetchActive)||_filters$refetchActiv,inactive:filters.refetchInactive});return _notifyManager.notifyManager.batch((function(){return _this4.queryCache.findAll(filters).forEach((function(query){query.invalidate()})),_this4.refetchQueries(refetchFilters,options)}))},_proto.refetchQueries=function(arg1,arg2,arg3){var _this5=this,_parseFilterArgs6=(0,_utils.parseFilterArgs)(arg1,arg2,arg3),filters=_parseFilterArgs6[0],options=_parseFilterArgs6[1],promises=_notifyManager.notifyManager.batch((function(){return _this5.queryCache.findAll(filters).map((function(query){return query.fetch()}))})),promise=Promise.all(promises).then(_utils.noop);return(null==options?void 0:options.throwOnError)||(promise=promise.catch(_utils.noop)),promise},_proto.fetchQuery=function(arg1,arg2,arg3){var parsedOptions=(0,_utils.parseQueryArgs)(arg1,arg2,arg3),defaultedOptions=this.defaultQueryOptions(parsedOptions);void 0===defaultedOptions.retry&&(defaultedOptions.retry=!1);var query=this.queryCache.build(this,defaultedOptions);return query.isStaleByTime(defaultedOptions.staleTime)?query.fetch(defaultedOptions):Promise.resolve(query.state.data)},_proto.prefetchQuery=function(arg1,arg2,arg3){return this.fetchQuery(arg1,arg2,arg3).then(_utils.noop).catch(_utils.noop)},_proto.fetchInfiniteQuery=function(arg1,arg2,arg3){var parsedOptions=(0,_utils.parseQueryArgs)(arg1,arg2,arg3);return parsedOptions.behavior=(0,_infiniteQueryBehavior.infiniteQueryBehavior)(),this.fetchQuery(parsedOptions)},_proto.prefetchInfiniteQuery=function(arg1,arg2,arg3){return this.fetchInfiniteQuery(arg1,arg2,arg3).then(_utils.noop).catch(_utils.noop)},_proto.cancelMutations=function(){var _this6=this,promises=_notifyManager.notifyManager.batch((function(){return _this6.mutationCache.getAll().map((function(mutation){return mutation.cancel()}))}));return Promise.all(promises).then(_utils.noop).catch(_utils.noop)},_proto.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},_proto.executeMutation=function(options){return this.mutationCache.build(this,options).execute()},_proto.getQueryCache=function(){return this.queryCache},_proto.getMutationCache=function(){return this.mutationCache},_proto.getDefaultOptions=function(){return this.defaultOptions},_proto.setDefaultOptions=function(options){this.defaultOptions=options},_proto.setQueryDefaults=function(queryKey,options){var result=this.queryDefaults.find((function(x){return(0,_utils.hashQueryKey)(queryKey)===(0,_utils.hashQueryKey)(x.queryKey)}));result?result.defaultOptions=options:this.queryDefaults.push({queryKey:queryKey,defaultOptions:options})},_proto.getQueryDefaults=function(queryKey){var _this$queryDefaults$f;return queryKey?null==(_this$queryDefaults$f=this.queryDefaults.find((function(x){return(0,_utils.partialMatchKey)(queryKey,x.queryKey)})))?void 0:_this$queryDefaults$f.defaultOptions:void 0},_proto.setMutationDefaults=function(mutationKey,options){var result=this.mutationDefaults.find((function(x){return(0,_utils.hashQueryKey)(mutationKey)===(0,_utils.hashQueryKey)(x.mutationKey)}));result?result.defaultOptions=options:this.mutationDefaults.push({mutationKey:mutationKey,defaultOptions:options})},_proto.getMutationDefaults=function(mutationKey){var _this$mutationDefault;return mutationKey?null==(_this$mutationDefault=this.mutationDefaults.find((function(x){return(0,_utils.partialMatchKey)(mutationKey,x.mutationKey)})))?void 0:_this$mutationDefault.defaultOptions:void 0},_proto.defaultQueryOptions=function(options){if(null==options?void 0:options._defaulted)return options;var defaultedOptions=(0,_extends2.default)({},this.defaultOptions.queries,this.getQueryDefaults(null==options?void 0:options.queryKey),options,{_defaulted:!0});return!defaultedOptions.queryHash&&defaultedOptions.queryKey&&(defaultedOptions.queryHash=(0,_utils.hashQueryKeyByOptions)(defaultedOptions.queryKey,defaultedOptions)),defaultedOptions},_proto.defaultQueryObserverOptions=function(options){return this.defaultQueryOptions(options)},_proto.defaultMutationOptions=function(options){return(null==options?void 0:options._defaulted)?options:(0,_extends2.default)({},this.defaultOptions.mutations,this.getMutationDefaults(null==options?void 0:options.mutationKey),options,{_defaulted:!0})},_proto.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},QueryClient}();exports.QueryClient=QueryClient},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _exportNames={QueryClientProvider:!0,useQueryClient:!0,QueryErrorResetBoundary:!0,useQueryErrorResetBoundary:!0,useIsFetching:!0,useIsMutating:!0,useMutation:!0,useQuery:!0,useQueries:!0,useInfiniteQuery:!0};exports.useInfiniteQuery=exports.useQueries=exports.useQuery=exports.useMutation=exports.useIsMutating=exports.useIsFetching=exports.useQueryErrorResetBoundary=exports.QueryErrorResetBoundary=exports.useQueryClient=exports.QueryClientProvider=void 0,__webpack_require__(101),__webpack_require__(103);var _QueryClientProvider=__webpack_require__(41);exports.QueryClientProvider=_QueryClientProvider.QueryClientProvider,exports.useQueryClient=_QueryClientProvider.useQueryClient;var _QueryErrorResetBoundary=__webpack_require__(74);exports.QueryErrorResetBoundary=_QueryErrorResetBoundary.QueryErrorResetBoundary,exports.useQueryErrorResetBoundary=_QueryErrorResetBoundary.useQueryErrorResetBoundary;var _useIsFetching=__webpack_require__(105);exports.useIsFetching=_useIsFetching.useIsFetching;var _useIsMutating=__webpack_require__(106);exports.useIsMutating=_useIsMutating.useIsMutating;var _useMutation=__webpack_require__(107);exports.useMutation=_useMutation.useMutation;var _useQuery=__webpack_require__(108);exports.useQuery=_useQuery.useQuery;var _useQueries=__webpack_require__(109);exports.useQueries=_useQueries.useQueries;var _useInfiniteQuery=__webpack_require__(110);exports.useInfiniteQuery=_useInfiniteQuery.useInfiniteQuery;var _types=__webpack_require__(111);Object.keys(_types).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||(exports[key]=_types[key]))}))},function(module,exports,__webpack_require__){"use strict";var _core=__webpack_require__(49),_reactBatchedUpdates=__webpack_require__(102);_core.notifyManager.setBatchNotifyFunction(_reactBatchedUpdates.unstable_batchedUpdates)},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.unstable_batchedUpdates=void 0;var unstable_batchedUpdates=_interopRequireDefault(__webpack_require__(24)).default.unstable_batchedUpdates;exports.unstable_batchedUpdates=unstable_batchedUpdates},function(module,exports,__webpack_require__){"use strict";var _core=__webpack_require__(49),_logger=__webpack_require__(104);_logger.logger&&(0,_core.setLogger)(_logger.logger)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.logger=void 0;var logger=console;exports.logger=logger},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.useIsFetching=function(arg1,arg2){var mountedRef=_react.default.useRef(!1),queryClient=(0,_QueryClientProvider.useQueryClient)(),filters=(0,_utils.parseFilterArgs)(arg1,arg2)[0],_React$useState=_react.default.useState(queryClient.isFetching(filters)),isFetching=_React$useState[0],setIsFetching=_React$useState[1],filtersRef=_react.default.useRef(filters);filtersRef.current=filters;var isFetchingRef=_react.default.useRef(isFetching);return isFetchingRef.current=isFetching,_react.default.useEffect((function(){mountedRef.current=!0;var unsubscribe=queryClient.getQueryCache().subscribe(_notifyManager.notifyManager.batchCalls((function(){if(mountedRef.current){var newIsFetching=queryClient.isFetching(filtersRef.current);isFetchingRef.current!==newIsFetching&&setIsFetching(newIsFetching)}})));return function(){mountedRef.current=!1,unsubscribe()}}),[queryClient]),isFetching};var _react=_interopRequireDefault(__webpack_require__(2)),_notifyManager=__webpack_require__(34),_utils=__webpack_require__(33),_QueryClientProvider=__webpack_require__(41)},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.useIsMutating=function(filters){var mountedRef=_react.default.useRef(!1),queryClient=(0,_QueryClientProvider.useQueryClient)(),_React$useState=_react.default.useState(queryClient.isMutating(filters)),isMutating=_React$useState[0],setIsMutating=_React$useState[1],filtersRef=_react.default.useRef(filters);filtersRef.current=filters;var isMutatingRef=_react.default.useRef(isMutating);return isMutatingRef.current=isMutating,_react.default.useEffect((function(){mountedRef.current=!0;var unsubscribe=queryClient.getMutationCache().subscribe(_notifyManager.notifyManager.batchCalls((function(){if(mountedRef.current){var newIsMutating=queryClient.isMutating(filtersRef.current);isMutatingRef.current!==newIsMutating&&setIsMutating(newIsMutating)}})));return function(){mountedRef.current=!1,unsubscribe()}}),[queryClient]),isMutating};var _react=_interopRequireDefault(__webpack_require__(2)),_notifyManager=__webpack_require__(34),_QueryClientProvider=__webpack_require__(41)},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.useMutation=function(arg1,arg2,arg3){var mountedRef=_react.default.useRef(!1),forceUpdate=_react.default.useState(0)[1],options=(0,_utils.parseMutationArgs)(arg1,arg2,arg3),queryClient=(0,_QueryClientProvider.useQueryClient)(),obsRef=_react.default.useRef();obsRef.current?obsRef.current.setOptions(options):obsRef.current=new _mutationObserver.MutationObserver(queryClient,options);var currentResult=obsRef.current.getCurrentResult();_react.default.useEffect((function(){mountedRef.current=!0;var unsubscribe=obsRef.current.subscribe(_notifyManager.notifyManager.batchCalls((function(){mountedRef.current&&forceUpdate((function(x){return x+1}))})));return function(){mountedRef.current=!1,unsubscribe()}}),[]);var mutate=_react.default.useCallback((function(variables,mutateOptions){obsRef.current.mutate(variables,mutateOptions).catch(_utils.noop)}),[]);if(currentResult.error&&obsRef.current.options.useErrorBoundary)throw currentResult.error;return(0,_extends2.default)({},currentResult,{mutate:mutate,mutateAsync:currentResult.mutate})};var _extends2=_interopRequireDefault(__webpack_require__(37)),_react=_interopRequireDefault(__webpack_require__(2)),_notifyManager=__webpack_require__(34),_utils=__webpack_require__(33),_mutationObserver=__webpack_require__(73),_QueryClientProvider=__webpack_require__(41)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.useQuery=function(arg1,arg2,arg3){var parsedOptions=(0,_utils.parseQueryArgs)(arg1,arg2,arg3);return(0,_useBaseQuery.useBaseQuery)(parsedOptions,_core.QueryObserver)};var _core=__webpack_require__(49),_utils=__webpack_require__(33),_useBaseQuery=__webpack_require__(75)},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(30);exports.__esModule=!0,exports.useQueries=function(queries){var mountedRef=_react.default.useRef(!1),forceUpdate=_react.default.useState(0)[1],queryClient=(0,_QueryClientProvider.useQueryClient)(),defaultedQueries=queries.map((function(options){var defaultedOptions=queryClient.defaultQueryObserverOptions(options);return defaultedOptions.optimisticResults=!0,defaultedOptions})),obsRef=_react.default.useRef();obsRef.current||(obsRef.current=new _queriesObserver.QueriesObserver(queryClient,defaultedQueries));var result=obsRef.current.getOptimisticResult(defaultedQueries);return _react.default.useEffect((function(){mountedRef.current=!0;var unsubscribe=obsRef.current.subscribe(_notifyManager.notifyManager.batchCalls((function(){mountedRef.current&&forceUpdate((function(x){return x+1}))})));return function(){mountedRef.current=!1,unsubscribe()}}),[]),_react.default.useEffect((function(){obsRef.current.setQueries(defaultedQueries,{listeners:!1})}),[defaultedQueries]),result};var _react=_interopRequireDefault(__webpack_require__(2)),_notifyManager=__webpack_require__(34),_queriesObserver=__webpack_require__(71),_QueryClientProvider=__webpack_require__(41)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.useInfiniteQuery=function(arg1,arg2,arg3){var options=(0,_utils.parseQueryArgs)(arg1,arg2,arg3);return(0,_useBaseQuery.useBaseQuery)(options,_infiniteQueryObserver.InfiniteQueryObserver)};var _infiniteQueryObserver=__webpack_require__(72),_utils=__webpack_require__(33),_useBaseQuery=__webpack_require__(75)},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(113),decodeComponent=__webpack_require__(114),splitOnFirst=__webpack_require__(115);function validateArrayFormatSeparator(value){if("string"!=typeof value||1!==value.length)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(value,options){return options.encode?options.strict?strictUriEncode(value):encodeURIComponent(value):value}function decode(value,options){return options.decode?decodeComponent(value):value}function removeHash(input){const hashStart=input.indexOf("#");return-1!==hashStart&&(input=input.slice(0,hashStart)),input}function extract(input){const queryStart=(input=removeHash(input)).indexOf("?");return-1===queryStart?"":input.slice(queryStart+1)}function parseValue(value,options){return options.parseNumbers&&!Number.isNaN(Number(value))&&"string"==typeof value&&""!==value.trim()?value=Number(value):!options.parseBooleans||null===value||"true"!==value.toLowerCase()&&"false"!==value.toLowerCase()||(value="true"===value.toLowerCase()),value}function parse(input,options){validateArrayFormatSeparator((options=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},options)).arrayFormatSeparator);const formatter=function(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key),key=key.replace(/\[\d*\]$/,""),result?(void 0===accumulator[key]&&(accumulator[key]={}),accumulator[key][result[1]]=value):accumulator[key]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key),key=key.replace(/\[\]$/,""),result?void 0!==accumulator[key]?accumulator[key]=[].concat(accumulator[key],value):accumulator[key]=[value]:accumulator[key]=value};case"comma":case"separator":return(key,value,accumulator)=>{const newValue="string"==typeof value&&value.split("").indexOf(options.arrayFormatSeparator)>-1?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):null===value?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{void 0!==accumulator[key]?accumulator[key]=[].concat(accumulator[key],value):accumulator[key]=value}}}(options),ret=Object.create(null);if("string"!=typeof input)return ret;if(!(input=input.trim().replace(/^[?#&]/,"")))return ret;for(const param of input.split("&")){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=void 0===value?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options),formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if("object"==typeof value&&null!==value)for(const k of Object.keys(value))value[k]=parseValue(value[k],options);else ret[key]=parseValue(value,options)}return!1===options.sort?ret:(!0===options.sort?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];return Boolean(value)&&"object"==typeof value&&!Array.isArray(value)?result[key]=function keysSorter(input){return Array.isArray(input)?input.sort():"object"==typeof input?keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key]):input}(value):result[key]=value,result},Object.create(null))}exports.extract=extract,exports.parse=parse,exports.stringify=(object,options)=>{if(!object)return"";validateArrayFormatSeparator((options=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},options)).arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&null==object[key]||options.skipEmptyString&&""===object[key],formatter=function(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;return void 0===value||options.skipNull&&null===value||options.skipEmptyString&&""===value?result:null===value?[...result,[encode(key,options),"[",index,"]"].join("")]:[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>void 0===value||options.skipNull&&null===value||options.skipEmptyString&&""===value?result:null===value?[...result,[encode(key,options),"[]"].join("")]:[...result,[encode(key,options),"[]=",encode(value,options)].join("")];case"comma":case"separator":return key=>(result,value)=>null==value||0===value.length?result:0===result.length?[[encode(key,options),"=",encode(value,options)].join("")]:[[result,encode(value,options)].join(options.arrayFormatSeparator)];default:return key=>(result,value)=>void 0===value||options.skipNull&&null===value||options.skipEmptyString&&""===value?result:null===value?[...result,encode(key,options)]:[...result,[encode(key,options),"=",encode(value,options)].join("")]}}(options),objectCopy={};for(const key of Object.keys(object))shouldFilter(key)||(objectCopy[key]=object[key]);const keys=Object.keys(objectCopy);return!1!==options.sort&&keys.sort(options.sort),keys.map(key=>{const value=object[key];return void 0===value?"":null===value?encode(key,options):Array.isArray(value)?value.reduce(formatter(key),[]).join("&"):encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")},exports.parseUrl=(input,options)=>{options=Object.assign({decode:!0},options);const[url,hash]=splitOnFirst(input,"#");return Object.assign({url:url.split("?")[0]||"",query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})},exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:!0,strict:!0},options);const url=removeHash(input.url).split("?")[0]||"",queryFromUrl=exports.extract(input.url),parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:!1}),query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);queryString&&(queryString="?"+queryString);let hash=function(url){let hash="";const hashStart=url.indexOf("#");return-1!==hashStart&&(hash=url.slice(hashStart)),hash}(input.url);return input.fragmentIdentifier&&(hash="#"+encode(input.fragmentIdentifier,options)),`${url}${queryString}${hash}`}},function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>"%"+x.charCodeAt(0).toString(16).toUpperCase())},function(module,exports,__webpack_require__){"use strict";var singleMatcher=new RegExp("%[a-f0-9]{2}","gi"),multiMatcher=new RegExp("(%[a-f0-9]{2})+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(1===components.length)return components;split=split||1;var left=components.slice(0,split),right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){for(var tokens=input.match(singleMatcher),i=1;i<tokens.length;i++)tokens=(input=decodeComponents(tokens,i).join("")).match(singleMatcher);return input}}module.exports=function(encodedURI){if("string"!=typeof encodedURI)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`");try{return encodedURI=encodedURI.replace(/\+/g," "),decodeURIComponent(encodedURI)}catch(err){return function(input){for(var replaceMap={"%FE%FF":"��","%FF%FE":"��"},match=multiMatcher.exec(input);match;){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);result!==match[0]&&(replaceMap[match[0]]=result)}match=multiMatcher.exec(input)}replaceMap["%C2"]="�";for(var entries=Object.keys(replaceMap),i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}(encodedURI)}}},function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if("string"!=typeof string||"string"!=typeof separator)throw new TypeError("Expected the arguments to be of type `string`");if(""===separator)return[string];const separatorIndex=string.indexOf(separator);return-1===separatorIndex?[string]:[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var createMemo_1=__webpack_require__(117);Object.defineProperty(exports,"createMemo",{enumerable:!0,get:function(){return createMemo_1.default}});var createReducerContext_1=__webpack_require__(118);Object.defineProperty(exports,"createReducerContext",{enumerable:!0,get:function(){return createReducerContext_1.default}});var createReducer_1=__webpack_require__(119);Object.defineProperty(exports,"createReducer",{enumerable:!0,get:function(){return createReducer_1.default}});var createStateContext_1=__webpack_require__(120);Object.defineProperty(exports,"createStateContext",{enumerable:!0,get:function(){return createStateContext_1.default}});var useAsync_1=__webpack_require__(76);Object.defineProperty(exports,"useAsync",{enumerable:!0,get:function(){return useAsync_1.default}});var useAsyncFn_1=__webpack_require__(77);Object.defineProperty(exports,"useAsyncFn",{enumerable:!0,get:function(){return useAsyncFn_1.default}});var useAsyncRetry_1=__webpack_require__(121);Object.defineProperty(exports,"useAsyncRetry",{enumerable:!0,get:function(){return useAsyncRetry_1.default}});var useAudio_1=__webpack_require__(122);Object.defineProperty(exports,"useAudio",{enumerable:!0,get:function(){return useAudio_1.default}});var useBattery_1=__webpack_require__(124);Object.defineProperty(exports,"useBattery",{enumerable:!0,get:function(){return useBattery_1.default}});var useBeforeUnload_1=__webpack_require__(126);Object.defineProperty(exports,"useBeforeUnload",{enumerable:!0,get:function(){return useBeforeUnload_1.default}});var useBoolean_1=__webpack_require__(127);Object.defineProperty(exports,"useBoolean",{enumerable:!0,get:function(){return useBoolean_1.default}});var useClickAway_1=__webpack_require__(128);Object.defineProperty(exports,"useClickAway",{enumerable:!0,get:function(){return useClickAway_1.default}});var useCookie_1=__webpack_require__(129);Object.defineProperty(exports,"useCookie",{enumerable:!0,get:function(){return useCookie_1.default}});var useCopyToClipboard_1=__webpack_require__(131);Object.defineProperty(exports,"useCopyToClipboard",{enumerable:!0,get:function(){return useCopyToClipboard_1.default}});var useCounter_1=__webpack_require__(80);Object.defineProperty(exports,"useCounter",{enumerable:!0,get:function(){return useCounter_1.default}});var useCss_1=__webpack_require__(134);Object.defineProperty(exports,"useCss",{enumerable:!0,get:function(){return useCss_1.default}});var useCustomCompareEffect_1=__webpack_require__(58);Object.defineProperty(exports,"useCustomCompareEffect",{enumerable:!0,get:function(){return useCustomCompareEffect_1.default}});var useDebounce_1=__webpack_require__(140);Object.defineProperty(exports,"useDebounce",{enumerable:!0,get:function(){return useDebounce_1.default}});var useDeepCompareEffect_1=__webpack_require__(141);Object.defineProperty(exports,"useDeepCompareEffect",{enumerable:!0,get:function(){return useDeepCompareEffect_1.default}});var useDefault_1=__webpack_require__(142);Object.defineProperty(exports,"useDefault",{enumerable:!0,get:function(){return useDefault_1.default}});var useDrop_1=__webpack_require__(143);Object.defineProperty(exports,"useDrop",{enumerable:!0,get:function(){return useDrop_1.default}});var useDropArea_1=__webpack_require__(144);Object.defineProperty(exports,"useDropArea",{enumerable:!0,get:function(){return useDropArea_1.default}});var useEffectOnce_1=__webpack_require__(46);Object.defineProperty(exports,"useEffectOnce",{enumerable:!0,get:function(){return useEffectOnce_1.default}});var useEnsuredForwardedRef_1=__webpack_require__(145);Object.defineProperty(exports,"useEnsuredForwardedRef",{enumerable:!0,get:function(){return useEnsuredForwardedRef_1.default}}),Object.defineProperty(exports,"ensuredForwardRef",{enumerable:!0,get:function(){return useEnsuredForwardedRef_1.ensuredForwardRef}});var useEvent_1=__webpack_require__(82);Object.defineProperty(exports,"useEvent",{enumerable:!0,get:function(){return useEvent_1.default}});var useError_1=__webpack_require__(146);Object.defineProperty(exports,"useError",{enumerable:!0,get:function(){return useError_1.default}});var useFavicon_1=__webpack_require__(147);Object.defineProperty(exports,"useFavicon",{enumerable:!0,get:function(){return useFavicon_1.default}});var useFullscreen_1=__webpack_require__(148);Object.defineProperty(exports,"useFullscreen",{enumerable:!0,get:function(){return useFullscreen_1.default}});var useGeolocation_1=__webpack_require__(150);Object.defineProperty(exports,"useGeolocation",{enumerable:!0,get:function(){return useGeolocation_1.default}});var useGetSet_1=__webpack_require__(81);Object.defineProperty(exports,"useGetSet",{enumerable:!0,get:function(){return useGetSet_1.default}});var useGetSetState_1=__webpack_require__(151);Object.defineProperty(exports,"useGetSetState",{enumerable:!0,get:function(){return useGetSetState_1.default}});var useHarmonicIntervalFn_1=__webpack_require__(152);Object.defineProperty(exports,"useHarmonicIntervalFn",{enumerable:!0,get:function(){return useHarmonicIntervalFn_1.default}});var useHover_1=__webpack_require__(154);Object.defineProperty(exports,"useHover",{enumerable:!0,get:function(){return useHover_1.default}});var useHoverDirty_1=__webpack_require__(83);Object.defineProperty(exports,"useHoverDirty",{enumerable:!0,get:function(){return useHoverDirty_1.default}});var useIdle_1=__webpack_require__(155);Object.defineProperty(exports,"useIdle",{enumerable:!0,get:function(){return useIdle_1.default}});var useIntersection_1=__webpack_require__(157);Object.defineProperty(exports,"useIntersection",{enumerable:!0,get:function(){return useIntersection_1.default}});var useInterval_1=__webpack_require__(158);Object.defineProperty(exports,"useInterval",{enumerable:!0,get:function(){return useInterval_1.default}});var useIsomorphicLayoutEffect_1=__webpack_require__(38);Object.defineProperty(exports,"useIsomorphicLayoutEffect",{enumerable:!0,get:function(){return useIsomorphicLayoutEffect_1.default}});var useKey_1=__webpack_require__(84);Object.defineProperty(exports,"useKey",{enumerable:!0,get:function(){return useKey_1.default}});var createBreakpoint_1=__webpack_require__(159);Object.defineProperty(exports,"createBreakpoint",{enumerable:!0,get:function(){return createBreakpoint_1.default}});var useKeyPress_1=__webpack_require__(85);Object.defineProperty(exports,"useKeyPress",{enumerable:!0,get:function(){return useKeyPress_1.default}});var useKeyPressEvent_1=__webpack_require__(160);Object.defineProperty(exports,"useKeyPressEvent",{enumerable:!0,get:function(){return useKeyPressEvent_1.default}});var useLatest_1=__webpack_require__(86);Object.defineProperty(exports,"useLatest",{enumerable:!0,get:function(){return useLatest_1.default}});var useLifecycles_1=__webpack_require__(87);Object.defineProperty(exports,"useLifecycles",{enumerable:!0,get:function(){return useLifecycles_1.default}});var useList_1=__webpack_require__(88);Object.defineProperty(exports,"useList",{enumerable:!0,get:function(){return useList_1.default}});var useLocalStorage_1=__webpack_require__(161);Object.defineProperty(exports,"useLocalStorage",{enumerable:!0,get:function(){return useLocalStorage_1.default}});var useLocation_1=__webpack_require__(162);Object.defineProperty(exports,"useLocation",{enumerable:!0,get:function(){return useLocation_1.default}});var useLockBodyScroll_1=__webpack_require__(163);Object.defineProperty(exports,"useLockBodyScroll",{enumerable:!0,get:function(){return useLockBodyScroll_1.default}});var useLogger_1=__webpack_require__(164);Object.defineProperty(exports,"useLogger",{enumerable:!0,get:function(){return useLogger_1.default}});var useLongPress_1=__webpack_require__(165);Object.defineProperty(exports,"useLongPress",{enumerable:!0,get:function(){return useLongPress_1.default}});var useMap_1=__webpack_require__(166);Object.defineProperty(exports,"useMap",{enumerable:!0,get:function(){return useMap_1.default}});var useMedia_1=__webpack_require__(167);Object.defineProperty(exports,"useMedia",{enumerable:!0,get:function(){return useMedia_1.default}});var useMediaDevices_1=__webpack_require__(168);Object.defineProperty(exports,"useMediaDevices",{enumerable:!0,get:function(){return useMediaDevices_1.default}});var useMediatedState_1=__webpack_require__(169);Object.defineProperty(exports,"useMediatedState",{enumerable:!0,get:function(){return useMediatedState_1.useMediatedState}});var useMethods_1=__webpack_require__(170);Object.defineProperty(exports,"useMethods",{enumerable:!0,get:function(){return useMethods_1.default}});var useMotion_1=__webpack_require__(171);Object.defineProperty(exports,"useMotion",{enumerable:!0,get:function(){return useMotion_1.default}});var useMount_1=__webpack_require__(89);Object.defineProperty(exports,"useMount",{enumerable:!0,get:function(){return useMount_1.default}});var useMountedState_1=__webpack_require__(40);Object.defineProperty(exports,"useMountedState",{enumerable:!0,get:function(){return useMountedState_1.default}});var useMouse_1=__webpack_require__(90);Object.defineProperty(exports,"useMouse",{enumerable:!0,get:function(){return useMouse_1.default}});var useMouseHovered_1=__webpack_require__(172);Object.defineProperty(exports,"useMouseHovered",{enumerable:!0,get:function(){return useMouseHovered_1.default}});var useMouseWheel_1=__webpack_require__(173);Object.defineProperty(exports,"useMouseWheel",{enumerable:!0,get:function(){return useMouseWheel_1.default}});var useNetwork_1=__webpack_require__(174);Object.defineProperty(exports,"useNetwork",{enumerable:!0,get:function(){return useNetwork_1.default}});var useNumber_1=__webpack_require__(175);Object.defineProperty(exports,"useNumber",{enumerable:!0,get:function(){return useNumber_1.default}});var useObservable_1=__webpack_require__(176);Object.defineProperty(exports,"useObservable",{enumerable:!0,get:function(){return useObservable_1.default}});var useOrientation_1=__webpack_require__(177);Object.defineProperty(exports,"useOrientation",{enumerable:!0,get:function(){return useOrientation_1.default}});var usePageLeave_1=__webpack_require__(178);Object.defineProperty(exports,"usePageLeave",{enumerable:!0,get:function(){return usePageLeave_1.default}});var usePermission_1=__webpack_require__(179);Object.defineProperty(exports,"usePermission",{enumerable:!0,get:function(){return usePermission_1.default}});var usePrevious_1=__webpack_require__(180);Object.defineProperty(exports,"usePrevious",{enumerable:!0,get:function(){return usePrevious_1.default}});var usePreviousDistinct_1=__webpack_require__(181);Object.defineProperty(exports,"usePreviousDistinct",{enumerable:!0,get:function(){return usePreviousDistinct_1.default}});var usePromise_1=__webpack_require__(182);Object.defineProperty(exports,"usePromise",{enumerable:!0,get:function(){return usePromise_1.default}});var useQueue_1=__webpack_require__(183);Object.defineProperty(exports,"useQueue",{enumerable:!0,get:function(){return useQueue_1.default}});var useRaf_1=__webpack_require__(91);Object.defineProperty(exports,"useRaf",{enumerable:!0,get:function(){return useRaf_1.default}});var useRafLoop_1=__webpack_require__(184);Object.defineProperty(exports,"useRafLoop",{enumerable:!0,get:function(){return useRafLoop_1.default}});var useRafState_1=__webpack_require__(47);Object.defineProperty(exports,"useRafState",{enumerable:!0,get:function(){return useRafState_1.default}});var useSearchParam_1=__webpack_require__(185);Object.defineProperty(exports,"useSearchParam",{enumerable:!0,get:function(){return useSearchParam_1.default}});var useScratch_1=__webpack_require__(186);Object.defineProperty(exports,"useScratch",{enumerable:!0,get:function(){return useScratch_1.default}});var useScroll_1=__webpack_require__(192);Object.defineProperty(exports,"useScroll",{enumerable:!0,get:function(){return useScroll_1.default}});var useScrolling_1=__webpack_require__(193);Object.defineProperty(exports,"useScrolling",{enumerable:!0,get:function(){return useScrolling_1.default}});var useSessionStorage_1=__webpack_require__(194);Object.defineProperty(exports,"useSessionStorage",{enumerable:!0,get:function(){return useSessionStorage_1.default}});var useSetState_1=__webpack_require__(45);Object.defineProperty(exports,"useSetState",{enumerable:!0,get:function(){return useSetState_1.default}});var useShallowCompareEffect_1=__webpack_require__(195);Object.defineProperty(exports,"useShallowCompareEffect",{enumerable:!0,get:function(){return useShallowCompareEffect_1.default}});var useSize_1=__webpack_require__(197);Object.defineProperty(exports,"useSize",{enumerable:!0,get:function(){return useSize_1.default}});var useSlider_1=__webpack_require__(198);Object.defineProperty(exports,"useSlider",{enumerable:!0,get:function(){return useSlider_1.default}});var useSpeech_1=__webpack_require__(199);Object.defineProperty(exports,"useSpeech",{enumerable:!0,get:function(){return useSpeech_1.default}});var useStartTyping_1=__webpack_require__(200);Object.defineProperty(exports,"useStartTyping",{enumerable:!0,get:function(){return useStartTyping_1.default}});var useStateWithHistory_1=__webpack_require__(201);Object.defineProperty(exports,"useStateWithHistory",{enumerable:!0,get:function(){return useStateWithHistory_1.useStateWithHistory}});var useStateList_1=__webpack_require__(202);Object.defineProperty(exports,"useStateList",{enumerable:!0,get:function(){return useStateList_1.default}});var useThrottle_1=__webpack_require__(203);Object.defineProperty(exports,"useThrottle",{enumerable:!0,get:function(){return useThrottle_1.default}});var useThrottleFn_1=__webpack_require__(204);Object.defineProperty(exports,"useThrottleFn",{enumerable:!0,get:function(){return useThrottleFn_1.default}});var useTimeout_1=__webpack_require__(205);Object.defineProperty(exports,"useTimeout",{enumerable:!0,get:function(){return useTimeout_1.default}});var useTimeoutFn_1=__webpack_require__(59);Object.defineProperty(exports,"useTimeoutFn",{enumerable:!0,get:function(){return useTimeoutFn_1.default}});var useTitle_1=__webpack_require__(206);Object.defineProperty(exports,"useTitle",{enumerable:!0,get:function(){return useTitle_1.default}});var useToggle_1=__webpack_require__(79);Object.defineProperty(exports,"useToggle",{enumerable:!0,get:function(){return useToggle_1.default}});var useTween_1=__webpack_require__(207);Object.defineProperty(exports,"useTween",{enumerable:!0,get:function(){return useTween_1.default}});var useUnmount_1=__webpack_require__(55);Object.defineProperty(exports,"useUnmount",{enumerable:!0,get:function(){return useUnmount_1.default}});var useUnmountPromise_1=__webpack_require__(209);Object.defineProperty(exports,"useUnmountPromise",{enumerable:!0,get:function(){return useUnmountPromise_1.default}});var useUpdate_1=__webpack_require__(42);Object.defineProperty(exports,"useUpdate",{enumerable:!0,get:function(){return useUpdate_1.default}});var useUpdateEffect_1=__webpack_require__(44);Object.defineProperty(exports,"useUpdateEffect",{enumerable:!0,get:function(){return useUpdateEffect_1.default}});var useUpsert_1=__webpack_require__(210);Object.defineProperty(exports,"useUpsert",{enumerable:!0,get:function(){return useUpsert_1.default}});var useVibrate_1=__webpack_require__(211);Object.defineProperty(exports,"useVibrate",{enumerable:!0,get:function(){return useVibrate_1.default}});var useVideo_1=__webpack_require__(212);Object.defineProperty(exports,"useVideo",{enumerable:!0,get:function(){return useVideo_1.default}});var useStateValidator_1=__webpack_require__(213);Object.defineProperty(exports,"useStateValidator",{enumerable:!0,get:function(){return useStateValidator_1.default}});var useScrollbarWidth_1=__webpack_require__(214);Object.defineProperty(exports,"useScrollbarWidth",{enumerable:!0,get:function(){return useScrollbarWidth_1.useScrollbarWidth}});var useMultiStateValidator_1=__webpack_require__(216);Object.defineProperty(exports,"useMultiStateValidator",{enumerable:!0,get:function(){return useMultiStateValidator_1.useMultiStateValidator}});var useWindowScroll_1=__webpack_require__(217);Object.defineProperty(exports,"useWindowScroll",{enumerable:!0,get:function(){return useWindowScroll_1.default}});var useWindowSize_1=__webpack_require__(218);Object.defineProperty(exports,"useWindowSize",{enumerable:!0,get:function(){return useWindowSize_1.default}});var useMeasure_1=__webpack_require__(219);Object.defineProperty(exports,"useMeasure",{enumerable:!0,get:function(){return useMeasure_1.default}});var useRendersCount_1=__webpack_require__(220);Object.defineProperty(exports,"useRendersCount",{enumerable:!0,get:function(){return useRendersCount_1.useRendersCount}});var useFirstMountState_1=__webpack_require__(53);Object.defineProperty(exports,"useFirstMountState",{enumerable:!0,get:function(){return useFirstMountState_1.useFirstMountState}});var useSet_1=__webpack_require__(221);Object.defineProperty(exports,"useSet",{enumerable:!0,get:function(){return useSet_1.default}});var createGlobalState_1=__webpack_require__(222);Object.defineProperty(exports,"createGlobalState",{enumerable:!0,get:function(){return createGlobalState_1.createGlobalState}});var useHash_1=__webpack_require__(223);Object.defineProperty(exports,"useHash",{enumerable:!0,get:function(){return useHash_1.useHash}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(fn){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return react_1.useMemo((function(){return fn.apply(void 0,args)}),args)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(reducer,defaultInitialState){var context=react_1.createContext(void 0);return[function(){var state=react_1.useContext(context);if(null==state)throw new Error("useReducerContext must be used inside a ReducerProvider.");return state},function(_a){var children=_a.children,initialState=_a.initialState;return function(props,children){return react_1.createElement(context.Provider,props,children)}({value:react_1.useReducer(reducer,void 0!==initialState?initialState:defaultInitialState)},children)},context]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useUpdateEffect_1=tslib_1.__importDefault(__webpack_require__(44));function composeMiddleware(chain){return function(context,dispatch){return chain.reduceRight((function(res,middleware){return middleware(context)(res)}),dispatch)}}exports.default=function(){for(var middlewares=[],_i=0;_i<arguments.length;_i++)middlewares[_i]=arguments[_i];var composedMiddleware=composeMiddleware(middlewares);return function(reducer,initialState,initializer){void 0===initializer&&(initializer=function(value){return value});var ref=react_1.useRef(initializer(initialState)),setState=react_1.useState(ref.current)[1],dispatch=react_1.useCallback((function(action){return ref.current=reducer(ref.current,action),setState(ref.current),action}),[reducer]),dispatchRef=react_1.useRef(composedMiddleware({getState:function(){return ref.current},dispatch:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return dispatchRef.current.apply(dispatchRef,args)}},dispatch));return useUpdateEffect_1.default((function(){dispatchRef.current=composedMiddleware({getState:function(){return ref.current},dispatch:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return dispatchRef.current.apply(dispatchRef,args)}},dispatch)}),[dispatch]),[ref.current,dispatchRef.current]}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(defaultInitialValue){var context=react_1.createContext(void 0);return[function(){var state=react_1.useContext(context);if(null==state)throw new Error("useStateContext must be used inside a StateProvider.");return state},function(_a){var children=_a.children,initialValue=_a.initialValue;return function(props,children){return react_1.createElement(context.Provider,props,children)}({value:react_1.useState(void 0!==initialValue?initialValue:defaultInitialValue)},children)},context]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useAsync_1=tslib_1.__importDefault(__webpack_require__(76));exports.default=function(fn,deps){void 0===deps&&(deps=[]);var _a=react_1.useState(0),attempt=_a[0],setAttempt=_a[1],state=useAsync_1.default(fn,tslib_1.__spreadArrays(deps,[attempt])),stateLoading=state.loading,retry=react_1.useCallback((function(){stateLoading||setAttempt((function(currentAttempt){return currentAttempt+1}))}),tslib_1.__spreadArrays(deps,[stateLoading]));return tslib_1.__assign(tslib_1.__assign({},state),{retry:retry})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var useAudio=__webpack_require__(11).__importDefault(__webpack_require__(78)).default("audio");exports.default=useAudio},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(ranges){for(var result=[],i=0;i<ranges.length;i++)result.push({start:ranges.start(i),end:ranges.end(i)});return result}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),util_1=__webpack_require__(32),nav="object"==typeof navigator?navigator:void 0,isBatteryApiSupported=nav&&"function"==typeof nav.getBattery;exports.default=isBatteryApiSupported?function(){var _a=react_1.useState({isSupported:!0,fetched:!1}),state=_a[0],setState=_a[1];return react_1.useEffect((function(){var isMounted=!0,battery=null,handleChange=function(){if(isMounted&&battery){var newState={isSupported:!0,fetched:!0,level:battery.level,charging:battery.charging,dischargingTime:battery.dischargingTime,chargingTime:battery.chargingTime};!util_1.isDeepEqual(state,newState)&&setState(newState)}};return nav.getBattery().then((function(bat){isMounted&&(battery=bat,util_1.on(battery,"chargingchange",handleChange),util_1.on(battery,"chargingtimechange",handleChange),util_1.on(battery,"dischargingtimechange",handleChange),util_1.on(battery,"levelchange",handleChange),handleChange())})),function(){isMounted=!1,battery&&(util_1.off(battery,"chargingchange",handleChange),util_1.off(battery,"chargingtimechange",handleChange),util_1.off(battery,"dischargingtimechange",handleChange),util_1.off(battery,"levelchange",handleChange))}}),[]),state}:function(){return{isSupported:!1}}},function(module,exports,__webpack_require__){"use strict";module.exports=function equal(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var length,i,keys;if(Array.isArray(a)){if((length=a.length)!=b.length)return!1;for(i=length;0!=i--;)if(!equal(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((length=(keys=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=length;0!=i--;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return!1;for(i=length;0!=i--;){var key=keys[i];if(("_owner"!==key||!a.$$typeof)&&!equal(a[key],b[key]))return!1}return!0}return a!=a&&b!=b}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(enabled,message){void 0===enabled&&(enabled=!0);var handler=react_1.useCallback((function(event){if("function"!=typeof enabled||enabled())return event.preventDefault(),message&&(event.returnValue=message),message}),[enabled,message]);react_1.useEffect((function(){if(enabled)return window.addEventListener("beforeunload",handler),function(){return window.removeEventListener("beforeunload",handler)}}),[enabled,handler])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var useToggle_1=__webpack_require__(11).__importDefault(__webpack_require__(79));exports.default=useToggle_1.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),util_1=__webpack_require__(32),defaultEvents=["mousedown","touchstart"];exports.default=function(ref,onClickAway,events){void 0===events&&(events=defaultEvents);var savedCallback=react_1.useRef(onClickAway);react_1.useEffect((function(){savedCallback.current=onClickAway}),[onClickAway]),react_1.useEffect((function(){for(var handler=function(event){var el=ref.current;el&&!el.contains(event.target)&&savedCallback.current(event)},_i=0,events_1=events;_i<events_1.length;_i++){var eventName=events_1[_i];util_1.on(document,eventName,handler)}return function(){for(var _i=0,events_2=events;_i<events_2.length;_i++){var eventName=events_2[_i];util_1.off(document,eventName,handler)}}}),[events,ref])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),js_cookie_1=tslib_1.__importDefault(__webpack_require__(130));exports.default=function(cookieName){var _a=react_1.useState((function(){return js_cookie_1.default.get(cookieName)||null})),value=_a[0],setValue=_a[1];return[value,react_1.useCallback((function(newValue,options){js_cookie_1.default.set(cookieName,newValue,options),setValue(newValue)}),[cookieName]),react_1.useCallback((function(){js_cookie_1.default.remove(cookieName),setValue(null)}),[cookieName])]}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(factory){if(void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),!0,module.exports=factory(),!!0){var OldCookies=window.Cookies,api=window.Cookies=factory();api.noConflict=function(){return window.Cookies=OldCookies,api}}}((function(){function extend(){for(var i=0,result={};i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes)result[key]=attributes[key]}return result}function decode(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function init(converter){function api(){}function set(key,value,attributes){if("undefined"!=typeof document){"number"==typeof(attributes=extend({path:"/"},api.defaults,attributes)).expires&&(attributes.expires=new Date(1*new Date+864e5*attributes.expires)),attributes.expires=attributes.expires?attributes.expires.toUTCString():"";try{var result=JSON.stringify(value);/^[\{\[]/.test(result)&&(value=result)}catch(e){}value=converter.write?converter.write(value,key):encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),key=encodeURIComponent(String(key)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes)attributes[attributeName]&&(stringifiedAttributes+="; "+attributeName,!0!==attributes[attributeName]&&(stringifiedAttributes+="="+attributes[attributeName].split(";")[0]));return document.cookie=key+"="+value+stringifiedAttributes}}function get(key,json){if("undefined"!=typeof document){for(var jar={},cookies=document.cookie?document.cookie.split("; "):[],i=0;i<cookies.length;i++){var parts=cookies[i].split("="),cookie=parts.slice(1).join("=");json||'"'!==cookie.charAt(0)||(cookie=cookie.slice(1,-1));try{var name=decode(parts[0]);if(cookie=(converter.read||converter)(cookie,name)||decode(cookie),json)try{cookie=JSON.parse(cookie)}catch(e){}if(jar[name]=cookie,key===name)break}catch(e){}}return key?jar[key]:jar}}return api.set=set,api.get=function(key){return get(key,!1)},api.getJSON=function(key){return get(key,!0)},api.remove=function(key,attributes){set(key,"",extend(attributes,{expires:-1}))},api.defaults={},api.withConverter=init,api}((function(){}))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),copy_to_clipboard_1=tslib_1.__importDefault(__webpack_require__(132)),react_1=__webpack_require__(2),useMountedState_1=tslib_1.__importDefault(__webpack_require__(40)),useSetState_1=tslib_1.__importDefault(__webpack_require__(45));exports.default=function(){var isMounted=useMountedState_1.default(),_a=useSetState_1.default({value:void 0,error:void 0,noUserInteraction:!0}),state=_a[0],setState=_a[1];return[state,react_1.useCallback((function(value){var noUserInteraction,normalizedValue;if(isMounted())try{if("string"!=typeof value&&"number"!=typeof value){var error=new Error("Cannot copy typeof "+typeof value+" to clipboard, must be a string");return void setState({value:value,error:error,noUserInteraction:!0})}if(""===value){error=new Error("Cannot copy empty string to clipboard.");return void setState({value:value,error:error,noUserInteraction:!0})}normalizedValue=value.toString(),noUserInteraction=copy_to_clipboard_1.default(normalizedValue),setState({value:normalizedValue,error:void 0,noUserInteraction:noUserInteraction})}catch(error){setState({value:normalizedValue,error:error,noUserInteraction:noUserInteraction})}}),[])]}},function(module,exports,__webpack_require__){"use strict";var deselectCurrent=__webpack_require__(133);module.exports=function(text,options){var debug,message,reselectPrevious,range,selection,mark,success=!1;options||(options={}),debug=options.debug||!1;try{if(reselectPrevious=deselectCurrent(),range=document.createRange(),selection=document.getSelection(),(mark=document.createElement("span")).textContent=text,mark.style.all="unset",mark.style.position="fixed",mark.style.top=0,mark.style.clip="rect(0, 0, 0, 0)",mark.style.whiteSpace="pre",mark.style.webkitUserSelect="text",mark.style.MozUserSelect="text",mark.style.msUserSelect="text",mark.style.userSelect="text",mark.addEventListener("copy",(function(e){e.stopPropagation(),options.format&&(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData(options.format,text))})),document.body.appendChild(mark),range.selectNodeContents(mark),selection.addRange(range),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");success=!0}catch(err){debug&&console.error("unable to copy using execCommand: ",err),debug&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(options.format||"text",text),success=!0}catch(err){debug&&console.error("unable to copy using clipboardData: ",err),debug&&console.error("falling back to prompt"),message=function(message){var copyKey=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return message.replace(/#{\s*key\s*}/g,copyKey)}("message"in options?options.message:"Copy to clipboard: #{key}, Enter"),window.prompt(message,text)}}finally{selection&&("function"==typeof selection.removeRange?selection.removeRange(range):selection.removeAllRanges()),mark&&document.body.removeChild(mark),reselectPrevious()}return success}},function(module,exports){module.exports=function(){var selection=document.getSelection();if(!selection.rangeCount)return function(){};for(var active=document.activeElement,ranges=[],i=0;i<selection.rangeCount;i++)ranges.push(selection.getRangeAt(i));switch(active.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":active.blur();break;default:active=null}return selection.removeAllRanges(),function(){"Caret"===selection.type&&selection.removeAllRanges(),selection.rangeCount||ranges.forEach((function(range){selection.addRange(range)})),active&&active.focus()}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),nano_css_1=__webpack_require__(135),cssom_1=__webpack_require__(136),vcssom_1=__webpack_require__(137),cssToTree_1=__webpack_require__(139),react_1=__webpack_require__(2),useIsomorphicLayoutEffect_1=tslib_1.__importDefault(__webpack_require__(38)),nano=nano_css_1.create();cssom_1.addon(nano),vcssom_1.addon(nano);var counter=0;exports.default=function(css){var className=react_1.useMemo((function(){return"react-use-css-"+(counter++).toString(36)}),[]),sheet=react_1.useMemo((function(){return new nano.VSheet}),[]);return useIsomorphicLayoutEffect_1.default((function(){var tree={};return cssToTree_1.cssToTree(tree,css,"."+className,""),sheet.diff(tree),function(){sheet.diff({})}})),className}},function(module,exports,__webpack_require__){"use strict";var KEBAB_REGEX=/[A-Z]/g;exports.create=function(config){var assign=(config=config||{}).assign||Object.assign;var renderer=assign({raw:"",pfx:"_",client:"object"==typeof window,assign:assign,stringify:JSON.stringify,kebab:function(prop){return prop.replace(KEBAB_REGEX,"-$&").toLowerCase()},decl:function(key,value){return(key=renderer.kebab(key))+":"+value+";"},hash:function(obj){return function(str){for(var hash=5381,i=str.length;i;)hash=33*hash^str.charCodeAt(--i);return"_"+(hash>>>0).toString(36)}(renderer.stringify(obj))},selector:function(parent,selector){return parent+(":"===selector[0]?"":" ")+selector},putRaw:function(rawCssRule){renderer.raw+=rawCssRule}},config);return renderer.client&&(renderer.sh||document.head.appendChild(renderer.sh=document.createElement("style")),renderer.putRaw=function(rawCssRule){var sheet=renderer.sh.sheet;try{sheet.insertRule(rawCssRule,sheet.cssRules.length)}catch(error){}}),renderer.put=function(selector,decls,atrule){var prop,value,str="",postponed=[];for(prop in decls)(value=decls[prop])instanceof Object&&!(value instanceof Array)?postponed.push(prop):str+=renderer.decl(prop,value,selector,atrule);str&&(str=selector+"{"+str+"}",renderer.putRaw(atrule?atrule+"{"+str+"}":str));for(var i=0;i<postponed.length;i++)"@"===(prop=postponed[i])[0]&&"@font-face"!==prop?renderer.putAt(selector,decls[prop],prop):renderer.put(renderer.selector(selector,prop),decls[prop],atrule)},renderer.putAt=renderer.put,renderer}},function(module,exports,__webpack_require__){"use strict";exports.addon=function(renderer){renderer.client&&(document.head.appendChild(renderer.msh=document.createElement("style")),renderer.createRule=function(selector,prelude){var rawCss=selector+"{}";prelude&&(rawCss=prelude+"{"+rawCss+"}");var sheet=prelude?renderer.msh.sheet:renderer.sh.sheet,index=sheet.insertRule(rawCss,sheet.cssRules.length),rule=(sheet.cssRules||sheet.rules)[index];if(rule.index=index,prelude){var selectorRule=(rule.cssRules||rule.rules)[0];rule.style=selectorRule.style,rule.styleMap=selectorRule.styleMap}return rule})}},function(module,exports,__webpack_require__){"use strict";var removeRule=__webpack_require__(138).removeRule;exports.addon=function(renderer){if(renderer.client){0;var kebab=renderer.kebab;VRule.prototype.diff=function(newDecl){var property,oldDecl=this.decl,style=this.rule.style;for(property in oldDecl)void 0===newDecl[property]&&style.removeProperty(property);for(property in newDecl)newDecl[property]!==oldDecl[property]&&style.setProperty(kebab(property),newDecl[property]);this.decl=newDecl},VRule.prototype.del=function(){removeRule(this.rule)},VSheet.prototype.diff=function(newTree){var oldTree=this.tree;for(var prelude in oldTree)if(void 0===newTree[prelude]){var rules=oldTree[prelude];for(var selector in rules)rules[selector].del()}for(var prelude in newTree)if(void 0===oldTree[prelude])for(var selector in newTree[prelude]){(rule=new VRule(selector,prelude)).diff(newTree[prelude][selector]),newTree[prelude][selector]=rule}else{var oldRules=oldTree[prelude],newRules=newTree[prelude];for(var selector in oldRules)newRules[selector]||oldRules[selector].del();for(var selector in newRules){var rule;(rule=oldRules[selector])?(rule.diff(newRules[selector]),newRules[selector]=rule):((rule=new VRule(selector,prelude)).diff(newRules[selector]),newRules[selector]=rule)}}this.tree=newTree},renderer.VRule=VRule,renderer.VSheet=VSheet}function VRule(selector,prelude){this.rule=renderer.createRule(selector,prelude),this.decl={}}function VSheet(){this.tree={}}}},function(module,exports){exports.removeRule=function(rule){var maxIndex=rule.index,sh=rule.parentStyleSheet,rules=sh.cssRules||sh.rules;for(maxIndex=Math.max(maxIndex,rules.length-1);maxIndex>=0;){if(rules[maxIndex]===rule){sh.deleteRule(maxIndex);break}maxIndex--}}},function(module,exports){exports.cssToTree=function cssToTree(tree,css,selector,prelude){var key,value,declarations={},hasDeclarations=!1;for(key in css)"object"!=typeof(value=css[key])&&(hasDeclarations=!0,declarations[key]=value);for(key in hasDeclarations&&(tree[prelude]||(tree[prelude]={}),tree[prelude][selector]=declarations),css)if("object"==typeof(value=css[key]))if("@"===key[0])cssToTree(tree,value,selector,key);else{var hasCurrentSymbol=key.indexOf("&")>-1,selectorParts=selector.split(",");if(hasCurrentSymbol)for(var i=0;i<selectorParts.length;i++)selectorParts[i]=key.replace(/&/g,selectorParts[i]);else for(i=0;i<selectorParts.length;i++)selectorParts[i]=selectorParts[i]+" "+key;cssToTree(tree,value,selectorParts.join(","),prelude)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useTimeoutFn_1=tslib_1.__importDefault(__webpack_require__(59));exports.default=function(fn,ms,deps){void 0===ms&&(ms=0),void 0===deps&&(deps=[]);var _a=useTimeoutFn_1.default(fn,ms),isReady=_a[0],cancel=_a[1],reset=_a[2];return react_1.useEffect(reset,deps),[isReady,cancel]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),util_1=__webpack_require__(32),useCustomCompareEffect_1=tslib_1.__importDefault(__webpack_require__(58));exports.default=function(effect,deps){useCustomCompareEffect_1.default(effect,deps,util_1.isDeepEqual)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(defaultValue,initialValue){var _a=react_1.useState(initialValue),value=_a[0],setValue=_a[1];return null==value?[defaultValue,setValue]:[value,setValue]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),noop=function(){};exports.default=function(options,args){void 0===options&&(options={}),void 0===args&&(args=[]);var onFiles=options.onFiles,onText=options.onText,onUri=options.onUri,_a=react_1.useState(!1),over=_a[0],setOverRaw=_a[1],setOver=react_1.useCallback(setOverRaw,[]),process=react_1.useMemo((function(){return function(options){return function(dataTransfer,event){var uri=dataTransfer.getData("text/uri-list");if(uri)(options.onUri||noop)(uri,event);else if(dataTransfer.files&&dataTransfer.files.length)(options.onFiles||noop)(Array.from(dataTransfer.files),event);else if(event.clipboardData){var text=event.clipboardData.getData("text");(options.onText||noop)(text,event)}else;}}(options)}),[onFiles,onText,onUri]);return react_1.useEffect((function(){var onDragOver=function(event){event.preventDefault(),setOver(!0)},onDragEnter=function(event){event.preventDefault(),setOver(!0)},onDragLeave=function(){setOver(!1)},onDragExit=function(){setOver(!1)},onDrop=function(event){event.preventDefault(),setOver(!1),process(event.dataTransfer,event)},onPaste=function(event){process(event.clipboardData,event)};return document.addEventListener("dragover",onDragOver),document.addEventListener("dragenter",onDragEnter),document.addEventListener("dragleave",onDragLeave),document.addEventListener("dragexit",onDragExit),document.addEventListener("drop",onDrop),onText&&document.addEventListener("paste",onPaste),function(){document.removeEventListener("dragover",onDragOver),document.removeEventListener("dragenter",onDragEnter),document.removeEventListener("dragleave",onDragLeave),document.removeEventListener("dragexit",onDragExit),document.removeEventListener("drop",onDrop),document.removeEventListener("paste",onPaste)}}),tslib_1.__spreadArrays([process],args)),{over:over}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useMountedState_1=tslib_1.__importDefault(__webpack_require__(40)),noop=function(){};exports.default=function(options){void 0===options&&(options={});var onFiles=options.onFiles,onText=options.onText,onUri=options.onUri,isMounted=useMountedState_1.default(),_a=react_1.useState(!1),over=_a[0],setOver=_a[1],process=react_1.useMemo((function(){return function(options,mounted){return function(dataTransfer,event){var uri=dataTransfer.getData("text/uri-list");uri?(options.onUri||noop)(uri,event):dataTransfer.files&&dataTransfer.files.length?(options.onFiles||noop)(Array.from(dataTransfer.files),event):dataTransfer.items&&dataTransfer.items.length&&dataTransfer.items[0].getAsString((function(text){mounted&&(options.onText||noop)(text,event)}))}}(options,isMounted())}),[onFiles,onText,onUri]);return[react_1.useMemo((function(){return function(process,setOver){return{onDragOver:function(event){event.preventDefault()},onDragEnter:function(event){event.preventDefault(),setOver(!0)},onDragLeave:function(){setOver(!1)},onDrop:function(event){event.preventDefault(),event.persist(),setOver(!1),process(event.dataTransfer,event)},onPaste:function(event){event.persist(),process(event.clipboardData,event)}}}(process,setOver)}),[process,setOver]),{over:over}]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensuredForwardRef=void 0;var react_1=__webpack_require__(2);function useEnsuredForwardedRef(forwardedRef){var ensuredRef=react_1.useRef(forwardedRef&&forwardedRef.current);return react_1.useEffect((function(){forwardedRef&&(forwardedRef.current=ensuredRef.current)}),[forwardedRef]),ensuredRef}exports.default=useEnsuredForwardedRef,exports.ensuredForwardRef=function(Component){return react_1.forwardRef((function(props,ref){var ensuredRef=useEnsuredForwardedRef(ref);return Component(props,ensuredRef)}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(){var _a=react_1.useState(null),error=_a[0],setError=_a[1];return react_1.useEffect((function(){if(error)throw error}),[error]),react_1.useCallback((function(err){setError(err)}),[])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(href){react_1.useEffect((function(){var link=document.querySelector("link[rel*='icon']")||document.createElement("link");link.type="image/x-icon",link.rel="shortcut icon",link.href=href,document.getElementsByTagName("head")[0].appendChild(link)}),[href])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),screenfull_1=tslib_1.__importDefault(__webpack_require__(149)),useIsomorphicLayoutEffect_1=tslib_1.__importDefault(__webpack_require__(38)),noop=function(){};exports.default=function(ref,on,options){void 0===options&&(options={});var video=options.video,_a=options.onClose,onClose=void 0===_a?noop:_a,_b=react_1.useState(on),isFullscreen=_b[0],setIsFullscreen=_b[1];return useIsomorphicLayoutEffect_1.default((function(){if(on&&ref.current){var onWebkitEndFullscreen=function(){video.current.removeEventListener("webkitendfullscreen",onWebkitEndFullscreen),onClose()},onChange=function(){if(screenfull_1.default.isEnabled){var isScreenfullFullscreen=screenfull_1.default.isFullscreen;setIsFullscreen(isScreenfullFullscreen),isScreenfullFullscreen||onClose()}};if(screenfull_1.default.isEnabled){try{screenfull_1.default.request(ref.current),setIsFullscreen(!0)}catch(error){onClose(error),setIsFullscreen(!1)}screenfull_1.default.on("change",onChange)}else video&&video.current&&video.current.webkitEnterFullscreen?(video.current.webkitEnterFullscreen(),video.current.addEventListener("webkitendfullscreen",onWebkitEndFullscreen),setIsFullscreen(!0)):(onClose(),setIsFullscreen(!1));return function(){if(setIsFullscreen(!1),screenfull_1.default.isEnabled)try{screenfull_1.default.off("change",onChange),screenfull_1.default.exit()}catch(_a){}else video&&video.current&&video.current.webkitExitFullscreen&&(video.current.removeEventListener("webkitendfullscreen",onWebkitEndFullscreen),video.current.webkitExitFullscreen())}}}),[on,video,ref]),isFullscreen}},function(module,exports,__webpack_require__){
/*!
* screenfull
* v5.0.0 - 2019-09-09
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var document="undefined"!=typeof window&&void 0!==window.document?window.document:{},isCommonjs=module.exports,fn=function(){for(var val,fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,l=fnMap.length,ret={};i<l;i++)if((val=fnMap[i])&&val[1]in document){for(i=0;i<val.length;i++)ret[fnMap[0][i]]=val[i];return ret}return!1}(),eventNameMap={change:fn.fullscreenchange,error:fn.fullscreenerror},screenfull={request:function(element){return new Promise(function(resolve,reject){var onFullScreenEntered=function(){this.off("change",onFullScreenEntered),resolve()}.bind(this);this.on("change",onFullScreenEntered),element=element||document.documentElement,Promise.resolve(element[fn.requestFullscreen]()).catch(reject)}.bind(this))},exit:function(){return new Promise(function(resolve,reject){if(this.isFullscreen){var onFullScreenExit=function(){this.off("change",onFullScreenExit),resolve()}.bind(this);this.on("change",onFullScreenExit),Promise.resolve(document[fn.exitFullscreen]()).catch(reject)}else resolve()}.bind(this))},toggle:function(element){return this.isFullscreen?this.exit():this.request(element)},onchange:function(callback){this.on("change",callback)},onerror:function(callback){this.on("error",callback)},on:function(event,callback){var eventName=eventNameMap[event];eventName&&document.addEventListener(eventName,callback,!1)},off:function(event,callback){var eventName=eventNameMap[event];eventName&&document.removeEventListener(eventName,callback,!1)},raw:fn};fn?(Object.defineProperties(screenfull,{isFullscreen:{get:function(){return Boolean(document[fn.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[fn.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[fn.fullscreenEnabled])}}}),isCommonjs?module.exports=screenfull:window.screenfull=screenfull):isCommonjs?module.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2);exports.default=function(options){var watchId,_a=react_1.useState({loading:!0,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,latitude:null,longitude:null,speed:null,timestamp:Date.now()}),state=_a[0],setState=_a[1],mounted=!0,onEvent=function(event){mounted&&setState({loading:!1,accuracy:event.coords.accuracy,altitude:event.coords.altitude,altitudeAccuracy:event.coords.altitudeAccuracy,heading:event.coords.heading,latitude:event.coords.latitude,longitude:event.coords.longitude,speed:event.coords.speed,timestamp:event.timestamp})},onEventError=function(error){return mounted&&setState((function(oldState){return tslib_1.__assign(tslib_1.__assign({},oldState),{loading:!1,error:error})}))};return react_1.useEffect((function(){return navigator.geolocation.getCurrentPosition(onEvent,onEventError,options),watchId=navigator.geolocation.watchPosition(onEvent,onEventError,options),function(){mounted=!1,navigator.geolocation.clearWatch(watchId)}}),[]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useUpdate_1=tslib_1.__importDefault(__webpack_require__(42));exports.default=function(initialState){void 0===initialState&&(initialState={});var update=useUpdate_1.default(),state=react_1.useRef(tslib_1.__assign({},initialState));return[react_1.useCallback((function(){return state.current}),[]),react_1.useCallback((function(patch){patch&&(Object.assign(state.current,patch),update())}),[])]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),set_harmonic_interval_1=__webpack_require__(153);exports.default=function(fn,delay){void 0===delay&&(delay=0);var latestCallback=react_1.useRef((function(){}));react_1.useEffect((function(){latestCallback.current=fn})),react_1.useEffect((function(){if(null!==delay){var interval_1=set_harmonic_interval_1.setHarmonicInterval((function(){return latestCallback.current()}),delay);return function(){return set_harmonic_interval_1.clearHarmonicInterval(interval_1)}}}),[delay])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var counter=0,buckets={};exports.clearHarmonicInterval=function(_a){var bucket=_a.bucket,id=_a.id;delete bucket.listeners[id];var hasListeners=!1;for(var listener in bucket.listeners){hasListeners=!0;break}hasListeners||(clearInterval(bucket.timer),delete buckets[bucket.ms])},exports.setHarmonicInterval=function(fn,ms){var _a,id=counter++;if(buckets[ms])buckets[ms].listeners[id]=fn;else{var timer=setInterval((function(){for(var lastError,listeners=buckets[ms].listeners,didThrow=!1,_i=0,_a=Object.values(listeners);_i<_a.length;_i++){var listener=_a[_i];try{listener()}catch(error){didThrow=!0,lastError=error}}if(didThrow)throw lastError}),ms);buckets[ms]={ms:ms,timer:timer,listeners:(_a={},_a[id]=fn,_a)}}return{bucket:buckets[ms],id:id}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(11).__importStar(__webpack_require__(2)),useState=React.useState,noop=function(){};exports.default=function(element){var originalOnMouseLeave,originalOnMouseEnter,_a=useState(!1),state=_a[0],setState=_a[1];return"function"==typeof element&&(element=element(state)),[React.cloneElement(element,{onMouseEnter:(originalOnMouseEnter=element.props.onMouseEnter,function(event){(originalOnMouseEnter||noop)(event),setState(!0)}),onMouseLeave:(originalOnMouseLeave=element.props.onMouseLeave,function(event){(originalOnMouseLeave||noop)(event),setState(!1)})}),state]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),throttle_debounce_1=__webpack_require__(156),util_1=__webpack_require__(32),defaultEvents=["mousemove","mousedown","resize","keydown","touchstart","wheel"];exports.default=function(ms,initialState,events){void 0===ms&&(ms=6e4),void 0===initialState&&(initialState=!1),void 0===events&&(events=defaultEvents);var _a=react_1.useState(initialState),state=_a[0],setState=_a[1];return react_1.useEffect((function(){for(var timeout,mounted=!0,localState=state,set=function(newState){mounted&&(localState=newState,setState(newState))},onEvent=throttle_debounce_1.throttle(50,(function(){localState&&set(!1),clearTimeout(timeout),timeout=setTimeout((function(){return set(!0)}),ms)})),onVisibility=function(){document.hidden||onEvent()},i=0;i<events.length;i++)util_1.on(window,events[i],onEvent);return util_1.on(document,"visibilitychange",onVisibility),timeout=setTimeout((function(){return set(!0)}),ms),function(){mounted=!1;for(var i=0;i<events.length;i++)util_1.off(window,events[i],onEvent);util_1.off(document,"visibilitychange",onVisibility)}}),[ms,events]),state}},function(module,exports,__webpack_require__){"use strict";function throttle(delay,noTrailing,callback,debounceMode){var timeoutID,cancelled=!1,lastExec=0;function clearExistingTimeout(){timeoutID&&clearTimeout(timeoutID)}function wrapper(){var self=this,elapsed=Date.now()-lastExec,args=arguments;function exec(){lastExec=Date.now(),callback.apply(self,args)}function clear(){timeoutID=void 0}cancelled||(debounceMode&&!timeoutID&&exec(),clearExistingTimeout(),void 0===debounceMode&&elapsed>delay?exec():!0!==noTrailing&&(timeoutID=setTimeout(debounceMode?clear:exec,void 0===debounceMode?delay-elapsed:delay)))}return"boolean"!=typeof noTrailing&&(debounceMode=callback,callback=noTrailing,noTrailing=void 0),wrapper.cancel=function(){clearExistingTimeout(),cancelled=!0},wrapper}Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttle=throttle,exports.debounce=function(delay,atBegin,callback){return void 0===callback?throttle(delay,atBegin,!1):throttle(delay,callback,!1!==atBegin)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(ref,options){var _a=react_1.useState(null),intersectionObserverEntry=_a[0],setIntersectionObserverEntry=_a[1];return react_1.useEffect((function(){if(ref.current&&"function"==typeof IntersectionObserver){var observer_1=new IntersectionObserver((function(entries){setIntersectionObserverEntry(entries[0])}),options);return observer_1.observe(ref.current),function(){setIntersectionObserverEntry(null),observer_1.disconnect()}}return function(){}}),[ref.current,options.threshold,options.root,options.rootMargin]),intersectionObserverEntry}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(callback,delay){var savedCallback=react_1.useRef((function(){}));react_1.useEffect((function(){savedCallback.current=callback})),react_1.useEffect((function(){if(null!==delay){var interval_1=setInterval((function(){return savedCallback.current()}),delay||0);return function(){return clearInterval(interval_1)}}}),[delay])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(breakpoints){return void 0===breakpoints&&(breakpoints={laptopL:1440,laptop:1024,tablet:768}),function(){var _a=react_1.useState(0),screen=_a[0],setScreen=_a[1];react_1.useEffect((function(){var setSideScreen=function(){setScreen(window.innerWidth)};return setSideScreen(),window.addEventListener("resize",setSideScreen),function(){window.removeEventListener("resize",setSideScreen)}}));var sortedBreakpoints=react_1.useMemo((function(){return Object.entries(breakpoints).sort((function(a,b){return a[1]>=b[1]?1:-1}))}),[breakpoints]);return sortedBreakpoints.reduce((function(acc,_a){var name=_a[0],width=_a[1];return screen>=width?name:acc}),sortedBreakpoints[0][0])}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),useKeyPress_1=tslib_1.__importDefault(__webpack_require__(85)),useUpdateEffect_1=tslib_1.__importDefault(__webpack_require__(44));exports.default=function(key,keydown,keyup,useKeyPress){void 0===useKeyPress&&(useKeyPress=useKeyPress_1.default);var _a=useKeyPress(key),pressed=_a[0],event=_a[1];useUpdateEffect_1.default((function(){!pressed&&keyup?keyup(event):pressed&&keydown&&keydown(event)}),[pressed])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),util_1=__webpack_require__(32),noop=function(){};exports.default=function(key,initialValue,options){if(!util_1.isClient)return[initialValue,noop,noop];if(!key)throw new Error("useLocalStorage key may not be falsy");var deserializer=options?options.raw?function(value){return value}:options.deserializer:JSON.parse,_a=react_1.useState((function(){try{var serializer=options?options.raw?String:options.serializer:JSON.stringify,localStorageValue=localStorage.getItem(key);return null!==localStorageValue?deserializer(localStorageValue):(initialValue&&localStorage.setItem(key,serializer(initialValue)),initialValue)}catch(_a){return initialValue}})),state=_a[0],setState=_a[1],set=react_1.useCallback((function(valOrFunc){try{var newState="function"==typeof valOrFunc?valOrFunc(state):valOrFunc;if(void 0===newState)return;var value=void 0;value=options?options.raw?"string"==typeof newState?newState:JSON.stringify(newState):options.serializer?options.serializer(newState):JSON.stringify(newState):JSON.stringify(newState),localStorage.setItem(key,value),setState(deserializer(value))}catch(_a){}}),[key,setState]),remove=react_1.useCallback((function(){try{localStorage.removeItem(key),setState(void 0)}catch(_a){}}),[key,setState]);return[state,set,remove]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),util_1=__webpack_require__(32),patchHistoryMethod=function(method){var history=window.history,original=history[method];history[method]=function(state){var result=original.apply(this,arguments),event=new Event(method.toLowerCase());return event.state=state,window.dispatchEvent(event),result}};util_1.isClient&&(patchHistoryMethod("pushState"),patchHistoryMethod("replaceState"));var buildState=function(trigger){var _a=window.history,state=_a.state,length=_a.length,_b=window.location;return{trigger:trigger,state:state,length:length,hash:_b.hash,host:_b.host,hostname:_b.hostname,href:_b.href,origin:_b.origin,pathname:_b.pathname,port:_b.port,protocol:_b.protocol,search:_b.search}},hasEventConstructor="function"==typeof Event;exports.default=util_1.isClient&&hasEventConstructor?function(){var _a=react_1.useState(buildState("load")),state=_a[0],setState=_a[1];return react_1.useEffect((function(){var onPopstate=function(){return setState(buildState("popstate"))},onPushstate=function(){return setState(buildState("pushstate"))},onReplacestate=function(){return setState(buildState("replacestate"))};return util_1.on(window,"popstate",onPopstate),util_1.on(window,"pushstate",onPushstate),util_1.on(window,"replacestate",onReplacestate),function(){util_1.off(window,"popstate",onPopstate),util_1.off(window,"pushstate",onPushstate),util_1.off(window,"replacestate",onReplacestate)}}),[]),state}:function(){return{trigger:"load",length:1}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getClosestBody=void 0;var react_1=__webpack_require__(2);function getClosestBody(el){if(!el)return null;if("BODY"===el.tagName)return el;if("IFRAME"===el.tagName){var document_1=el.contentDocument;return document_1?document_1.body:null}return el.offsetParent?getClosestBody(el.offsetParent):null}function preventDefault(rawEvent){var e=rawEvent||window.event;return e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1)}exports.getClosestBody=getClosestBody;var isIosDevice="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),bodies=new Map,doc="object"==typeof document?document:void 0,documentListenerAdded=!1;exports.default=doc?function(locked,elementRef){void 0===locked&&(locked=!0);var bodyRef=react_1.useRef(doc.body);elementRef=elementRef||bodyRef;var unlock=function(body){var bodyInfo=bodies.get(body);bodyInfo&&(1===bodyInfo.counter?(bodies.delete(body),isIosDevice?(body.ontouchmove=null,documentListenerAdded&&(document.removeEventListener("touchmove",preventDefault),documentListenerAdded=!1)):body.style.overflow=bodyInfo.initialOverflow):bodies.set(body,{counter:bodyInfo.counter-1,initialOverflow:bodyInfo.initialOverflow}))};react_1.useEffect((function(){var body=getClosestBody(elementRef.current);body&&(locked?function(body){var bodyInfo=bodies.get(body);bodyInfo?bodies.set(body,{counter:bodyInfo.counter+1,initialOverflow:bodyInfo.initialOverflow}):(bodies.set(body,{counter:1,initialOverflow:body.style.overflow}),isIosDevice?documentListenerAdded||(document.addEventListener("touchmove",preventDefault,{passive:!1}),documentListenerAdded=!0):body.style.overflow="hidden")}(body):unlock(body))}),[locked,elementRef.current]),react_1.useEffect((function(){var body=getClosestBody(elementRef.current);if(body)return function(){unlock(body)}}),[])}:function(_locked,_elementRef){void 0===_locked&&(_locked=!0)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),useEffectOnce_1=tslib_1.__importDefault(__webpack_require__(46)),useUpdateEffect_1=tslib_1.__importDefault(__webpack_require__(44));exports.default=function(componentName){for(var rest=[],_i=1;_i<arguments.length;_i++)rest[_i-1]=arguments[_i];useEffectOnce_1.default((function(){return console.log.apply(console,tslib_1.__spreadArrays([componentName+" mounted"],rest)),function(){return console.log(componentName+" unmounted")}})),useUpdateEffect_1.default((function(){console.log.apply(console,tslib_1.__spreadArrays([componentName+" updated"],rest))}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),preventDefault=function(ev){(function(ev){return"touches"in ev})(ev)&&ev.touches.length<2&&ev.preventDefault&&ev.preventDefault()};exports.default=function(callback,_a){var _b=void 0===_a?{}:_a,_c=_b.isPreventDefault,isPreventDefault=void 0===_c||_c,_d=_b.delay,delay=void 0===_d?300:_d,timeout=react_1.useRef(),target=react_1.useRef(),start=react_1.useCallback((function(event){isPreventDefault&&event.target&&(event.target.addEventListener("touchend",preventDefault,{passive:!1}),target.current=event.target),timeout.current=setTimeout((function(){return callback(event)}),delay)}),[callback,delay,isPreventDefault]),clear=react_1.useCallback((function(){timeout.current&&clearTimeout(timeout.current),isPreventDefault&&target.current&&target.current.removeEventListener("touchend",preventDefault)}),[isPreventDefault]);return{onMouseDown:function(e){return start(e)},onTouchStart:function(e){return start(e)},onMouseUp:clear,onMouseLeave:clear,onTouchEnd:clear}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2);exports.default=function(initialMap){void 0===initialMap&&(initialMap={});var _a=react_1.useState(initialMap),map=_a[0],set=_a[1],stableActions=react_1.useMemo((function(){return{set:function(key,entry){set((function(prevMap){var _a;return tslib_1.__assign(tslib_1.__assign({},prevMap),((_a={})[key]=entry,_a))}))},setAll:function(newMap){set(newMap)},remove:function(key){set((function(prevMap){var _a=prevMap,_b=key;_a[_b];return tslib_1.__rest(_a,["symbol"==typeof _b?_b:_b+""])}))},reset:function(){return set(initialMap)}}}),[set]),utils=tslib_1.__assign({get:react_1.useCallback((function(key){return map[key]}),[map])},stableActions);return[map,utils]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),util_1=__webpack_require__(32);exports.default=function(query,defaultState){void 0===defaultState&&(defaultState=!1);var _a=react_1.useState(util_1.isClient?function(){return window.matchMedia(query).matches}:defaultState),state=_a[0],setState=_a[1];return react_1.useEffect((function(){var mounted=!0,mql=window.matchMedia(query),onChange=function(){mounted&&setState(!!mql.matches)};return mql.addListener(onChange),setState(mql.matches),function(){mounted=!1,mql.removeListener(onChange)}}),[query]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),util_1=__webpack_require__(32),noop=function(){};exports.default="object"==typeof navigator&&navigator.mediaDevices?function(){var _a=react_1.useState({}),state=_a[0],setState=_a[1];return react_1.useEffect((function(){var mounted=!0,onChange=function(){navigator.mediaDevices.enumerateDevices().then((function(devices){mounted&&setState({devices:devices.map((function(_a){return{deviceId:_a.deviceId,groupId:_a.groupId,kind:_a.kind,label:_a.label}}))})})).catch(noop)};return util_1.on(navigator.mediaDevices,"devicechange",onChange),onChange(),function(){mounted=!1,util_1.off(navigator.mediaDevices,"devicechange",onChange)}}),[]),state}:function(){return{}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useMediatedState=void 0;var react_1=__webpack_require__(2);exports.useMediatedState=function(mediator,initialState){var mediatorFn=react_1.useRef(mediator),_a=react_1.useState(initialState),state=_a[0],setMediatedState=_a[1];return[state,react_1.useCallback((function(newState){2===mediatorFn.current.length?mediatorFn.current(newState,setMediatedState):setMediatedState(mediatorFn.current(newState))}),[state])]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(createMethods,initialState){var reducer=react_1.useMemo((function(){return function(reducerState,action){var _a;return(_a=createMethods(reducerState))[action.type].apply(_a,action.payload)}}),[createMethods]),_a=react_1.useReducer(reducer,initialState),state=_a[0],dispatch=_a[1];return[state,react_1.useMemo((function(){return Object.keys(createMethods(initialState)).reduce((function(acc,type){return acc[type]=function(){for(var payload=[],_i=0;_i<arguments.length;_i++)payload[_i]=arguments[_i];return dispatch({type:type,payload:payload})},acc}),{})}),[createMethods,initialState])]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),util_1=__webpack_require__(32),defaultState={acceleration:{x:null,y:null,z:null},accelerationIncludingGravity:{x:null,y:null,z:null},rotationRate:{alpha:null,beta:null,gamma:null},interval:16};exports.default=function(initialState){void 0===initialState&&(initialState=defaultState);var _a=react_1.useState(initialState),state=_a[0],setState=_a[1];return react_1.useEffect((function(){var handler=function(event){var acceleration=event.acceleration,accelerationIncludingGravity=event.accelerationIncludingGravity,rotationRate=event.rotationRate,interval=event.interval;setState({acceleration:{x:acceleration.x,y:acceleration.y,z:acceleration.z},accelerationIncludingGravity:{x:accelerationIncludingGravity.x,y:accelerationIncludingGravity.y,z:accelerationIncludingGravity.z},rotationRate:{alpha:rotationRate.alpha,beta:rotationRate.beta,gamma:rotationRate.gamma},interval:interval})};return util_1.on(window,"devicemotion",handler),function(){util_1.off(window,"devicemotion",handler)}}),[]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),useHoverDirty_1=tslib_1.__importDefault(__webpack_require__(83)),useMouse_1=tslib_1.__importDefault(__webpack_require__(90)),nullRef={current:null};exports.default=function(ref,options){void 0===options&&(options={});var whenHovered=!!options.whenHovered,bound=!!options.bound,isHovered=useHoverDirty_1.default(ref,whenHovered),state=useMouse_1.default(whenHovered&&!isHovered?nullRef:ref);return bound&&(state.elX=Math.max(0,Math.min(state.elX,state.elW)),state.elY=Math.max(0,Math.min(state.elY,state.elH))),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(){var _a=react_1.useState(0),mouseWheelScrolled=_a[0],setMouseWheelScrolled=_a[1];return react_1.useEffect((function(){var updateScroll=function(e){setMouseWheelScrolled(e.deltaY+mouseWheelScrolled)};return window.addEventListener("wheel",updateScroll,!1),function(){return window.removeEventListener("wheel",updateScroll)}})),mouseWheelScrolled}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),util_1=__webpack_require__(32),getConnection=function(){if("object"!=typeof navigator)return null;var nav=navigator;return nav.connection||nav.mozConnection||nav.webkitConnection},getConnectionState=function(){var connection=getConnection();return connection?{downlink:connection.downlink,downlinkMax:connection.downlinkMax,effectiveType:connection.effectiveType,type:connection.type,rtt:connection.rtt}:{}};exports.default=function(initialState){void 0===initialState&&(initialState={});var _a=react_1.useState(initialState),state=_a[0],setState=_a[1];return react_1.useEffect((function(){var localState=state,localSetState=function(patch){localState=tslib_1.__assign(tslib_1.__assign({},localState),patch),setState(localState)},connection=getConnection(),onOnline=function(){localSetState({online:!0,since:new Date})},onOffline=function(){localSetState({online:!1,since:new Date})},onConnectionChange=function(){localSetState(getConnectionState())};return util_1.on(window,"online",onOnline),util_1.on(window,"offline",onOffline),connection&&(util_1.on(connection,"change",onConnectionChange),localSetState(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({},state),{online:navigator.onLine,since:void 0}),getConnectionState()))),function(){util_1.off(window,"online",onOnline),util_1.off(window,"offline",onOffline),connection&&util_1.off(connection,"change",onConnectionChange)}}),[]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var useCounter_1=__webpack_require__(11).__importDefault(__webpack_require__(80));exports.default=useCounter_1.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useIsomorphicLayoutEffect_1=tslib_1.__importDefault(__webpack_require__(38));exports.default=function(observable$,initialValue){var _a=react_1.useState(initialValue),value=_a[0],update=_a[1];return useIsomorphicLayoutEffect_1.default((function(){var s=observable$.subscribe(update);return function(){return s.unsubscribe()}}),[observable$]),value}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),util_1=__webpack_require__(32),defaultState={angle:0,type:"landscape-primary"};exports.default=function(initialState){void 0===initialState&&(initialState=defaultState);var screen=window.screen,_a=react_1.useState(initialState),state=_a[0],setState=_a[1];return react_1.useEffect((function(){var mounted=!0,onChange=function(){if(mounted){var orientation_1=screen.orientation;if(orientation_1){var angle=orientation_1.angle,type=orientation_1.type;setState({angle:angle,type:type})}else window.orientation?setState({angle:"number"==typeof window.orientation?window.orientation:0,type:""}):setState(initialState)}};return util_1.on(window,"orientationchange",onChange),onChange(),function(){mounted=!1,util_1.off(window,"orientationchange",onChange)}}),[]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(onPageLeave,args){void 0===args&&(args=[]),react_1.useEffect((function(){if(onPageLeave){var handler=function(event){var from=(event=event||window.event).relatedTarget||event.toElement;from&&"HTML"!==from.nodeName||onPageLeave()};return document.addEventListener("mouseout",handler),function(){document.removeEventListener("mouseout",handler)}}}),args)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),util_1=__webpack_require__(32),noop=function(){};exports.default=function(permissionDesc){var mounted=!0,permissionStatus=null,_a=react_1.useState(""),state=_a[0],setState=_a[1],onChange=function(){mounted&&permissionStatus&&setState(permissionStatus.state)};return react_1.useEffect((function(){return navigator.permissions.query(permissionDesc).then((function(status){permissionStatus=status,onChange(),util_1.on(permissionStatus,"change",onChange)})).catch(noop),function(){mounted=!1,permissionStatus&&util_1.off(permissionStatus,"change",onChange)}}),[]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(state){var ref=react_1.useRef();return react_1.useEffect((function(){ref.current=state})),ref.current}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),useFirstMountState_1=__webpack_require__(53),strictEquals=function(prev,next){return prev===next};exports.default=function(value,compare){void 0===compare&&(compare=strictEquals);var prevRef=react_1.useRef(),curRef=react_1.useRef(value);return useFirstMountState_1.useFirstMountState()||compare(curRef.current,value)||(prevRef.current=curRef.current,curRef.current=value),prevRef.current}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useMountedState_1=tslib_1.__importDefault(__webpack_require__(40));exports.default=function(){var isMounted=useMountedState_1.default();return react_1.useCallback((function(promise){return new Promise((function(resolve,reject){promise.then((function(value){isMounted()&&resolve(value)}),(function(error){isMounted()&&reject(error)}))}))}),[])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2);exports.default=function(initialValue){void 0===initialValue&&(initialValue=[]);var _a=react_1.useState(initialValue),state=_a[0],set=_a[1];return{add:function(value){set((function(queue){return tslib_1.__spreadArrays(queue,[value])}))},remove:function(){var result;return set((function(_a){var first=_a[0],rest=_a.slice(1);return result=first,rest})),result},get first(){return state[0]},get last(){return state[state.length-1]},get size(){return state.length}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(callback,initiallyActive){void 0===initiallyActive&&(initiallyActive=!0);var raf=react_1.useRef(null),rafActivity=react_1.useRef(!1),rafCallback=react_1.useRef(callback);rafCallback.current=callback;var step=react_1.useCallback((function(time){rafActivity.current&&(rafCallback.current(time),raf.current=requestAnimationFrame(step))}),[]),result=react_1.useMemo((function(){return[function(){rafActivity.current&&(rafActivity.current=!1,raf.current&&cancelAnimationFrame(raf.current))},function(){rafActivity.current||(rafActivity.current=!0,raf.current=requestAnimationFrame(step))},function(){return rafActivity.current}]}),[]);return react_1.useEffect((function(){return initiallyActive&&result[1](),result[0]}),[]),result}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),getValue=function(search,param){return new URLSearchParams(search).get(param)};exports.default="object"==typeof window?function(param){var location=window.location,_a=react_1.useState((function(){return getValue(location.search,param)})),value=_a[0],setValue=_a[1];return react_1.useEffect((function(){var onChange=function(){setValue(getValue(location.search,param))};return window.addEventListener("popstate",onChange),window.addEventListener("pushstate",onChange),window.addEventListener("replacestate",onChange),function(){window.removeEventListener("popstate",onChange),window.removeEventListener("pushstate",onChange),window.removeEventListener("replacestate",onChange)}}),[]),value}:function(){return null}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScratchSensor=void 0;var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),react_universal_interface_1=__webpack_require__(187),useLatest_1=tslib_1.__importDefault(__webpack_require__(86)),noop=function(){},useScratch=function(params){void 0===params&&(params={});var disabled=params.disabled,paramsRef=useLatest_1.default(params),_a=react_1.useState({isScratching:!1}),state=_a[0],setState=_a[1],refState=react_1.useRef(state),refScratching=react_1.useRef(!1),refAnimationFrame=react_1.useRef(null),_b=react_1.useState(null),el=_b[0],setEl=_b[1];return react_1.useEffect((function(){if(!disabled&&el){var onMouseUp,onTouchEnd,onMoveEvent=function(docX,docY){cancelAnimationFrame(refAnimationFrame.current),refAnimationFrame.current=requestAnimationFrame((function(){var _a=el.getBoundingClientRect(),left=_a.left,top=_a.top,elX=left+window.scrollX,elY=top+window.scrollY,x=docX-elX,y=docY-elY;setState((function(oldState){var newState=tslib_1.__assign(tslib_1.__assign({},oldState),{dx:x-(oldState.x||0),dy:y-(oldState.y||0),end:Date.now(),isScratching:!0});return refState.current=newState,(paramsRef.current.onScratch||noop)(newState),newState}))}))},onMouseMove=function(event){onMoveEvent(event.pageX,event.pageY)},onTouchMove=function(event){onMoveEvent(event.changedTouches[0].pageX,event.changedTouches[0].pageY)},stopScratching=function(){refScratching.current&&(refScratching.current=!1,refState.current=tslib_1.__assign(tslib_1.__assign({},refState.current),{isScratching:!1}),(paramsRef.current.onScratchEnd||noop)(refState.current),setState({isScratching:!1}),window.removeEventListener("mousemove",onMouseMove),window.removeEventListener("touchmove",onTouchMove),window.removeEventListener("mouseup",onMouseUp),window.removeEventListener("touchend",onTouchEnd))};onMouseUp=stopScratching,onTouchEnd=stopScratching;var startScratching=function(docX,docY){if(refScratching.current){var _a=el.getBoundingClientRect(),left=_a.left,top=_a.top,elX=left+window.scrollX,elY=top+window.scrollY,x=docX-elX,y=docY-elY,time=Date.now(),newState={isScratching:!0,start:time,end:time,docX:docX,docY:docY,x:x,y:y,dx:0,dy:0,elH:el.offsetHeight,elW:el.offsetWidth,elX:elX,elY:elY};refState.current=newState,(paramsRef.current.onScratchStart||noop)(newState),setState(newState),window.addEventListener("mousemove",onMouseMove),window.addEventListener("touchmove",onTouchMove),window.addEventListener("mouseup",onMouseUp),window.addEventListener("touchend",onTouchEnd)}},onMouseDown=function(event){refScratching.current=!0,startScratching(event.pageX,event.pageY)},onTouchStart=function(event){refScratching.current=!0,startScratching(event.changedTouches[0].pageX,event.changedTouches[0].pageY)};return el.addEventListener("mousedown",onMouseDown),el.addEventListener("touchstart",onTouchStart),function(){el.removeEventListener("mousedown",onMouseDown),el.removeEventListener("touchstart",onTouchStart),window.removeEventListener("mousemove",onMouseMove),window.removeEventListener("touchmove",onTouchMove),window.removeEventListener("mouseup",onMouseUp),window.removeEventListener("touchend",onTouchEnd),refAnimationFrame.current&&cancelAnimationFrame(refAnimationFrame.current),refAnimationFrame.current=null,refScratching.current=!1,refState.current={isScratching:!1},setState(refState.current)}}}),[el,disabled,paramsRef]),[setEl,state]};exports.ScratchSensor=function(props){props.children;var params=tslib_1.__rest(props,["children"]),_a=useScratch(params),ref=_a[0],state=_a[1],element=react_universal_interface_1.render(props,state);return react_1.cloneElement(element,tslib_1.__assign(tslib_1.__assign({},element.props),{ref:function(el){element.props.ref&&("object"==typeof element.props.ref&&(element.props.ref.current=el),"function"==typeof element.props.ref&&element.props.ref(el)),ref(el)}}))},exports.default=useScratch},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hookToRenderProp=exports.createEnhancer=exports.render=void 0;var tslib_1=__webpack_require__(11),render_1=tslib_1.__importDefault(__webpack_require__(92));exports.render=render_1.default;var createEnhancer_1=tslib_1.__importDefault(__webpack_require__(188));exports.createEnhancer=createEnhancer_1.default;var hookToRenderProp_1=tslib_1.__importDefault(__webpack_require__(191));exports.hookToRenderProp=hookToRenderProp_1.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.divWrapper=void 0;var tslib_1=__webpack_require__(11),React=tslib_1.__importStar(__webpack_require__(2)),addClassDecoratorSupport_1=tslib_1.__importDefault(__webpack_require__(189)),h=React.createElement,noWrap=function(Comp,propName,props,state){var _a;return h(Comp,propName?tslib_1.__assign(((_a={})[propName]=state,_a),props):tslib_1.__assign(tslib_1.__assign({},state),props))};exports.divWrapper=function(Comp,propName,props,state){return h("div",null,noWrap(Comp,propName,props,state))};exports.default=function(Facc,prop,wrapper){void 0===wrapper&&(wrapper=noWrap);var enhancer=function(Comp,propName,faccProps){void 0===propName&&(propName=prop),void 0===faccProps&&(faccProps=null);var isClassDecoratorMethodCall="string"==typeof Comp;if(isClassDecoratorMethodCall)return function(Klass){return enhancer(Klass,Comp||prop,propName)};var Enhanced=function(props){return h(Facc,faccProps,(function(state){return wrapper(Comp,propName,props,state)}))};return isClassDecoratorMethodCall?addClassDecoratorSupport_1.default(Enhanced):Enhanced};return enhancer}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var wrapInStatefulComponent_1=__webpack_require__(11).__importDefault(__webpack_require__(190));exports.default=function(Comp){return!Comp.prototype?wrapInStatefulComponent_1.default(Comp):Comp}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),React=tslib_1.__importStar(__webpack_require__(2));exports.default=function(Comp){return function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(class_1,_super),class_1.prototype.render=function(){return Comp(this.props,this.context)},class_1}(React.Component)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var render_1=__webpack_require__(11).__importDefault(__webpack_require__(92)),defaultMapPropsToArgs=function(props){return[props]};exports.default=function(hook,mapPropsToArgs){return void 0===mapPropsToArgs&&(mapPropsToArgs=defaultMapPropsToArgs),function(props){return render_1.default(props,hook.apply(void 0,mapPropsToArgs(props)))}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useRafState_1=tslib_1.__importDefault(__webpack_require__(47));exports.default=function(ref){var _a=useRafState_1.default({x:0,y:0}),state=_a[0],setState=_a[1];return react_1.useEffect((function(){var handler=function(){ref.current&&setState({x:ref.current.scrollLeft,y:ref.current.scrollTop})};return ref.current&&ref.current.addEventListener("scroll",handler,{capture:!1,passive:!0}),function(){ref.current&&ref.current.removeEventListener("scroll",handler)}}),[ref]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(ref){var _a=react_1.useState(!1),scrolling=_a[0],setScrolling=_a[1];return react_1.useEffect((function(){if(ref.current){var scrollingTimeout_1,handleScroll_1=function(){setScrolling(!0),clearTimeout(scrollingTimeout_1),scrollingTimeout_1=setTimeout((function(){setScrolling(!1)}),150)};return ref.current.addEventListener("scroll",handleScroll_1,!1),function(){ref.current&&ref.current.removeEventListener("scroll",handleScroll_1,!1)}}return function(){}}),[ref]),scrolling}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),util_1=__webpack_require__(32);exports.default=function(key,initialValue,raw){if(!util_1.isClient)return[initialValue,function(){}];var _a=react_1.useState((function(){try{var sessionStorageValue=sessionStorage.getItem(key);return"string"!=typeof sessionStorageValue?(sessionStorage.setItem(key,raw?String(initialValue):JSON.stringify(initialValue)),initialValue):raw?sessionStorageValue:JSON.parse(sessionStorageValue||"null")}catch(_a){return initialValue}})),state=_a[0],setState=_a[1];return react_1.useEffect((function(){try{var serializedState=raw?String(state):JSON.stringify(state);sessionStorage.setItem(key,serializedState)}catch(_a){}})),[state,setState]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),fast_shallow_equal_1=__webpack_require__(196),useCustomCompareEffect_1=tslib_1.__importDefault(__webpack_require__(58)),shallowEqualDepsList=function(prevDeps,nextDeps){return prevDeps.every((function(dep,index){return fast_shallow_equal_1.equal(dep,nextDeps[index])}))};exports.default=function(effect,deps){useCustomCompareEffect_1.default(effect,deps,shallowEqualDepsList)}},function(module,exports){var keyList=Object.keys;exports.equal=function(a,b){if(a===b)return!0;if(!(a instanceof Object&&b instanceof Object))return!1;for(var keys=keyList(a),length=keys.length,i=0;i<length;i++)if(!(keys[i]in b))return!1;for(i=0;i<length;i++)if(a[keys[i]]!==b[keys[i]])return!1;return length===keyList(b).length}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),React=tslib_1.__importStar(__webpack_require__(2)),util_1=__webpack_require__(32),useState=React.useState,useEffect=React.useEffect,useRef=React.useRef;exports.default=function(element,_a){var _b=void 0===_a?{}:_a,_c=_b.width,width=void 0===_c?1/0:_c,_d=_b.height,height=void 0===_d?1/0:_d;if(!util_1.isClient)return["function"==typeof element?element({width:width,height:height}):element,{width:width,height:height}];var _e=useState({width:width,height:height}),state=_e[0],setState=_e[1];"function"==typeof element&&(element=element(state));var style=element.props.style||{},ref=useRef(null),window=null,setSize=function(){var iframe=ref.current,size=iframe?{width:iframe.offsetWidth,height:iframe.offsetHeight}:{width:width,height:height};setState(size)},onWindow=function(windowToListenOn){windowToListenOn.addEventListener("resize",setSize),setTimeout(setSize,35)};return useEffect((function(){var iframe=ref.current;if(iframe){if(iframe.contentWindow)window=iframe.contentWindow,onWindow(window);else{var onLoad_1=function(){iframe.removeEventListener("load",onLoad_1),window=iframe.contentWindow,onWindow(window)};iframe.addEventListener("load",onLoad_1)}return function(){window&&window.removeEventListener&&window.removeEventListener("resize",setSize)}}}),[]),style.position="relative",[React.cloneElement.apply(React,tslib_1.__spreadArrays([element,{style:style}],tslib_1.__spreadArrays([React.createElement("iframe",{ref:ref,style:{background:"transparent",border:"none",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:-1}})],React.Children.toArray(element.props.children)))),state]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),util_1=__webpack_require__(32),useMountedState_1=tslib_1.__importDefault(__webpack_require__(40)),useSetState_1=tslib_1.__importDefault(__webpack_require__(45)),noop=function(){};exports.default=function(ref,options){void 0===options&&(options={});var isMounted=useMountedState_1.default(),isSliding=react_1.useRef(!1),valueRef=react_1.useRef(0),frame=react_1.useRef(0),_a=useSetState_1.default({isSliding:!1,value:0}),state=_a[0],setState=_a[1];return valueRef.current=state.value,react_1.useEffect((function(){if(util_1.isClient){var styles=void 0===options.styles||options.styles,reverse_1=void 0!==options.reverse&&options.reverse;ref.current&&styles&&(ref.current.style.userSelect="none");var startScrubbing_1=function(){!isSliding.current&&isMounted()&&((options.onScrubStart||noop)(),isSliding.current=!0,setState({isSliding:!0}),bindEvents_1())},stopScrubbing_1=function(){isSliding.current&&isMounted()&&((options.onScrubStop||noop)(valueRef.current),isSliding.current=!1,setState({isSliding:!1}),unbindEvents_1())},onMouseDown_1=function(event){startScrubbing_1(),onMouseMove_1(event)},onMouseMove_1=options.vertical?function(event){return onScrub_1(event.clientY)}:function(event){return onScrub_1(event.clientX)},onTouchStart_1=function(event){startScrubbing_1(),onTouchMove_1(event)},onTouchMove_1=options.vertical?function(event){return onScrub_1(event.changedTouches[0].clientY)}:function(event){return onScrub_1(event.changedTouches[0].clientX)},bindEvents_1=function(){util_1.on(document,"mousemove",onMouseMove_1),util_1.on(document,"mouseup",stopScrubbing_1),util_1.on(document,"touchmove",onTouchMove_1),util_1.on(document,"touchend",stopScrubbing_1)},unbindEvents_1=function(){util_1.off(document,"mousemove",onMouseMove_1),util_1.off(document,"mouseup",stopScrubbing_1),util_1.off(document,"touchmove",onTouchMove_1),util_1.off(document,"touchend",stopScrubbing_1)},onScrub_1=function(clientXY){cancelAnimationFrame(frame.current),frame.current=requestAnimationFrame((function(){if(isMounted()&&ref.current){var rect=ref.current.getBoundingClientRect(),pos=options.vertical?rect.top:rect.left,length_1=options.vertical?rect.height:rect.width;if(!length_1)return;var value=(clientXY-pos)/length_1;value>1?value=1:value<0&&(value=0),reverse_1&&(value=1-value),setState({value:value}),(options.onScrub||noop)(value)}}))};return util_1.on(ref.current,"mousedown",onMouseDown_1),util_1.on(ref.current,"touchstart",onTouchStart_1),function(){util_1.off(ref.current,"mousedown",onMouseDown_1),util_1.off(ref.current,"touchstart",onTouchStart_1)}}}),[ref,options.vertical]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useMount_1=tslib_1.__importDefault(__webpack_require__(89)),useSetState_1=tslib_1.__importDefault(__webpack_require__(45)),voices="object"==typeof window&&"object"==typeof window.speechSynthesis?window.speechSynthesis.getVoices():[];exports.default=function(text,opts){void 0===opts&&(opts={});var _a=useSetState_1.default({isPlaying:!1,lang:opts.lang||"default",voice:opts.voice||voices[0],rate:opts.rate||1,pitch:opts.pitch||1,volume:opts.volume||1}),state=_a[0],setState=_a[1],uterranceRef=react_1.useRef(null);return useMount_1.default((function(){var utterance=new SpeechSynthesisUtterance(text);opts.lang&&(utterance.lang=opts.lang),opts.voice&&(utterance.voice=opts.voice),utterance.rate=opts.rate||1,utterance.pitch=opts.pitch||1,utterance.volume=opts.volume||1,utterance.onstart=function(){return setState({isPlaying:!0})},utterance.onresume=function(){return setState({isPlaying:!0})},utterance.onend=function(){return setState({isPlaying:!1})},utterance.onpause=function(){return setState({isPlaying:!1})},uterranceRef.current=utterance,window.speechSynthesis.speak(uterranceRef.current)})),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var useIsomorphicLayoutEffect_1=__webpack_require__(11).__importDefault(__webpack_require__(38));exports.default=function(onStartTyping){useIsomorphicLayoutEffect_1.default((function(){var keydown=function(event){var _a,keyCode,metaKey,ctrlKey,altKey;!function(){var activeElement=document.activeElement,body=document.body;if(!activeElement)return!1;if(activeElement===body)return!1;switch(activeElement.tagName){case"INPUT":case"TEXTAREA":return!0}return activeElement.hasAttribute("contenteditable")}()&&(keyCode=(_a=event).keyCode,metaKey=_a.metaKey,ctrlKey=_a.ctrlKey,altKey=_a.altKey,!(metaKey||ctrlKey||altKey)&&(keyCode>=48&&keyCode<=57||keyCode>=65&&keyCode<=90))&&onStartTyping(event)};return document.addEventListener("keydown",keydown),function(){document.removeEventListener("keydown",keydown)}}),[])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useStateWithHistory=void 0;var react_1=__webpack_require__(2),useFirstMountState_1=__webpack_require__(53),resolveHookState_1=__webpack_require__(54);exports.useStateWithHistory=function(initialState,capacity,initialHistory){if(void 0===capacity&&(capacity=10),capacity<1)throw new Error("Capacity has to be greater than 1, got '"+capacity+"'");var isFirstMount=useFirstMountState_1.useFirstMountState(),_a=react_1.useState(initialState),state=_a[0],innerSetState=_a[1],history=react_1.useRef(null!=initialHistory?initialHistory:[]),historyPosition=react_1.useRef(0);return isFirstMount&&(history.current.length?(history.current[history.current.length-1]!==initialState&&history.current.push(initialState),history.current.length>capacity&&(history.current=history.current.slice(history.current.length-capacity))):history.current.push(initialState),historyPosition.current=history.current.length&&history.current.length-1),[state,react_1.useCallback((function(newState){innerSetState((function(currentState){return(newState=resolveHookState_1.resolveHookState(newState))!==currentState&&(historyPosition.current<history.current.length-1&&(history.current=history.current.slice(0,historyPosition.current+1)),historyPosition.current=history.current.push(newState)-1,history.current.length>capacity&&(history.current=history.current.slice(history.current.length-capacity))),newState}))}),[state,capacity]),react_1.useMemo((function(){return{history:history.current,position:historyPosition.current,capacity:capacity,back:function(amount){void 0===amount&&(amount=1),historyPosition.current&&innerSetState((function(){return historyPosition.current-=Math.min(amount,historyPosition.current),history.current[historyPosition.current]}))},forward:function(amount){void 0===amount&&(amount=1),historyPosition.current!==history.current.length-1&&innerSetState((function(){return historyPosition.current=Math.min(historyPosition.current+amount,history.current.length-1),history.current[historyPosition.current]}))},go:function(position){position!==historyPosition.current&&innerSetState((function(){return historyPosition.current=position<0?Math.max(history.current.length+position,0):Math.min(history.current.length-1,position),history.current[historyPosition.current]}))}}}),[state])]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useMountedState_1=tslib_1.__importDefault(__webpack_require__(40)),useUpdate_1=tslib_1.__importDefault(__webpack_require__(42)),useUpdateEffect_1=tslib_1.__importDefault(__webpack_require__(44));exports.default=function(stateSet){void 0===stateSet&&(stateSet=[]);var isMounted=useMountedState_1.default(),update=useUpdate_1.default(),index=react_1.useRef(0);useUpdateEffect_1.default((function(){stateSet.length<=index.current&&(index.current=stateSet.length-1,update())}),[stateSet.length]);var actions=react_1.useMemo((function(){return{next:function(){return actions.setStateAt(index.current+1)},prev:function(){return actions.setStateAt(index.current-1)},setStateAt:function(newIndex){isMounted()&&stateSet.length&&newIndex!==index.current&&(index.current=newIndex>=0?newIndex%stateSet.length:stateSet.length+newIndex%stateSet.length,update())},setState:function(state){if(isMounted()){var newIndex=stateSet.length?stateSet.indexOf(state):-1;if(-1===newIndex)throw new Error("State '"+state+"' is not a valid state (does not exist in state list)");index.current=newIndex,update()}}}}),[stateSet]);return tslib_1.__assign({state:stateSet[index.current],currentIndex:index.current},actions)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useUnmount_1=tslib_1.__importDefault(__webpack_require__(55));exports.default=function(value,ms){void 0===ms&&(ms=200);var _a=react_1.useState(value),state=_a[0],setState=_a[1],timeout=react_1.useRef(),nextValue=react_1.useRef(null),hasNextValue=react_1.useRef(0);return react_1.useEffect((function(){if(timeout.current)nextValue.current=value,hasNextValue.current=!0;else{setState(value);var timeoutCallback_1=function(){hasNextValue.current?(hasNextValue.current=!1,setState(nextValue.current),timeout.current=setTimeout(timeoutCallback_1,ms)):timeout.current=void 0};timeout.current=setTimeout(timeoutCallback_1,ms)}}),[value]),useUnmount_1.default((function(){timeout.current&&clearTimeout(timeout.current)})),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useUnmount_1=tslib_1.__importDefault(__webpack_require__(55));exports.default=function(fn,ms,args){void 0===ms&&(ms=200);var _a=react_1.useState(null),state=_a[0],setState=_a[1],timeout=react_1.useRef(),nextArgs=react_1.useRef();return react_1.useEffect((function(){if(timeout.current)nextArgs.current=args;else{setState(fn.apply(void 0,args));var timeoutCallback_1=function(){nextArgs.current?(setState(fn.apply(void 0,nextArgs.current)),nextArgs.current=void 0,timeout.current=setTimeout(timeoutCallback_1,ms)):timeout.current=void 0};timeout.current=setTimeout(timeoutCallback_1,ms)}}),args),useUnmount_1.default((function(){timeout.current&&clearTimeout(timeout.current)})),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),useTimeoutFn_1=tslib_1.__importDefault(__webpack_require__(59)),useUpdate_1=tslib_1.__importDefault(__webpack_require__(42));exports.default=function(ms){void 0===ms&&(ms=0);var update=useUpdate_1.default();return useTimeoutFn_1.default(update,ms)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),DEFAULT_USE_TITLE_OPTIONS={restoreOnUnmount:!1};exports.default="undefined"!=typeof document?function(title,options){void 0===options&&(options=DEFAULT_USE_TITLE_OPTIONS);var prevTitleRef=react_1.useRef(document.title);document.title=title,react_1.useEffect((function(){return options&&options.restoreOnUnmount?function(){document.title=prevTitleRef.current}:void 0}),[])}:function(_title){}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),ts_easing_1=__webpack_require__(208),useRaf_1=tslib_1.__importDefault(__webpack_require__(91));exports.default=function(easingName,ms,delay){return void 0===easingName&&(easingName="inCirc"),void 0===ms&&(ms=200),void 0===delay&&(delay=0),(0,ts_easing_1.easing[easingName])(useRaf_1.default(ms,delay))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.easing={linear:function(t){return t},quadratic:function(t){return t*(-t*t*t+4*t*t-6*t+4)},cubic:function(t){return t*(4*t*t-9*t+6)},elastic:function(t){return t*(33*t*t*t*t-106*t*t*t+126*t*t-67*t+15)},inQuad:function(t){return t*t},outQuad:function(t){return t*(2-t)},inOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1- --t*t*t*t},inOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return 1+--t*t*t*t*t},inOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},inSine:function(t){return 1-Math.cos(t*(Math.PI/2))},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return-(Math.cos(Math.PI*t)-1)/2},inExpo:function(t){return Math.pow(2,10*(t-1))},outExpo:function(t){return 1-Math.pow(2,-10*t)},inOutExpo:function(t){return(t/=.5)<1?Math.pow(2,10*(t-1))/2:(t--,(2-Math.pow(2,-10*t))/2)},inCirc:function(t){return 1-Math.sqrt(1-t*t)},outCirc:function(t){return Math.sqrt(1-(t-=1)*t)},inOutCirc:function(t){return(t/=.5)<1?-(Math.sqrt(1-t*t)-1)/2:(t-=2,(Math.sqrt(1-t*t)+1)/2)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(){var refUnmounted=react_1.useRef(!1);return react_1.useEffect((function(){return function(){refUnmounted.current=!0}})),react_1.useMemo((function(){return function(promise,onError){return new Promise((function(resolve,reject){promise.then((function(result){refUnmounted.current||resolve(result)}),(function(error){refUnmounted.current?onError?onError(error):console.error("useUnmountPromise",error):reject(error)}))}))}}),[])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),useList_1=tslib_1.__importDefault(__webpack_require__(88));exports.default=function(predicate,initialList){void 0===initialList&&(initialList=[]);var _a=useList_1.default(initialList),list=_a[0],listActions=_a[1];return[list,tslib_1.__assign(tslib_1.__assign({},listActions),{upsert:function(newItem){listActions.upsert(predicate,newItem)}})]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),isVibrationApiSupported="object"==typeof navigator&&"vibrate"in navigator;exports.default=isVibrationApiSupported?function(enabled,pattern,loop){void 0===enabled&&(enabled=!0),void 0===pattern&&(pattern=[1e3,1e3]),void 0===loop&&(loop=!0),react_1.useEffect((function(){var interval;if(enabled&&(navigator.vibrate(pattern),loop)){var duration=pattern instanceof Array?pattern.reduce((function(a,b){return a+b})):pattern;interval=setInterval((function(){navigator.vibrate(pattern)}),duration)}return function(){enabled&&(navigator.vibrate(0),loop&&clearInterval(interval))}}),[enabled])}:function(){}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var useVideo=__webpack_require__(11).__importDefault(__webpack_require__(78)).default("video");exports.default=useVideo},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(state,validator,initialState){void 0===initialState&&(initialState=[void 0]);var validatorInner=react_1.useRef(validator),stateInner=react_1.useRef(state);validatorInner.current=validator,stateInner.current=state;var _a=react_1.useState(initialState),validity=_a[0],setValidity=_a[1],validate=react_1.useCallback((function(){validatorInner.current.length>=2?validatorInner.current(stateInner.current,setValidity):setValidity(validatorInner.current(stateInner.current))}),[setValidity]);return react_1.useEffect((function(){validate()}),[state]),[validity,validate]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useScrollbarWidth=void 0;var scrollbar_width_1=__webpack_require__(215),react_1=__webpack_require__(2);exports.useScrollbarWidth=function(){var _a=react_1.useState(scrollbar_width_1.scrollbarWidth()),sbw=_a[0],setSbw=_a[1];return react_1.useEffect((function(){if(void 0===sbw){var raf=requestAnimationFrame((function(){setSbw(scrollbar_width_1.scrollbarWidth())}));return function(){return cancelAnimationFrame(raf)}}}),[]),sbw}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(t){if("undefined"==typeof document)return 0;if(document.body&&(!document.readyState||"loading"!==document.readyState)){if(!0!==t&&"number"==typeof e.__cache)return e.__cache;var o=document.createElement("div"),d=o.style;d.display="block",d.position="absolute",d.width="100px",d.height="100px",d.left="-999px",d.top="-999px",d.overflow="scroll",document.body.insertBefore(o,null);var r=o.clientWidth;if(0!==r)return e.__cache=100-r,document.body.removeChild(o),e.__cache;document.body.removeChild(o)}};exports.scrollbarWidth=e},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useMultiStateValidator=void 0;var react_1=__webpack_require__(2);exports.useMultiStateValidator=function(states,validator,initialValidity){if(void 0===initialValidity&&(initialValidity=[void 0]),"object"!=typeof states)throw new Error("states expected to be an object or array, got "+typeof states);var validatorInner=react_1.useRef(validator),statesInner=react_1.useRef(states);validatorInner.current=validator,statesInner.current=states;var _a=react_1.useState(initialValidity),validity=_a[0],setValidity=_a[1],validate=react_1.useCallback((function(){validatorInner.current.length>=2?validatorInner.current(statesInner.current,setValidity):setValidity(validatorInner.current(statesInner.current))}),[setValidity]);return react_1.useEffect((function(){validate()}),Object.values(states)),[validity,validate]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),util_1=__webpack_require__(32),useRafState_1=tslib_1.__importDefault(__webpack_require__(47));exports.default=function(){var _a=useRafState_1.default({x:util_1.isClient?window.pageXOffset:0,y:util_1.isClient?window.pageYOffset:0}),state=_a[0],setState=_a[1];return react_1.useEffect((function(){var handler=function(){setState({x:window.pageXOffset,y:window.pageYOffset})};return window.addEventListener("scroll",handler,{capture:!1,passive:!0}),function(){window.removeEventListener("scroll",handler)}}),[]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useRafState_1=tslib_1.__importDefault(__webpack_require__(47)),util_1=__webpack_require__(32);exports.default=function(initialWidth,initialHeight){void 0===initialWidth&&(initialWidth=1/0),void 0===initialHeight&&(initialHeight=1/0);var _a=useRafState_1.default({width:util_1.isClient?window.innerWidth:initialWidth,height:util_1.isClient?window.innerHeight:initialHeight}),state=_a[0],setState=_a[1];return react_1.useEffect((function(){if(util_1.isClient){var handler_1=function(){setState({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",handler_1),function(){window.removeEventListener("resize",handler_1)}}}),[]),state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useIsomorphicLayoutEffect_1=tslib_1.__importDefault(__webpack_require__(38)),util_1=__webpack_require__(32),defaultState={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};exports.default=util_1.isClient&&window.ResizeObserver?function(){var _a=react_1.useState(null),element=_a[0],ref=_a[1],_b=react_1.useState(defaultState),rect=_b[0],setRect=_b[1],observer=react_1.useMemo((function(){return new window.ResizeObserver((function(entries){if(entries[0]){var _a=entries[0].contentRect,x=_a.x,y=_a.y,width=_a.width,height=_a.height,top_1=_a.top,left=_a.left,bottom=_a.bottom,right=_a.right;setRect({x:x,y:y,width:width,height:height,top:top_1,left:left,bottom:bottom,right:right})}}))}),[]);return useIsomorphicLayoutEffect_1.default((function(){if(element)return observer.observe(element),function(){observer.disconnect()}}),[element]),[ref,rect]}:function(){return[function(){},defaultState]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useRendersCount=void 0;var react_1=__webpack_require__(2);exports.useRendersCount=function(){return++react_1.useRef(0).current}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2);exports.default=function(initialSet){void 0===initialSet&&(initialSet=new Set);var _a=react_1.useState(initialSet),set=_a[0],setSet=_a[1],stableActions=react_1.useMemo((function(){return{add:function(item){return setSet((function(prevSet){return new Set(tslib_1.__spreadArrays(Array.from(prevSet),[item]))}))},remove:function(item){return setSet((function(prevSet){return new Set(Array.from(prevSet).filter((function(i){return i!==item})))}))},toggle:function(item){return setSet((function(prevSet){return prevSet.has(item)?new Set(Array.from(prevSet).filter((function(i){return i!==item}))):new Set(tslib_1.__spreadArrays(Array.from(prevSet),[item]))}))},reset:function(){return setSet(initialSet)}}}),[setSet]),utils=tslib_1.__assign({has:react_1.useCallback((function(item){return set.has(item)}),[set])},stableActions);return[set,utils]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createGlobalState=void 0;var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useEffectOnce_1=tslib_1.__importDefault(__webpack_require__(46)),useIsomorphicLayoutEffect_1=tslib_1.__importDefault(__webpack_require__(38));function createGlobalState(initialState){var store={state:initialState,setState:function(state){store.state=state,store.setters.forEach((function(setter){return setter(store.state)}))},setters:[]};return function(){var _a=react_1.useState(store.state),globalState=_a[0],stateSetter=_a[1];return useEffectOnce_1.default((function(){return function(){store.setters=store.setters.filter((function(setter){return setter!==stateSetter}))}})),useIsomorphicLayoutEffect_1.default((function(){store.setters.includes(stateSetter)||store.setters.push(stateSetter)})),[globalState,store.setState]}}exports.createGlobalState=createGlobalState,exports.default=createGlobalState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useHash=void 0;var tslib_1=__webpack_require__(11),react_1=__webpack_require__(2),useLifecycles_1=tslib_1.__importDefault(__webpack_require__(87));exports.useHash=function(){var _a=react_1.useState((function(){return window.location.hash})),hash=_a[0],setHash=_a[1],onHashChange=react_1.useCallback((function(){setHash(window.location.hash)}),[]);useLifecycles_1.default((function(){window.addEventListener("hashchange",onHashChange)}),(function(){window.removeEventListener("hashchange",onHashChange)}));var _setHash=react_1.useCallback((function(newHash){newHash!==hash&&(window.location.hash=newHash)}),[hash]);return[hash,_setHash]}},function(module,exports){ace.define("ace/theme/tomorrow",["require","exports","module","ace/lib/dom"],(function(acequire,exports,module){exports.isDark=!1,exports.cssClass="ace-tomorrow",exports.cssText=".ace-tomorrow .ace_gutter {background: #f6f6f6;color: #4D4D4C}.ace-tomorrow .ace_print-margin {width: 1px;background: #f6f6f6}.ace-tomorrow {background-color: #FFFFFF;color: #4D4D4C}.ace-tomorrow .ace_cursor {color: #AEAFAD}.ace-tomorrow .ace_marker-layer .ace_selection {background: #D6D6D6}.ace-tomorrow.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;}.ace-tomorrow .ace_marker-layer .ace_step {background: rgb(255, 255, 0)}.ace-tomorrow .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #D1D1D1}.ace-tomorrow .ace_marker-layer .ace_active-line {background: #EFEFEF}.ace-tomorrow .ace_gutter-active-line {background-color : #dcdcdc}.ace-tomorrow .ace_marker-layer .ace_selected-word {border: 1px solid #D6D6D6}.ace-tomorrow .ace_invisible {color: #D1D1D1}.ace-tomorrow .ace_keyword,.ace-tomorrow .ace_meta,.ace-tomorrow .ace_storage,.ace-tomorrow .ace_storage.ace_type,.ace-tomorrow .ace_support.ace_type {color: #8959A8}.ace-tomorrow .ace_keyword.ace_operator {color: #3E999F}.ace-tomorrow .ace_constant.ace_character,.ace-tomorrow .ace_constant.ace_language,.ace-tomorrow .ace_constant.ace_numeric,.ace-tomorrow .ace_keyword.ace_other.ace_unit,.ace-tomorrow .ace_support.ace_constant,.ace-tomorrow .ace_variable.ace_parameter {color: #F5871F}.ace-tomorrow .ace_constant.ace_other {color: #666969}.ace-tomorrow .ace_invalid {color: #FFFFFF;background-color: #C82829}.ace-tomorrow .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #8959A8}.ace-tomorrow .ace_fold {background-color: #4271AE;border-color: #4D4D4C}.ace-tomorrow .ace_entity.ace_name.ace_function,.ace-tomorrow .ace_support.ace_function,.ace-tomorrow .ace_variable {color: #4271AE}.ace-tomorrow .ace_support.ace_class,.ace-tomorrow .ace_support.ace_type {color: #C99E00}.ace-tomorrow .ace_heading,.ace-tomorrow .ace_markup.ace_heading,.ace-tomorrow .ace_string {color: #718C00}.ace-tomorrow .ace_entity.ace_name.ace_tag,.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,.ace-tomorrow .ace_meta.ace_tag,.ace-tomorrow .ace_string.ace_regexp,.ace-tomorrow .ace_variable {color: #C82829}.ace-tomorrow .ace_comment {color: #8E908C}.ace-tomorrow .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y}",acequire("../lib/dom").importCssString(exports.cssText,exports.cssClass)}))},function(module,exports){ace.define("ace/mode/sql_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop"),TextHighlightRules=acequire("./text_highlight_rules").TextHighlightRules,SqlHighlightRules=function(){var keywordMapper=this.createKeywordMapper({"support.function":"avg|count|first|last|max|min|sum|ucase|lcase|mid|len|round|rank|now|format|coalesce|ifnull|isnull|nvl",keyword:"select|insert|update|delete|from|where|and|or|group|by|order|limit|offset|having|as|case|when|else|end|type|left|right|join|on|outer|desc|asc|union|create|table|primary|key|if|foreign|not|references|default|null|inner|cross|natural|database|drop|grant","constant.language":"true|false","storage.type":"int|numeric|decimal|date|varchar|char|bigint|float|double|bit|binary|text|set|timestamp|money|real|number|integer"},"identifier",!0);this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:keywordMapper,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};oop.inherits(SqlHighlightRules,TextHighlightRules),exports.SqlHighlightRules=SqlHighlightRules})),ace.define("ace/mode/sql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sql_highlight_rules"],(function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop"),TextMode=acequire("./text").Mode,SqlHighlightRules=acequire("./sql_highlight_rules").SqlHighlightRules,Mode=function(){this.HighlightRules=SqlHighlightRules,this.$behaviour=this.$defaultBehaviour};oop.inherits(Mode,TextMode),function(){this.lineCommentStart="--",this.$id="ace/mode/sql"}.call(Mode.prototype),exports.Mode=Mode}))},function(module){module.exports=JSON.parse('[{"name":"account_policy_data"},{"name":"acpi_tables"},{"name":"ad_config"},{"name":"alf"},{"name":"alf_exceptions"},{"name":"alf_explicit_auths"},{"name":"app_schemes"},{"name":"apparmor_events"},{"name":"apparmor_profiles"},{"name":"appcompat_shims"},{"name":"apps"},{"name":"apt_sources"},{"name":"arp_cache"},{"name":"asl"},{"name":"atom_packages"},{"name":"augeas"},{"name":"authenticode"},{"name":"authorization_mechanisms"},{"name":"authorizations"},{"name":"authorized_keys"},{"name":"autoexec"},{"name":"azure_instance_metadata"},{"name":"azure_instance_tags"},{"name":"background_activities_moderator"},{"name":"battery"},{"name":"bitlocker_info"},{"name":"block_devices"},{"name":"bpf_process_events"},{"name":"bpf_socket_events"},{"name":"browser_plugins"},{"name":"carbon_black_info"},{"name":"carves"},{"name":"certificates"},{"name":"chassis_info"},{"name":"chocolatey_packages"},{"name":"chrome_extension_content_scripts"},{"name":"chrome_extensions"},{"name":"connectivity"},{"name":"cpu_info"},{"name":"cpu_time"},{"name":"cpuid"},{"name":"crashes"},{"name":"crontab"},{"name":"cups_destinations"},{"name":"cups_jobs"},{"name":"curl"},{"name":"curl_certificate"},{"name":"deb_packages"},{"name":"default_environment"},{"name":"device_file"},{"name":"device_firmware"},{"name":"device_hash"},{"name":"device_partitions"},{"name":"disk_encryption"},{"name":"disk_events"},{"name":"disk_info"},{"name":"dns_cache"},{"name":"dns_resolvers"},{"name":"docker_container_fs_changes"},{"name":"docker_container_labels"},{"name":"docker_container_mounts"},{"name":"docker_container_networks"},{"name":"docker_container_ports"},{"name":"docker_container_processes"},{"name":"docker_container_stats"},{"name":"docker_containers"},{"name":"docker_image_history"},{"name":"docker_image_labels"},{"name":"docker_image_layers"},{"name":"docker_images"},{"name":"docker_info"},{"name":"docker_network_labels"},{"name":"docker_networks"},{"name":"docker_version"},{"name":"docker_volume_labels"},{"name":"docker_volumes"},{"name":"drivers"},{"name":"ec2_instance_metadata"},{"name":"ec2_instance_tags"},{"name":"elf_dynamic"},{"name":"elf_info"},{"name":"elf_sections"},{"name":"elf_segments"},{"name":"elf_symbols"},{"name":"etc_hosts"},{"name":"etc_protocols"},{"name":"etc_services"},{"name":"event_taps"},{"name":"example"},{"name":"extended_attributes"},{"name":"fan_speed_sensors"},{"name":"fbsd_kmods"},{"name":"file"},{"name":"file_events"},{"name":"firefox_addons"},{"name":"gatekeeper"},{"name":"gatekeeper_approved_apps"},{"name":"groups"},{"name":"hardware_events"},{"name":"hash"},{"name":"homebrew_packages"},{"name":"hvci_status"},{"name":"ibridge_info"},{"name":"ie_extensions"},{"name":"intel_me_info"},{"name":"interface_addresses"},{"name":"interface_details"},{"name":"interface_ipv6"},{"name":"iokit_devicetree"},{"name":"iokit_registry"},{"name":"iptables"},{"name":"kernel_extensions"},{"name":"kernel_info"},{"name":"kernel_modules"},{"name":"kernel_panics"},{"name":"keychain_acls"},{"name":"keychain_items"},{"name":"known_hosts"},{"name":"kva_speculative_info"},{"name":"last"},{"name":"launchd"},{"name":"launchd_overrides"},{"name":"listening_ports"},{"name":"lldp_neighbors"},{"name":"load_average"},{"name":"location_services"},{"name":"logged_in_users"},{"name":"logical_drives"},{"name":"logon_sessions"},{"name":"lxd_certificates"},{"name":"lxd_cluster"},{"name":"lxd_cluster_members"},{"name":"lxd_images"},{"name":"lxd_instance_config"},{"name":"lxd_instance_devices"},{"name":"lxd_instances"},{"name":"lxd_networks"},{"name":"lxd_storage_pools"},{"name":"magic"},{"name":"managed_policies"},{"name":"md_devices"},{"name":"md_drives"},{"name":"md_personalities"},{"name":"mdfind"},{"name":"mdls"},{"name":"memory_array_mapped_addresses"},{"name":"memory_arrays"},{"name":"memory_device_mapped_addresses"},{"name":"memory_devices"},{"name":"memory_error_info"},{"name":"memory_info"},{"name":"memory_map"},{"name":"mounts"},{"name":"msr"},{"name":"nfs_shares"},{"name":"npm_packages"},{"name":"ntdomains"},{"name":"ntfs_acl_permissions"},{"name":"ntfs_journal_events"},{"name":"nvram"},{"name":"oem_strings"},{"name":"office_mru"},{"name":"os_version"},{"name":"osquery_events"},{"name":"osquery_extensions"},{"name":"osquery_flags"},{"name":"osquery_info"},{"name":"osquery_packs"},{"name":"osquery_registry"},{"name":"osquery_schedule"},{"name":"package_bom"},{"name":"package_install_history"},{"name":"package_receipts"},{"name":"patches"},{"name":"pci_devices"},{"name":"physical_disk_performance"},{"name":"pipes"},{"name":"pkg_packages"},{"name":"platform_info"},{"name":"plist"},{"name":"portage_keywords"},{"name":"portage_packages"},{"name":"portage_use"},{"name":"power_sensors"},{"name":"powershell_events"},{"name":"preferences"},{"name":"process_envs"},{"name":"process_events"},{"name":"process_file_events"},{"name":"process_memory_map"},{"name":"process_namespaces"},{"name":"process_open_files"},{"name":"process_open_pipes"},{"name":"process_open_sockets"},{"name":"processes"},{"name":"programs"},{"name":"prometheus_metrics"},{"name":"python_packages"},{"name":"quicklook_cache"},{"name":"registry"},{"name":"routes"},{"name":"rpm_package_files"},{"name":"rpm_packages"},{"name":"running_apps"},{"name":"safari_extensions"},{"name":"sandboxes"},{"name":"scheduled_tasks"},{"name":"screenlock"},{"name":"selinux_events"},{"name":"selinux_settings"},{"name":"services"},{"name":"shadow"},{"name":"shared_folders"},{"name":"shared_memory"},{"name":"shared_resources"},{"name":"sharing_preferences"},{"name":"shell_history"},{"name":"shellbags"},{"name":"shimcache"},{"name":"signature"},{"name":"sip_config"},{"name":"smart_drive_info"},{"name":"smbios_tables"},{"name":"smc_keys"},{"name":"socket_events"},{"name":"ssh_configs"},{"name":"startup_items"},{"name":"sudoers"},{"name":"suid_bin"},{"name":"syslog_events"},{"name":"system_controls"},{"name":"system_extensions"},{"name":"system_info"},{"name":"systemd_units"},{"name":"temperature_sensors"},{"name":"time"},{"name":"time_machine_backups"},{"name":"time_machine_destinations"},{"name":"ulimit_info"},{"name":"uptime"},{"name":"usb_devices"},{"name":"user_events"},{"name":"user_groups"},{"name":"user_interaction_events"},{"name":"user_ssh_keys"},{"name":"userassist"},{"name":"users"},{"name":"video_info"},{"name":"virtual_memory_info"},{"name":"wifi_networks"},{"name":"wifi_status"},{"name":"wifi_survey"},{"name":"winbaseobj"},{"name":"windows_crashes"},{"name":"windows_eventlog"},{"name":"windows_events"},{"name":"windows_optional_features"},{"name":"windows_security_center"},{"name":"windows_security_products"},{"name":"wmi_bios_info"},{"name":"wmi_cli_event_consumers"},{"name":"wmi_event_filters"},{"name":"wmi_filter_consumer_binding"},{"name":"wmi_script_event_consumers"},{"name":"xprotect_entries"},{"name":"xprotect_meta"},{"name":"xprotect_reports"},{"name":"yara"},{"name":"yara_events"},{"name":"ycloud_instance_metadata"},{"name":"yum_sources"}]')},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"renderApp",(function(){return renderApp}));var external_kbnSharedDeps_ElasticEui_=__webpack_require__(12),external_kbnSharedDeps_Theme_euiDarkVars_=__webpack_require__(27),external_kbnSharedDeps_Theme_euiDarkVars_default=__webpack_require__.n(external_kbnSharedDeps_Theme_euiDarkVars_),external_kbnSharedDeps_Theme_euiLightVars_=__webpack_require__(28),external_kbnSharedDeps_Theme_euiLightVars_default=__webpack_require__.n(external_kbnSharedDeps_Theme_euiLightVars_),external_kbnSharedDeps_React_=__webpack_require__(2),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_ReactDom_=__webpack_require__(24),external_kbnSharedDeps_ReactDom_default=__webpack_require__.n(external_kbnSharedDeps_ReactDom_),external_kbnSharedDeps_ReactRouterDom_=__webpack_require__(17),external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(14),external_kbnSharedDeps_StyledComponents_=__webpack_require__(18),external_kbnSharedDeps_StyledComponents_default=__webpack_require__.n(external_kbnSharedDeps_StyledComponents_),lib=__webpack_require__(31),devtools=__webpack_require__(96),public_=__webpack_require__(16);const Container=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Container",componentId:"pg4bq7-0"})(["min-height:calc( 100vh - ","px );background:",";display:flex;flex-direction:column;"],props=>2*parseFloat(props.theme.eui.euiHeaderHeightCompensation),props=>props.theme.eui.euiColorEmptyShade),Wrapper=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Wrapper",componentId:"pg4bq7-1"})(["display:flex;flex-direction:column;flex:1;"]),Nav=external_kbnSharedDeps_StyledComponents_default.a.nav.withConfig({displayName:"Nav",componentId:"pg4bq7-2"})(["background:",";border-bottom:",";padding:",";.euiTabs{padding-left:3px;margin-left:-3px;}"],props=>props.theme.eui.euiColorEmptyShade,props=>props.theme.eui.euiBorderThin,props=>`${props.theme.eui.euiSize} ${props.theme.eui.euiSizeL} ${props.theme.eui.euiSize} ${props.theme.eui.euiSizeL}`);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const header_Container=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Container",componentId:"sc-4cc7zr-0"})(["border-bottom:",";background-color:",";"],props=>props.theme.eui.euiBorderThin,props=>props.theme.eui.euiPageBackgroundColor),header_Wrapper=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Wrapper",componentId:"sc-4cc7zr-1"})(["max-width:","px;margin-left:auto;margin-right:auto;padding-top:",";padding-left:",";padding-right:",";"],props=>props.maxWidth||1200,props=>props.theme.eui.paddingSizes.xl,props=>props.theme.eui.paddingSizes.m,props=>props.theme.eui.paddingSizes.m),Tabs=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_.EuiTabs).withConfig({displayName:"Tabs",componentId:"sc-4cc7zr-2"})(["top:1px;&:before{height:0px;}"]),HeaderColumns=Object(external_kbnSharedDeps_React_.memo)(({leftColumn:leftColumn,rightColumn:rightColumn,rightColumnGrow:rightColumnGrow})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center"},leftColumn?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,leftColumn):null,rightColumn?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:rightColumnGrow},rightColumn):null));HeaderColumns.displayName="HeaderColumns";const Header=({leftColumn:leftColumn,rightColumn:rightColumn,rightColumnGrow:rightColumnGrow,tabs:tabs,maxWidth:maxWidth,tabsClassName:tabsClassName,"data-test-subj":dataTestSubj})=>external_kbnSharedDeps_React_default.a.createElement(header_Container,{"data-test-subj":dataTestSubj},external_kbnSharedDeps_React_default.a.createElement(header_Wrapper,{maxWidth:maxWidth},external_kbnSharedDeps_React_default.a.createElement(HeaderColumns,{leftColumn:leftColumn,rightColumn:rightColumn,rightColumnGrow:rightColumnGrow}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,null,tabs?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(Tabs,{className:tabsClassName},tabs.map(props=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTab,_extends({},props,{key:props.id}),props.name)))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}))))),Page=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_.EuiPage).withConfig({displayName:"Page",componentId:"r8bfgz-0"})(["background:",";width:100%;align-self:center;margin-left:0;margin-right:0;flex:1;"],props=>props.theme.eui.euiColorEmptyShade),ContentWrapper=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"ContentWrapper",componentId:"r8bfgz-1"})(["height:100%;"]);function with_header_extends(){return(with_header_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const WithHeaderLayout=({restrictWidth:restrictWidth,restrictHeaderWidth:restrictHeaderWidth,children:children,"data-test-subj":dataTestSubj,...rest})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(Header,with_header_extends({maxWidth:restrictHeaderWidth,"data-test-subj":dataTestSubj?dataTestSubj+"_header":void 0},rest)),external_kbnSharedDeps_React_default.a.createElement(Page,{restrictWidth:restrictWidth||1200,"data-test-subj":dataTestSubj?dataTestSubj+"_page":void 0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageBody,null,external_kbnSharedDeps_React_default.a.createElement(ContentWrapper,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),children))));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(13),constants=__webpack_require__(5);const pagePathGetters_overview=()=>"/",pagePathGetters_live_queries=()=>"/live_queries",pagePathGetters_scheduled_query_groups=()=>"/scheduled_query_groups",pagePathGetters_scheduled_query_group_details=({scheduledQueryGroupId:scheduledQueryGroupId})=>"/scheduled_query_groups/"+scheduledQueryGroupId;var kibana=__webpack_require__(29);const BASE_BREADCRUMB={href:pagePathGetters_overview(),text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.breadcrumbs.appTitle",{defaultMessage:"Osquery"})},breadcrumbGetters={base:()=>[BASE_BREADCRUMB],overview:()=>[BASE_BREADCRUMB,{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.breadcrumbs.overviewPageTitle",{defaultMessage:"Overview"})}],live_queries:()=>[BASE_BREADCRUMB,{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.breadcrumbs.liveQueriesPageTitle",{defaultMessage:"Live queries"})}],live_query_new:()=>[BASE_BREADCRUMB,{href:pagePathGetters_live_queries(),text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.breadcrumbs.liveQueriesPageTitle",{defaultMessage:"Live queries"})},{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.breadcrumbs.newLiveQueryPageTitle",{defaultMessage:"New"})}],live_query_details:({liveQueryId:liveQueryId})=>[BASE_BREADCRUMB,{href:pagePathGetters_live_queries(),text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.breadcrumbs.liveQueriesPageTitle",{defaultMessage:"Live queries"})},{text:liveQueryId}],scheduled_query_groups:()=>[BASE_BREADCRUMB,{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.breadcrumbs.scheduledQueryGroupsPageTitle",{defaultMessage:"Scheduled query groups"})}],scheduled_query_group_add:()=>[BASE_BREADCRUMB,{href:pagePathGetters_scheduled_query_groups(),text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.breadcrumbs.scheduledQueryGroupsPageTitle",{defaultMessage:"Scheduled query groups"})},{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.breadcrumbs.addScheduledQueryGroupsPageTitle",{defaultMessage:"Add"})}],scheduled_query_group_details:({scheduledQueryGroupName:scheduledQueryGroupName})=>[BASE_BREADCRUMB,{href:pagePathGetters_scheduled_query_groups(),text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.breadcrumbs.scheduledQueryGroupsPageTitle",{defaultMessage:"Scheduled query groups"})},{text:scheduledQueryGroupName}],scheduled_query_group_edit:({scheduledQueryGroupName:scheduledQueryGroupName,scheduledQueryGroupId:scheduledQueryGroupId})=>[BASE_BREADCRUMB,{href:pagePathGetters_scheduled_query_groups(),text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.breadcrumbs.scheduledQueryGroupsPageTitle",{defaultMessage:"Scheduled query groups"})},{href:pagePathGetters_scheduled_query_group_details({scheduledQueryGroupId:scheduledQueryGroupId}),text:scheduledQueryGroupName},{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.breadcrumbs.editScheduledQueryGroupsPageTitle",{defaultMessage:"Edit"})}]};function useBreadcrumbs(page,values={}){var _breadcrumbGetters$pa;const{chrome:chrome,http:http}=Object(kibana.d)().services,breadcrumbs=(null===(_breadcrumbGetters$pa=breadcrumbGetters[page])||void 0===_breadcrumbGetters$pa?void 0:_breadcrumbGetters$pa.call(breadcrumbGetters,values).map(breadcrumb=>({...breadcrumb,href:breadcrumb.href?http.basePath.prepend(`${constants.a}${breadcrumb.href}`):void 0})))||[],docTitle=[...breadcrumbs].reverse().map(breadcrumb=>breadcrumb.text);chrome.docTitle.change(docTitle),chrome.setBreadcrumbs(breadcrumbs)}var external_kbnSharedDeps_LodashFp_=__webpack_require__(19);const createFilter=filterQuery=>Object(external_kbnSharedDeps_LodashFp_.isString)(filterQuery)?filterQuery:JSON.stringify(filterQuery);var search_strategy=__webpack_require__(35);const generateTablePaginationOptions=(activePage,limit)=>({activePage:activePage,cursorStart:activePage*limit,fakePossibleCount:4<=activePage&&activePage>0?limit*(activePage+2):5*limit,querySize:limit}),getInspectResponse=(response,prevResponse)=>{var _ref,_response$inspect$dsl,_response$inspect;return{dsl:null!==(_ref=null!==(_response$inspect$dsl=null==response||null===(_response$inspect=response.inspect)||void 0===_response$inspect?void 0:_response$inspect.dsl)&&void 0!==_response$inspect$dsl?_response$inspect$dsl:null==prevResponse?void 0:prevResponse.dsl)&&void 0!==_ref?_ref:[],response:null!=response?[JSON.stringify(response.rawResponse,null,2)]:null==prevResponse?void 0:prevResponse.response}};function actions_table_extends(){return(actions_table_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const ActionTableResultsButton=external_kbnSharedDeps_React_default.a.memo(({actionId:actionId})=>{const navProps=Object(kibana.e)("live_queries/"+actionId);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,actions_table_extends({iconType:"visTable"},navProps))});ActionTableResultsButton.displayName="ActionTableResultsButton";const ActionsTableComponent=()=>{var _actionsData$actions;const[pageIndex,setPageIndex]=Object(external_kbnSharedDeps_React_.useState)(0),[pageSize,setPageSize]=Object(external_kbnSharedDeps_React_.useState)(20),{data:actionsData}=(({activePage:activePage,direction:direction,limit:limit,sortField:sortField,filterQuery:filterQuery,skip:skip=!1})=>{const{data:data,notifications:{toasts:toasts}}=Object(kibana.d)().services;return Object(lib.useQuery)(["actions",{activePage:activePage,direction:direction,limit:limit,sortField:sortField}],async()=>{const responseData=await data.search.search({factoryQueryType:search_strategy.OsqueryQueries.actions,filterQuery:createFilter(filterQuery),pagination:generateTablePaginationOptions(activePage,limit),sort:{direction:direction,field:sortField}},{strategy:"osquerySearchStrategy"}).toPromise();return{...responseData,actions:responseData.edges,inspect:getInspectResponse(responseData,{})}},{keepPreviousData:!0,enabled:!skip,onError:error=>toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.all_actions.fetchError",{defaultMessage:"Error while fetching actions"})})})})({activePage:pageIndex,limit:pageSize,direction:search_strategy.Direction.desc,sortField:"@timestamp"}),onTableChange=Object(external_kbnSharedDeps_React_.useCallback)(({page:page={}})=>{const{index:index,size:size}=page;setPageIndex(index),setPageSize(size)},[]),renderQueryColumn=Object(external_kbnSharedDeps_React_.useCallback)((_,item)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{language:"sql",fontSize:"s",paddingSize:"none",transparentBackground:!0},item._source.data.query),[]),renderAgentsColumn=Object(external_kbnSharedDeps_React_.useCallback)((_,item)=>{var _item$fields$agents$l,_item$fields$agents;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,null!==(_item$fields$agents$l=null===(_item$fields$agents=item.fields.agents)||void 0===_item$fields$agents?void 0:_item$fields$agents.length)&&void 0!==_item$fields$agents$l?_item$fields$agents$l:0)},[]),renderTimestampColumn=Object(external_kbnSharedDeps_React_.useCallback)((_,item)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,Object(external_kbnSharedDeps_ElasticEui_.formatDate)(item.fields["@timestamp"][0])),[]),renderActionsColumn=Object(external_kbnSharedDeps_React_.useCallback)(item=>external_kbnSharedDeps_React_default.a.createElement(ActionTableResultsButton,{actionId:item.fields.action_id[0]}),[]),columns=Object(external_kbnSharedDeps_React_.useMemo)(()=>[{field:"query",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActions.table.queryColumnTitle",{defaultMessage:"Query"}),truncateText:!0,render:renderQueryColumn},{field:"agents",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActions.table.agentsColumnTitle",{defaultMessage:"Agents"}),width:"100px",render:renderAgentsColumn},{field:"created_at",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActions.table.createdAtColumnTitle",{defaultMessage:"Created at"}),width:"200px",render:renderTimestampColumn},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActions.table.viewDetailsColumnTitle",{defaultMessage:"View details"}),actions:[{render:renderActionsColumn}]}],[renderActionsColumn,renderAgentsColumn,renderQueryColumn,renderTimestampColumn]),pagination=Object(external_kbnSharedDeps_React_.useMemo)(()=>{var _actionsData$totalCou;return{pageIndex:pageIndex,pageSize:pageSize,totalItemCount:null!==(_actionsData$totalCou=null==actionsData?void 0:actionsData.totalCount)&&void 0!==_actionsData$totalCou?_actionsData$totalCou:0,pageSizeOptions:[20,50,100]}},[null==actionsData?void 0:actionsData.totalCount,pageIndex,pageSize]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBasicTable,{items:null!==(_actionsData$actions=null==actionsData?void 0:actionsData.actions)&&void 0!==_actionsData$actions?_actionsData$actions:[],columns:columns,pagination:pagination,onChange:onTableChange})},ActionsTable=external_kbnSharedDeps_React_default.a.memo(ActionsTableComponent),BetaBadgeRowWrapper=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_.EuiText).withConfig({displayName:"BetaBadgeRowWrapper",componentId:"sc-19shspr-0"})(["display:flex;align-items:center;"]),beta_badge_Wrapper=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Wrapper",componentId:"sc-19shspr-1"})(["padding-left:",";"],({theme:theme})=>theme.eui.paddingSizes.s),betaBadgeLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.common.tabBetaBadgeLabel",{defaultMessage:"Beta"}),betaBadgeTooltipContent=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.common.tabBetaBadgeTooltipContent",{defaultMessage:"This feature is under active development. Extra functionality is coming, and some functionality may change."}),BetaBadgeComponent=()=>external_kbnSharedDeps_React_default.a.createElement(beta_badge_Wrapper,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBetaBadge,{label:betaBadgeLabel,tooltipContent:betaBadgeTooltipContent})),BetaBadge=external_kbnSharedDeps_React_default.a.memo(BetaBadgeComponent);function list_extends(){return(list_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const LiveQueriesPageComponent=()=>{useBreadcrumbs("live_queries");const newQueryLinkProps=Object(kibana.e)("live_queries/new"),LeftColumn=Object(external_kbnSharedDeps_React_.useMemo)(()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{direction:"column",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(BetaBadgeRowWrapper,null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.liveQueriesHistory.pageTitle",defaultMessage:"Live queries history"})),external_kbnSharedDeps_React_default.a.createElement(BetaBadge,null)))),[]),RightColumn=Object(external_kbnSharedDeps_React_.useMemo)(()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,list_extends({fill:!0},newQueryLinkProps,{iconType:"plusInCircle"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.liveQueriesHistory.newLiveQueryButtonLabel",defaultMessage:"New live query"})),[newQueryLinkProps]);return external_kbnSharedDeps_React_default.a.createElement(WithHeaderLayout,{leftColumn:LeftColumn,rightColumn:RightColumn,rightColumnGrow:!1},external_kbnSharedDeps_React_default.a.createElement(ActionsTable,null))},LiveQueriesPage=external_kbnSharedDeps_React_default.a.memo(LiveQueriesPageComponent);var query_string=__webpack_require__(112),query_string_default=__webpack_require__.n(query_string),hook_form_lib_=__webpack_require__(15),components_=__webpack_require__(21),helpers_=__webpack_require__(25),react_use_lib=(__webpack_require__(26),__webpack_require__(116)),common_=__webpack_require__(4);var external_kbnSharedDeps_Lodash_=__webpack_require__(20);let AGENT_GROUP_KEY;!function(AGENT_GROUP_KEY){AGENT_GROUP_KEY[AGENT_GROUP_KEY.All=0]="All",AGENT_GROUP_KEY[AGENT_GROUP_KEY.Platform=1]="Platform",AGENT_GROUP_KEY[AGENT_GROUP_KEY.Policy=2]="Policy",AGENT_GROUP_KEY[AGENT_GROUP_KEY.Agent=3]="Agent"}(AGENT_GROUP_KEY||(AGENT_GROUP_KEY={}));const useAgentGroups=({osqueryPolicies:osqueryPolicies,osqueryPoliciesLoading:osqueryPoliciesLoading})=>{const{data:data,notifications:{toasts:toasts}}=Object(kibana.d)().services,{agentPoliciesLoading:agentPoliciesLoading,agentPolicyById:agentPolicyById}=((policyIds=[])=>{const{http:http,notifications:{toasts:toasts}}=Object(kibana.d)().services,agentResponse=Object(lib.useQueries)(policyIds.map(policyId=>({queryKey:["agentPolicy",policyId],queryFn:()=>http.get(common_.agentPolicyRouteService.getInfoPath(policyId)),enabled:policyIds.length>0,onError:error=>toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.action_policy_details.fetchError",{defaultMessage:"Error while fetching policy details"})})}))),agentPoliciesLoading=agentResponse.some(p=>p.isLoading),agentPolicies=agentResponse.map(p=>{var _p$data;return null===(_p$data=p.data)||void 0===_p$data?void 0:_p$data.item});return{agentPoliciesLoading:agentPoliciesLoading,agentPolicies:agentPolicies,agentPolicyById:Object(external_kbnSharedDeps_Lodash_.mapKeys)(agentPolicies,"id")}})(osqueryPolicies),[platforms,setPlatforms]=Object(external_kbnSharedDeps_React_.useState)([]),[policies,setPolicies]=Object(external_kbnSharedDeps_React_.useState)([]),[loading,setLoading]=Object(external_kbnSharedDeps_React_.useState)(!0),[overlap,setOverlap]=Object(external_kbnSharedDeps_React_.useState)(()=>({})),[totalCount,setTotalCount]=Object(external_kbnSharedDeps_React_.useState)(0);return Object(lib.useQuery)(["agentGroups"],async()=>{const responseData=await data.search.search({filterQuery:{terms:{policy_id:osqueryPolicies}},factoryQueryType:search_strategy.OsqueryQueries.agents,aggregations:{platforms:{terms:{field:"local_metadata.os.platform"},aggs:{policies:{terms:{field:"policy_id"}}}},policies:{terms:{field:"policy_id"}}},pagination:(activePage=0,limit=9e3,{activePage:activePage,cursorStart:activePage*limit,fakePossibleCount:4<=activePage&&activePage>0?limit*(activePage+2):5*limit,querySize:limit}),sort:{direction:"asc",field:"local_metadata.os.platform"}},{strategy:"osquerySearchStrategy"}).toPromise();var activePage,limit;if(responseData.rawResponse.aggregations){const{platforms:newPlatforms,overlap:newOverlap,policies:newPolicies}=(aggs=>{var _policyTerms$buckets$;const platforms=[],overlap={},platformTerms=aggs.platforms,policyTerms=aggs.policies,policies=null!==(_policyTerms$buckets$=null==policyTerms?void 0:policyTerms.buckets.map(o=>({name:o.key,id:o.key,size:o.doc_count})))&&void 0!==_policyTerms$buckets$?_policyTerms$buckets$:[];if(null!=platformTerms&&platformTerms.buckets)for(const{key:key,doc_count:size,policies:platformPolicies}of platformTerms.buckets)platforms.push({name:key,id:key,size:size}),null!=platformPolicies&&platformPolicies.buckets&&policies.length>0&&(overlap[key]=platformPolicies.buckets.reduce((acc,pol)=>(acc[pol.key]=pol.doc_count,acc),{}));return{platforms:platforms,overlap:overlap,policies:policies}})(responseData.rawResponse.aggregations);setPlatforms(newPlatforms),setOverlap(newOverlap),setPolicies(newPolicies.map(p=>{var _agentPolicyById$p$id,_agentPolicyById$p$id2;const name=null!==(_agentPolicyById$p$id=null===(_agentPolicyById$p$id2=agentPolicyById[p.id])||void 0===_agentPolicyById$p$id2?void 0:_agentPolicyById$p$id2.name)&&void 0!==_agentPolicyById$p$id?_agentPolicyById$p$id:p.name;return{...p,name:name}}))}setLoading(!1),setTotalCount(responseData.totalCount)},{enabled:!osqueryPoliciesLoading&&!agentPoliciesLoading,onError:error=>toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agent_groups.fetchError",{defaultMessage:"Error while fetching agent groups"})})}),{loading:loading,totalCount:totalCount,groups:{platforms:platforms,policies:policies,overlap:overlap}}};var common=__webpack_require__(1);const ALL_AGENTS_LABEL=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agents.allAgentsLabel",{defaultMessage:"All agents"}),AGENT_PLATFORMS_LABEL=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agents.platformLabel",{defaultMessage:"Platform"}),AGENT_POLICY_LABEL=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agents.policyLabel",{defaultMessage:"Policy"}),AGENT_SELECTION_LABEL=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agents.selectionLabel",{defaultMessage:"Agents"}),SELECT_AGENT_LABEL=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agents.selectAgentLabel",{defaultMessage:"Select agents or groups"});external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agents.errorSearchDescription",{defaultMessage:"An error has occurred on all agents search"}),external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agents.failSearchDescription",{defaultMessage:"Failed to fetch agents"});function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const getColor=(()=>{const visColorsBehindText=Object(external_kbnSharedDeps_ElasticEui_.euiPaletteColorBlindBehindText)(),typeColors=new Map;return type=>(typeColors.has(type)||typeColors.set(type,visColorsBehindText[typeColors.size]),typeColors.get(type))})(),generateGroup=(label,groupType)=>({label:label,groupType:groupType,color:getColor(groupType),size:0,data:[]}),generateAgentOption=(label,groupType,data)=>({label:label,options:data.map(agent=>{var _agent$policy_id,_agent$status;return{label:`${agent.local_metadata.host.hostname} (${agent.local_metadata.elastic.agent.id})`,key:agent.local_metadata.elastic.agent.id,color:getColor(groupType),value:{groupType:groupType,groups:{policy:null!==(_agent$policy_id=agent.policy_id)&&void 0!==_agent$policy_id?_agent$policy_id:"",platform:agent.local_metadata.os.platform},id:agent.local_metadata.elastic.agent.id,status:null!==(_agent$status=agent.status)&&void 0!==_agent$status?_agent$status:"unknown"}}})}),generateGroupOption=(label,groupType,data)=>({label:label,options:data.map(({name:name,id:id,size:size})=>({label:name!==id?`${name} (${id})`:name,key:id,color:getColor(groupType),value:{groupType:groupType,id:id,size:size}}))});class agent_grouper_AgentGrouper{constructor(){_defineProperty(this,"groupOrder",[AGENT_GROUP_KEY.All,AGENT_GROUP_KEY.Platform,AGENT_GROUP_KEY.Policy,AGENT_GROUP_KEY.Agent]),_defineProperty(this,"groups",{[AGENT_GROUP_KEY.All]:generateGroup(ALL_AGENTS_LABEL,AGENT_GROUP_KEY.All),[AGENT_GROUP_KEY.Platform]:generateGroup(AGENT_PLATFORMS_LABEL,AGENT_GROUP_KEY.Platform),[AGENT_GROUP_KEY.Policy]:generateGroup(AGENT_POLICY_LABEL,AGENT_GROUP_KEY.Policy),[AGENT_GROUP_KEY.Agent]:generateGroup(AGENT_SELECTION_LABEL,AGENT_GROUP_KEY.Agent)})}updateGroup(key,data,append=!1){if(null==data||!data.length||key===AGENT_GROUP_KEY.All)return;const group=this.groups[key];append?group.data.push(...data):group.data=data,group.size=data.length}setTotalAgents(total){total<0||(this.groups[AGENT_GROUP_KEY.All].size=total)}generateOptions(){const opts=[];for(const key of this.groupOrder){const{label:label,size:size,groupType:groupType,data:data,color:color}=this.groups[key];if(0!==size)switch(key){case AGENT_GROUP_KEY.All:opts.push({label:label,options:[{label:label,value:{groupType:groupType,size:size},color:color}]});break;case AGENT_GROUP_KEY.Platform:case AGENT_GROUP_KEY.Policy:opts.push(generateGroupOption(label,key,data));break;case AGENT_GROUP_KEY.Agent:opts.push(generateAgentOption(label,key,data))}}return opts}}const AgentsTableComponent=({agentSelection:agentSelection,onChange:onChange})=>{const[searchValue,setSearchValue]=Object(external_kbnSharedDeps_React_.useState)(""),[modifyingSearch,setModifyingSearch]=Object(external_kbnSharedDeps_React_.useState)(!1),[debouncedSearchValue,setDebouncedSearchValue]=Object(external_kbnSharedDeps_React_.useState)("");Object(react_use_lib.useDebounce)(()=>{setDebouncedSearchValue(searchValue),setModifyingSearch(!1)},100,[searchValue]);const osqueryPolicyData=(()=>{const{http:http,notifications:{toasts:toasts}}=Object(kibana.d)().services,{isLoading:osqueryPoliciesLoading,data:osqueryPolicies=[]}=Object(lib.useQuery)(["osqueryPolicies"],()=>http.get(common_.packagePolicyRouteService.getListPath(),{query:{kuery:`${common_.PACKAGE_POLICY_SAVED_OBJECT_TYPE}.package.name:${common.OSQUERY_INTEGRATION_NAME}`}}),{select:response=>Object(external_kbnSharedDeps_Lodash_.uniq)(response.items.map(p=>p.policy_id)),onError:error=>toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.osquery_policies.fetchError",{defaultMessage:"Error while fetching osquery policies"})})});return Object(external_kbnSharedDeps_React_.useMemo)(()=>({osqueryPoliciesLoading:osqueryPoliciesLoading,osqueryPolicies:osqueryPolicies}),[osqueryPoliciesLoading,osqueryPolicies])})(),{loading:groupsLoading,totalCount:totalNumAgents,groups:groups}=useAgentGroups(osqueryPolicyData),grouper=Object(external_kbnSharedDeps_React_.useMemo)(()=>new agent_grouper_AgentGrouper,[]),{agentsLoading:agentsLoading,agents:agents}=(({osqueryPolicies:osqueryPolicies,osqueryPoliciesLoading:osqueryPoliciesLoading},searchValue="",opts={perPage:9e3})=>{const{perPage:perPage}=opts,{http:http,notifications:{toasts:toasts}}=Object(kibana.d)().services,{isLoading:agentsLoading,data:agentData}=Object(lib.useQuery)(["agents",osqueryPolicies,searchValue,perPage],()=>{const kueryFragments=[];return osqueryPolicies.length&&kueryFragments.push(""+osqueryPolicies.map(p=>"policy_id:"+p).join(" or ")),searchValue&&kueryFragments.push(`local_metadata.host.hostname:*${searchValue}* or local_metadata.elastic.agent.id:*${searchValue}*`),http.get(common_.agentRouteService.getListPath(),{query:{kuery:kueryFragments.map(frag=>`(${frag})`).join(" and "),perPage:perPage,showInactive:!0}})},{enabled:!osqueryPoliciesLoading,onError:error=>toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agents.fetchError",{defaultMessage:"Error while fetching agents"})})});return{agentsLoading:agentsLoading,agents:null==agentData?void 0:agentData.list}})(osqueryPolicyData,debouncedSearchValue,{perPage:10}),[options,setOptions]=Object(external_kbnSharedDeps_React_.useState)([]),[selectedOptions,setSelectedOptions]=Object(external_kbnSharedDeps_React_.useState)([]),[numAgentsSelected,setNumAgentsSelected]=Object(external_kbnSharedDeps_React_.useState)(0),defaultValueInitialized=Object(external_kbnSharedDeps_React_.useRef)(!1);Object(external_kbnSharedDeps_React_.useEffect)(()=>{if(agentSelection&&!defaultValueInitialized.current&&options.length&&agentSelection.policiesSelected){const policyOptions=Object(external_kbnSharedDeps_LodashFp_.find)(["label","Policy"],options);if(policyOptions){var _policyOptions$option;const defaultOptions=null===(_policyOptions$option=policyOptions.options)||void 0===_policyOptions$option?void 0:_policyOptions$option.filter(option=>agentSelection.policiesSelected.includes(option.label));null!=defaultOptions&&defaultOptions.length&&setSelectedOptions(defaultOptions),defaultValueInitialized.current=!0}}},[agentSelection,options]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{grouper.setTotalAgents(totalNumAgents),grouper.updateGroup(AGENT_GROUP_KEY.Platform,groups.platforms),grouper.updateGroup(AGENT_GROUP_KEY.Policy,groups.policies),grouper.updateGroup(AGENT_GROUP_KEY.Agent,agents);const newOptions=grouper.generateOptions();setOptions(newOptions)},[groups.platforms,groups.policies,totalNumAgents,groupsLoading,agents,grouper]);const onSelection=Object(external_kbnSharedDeps_React_.useCallback)(selection=>{const{newAgentSelection:newAgentSelection,selectedAgents:selectedAgents,selectedGroups:selectedGroups}=(selection=>{const newAgentSelection={agents:[],allAgentsSelected:!1,platformsSelected:[],policiesSelected:[]},selectedAgents=[],selectedGroups={policy:{},platform:{}};for(const opt of selection){var _opt$value,_ref,_opt$key,_opt$value2;const groupType=null===(_opt$value=opt.value)||void 0===_opt$value?void 0:_opt$value.groupType,key=null!==(_ref=null!==(_opt$key=opt.key)&&void 0!==_opt$key?_opt$key:null===(_opt$value2=opt.value)||void 0===_opt$value2?void 0:_opt$value2.id)&&void 0!==_ref?_ref:opt.label;let value;switch(groupType){case AGENT_GROUP_KEY.All:newAgentSelection.allAgentsSelected=!0;break;case AGENT_GROUP_KEY.Platform:value=opt.value,newAgentSelection.allAgentsSelected||(selectedGroups.platform[key]=value.size),newAgentSelection.platformsSelected.push(key);break;case AGENT_GROUP_KEY.Policy:value=opt.value,newAgentSelection.allAgentsSelected||(selectedGroups.policy[key]=value.size),newAgentSelection.policiesSelected.push(key);break;case AGENT_GROUP_KEY.Agent:value=opt.value,newAgentSelection.allAgentsSelected||selectedAgents.push(value),newAgentSelection.agents.push(key);break;default:console.error("unknown group type "+groupType)}}return{newAgentSelection:newAgentSelection,selectedGroups:selectedGroups,selectedAgents:selectedAgents}})(selection);if(newAgentSelection.allAgentsSelected)setNumAgentsSelected(totalNumAgents);else{const checkAgent=(selectedGroups=>({groups:groups})=>Object.keys(groups).map(group=>selectedGroups[group][groups[group]]).every(a=>!a))(selectedGroups);setNumAgentsSelected(selectedAgents.filter(checkAgent).length+(selectedGroups=>{let sum=0;return Object.keys(selectedGroups).forEach(g=>{const group=selectedGroups[g];sum+=Object.keys(group).reduce((acc,k)=>acc+group[k],0)}),sum})(selectedGroups)-(({policy:policy={},platform:platform={}},overlap)=>{let sum=0;return Object.keys(platform).forEach(plat=>{var _overlap$plat;const policies=null!==(_overlap$plat=overlap[plat])&&void 0!==_overlap$plat?_overlap$plat:{};Object.keys(policy).forEach(pol=>{var _policies$pol;sum+=null!==(_policies$pol=policies[pol])&&void 0!==_policies$pol?_policies$pol:0})}),sum})(selectedGroups,groups.overlap))}onChange(newAgentSelection),setSelectedOptions(selection)},[groups,onChange,totalNumAgents]),renderOption=Object(external_kbnSharedDeps_React_.useCallback)((option,searchVal,contentClassName)=>{var _value$size;const{label:label,value:value}=option;return(null==value?void 0:value.groupType)===AGENT_GROUP_KEY.Agent?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHealth,{color:"online"===(null==value?void 0:value.status)?"success":"danger"},external_kbnSharedDeps_React_default.a.createElement("span",{className:contentClassName},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHighlight,{search:searchVal},label))):external_kbnSharedDeps_React_default.a.createElement("span",{className:contentClassName},external_kbnSharedDeps_React_default.a.createElement("span",null,"[",null!==(_value$size=null==value?void 0:value.size)&&void 0!==_value$size?_value$size:0,"]")," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHighlight,{search:searchVal},label))},[]),onSearchChange=Object(external_kbnSharedDeps_React_.useCallback)(v=>{setModifyingSearch(""!==v),setSearchValue(v)},[]);return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiComboBox,{placeholder:SELECT_AGENT_LABEL,isLoading:modifyingSearch||groupsLoading||agentsLoading,options:options,isClearable:!0,fullWidth:!0,onSearchChange:onSearchChange,selectedOptions:selectedOptions,onChange:onSelection,renderOption:renderOption}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xs"}),numAgentsSelected>0?external_kbnSharedDeps_React_default.a.createElement("span",null,0===(numAgents=numAgentsSelected)?"":1===numAgents?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agents.oneSelectedAgentText",{defaultMessage:"{numAgents} agent selected.",values:{numAgents:numAgents}}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agents.mulitpleSelectedAgentsText",{defaultMessage:"{numAgents} agents selected.",values:{numAgents:numAgents}})):"");var numAgents},AgentsTable=external_kbnSharedDeps_React_default.a.memo(AgentsTableComponent),AgentsTableFieldComponent=({field:field})=>{const{value:value,setValue:setValue}=field,handleChange=Object(external_kbnSharedDeps_React_.useCallback)(props=>{if(props!==value)return setValue(props)},[value,setValue]);return external_kbnSharedDeps_React_default.a.createElement(AgentsTable,{agentSelection:value,onChange:handleChange})},AgentsTableField=external_kbnSharedDeps_React_default.a.memo(AgentsTableFieldComponent);__webpack_require__(224);var brace=__webpack_require__(93),brace_default=__webpack_require__.n(brace);__webpack_require__(225),__webpack_require__(95);let osqueryTables=null;const getOsqueryTables=()=>{var tablesJSON;return osqueryTables||(tablesJSON=__webpack_require__(226),osqueryTables=Object(external_kbnSharedDeps_Lodash_.sortBy)(tablesJSON,table=>table.name)),osqueryTables},osquery_highlight_rules_osqueryTables=Object(external_kbnSharedDeps_Lodash_.flatMap)(getOsqueryTables(),table=>table.name).join("|"),keywords=["select","insert","update","delete","from","where","and","or","group","by","order","limit","offset","having","as","case","when","else","end","type","left","right","join","on","outer","desc","asc","union","create","table","primary","key","if","foreign","not","references","default","null","inner","cross","natural","database","drop","grant"].join("|"),builtinConstants=["true","false"].join("|"),builtinFunctions=["avg","count","first","last","max","min","sum","ucase","lcase","mid","len","round","rank","now","format","coalesce","ifnull","isnull","nvl"].join("|"),dataTypes=["int","numeric","decimal","date","varchar","char","bigint","float","double","bit","binary","text","set","timestamp","money","real","number","integer"].join("|");brace_default.a.define("ace/mode/osquery_highlight_rules",["require","exports","ace/mode/sql_highlight_rules"],(function(acequire,exports){const SqlHighlightRules=acequire("./sql_highlight_rules").SqlHighlightRules;exports.OsqueryHighlightRules=class extends SqlHighlightRules{constructor(...args){super(...args);const keywordMapper=this.createKeywordMapper({"osquery-token":osquery_highlight_rules_osqueryTables,"support.function":builtinFunctions,keyword:keywords,"constant.language":builtinConstants,"storage.type":dataTypes},"identifier",!0);this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:keywordMapper,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]},this.normalizeRules()}}})),brace_default.a.define("ace/mode/osquery",["require","exports","ace/mode/sql","ace/mode/osquery_highlight_rules"],(function(acequire,exports){const TextMode=acequire("./sql").Mode,OsqueryHighlightRules=acequire("./osquery_highlight_rules").OsqueryHighlightRules;class Mode extends TextMode{constructor(...args){super(...args),this.HighlightRules=OsqueryHighlightRules}}Mode.prototype.lineCommentStart="--",Mode.prototype.$id="ace/mode/osquery",exports.Mode=Mode}));const EDITOR_SET_OPTIONS={enableBasicAutocompletion:!0,enableLiveAutocompletion:!0},EDITOR_PROPS={$blockScrolling:!0},OsqueryEditorComponent=({defaultValue:defaultValue,onChange:onChange})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeEditor,{value:defaultValue,mode:"osquery",theme:"tomorrow",onChange:onChange,name:"osquery_editor",setOptions:EDITOR_SET_OPTIONS,editorProps:EDITOR_PROPS,height:"200px",width:"100%"}),OsqueryEditor=external_kbnSharedDeps_React_default.a.memo(OsqueryEditorComponent),LiveQueryQueryFieldComponent=({disabled:disabled,field:field})=>{var _errors$;const{value:value,setValue:setValue,errors:errors}=field,error=null===(_errors$=errors[0])||void 0===_errors$?void 0:_errors$.message,handleEditorChange=Object(external_kbnSharedDeps_React_.useCallback)(newValue=>{setValue(newValue)},[setValue]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{isInvalid:"string"==typeof error,error:error,fullWidth:!0},external_kbnSharedDeps_React_default.a.createElement(OsqueryEditor,{defaultValue:value,disabled:disabled,onChange:handleEditorChange}))},LiveQueryQueryField=external_kbnSharedDeps_React_default.a.memo(LiveQueryQueryFieldComponent);var fleet_public_=__webpack_require__(22);const results_helpers_generateTablePaginationOptions=(activePage,limit)=>({activePage:activePage,cursorStart:activePage*limit,fakePossibleCount:4<=activePage&&activePage>0?limit*(activePage+2):5*limit,querySize:limit}),useAllResults=({actionId:actionId,activePage:activePage,limit:limit,sort:sort,filterQuery:filterQuery,skip:skip=!1,isLive:isLive=!1})=>{const{data:data,notifications:{toasts:toasts}}=Object(kibana.d)().services;return Object(lib.useQuery)(["allActionResults",{actionId:actionId,activePage:activePage,limit:limit,sort:sort}],async()=>{const responseData=await data.search.search({actionId:actionId,factoryQueryType:search_strategy.OsqueryQueries.results,filterQuery:createFilter(filterQuery),pagination:results_helpers_generateTablePaginationOptions(activePage,limit),sort:sort},{strategy:"osquerySearchStrategy"}).toPromise();return{...responseData,inspect:(response=responseData,prevResponse={},{dsl:null!==(_ref=null!==(_response$inspect$dsl=null==response||null===(_response$inspect=response.inspect)||void 0===_response$inspect?void 0:_response$inspect.dsl)&&void 0!==_response$inspect$dsl?_response$inspect$dsl:null==prevResponse?void 0:prevResponse.dsl)&&void 0!==_ref?_ref:[],response:null!=response?[JSON.stringify(response.rawResponse,null,2)]:null==prevResponse?void 0:prevResponse.response})};var response,prevResponse,_ref,_response$inspect$dsl,_response$inspect},{refetchInterval:!!isLive&&1e3,enabled:!skip,onError:error=>toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.results.fetchError",{defaultMessage:"Error while fetching results"})})})},query_client_queryClient=new lib.QueryClient,action_results_helpers_generateTablePaginationOptions=(activePage,limit)=>({activePage:activePage,cursorStart:activePage*limit,fakePossibleCount:4<=activePage&&activePage>0?limit*(activePage+2):5*limit,querySize:limit}),useActionResults=({actionId:actionId,activePage:activePage,agentIds:agentIds,direction:direction,limit:limit,sortField:sortField,filterQuery:filterQuery,skip:skip=!1,isLive:isLive=!1})=>{var _agentIds$length;const{data:data,notifications:{toasts:toasts}}=Object(kibana.d)().services;return Object(lib.useQuery)(["actionResults",{actionId:actionId}],async()=>{var _responseData$rawResp,_responseData$rawResp2,_responseData$rawResp3,_responseData$rawResp4,_responseData$rawResp5,_responseData$rawResp6,_agentIds$map,_aggsBuckets$find$doc,_aggsBuckets$find,_aggsBuckets$find$doc2,_aggsBuckets$find2;const responseData=await data.search.search({actionId:actionId,factoryQueryType:search_strategy.OsqueryQueries.actionResults,filterQuery:createFilter(filterQuery),pagination:action_results_helpers_generateTablePaginationOptions(activePage,limit),sort:{direction:direction,field:sortField}},{strategy:"osquerySearchStrategy"}).toPromise(),totalResponded=null===(_responseData$rawResp=responseData.rawResponse)||void 0===_responseData$rawResp||null===(_responseData$rawResp2=_responseData$rawResp.aggregations)||void 0===_responseData$rawResp2||null===(_responseData$rawResp3=_responseData$rawResp2.aggs.responses_by_action_id)||void 0===_responseData$rawResp3?void 0:_responseData$rawResp3.doc_count,aggsBuckets=null===(_responseData$rawResp4=responseData.rawResponse)||void 0===_responseData$rawResp4||null===(_responseData$rawResp5=_responseData$rawResp4.aggregations)||void 0===_responseData$rawResp5||null===(_responseData$rawResp6=_responseData$rawResp5.aggs.responses_by_action_id)||void 0===_responseData$rawResp6?void 0:_responseData$rawResp6.responses.buckets,cachedData=query_client_queryClient.getQueryData(["actionResults",{actionId:actionId}]),previousEdges=null!=cachedData&&cachedData.edges.length?null==cachedData?void 0:cachedData.edges:null!==(_agentIds$map=null==agentIds?void 0:agentIds.map(agentId=>({fields:{agent_id:[agentId]}})))&&void 0!==_agentIds$map?_agentIds$map:[];return{...responseData,edges:Object(external_kbnSharedDeps_LodashFp_.reverse)(Object(external_kbnSharedDeps_LodashFp_.uniqBy)("fields.agent_id[0]",Object(external_kbnSharedDeps_LodashFp_.flatten)([responseData.edges,previousEdges]))),aggregations:{totalResponded:totalResponded,successful:null!==(_aggsBuckets$find$doc=null===(_aggsBuckets$find=aggsBuckets.find(bucket=>"success"===bucket.key))||void 0===_aggsBuckets$find?void 0:_aggsBuckets$find.doc_count)&&void 0!==_aggsBuckets$find$doc?_aggsBuckets$find$doc:0,failed:null!==(_aggsBuckets$find$doc2=null===(_aggsBuckets$find2=aggsBuckets.find(bucket=>"error"===bucket.key))||void 0===_aggsBuckets$find2?void 0:_aggsBuckets$find2.doc_count)&&void 0!==_aggsBuckets$find$doc2?_aggsBuckets$find$doc2:0},inspect:(response=responseData,prevResponse={},{dsl:null!==(_ref=null!==(_response$inspect$dsl=null==response||null===(_response$inspect=response.inspect)||void 0===_response$inspect?void 0:_response$inspect.dsl)&&void 0!==_response$inspect$dsl?_response$inspect$dsl:null==prevResponse?void 0:prevResponse.dsl)&&void 0!==_ref?_ref:[],response:null!=response?[JSON.stringify(response.rawResponse,null,2)]:null==prevResponse?void 0:prevResponse.response})};var response,prevResponse,_ref,_response$inspect$dsl,_response$inspect},{initialData:{edges:[],aggregations:{totalResponded:0,successful:0,pending:null!==(_agentIds$length=null==agentIds?void 0:agentIds.length)&&void 0!==_agentIds$length?_agentIds$length:0,failed:0}},refetchInterval:!!isLive&&1e3,keepPreviousData:!0,enabled:!skip&&!(null==agentIds||!agentIds.length),onError:error=>toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.action_results.fetchError",{defaultMessage:"Error while fetching action results"})})})};external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.results.errorSearchDescription",{defaultMessage:"An error has occurred on all results search"}),external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.results.failSearchDescription",{defaultMessage:"Failed to fetch results"});var scheduled_query_group_queries_table=__webpack_require__(48);const DataContext=Object(external_kbnSharedDeps_React_.createContext)([]),ResultsTableComponent=({actionId:actionId,agentIds:agentIds,isLive:isLive,startDate:startDate,endDate:endDate})=>{var _allResultsData$total;const{data:{aggregations:aggregations}}=useActionResults({actionId:actionId,activePage:0,agentIds:agentIds,limit:0,direction:search_strategy.Direction.asc,sortField:"@timestamp",isLive:isLive}),{getUrlForApp:getUrlForApp}=Object(kibana.d)().services.application,getFleetAppUrl=Object(external_kbnSharedDeps_React_.useCallback)(agentId=>getUrlForApp("fleet",{path:"#"+fleet_public_.pagePathGetters.fleet_agent_details({agentId:agentId})}),[getUrlForApp]),[pagination,setPagination]=Object(external_kbnSharedDeps_React_.useState)({pageIndex:0,pageSize:50}),onChangeItemsPerPage=Object(external_kbnSharedDeps_React_.useCallback)(pageSize=>setPagination(currentPagination=>({...currentPagination,pageSize:pageSize,pageIndex:0})),[setPagination]),onChangePage=Object(external_kbnSharedDeps_React_.useCallback)(pageIndex=>setPagination(currentPagination=>({...currentPagination,pageIndex:pageIndex})),[setPagination]),[sortingColumns,setSortingColumns]=Object(external_kbnSharedDeps_React_.useState)([{id:"agent.name",direction:search_strategy.Direction.asc}]),[columns,setColumns]=Object(external_kbnSharedDeps_React_.useState)([]),{data:allResultsData,isFetched:isFetched}=useAllResults({actionId:actionId,activePage:pagination.pageIndex,limit:pagination.pageSize,isLive:isLive,sort:sortingColumns.map(sortedColumn=>({field:sortedColumn.id,direction:sortedColumn.direction}))}),[visibleColumns,setVisibleColumns]=Object(external_kbnSharedDeps_React_.useState)([]),columnVisibility=Object(external_kbnSharedDeps_React_.useMemo)(()=>({visibleColumns:visibleColumns,setVisibleColumns:setVisibleColumns}),[visibleColumns,setVisibleColumns]),renderCellValue=Object(external_kbnSharedDeps_React_.useMemo)(()=>({rowIndex:rowIndex,columnId:columnId})=>{var _data;const data=Object(external_kbnSharedDeps_React_.useContext)(DataContext),value=null===(_data=data[rowIndex%pagination.pageSize])||void 0===_data?void 0:_data.fields[columnId];if("agent.name"===columnId){var _data2;const agentIdValue=null===(_data2=data[rowIndex%pagination.pageSize])||void 0===_data2?void 0:_data2.fields["agent.id"];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:getFleetAppUrl(agentIdValue)},value)}return Object(external_kbnSharedDeps_LodashFp_.isEmpty)(value)?"-":value},[getFleetAppUrl,pagination.pageSize]),tableSorting=Object(external_kbnSharedDeps_React_.useMemo)(()=>({columns:sortingColumns,onSort:setSortingColumns}),[sortingColumns]),tablePagination=Object(external_kbnSharedDeps_React_.useMemo)(()=>({...pagination,pageSizeOptions:[10,50,100],onChangeItemsPerPage:onChangeItemsPerPage,onChangePage:onChangePage}),[onChangeItemsPerPage,onChangePage,pagination]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{var _allResultsData$edges;if(null==allResultsData||!allResultsData.edges)return;const newColumns=Object(external_kbnSharedDeps_LodashFp_.keys)(null==allResultsData||null===(_allResultsData$edges=allResultsData.edges[0])||void 0===_allResultsData$edges?void 0:_allResultsData$edges.fields).sort().reduce((acc,fieldName)=>{const{data:data,seen:seen}=acc;if("agent.name"===fieldName)return data.push({id:fieldName,displayAsText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryResults.table.agentColumnTitle",{defaultMessage:"agent"}),defaultSortDirection:search_strategy.Direction.asc}),acc;if(fieldName.startsWith("osquery.")){const displayAsText=fieldName.split(".")[1];return seen.has(displayAsText)||(data.push({id:fieldName,displayAsText:displayAsText,defaultSortDirection:search_strategy.Direction.asc}),seen.add(displayAsText)),acc}return acc},{data:[],seen:new Set}).data;Object(external_kbnSharedDeps_LodashFp_.isEqual)(columns,newColumns)||(setColumns(newColumns),setVisibleColumns(Object(external_kbnSharedDeps_LodashFp_.map)("id",newColumns)))},[columns,null==allResultsData?void 0:allResultsData.edges]);const toolbarVisibility=Object(external_kbnSharedDeps_React_.useMemo)(()=>({additionalControls:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(scheduled_query_group_queries_table.c,{actionId:actionId,buttonType:scheduled_query_group_queries_table.b.button,endDate:endDate,startDate:startDate}),external_kbnSharedDeps_React_default.a.createElement(scheduled_query_group_queries_table.d,{actionId:actionId,buttonType:scheduled_query_group_queries_table.b.button,endDate:endDate,startDate:startDate}))}),[actionId,endDate,startDate]);return aggregations.totalResponded?!aggregations.totalResponded||!isFetched||null!=allResultsData&&allResultsData.edges.length?external_kbnSharedDeps_React_default.a.createElement(DataContext.Provider,{value:null==allResultsData?void 0:allResultsData.edges},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDataGrid,{"aria-label":"Osquery results",columns:columns,columnVisibility:columnVisibility,rowCount:null!==(_allResultsData$total=null==allResultsData?void 0:allResultsData.totalCount)&&void 0!==_allResultsData$total?_allResultsData$total:0,renderCellValue:renderCellValue,sorting:tableSorting,pagination:tablePagination,height:"500px",toolbarVisibility:toolbarVisibility})):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:(agentsResponded=aggregations.totalResponded,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.results.multipleAgentsResponded",{defaultMessage:"{agentsResponded, plural, one {# agent has} other {# agents have}} responded, but no osquery data has been reported.",values:{agentsResponded:agentsResponded}}))}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLoadingContent,{lines:5});var agentsResponded},ResultsTable=external_kbnSharedDeps_React_default.a.memo(ResultsTableComponent),StyledEuiCard=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_.EuiCard).withConfig({displayName:"StyledEuiCard",componentId:"sc-1w0amq2-0"})(["position:relative;"]),renderErrorMessage=error=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{language:"shell",fontSize:"s",paddingSize:"none",transparentBackground:!0},error),ActionResultsSummaryComponent=({actionId:actionId,agentIds:agentIds,isLive:isLive})=>{const getUrlForApp=Object(kibana.d)().services.application.getUrlForApp,[pageIndex,setPageIndex]=Object(external_kbnSharedDeps_React_.useState)(0),[pageSize,setPageSize]=Object(external_kbnSharedDeps_React_.useState)(50),{data:{aggregations:aggregations,edges:edges}}=useActionResults({actionId:actionId,activePage:pageIndex,agentIds:agentIds,limit:pageSize,direction:search_strategy.Direction.asc,sortField:"@timestamp",isLive:isLive}),{data:logsResults}=useAllResults({actionId:actionId,activePage:pageIndex,limit:pageSize,sort:[{field:"@timestamp",direction:search_strategy.Direction.asc}],isLive:isLive}),notRespondedCount=Object(external_kbnSharedDeps_React_.useMemo)(()=>agentIds&&aggregations.totalResponded?agentIds.length-aggregations.totalResponded:"-",[aggregations.totalResponded,agentIds]),listItems=Object(external_kbnSharedDeps_React_.useMemo)(()=>[{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActionResults.summary.agentsQueriedLabelText",{defaultMessage:"Agents queried"}),description:null==agentIds?void 0:agentIds.length},{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActionResults.summary.successfulLabelText",{defaultMessage:"Successful"}),description:aggregations.successful},{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActionResults.summary.pendingLabelText",{defaultMessage:"Not yet responded"}),description:notRespondedCount},{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActionResults.summary.failedLabelText",{defaultMessage:"Failed"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextColor,{color:aggregations.failed?"danger":"default"},aggregations.failed)}],[agentIds,aggregations.failed,aggregations.successful,notRespondedCount]),renderAgentIdColumn=Object(external_kbnSharedDeps_React_.useCallback)(agentId=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{className:"eui-textTruncate",href:getUrlForApp("fleet",{path:"#"+fleet_public_.pagePathGetters.fleet_agent_details({agentId:agentId})}),target:"_blank"},agentId),[getUrlForApp]),renderRowsColumn=Object(external_kbnSharedDeps_React_.useCallback)((_,item)=>{var _logsResults$rawRespo,_logsResults$rawRespo2,_logsResults$rawRespo3,_logsResults$rawRespo4,_logsResults$rawRespo5,_logsResults$rawRespo6;if(!logsResults)return"-";const agentId=item.fields.agent_id[0];return null!==(_logsResults$rawRespo=null==logsResults||null===(_logsResults$rawRespo2=logsResults.rawResponse)||void 0===_logsResults$rawRespo2||null===(_logsResults$rawRespo3=_logsResults$rawRespo2.aggregations)||void 0===_logsResults$rawRespo3||null===(_logsResults$rawRespo4=_logsResults$rawRespo3.count_by_agent_id)||void 0===_logsResults$rawRespo4||null===(_logsResults$rawRespo5=_logsResults$rawRespo4.buckets)||void 0===_logsResults$rawRespo5||null===(_logsResults$rawRespo6=_logsResults$rawRespo5.find(bucket=>bucket.key===agentId))||void 0===_logsResults$rawRespo6?void 0:_logsResults$rawRespo6.doc_count)&&void 0!==_logsResults$rawRespo?_logsResults$rawRespo:"-"},[logsResults]),renderStatusColumn=Object(external_kbnSharedDeps_React_.useCallback)((_,item)=>item.fields.completed_at?item.fields["error.keyword"]?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActionResults.table.errorStatusText",{defaultMessage:"error"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActionResults.table.successStatusText",{defaultMessage:"success"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActionResults.table.pendingStatusText",{defaultMessage:"pending"}),[]),columns=Object(external_kbnSharedDeps_React_.useMemo)(()=>[{field:"status",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActionResults.table.statusColumnTitle",{defaultMessage:"Status"}),render:renderStatusColumn},{field:"fields.agent_id[0]",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActionResults.table.agentIdColumnTitle",{defaultMessage:"Agent Id"}),truncateText:!0,render:renderAgentIdColumn},{field:"fields.rows[0]",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActionResults.table.resultRowsNumberColumnTitle",{defaultMessage:"Number of result rows"}),render:renderRowsColumn},{field:"fields.error[0]",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryActionResults.table.errorColumnTitle",{defaultMessage:"Error"}),render:renderErrorMessage}],[renderAgentIdColumn,renderRowsColumn,renderStatusColumn]),pagination=Object(external_kbnSharedDeps_React_.useMemo)(()=>({initialPageSize:20,pageSizeOptions:[10,20,50,100]}),[]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(StyledEuiCard,{title:"",description:"",textAlign:"left"},notRespondedCount?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiProgress,{size:"xs",position:"absolute"}):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{compressed:!0,textStyle:"reverse",type:"responsiveColumn",listItems:listItems})))),edges.length?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiInMemoryTable,{items:edges,columns:columns,pagination:pagination})):null)},ActionResultsSummary=external_kbnSharedDeps_React_default.a.memo(ActionResultsSummaryComponent),ResultTabsComponent=({actionId:actionId,agentIds:agentIds,endDate:endDate,isLive:isLive,startDate:startDate})=>{const tabs=Object(external_kbnSharedDeps_React_.useMemo)(()=>[{id:"status",name:"Status",content:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(ActionResultsSummary,{actionId:actionId,agentIds:agentIds,isLive:isLive}))},{id:"results",name:"Results",content:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(ResultsTable,{actionId:actionId,agentIds:agentIds,isLive:isLive,startDate:startDate,endDate:endDate}))}],[actionId,agentIds,endDate,isLive,startDate]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTabbedContent,{tabs:tabs,initialSelectedTab:tabs[0],autoFocus:"selected",expand:!1})},ResultTabs=external_kbnSharedDeps_React_default.a.memo(ResultTabsComponent),queryFieldValidation=helpers_.fieldValidators.emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.queryFlyoutForm.emptyQueryError",{defaultMessage:"Query is a required field"})),LiveQueryFormComponent=({defaultValue:defaultValue,onSuccess:onSuccess})=>{const{http:http,notifications:{toasts:toasts}}=Object(kibana.d)().services,{data:data,isLoading:isLoading,mutateAsync:mutateAsync,isError:isError,isSuccess:isSuccess}=Object(lib.useMutation)(payload=>http.post("/internal/osquery/action",{body:JSON.stringify(payload)}),{onSuccess:onSuccess,onError:error=>{toasts.addError(error,{title:error.body.error,toastMessage:error.body.message})}}),formSchema={query:{type:hook_form_lib_.FIELD_TYPES.TEXT,validations:[{validator:helpers_.fieldValidators.maxLengthField({length:2e3,message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQuery.queryForm.largeQueryError",{defaultMessage:"Query is too large (max {maxLength} characters)",values:{maxLength:2e3}})})},{validator:queryFieldValidation}]}},{form:form}=Object(hook_form_lib_.useForm)({id:"liveQueryForm",schema:formSchema,onSubmit:payload=>mutateAsync(payload),options:{stripEmptyFields:!1},defaultValue:null!=defaultValue?defaultValue:{query:""}}),{submit:submit}=form,actionId=Object(external_kbnSharedDeps_React_.useMemo)(()=>null==data?void 0:data.actions[0].action_id,[null==data?void 0:data.actions]),agentIds=Object(external_kbnSharedDeps_React_.useMemo)(()=>null==data?void 0:data.actions[0].agents,[null==data?void 0:data.actions]),[{agentSelection:agentSelection,query:query}]=Object(hook_form_lib_.useFormData)({form:form,watch:["agentSelection","query"]}),agentSelected=Object(external_kbnSharedDeps_React_.useMemo)(()=>{var _agentSelection$agent,_agentSelection$platf,_agentSelection$polic;return agentSelection&&!!(agentSelection.allAgentsSelected||null!==(_agentSelection$agent=agentSelection.agents)&&void 0!==_agentSelection$agent&&_agentSelection$agent.length||null!==(_agentSelection$platf=agentSelection.platformsSelected)&&void 0!==_agentSelection$platf&&_agentSelection$platf.length||null!==(_agentSelection$polic=agentSelection.policiesSelected)&&void 0!==_agentSelection$polic&&_agentSelection$polic.length)},[agentSelection]),queryValueProvided=Object(external_kbnSharedDeps_React_.useMemo)(()=>!(null==query||!query.length),[query]),queryStatus=Object(external_kbnSharedDeps_React_.useMemo)(()=>agentSelected?isError||!form.getFields().query.isValid?"danger":isLoading?"loading":isSuccess?"complete":"incomplete":"disabled",[agentSelected,isError,isLoading,isSuccess,form]),resultsStatus=Object(external_kbnSharedDeps_React_.useMemo)(()=>"complete"===queryStatus?"incomplete":"disabled",[queryStatus]),queryComponentProps=Object(external_kbnSharedDeps_React_.useMemo)(()=>({disabled:"disabled"===queryStatus}),[queryStatus]),formSteps=Object(external_kbnSharedDeps_React_.useMemo)(()=>[{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryForm.steps.agentsStepHeading",{defaultMessage:"Select agents"}),children:external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"agentSelection",component:AgentsTableField}),status:agentSelected?"complete":"incomplete"},{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryForm.steps.queryStepHeading",{defaultMessage:"Enter query"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"query",component:LiveQueryQueryField,componentProps:queryComponentProps}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{disabled:!agentSelected||!queryValueProvided,onClick:submit},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.liveQueryForm.form.submitButtonLabel",defaultMessage:"Submit"}))))),status:queryStatus},{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.liveQueryForm.steps.resultsStepHeading",{defaultMessage:"Check results"}),children:actionId?external_kbnSharedDeps_React_default.a.createElement(ResultTabs,{actionId:actionId,agentIds:agentIds,isLive:!0}):null,status:resultsStatus}],[actionId,agentIds,agentSelected,queryComponentProps,queryStatus,queryValueProvided,resultsStatus,submit]);return external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.Form,{form:form},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSteps,{steps:formSteps}))},LiveQueryForm=external_kbnSharedDeps_React_default.a.memo(LiveQueryFormComponent),LiveQueryComponent=({defaultValue:defaultValue,onSuccess:onSuccess})=>external_kbnSharedDeps_React_default.a.createElement(LiveQueryForm,{defaultValue:defaultValue,onSuccess:onSuccess}),LiveQuery=external_kbnSharedDeps_React_default.a.memo(LiveQueryComponent);function new_extends(){return(new_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const NewLiveQueryPageComponent=()=>{useBreadcrumbs("live_query_new");const location=Object(external_kbnSharedDeps_ReactRouterDom_.useLocation)(),liveQueryListProps=Object(kibana.e)("live_queries"),formDefaultValue=Object(external_kbnSharedDeps_React_.useMemo)(()=>{const queryParams=query_string_default.a.parse(location.search);if(null!=queryParams&&queryParams.agentPolicyId)return{agentSelection:{allAgentsSelected:!1,agents:[],platformsSelected:[],policiesSelected:[null==queryParams?void 0:queryParams.agentPolicyId]}}},[location.search]),LeftColumn=Object(external_kbnSharedDeps_React_.useMemo)(()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"flexStart",direction:"column",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,new_extends({iconType:"arrowLeft"},liveQueryListProps,{flush:"left",size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.newLiveQuery.viewLiveQueriesHistoryTitle",defaultMessage:"View live queries history"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(BetaBadgeRowWrapper,null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.newLiveQuery.pageTitle",defaultMessage:"New live query"})),external_kbnSharedDeps_React_default.a.createElement(BetaBadge,null)))),[liveQueryListProps]);return external_kbnSharedDeps_React_default.a.createElement(WithHeaderLayout,{leftColumn:LeftColumn},external_kbnSharedDeps_React_default.a.createElement(LiveQuery,{defaultValue:formDefaultValue}))},NewLiveQueryPage=external_kbnSharedDeps_React_default.a.memo(NewLiveQueryPageComponent);function details_extends(){return(details_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const Divider=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Divider",componentId:"sc-1aalhiv-0"})(["width:0;height:100%;border-left:",";"],({theme:theme})=>theme.eui.euiBorderThin),LiveQueryDetailsPageComponent=()=>{var _data$actionDetails2,_data$actionDetails2$,_data$actionDetails2$2,_data$actionDetails$_,_data$actionDetails$_2,_data$actionDetails3,_data$actionDetails3$;const{actionId:actionId}=Object(external_kbnSharedDeps_ReactRouterDom_.useParams)();useBreadcrumbs("live_query_details",{liveQueryId:actionId});const liveQueryListProps=Object(kibana.e)("live_queries"),{data:data}=(({actionId:actionId,filterQuery:filterQuery,skip:skip=!1})=>{const{data:data,notifications:{toasts:toasts}}=Object(kibana.d)().services;return Object(lib.useQuery)(["actionDetails",{actionId:actionId,filterQuery:filterQuery}],async()=>{const responseData=await data.search.search({actionId:actionId,factoryQueryType:search_strategy.OsqueryQueries.actionDetails,filterQuery:createFilter(filterQuery)},{strategy:"osquerySearchStrategy"}).toPromise();return{...responseData,inspect:getInspectResponse(responseData,{})}},{enabled:!skip,onError:error=>toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.action_details.fetchError",{defaultMessage:"Error while fetching action details"})})})})({actionId:actionId}),{data:actionResultsData}=useActionResults({actionId:actionId,activePage:0,limit:0,direction:search_strategy.Direction.asc,sortField:"@timestamp"}),LeftColumn=Object(external_kbnSharedDeps_React_.useMemo)(()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"flexStart",direction:"column",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,details_extends({iconType:"arrowLeft"},liveQueryListProps,{flush:"left",size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.liveQueryDetails.viewLiveQueriesHistoryTitle",defaultMessage:"View live queries history"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(BetaBadgeRowWrapper,null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.liveQueryDetails.pageTitle",defaultMessage:"Live query details"})),external_kbnSharedDeps_React_default.a.createElement(BetaBadge,null)))),[liveQueryListProps]),RightColumn=Object(external_kbnSharedDeps_React_.useMemo)(()=>{var _data$actionDetails$f,_data$actionDetails,_data$actionDetails$f2,_data$actionDetails$f3;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"flexEnd",direction:"row"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,key:"rows_count"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,key:"rows_count_divider"},external_kbnSharedDeps_React_default.a.createElement(Divider,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,key:"agents_count"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{compressed:!0,textStyle:"reverse",style:{textAlign:"right"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,{className:"eui-textNoWrap"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.liveQueryDetails.kpis.agentsQueriedLabelText",defaultMessage:"Agents queried"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,{className:"eui-textNoWrap"},null!==(_data$actionDetails$f=null==data||null===(_data$actionDetails=data.actionDetails)||void 0===_data$actionDetails||null===(_data$actionDetails$f2=_data$actionDetails.fields)||void 0===_data$actionDetails$f2||null===(_data$actionDetails$f3=_data$actionDetails$f2.agents)||void 0===_data$actionDetails$f3?void 0:_data$actionDetails$f3.length)&&void 0!==_data$actionDetails$f?_data$actionDetails$f:"0"))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,key:"agents_count_divider"},external_kbnSharedDeps_React_default.a.createElement(Divider,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,key:"agents_failed_count"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{compressed:!0,textStyle:"reverse",style:{textAlign:"right"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,{className:"eui-textNoWrap"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.liveQueryDetails.kpis.agentsFailedCountLabelText",defaultMessage:"Agents failed"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,{className:"eui-textNoWrap"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextColor,{color:null!=actionResultsData&&actionResultsData.aggregations.failed?"danger":"default"},null==actionResultsData?void 0:actionResultsData.aggregations.failed)))))},[null==actionResultsData?void 0:actionResultsData.aggregations.failed,null==data||null===(_data$actionDetails2=data.actionDetails)||void 0===_data$actionDetails2||null===(_data$actionDetails2$=_data$actionDetails2.fields)||void 0===_data$actionDetails2$||null===(_data$actionDetails2$2=_data$actionDetails2$.agents)||void 0===_data$actionDetails2$2?void 0:_data$actionDetails2$2.length]);return external_kbnSharedDeps_React_default.a.createElement(WithHeaderLayout,{leftColumn:LeftColumn,rightColumn:RightColumn,rightColumnGrow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{language:"sql",fontSize:"m",paddingSize:"m"},null==data||null===(_data$actionDetails$_=data.actionDetails._source)||void 0===_data$actionDetails$_||null===(_data$actionDetails$_2=_data$actionDetails$_.data)||void 0===_data$actionDetails$_2?void 0:_data$actionDetails$_2.query),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(ResultTabs,{actionId:actionId,agentIds:null==data||null===(_data$actionDetails3=data.actionDetails)||void 0===_data$actionDetails3||null===(_data$actionDetails3$=_data$actionDetails3.fields)||void 0===_data$actionDetails3$?void 0:_data$actionDetails3$.agents,startDate:Object(external_kbnSharedDeps_Lodash_.get)(data,["actionDetails","fields","@timestamp","0"]),endDate:Object(external_kbnSharedDeps_Lodash_.get)(data,"actionDetails.fields.expiration[0]")}))},LiveQueryDetailsPage=external_kbnSharedDeps_React_default.a.memo(LiveQueryDetailsPageComponent),LiveQueriesComponent=()=>{useBreadcrumbs("live_queries");const match=Object(external_kbnSharedDeps_ReactRouterDom_.useRouteMatch)();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Switch,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{path:match.url+"/new"},external_kbnSharedDeps_React_default.a.createElement(NewLiveQueryPage,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{path:match.url+"/:actionId"},external_kbnSharedDeps_React_default.a.createElement(LiveQueryDetailsPage,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{path:""+match.url},external_kbnSharedDeps_React_default.a.createElement(LiveQueriesPage,null)))},LiveQueries=external_kbnSharedDeps_React_default.a.memo(LiveQueriesComponent);var dist=__webpack_require__(43);const useAgentPolicy=({policyId:policyId,skip:skip})=>{const{http:http,notifications:{toasts:toasts}}=Object(kibana.d)().services;return Object(lib.useQuery)(["agentPolicy",{policyId:policyId}],()=>http.get(common_.agentPolicyRouteService.getInfoPath(policyId)),{enabled:!skip,keepPreviousData:!0,select:response=>response.item,onError:error=>toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agent_policy_details.fetchError",{defaultMessage:"Error while fetching agent policy details"})})})},ConfirmDeployAgentPolicyModalComponent=({onConfirm:onConfirm,onCancel:onCancel,agentCount:agentCount,agentPolicy:agentPolicy})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiConfirmModal,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.agentPolicy.confirmModalTitle",defaultMessage:"Save and deploy changes"}),onCancel:onCancel,onConfirm:onConfirm,cancelButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.agentPolicy.confirmModalCancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.agentPolicy.confirmModalConfirmButtonLabel",defaultMessage:"Save and deploy changes"}),buttonColor:"primary"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{iconType:"iInCircle",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agentPolicy.confirmModalCalloutTitle",{defaultMessage:"This action will update {agentCount, plural, one {# agent} other {# agents}}",values:{agentCount:agentCount}})},external_kbnSharedDeps_React_default.a.createElement("div",{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.agentPolicy.confirmModalCalloutDescription",defaultMessage:"Fleet has detected that the selected agent policy, {policyName}, is already in use by some of your agents. As a result of this action, Fleet will deploy updates to all agents that use this policy.",values:{policyName:external_kbnSharedDeps_React_default.a.createElement("b",null,agentPolicy.name)}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.agentPolicy.confirmModalDescription",defaultMessage:"Are you sure you wish to continue?"})),ConfirmDeployAgentPolicyModal=external_kbnSharedDeps_React_default.a.memo(ConfirmDeployAgentPolicyModalComponent),StyledEuiLoadingSpinner=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_.EuiLoadingSpinner).withConfig({displayName:"StyledEuiLoadingSpinner",componentId:"hk997u-0"})(["margin-right:",";"],({theme:theme})=>theme.eui.paddingSizes.s),ActiveStateSwitchComponent=({item:item})=>{const queryClient=Object(lib.useQueryClient)(),{http:http,notifications:{toasts:toasts}}=Object(kibana.d)().services,[confirmationModal,setConfirmationModal]=Object(external_kbnSharedDeps_React_.useState)(!1),hideConfirmationModal=Object(external_kbnSharedDeps_React_.useCallback)(()=>setConfirmationModal(!1),[]),{data:agentStatus}=(({policyId:policyId,skip:skip})=>{const{http:http,notifications:{toasts:toasts}}=Object(kibana.d)().services;return Object(lib.useQuery)(["agentStatus",policyId],()=>http.get(common_.agentRouteService.getStatusPath(),policyId?{query:{policyId:policyId}}:{}),{enabled:!skip,select:response=>response.results,onError:error=>toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agent_status.fetchError",{defaultMessage:"Error while fetching agent status"})})})})({policyId:item.policy_id}),{data:agentPolicy}=useAgentPolicy({policyId:item.policy_id}),{isLoading:isLoading,mutate:mutate}=Object(lib.useMutation)(({id:id,...payload})=>http.put(common_.packagePolicyRouteService.getUpdatePath(id),{body:JSON.stringify(payload)}),{onSuccess:response=>{queryClient.invalidateQueries("scheduledQueries"),toasts.addSuccess(response.item.enabled?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.table.activatedSuccessToastMessageText",{defaultMessage:"Successfully activated {scheduledQueryGroupName}",values:{scheduledQueryGroupName:response.item.name}}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.table.deactivatedSuccessToastMessageText",{defaultMessage:"Successfully deactivated {scheduledQueryGroupName}",values:{scheduledQueryGroupName:response.item.name}}))},onError:error=>{toasts.addError(error,{title:error.body.error,toastMessage:error.body.message})}}),handleToggleActive=Object(external_kbnSharedDeps_React_.useCallback)(()=>{const updatedPolicy=Object(dist.produce)(item,draft=>(delete draft.revision,delete draft.updated_at,delete draft.updated_by,delete draft.created_at,delete draft.created_by,draft.enabled=!item.enabled,draft.inputs[0].streams.forEach(stream=>{delete stream.compiled_stream}),draft));mutate(updatedPolicy),hideConfirmationModal()},[hideConfirmationModal,item,mutate]),handleToggleActiveClick=Object(external_kbnSharedDeps_React_.useCallback)(()=>{if(null!=agentStatus&&agentStatus.total)return setConfirmationModal(!0);handleToggleActive()},[null==agentStatus?void 0:agentStatus.total,handleToggleActive]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,isLoading&&external_kbnSharedDeps_React_default.a.createElement(StyledEuiLoadingSpinner,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSwitch,{checked:item.enabled,disabled:isLoading,showLabel:!1,label:"",onChange:handleToggleActiveClick}),confirmationModal&&(null==agentStatus?void 0:agentStatus.total)&&external_kbnSharedDeps_React_default.a.createElement(ConfirmDeployAgentPolicyModal,{onConfirm:handleToggleActive,onCancel:hideConfirmationModal,agentCount:null==agentStatus?void 0:agentStatus.total,agentPolicy:agentPolicy}))},ActiveStateSwitch=external_kbnSharedDeps_React_default.a.memo(ActiveStateSwitchComponent),AgentsPolicyLinkComponent=({policyId:policyId})=>{var _data$name;const{application:{getUrlForApp:getUrlForApp,navigateToApp:navigateToApp}}=Object(kibana.d)().services,{data:data}=useAgentPolicy({policyId:policyId}),href=Object(external_kbnSharedDeps_React_.useMemo)(()=>getUrlForApp("fleet",{path:"#"+fleet_public_.pagePathGetters.policy_details({policyId:policyId})}),[getUrlForApp,policyId]),handleClick=Object(external_kbnSharedDeps_React_.useCallback)(event=>{if(!Object(kibana.c)(event)&&Object(kibana.b)(event))return event.preventDefault(),navigateToApp("fleet",{path:"#"+fleet_public_.pagePathGetters.policy_details({policyId:policyId})})},[navigateToApp,policyId]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:href,onClick:handleClick},null!==(_data$name=null==data?void 0:data.name)&&void 0!==_data$name?_data$name:policyId)},AgentsPolicyLink=external_kbnSharedDeps_React_default.a.memo(AgentsPolicyLinkComponent),ScheduledQueryNameComponent=({id:id,name:name})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,Object(kibana.e)("scheduled_query_groups/"+id),name),ScheduledQueryName=external_kbnSharedDeps_React_default.a.memo(ScheduledQueryNameComponent),renderName=(_,item)=>external_kbnSharedDeps_React_default.a.createElement(ScheduledQueryName,{id:item.id,name:item.name}),ScheduledQueryGroupsTableComponent=()=>{var _data$items;const{data:data}=(()=>{const{http:http}=Object(kibana.d)().services;return Object(lib.useQuery)(["scheduledQueries"],()=>http.get(common_.packagePolicyRouteService.getListPath(),{query:{page:1,perPage:1e4,kuery:`${common_.PACKAGE_POLICY_SAVED_OBJECT_TYPE}.package.name: ${common.OSQUERY_INTEGRATION_NAME}`}}),{keepPreviousData:!0,select:Object(dist.produce)(draft=>{draft.items=draft.items.filter(item=>!(1===item.inputs[0].streams.length&&!item.inputs[0].streams[0].compiled_stream.query))})})})(),renderAgentPolicy=Object(external_kbnSharedDeps_React_.useCallback)(policyId=>external_kbnSharedDeps_React_default.a.createElement(AgentsPolicyLink,{policyId:policyId}),[]),renderQueries=Object(external_kbnSharedDeps_React_.useCallback)(streams=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,streams.length),[]),renderActive=Object(external_kbnSharedDeps_React_.useCallback)((_,item)=>external_kbnSharedDeps_React_default.a.createElement(ActiveStateSwitch,{item:item}),[]),columns=Object(external_kbnSharedDeps_React_.useMemo)(()=>[{field:"name",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroups.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,render:renderName},{field:"policy_id",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroups.table.policyColumnTitle",{defaultMessage:"Policy"}),truncateText:!0,render:renderAgentPolicy},{field:"inputs[0].streams",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroups.table.numberOfQueriesColumnTitle",{defaultMessage:"Number of queries"}),render:renderQueries,width:"150px"},{field:"enabled",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroups.table.activeColumnTitle",{defaultMessage:"Active"}),sortable:!0,align:"right",width:"80px",render:renderActive}],[renderActive,renderAgentPolicy,renderQueries]),sorting=Object(external_kbnSharedDeps_React_.useMemo)(()=>({sort:{field:"name",direction:"asc"}}),[]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiInMemoryTable,{items:null!==(_data$items=null==data?void 0:data.items)&&void 0!==_data$items?_data$items:[],columns:columns,pagination:!0,sorting:sorting})},ScheduledQueryGroupsTable=external_kbnSharedDeps_React_default.a.memo(ScheduledQueryGroupsTableComponent);function scheduled_query_groups_list_extends(){return(scheduled_query_groups_list_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const ScheduledQueryGroupsPageComponent=()=>{const newQueryLinkProps=Object(kibana.e)("scheduled_query_groups/add"),LeftColumn=Object(external_kbnSharedDeps_React_.useMemo)(()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{direction:"column",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(BetaBadgeRowWrapper,null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryList.pageTitle",defaultMessage:"Scheduled query groups"})),external_kbnSharedDeps_React_default.a.createElement(BetaBadge,null)))),[]),RightColumn=Object(external_kbnSharedDeps_React_.useMemo)(()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,scheduled_query_groups_list_extends({fill:!0},newQueryLinkProps,{iconType:"plusInCircle"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryList.addScheduledQueryButtonLabel",defaultMessage:"Add scheduled query group"})),[newQueryLinkProps]);return external_kbnSharedDeps_React_default.a.createElement(WithHeaderLayout,{leftColumn:LeftColumn,rightColumn:RightColumn,rightColumnGrow:!1},external_kbnSharedDeps_React_default.a.createElement(ScheduledQueryGroupsTable,null))},ScheduledQueryGroupsPage=external_kbnSharedDeps_React_default.a.memo(ScheduledQueryGroupsPageComponent),AgentPolicyNameColumn=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_.EuiFlexItem).withConfig({displayName:"AgentPolicyNameColumn",componentId:"sc-1u14bid-0"})(["max-width:",";overflow:hidden;"],props=>props.grow/9*100+"%"),AgentPolicyDescriptionColumn=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_.EuiFlexItem).withConfig({displayName:"AgentPolicyDescriptionColumn",componentId:"sc-1u14bid-1"})(["max-width:",";overflow:hidden;"],props=>props.grow/9*100+"%"),PolicyIdComboBoxFieldComponent=({euiFieldProps:euiFieldProps,field:field,agentPoliciesById:agentPoliciesById})=>{const{value:value}=field,renderOption=Object(external_kbnSharedDeps_React_.useCallback)(option=>{var _ref,_agentPoliciesById$op,_ref2,_ref3,_agentPoliciesById$op2;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,null,external_kbnSharedDeps_React_default.a.createElement(AgentPolicyNameColumn,{grow:2},external_kbnSharedDeps_React_default.a.createElement("span",{className:"eui-textTruncate"},null!==(_ref=option.key&&(null===(_agentPoliciesById$op=agentPoliciesById[option.key])||void 0===_agentPoliciesById$op?void 0:_agentPoliciesById$op.name))&&void 0!==_ref?_ref:option.label)),external_kbnSharedDeps_React_default.a.createElement(AgentPolicyDescriptionColumn,{grow:5},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextColor,{className:"eui-textTruncate",color:"subdued"},null!==(_ref2=option.key&&agentPoliciesById[option.key].description)&&void 0!==_ref2?_ref2:"")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:2,className:"eui-textRight"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextColor,{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.createScheduledQuery.agentPolicyAgentsCountText",defaultMessage:"{count, plural, one {# agent} other {# agents}} enrolled",values:{count:null!==(_ref3=option.key&&(null===(_agentPoliciesById$op2=agentPoliciesById[option.key])||void 0===_agentPoliciesById$op2?void 0:_agentPoliciesById$op2.agents))&&void 0!==_ref3?_ref3:0}}))))},[agentPoliciesById]),selectedOptions=Object(external_kbnSharedDeps_React_.useMemo)(()=>null!=value&&value.length&&value[0].length?value.map(policyId=>{var _agentPoliciesById$po,_agentPoliciesById$po2;return{label:null!==(_agentPoliciesById$po=null===(_agentPoliciesById$po2=agentPoliciesById[policyId])||void 0===_agentPoliciesById$po2?void 0:_agentPoliciesById$po2.name)&&void 0!==_agentPoliciesById$po?_agentPoliciesById$po:policyId}}):[],[agentPoliciesById,value]),helpText=Object(external_kbnSharedDeps_React_.useMemo)(()=>{var _agentPoliciesById$va;if(null!=value&&value.length&&value[0].length&&agentPoliciesById&&agentPoliciesById[value[0]])return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.createScheduledQuery.agentPolicyAgentsCountText",defaultMessage:"{count, plural, one {# agent} other {# agents}} enrolled",values:{count:null!==(_agentPoliciesById$va=agentPoliciesById[value[0]].agents)&&void 0!==_agentPoliciesById$va?_agentPoliciesById$va:0}})},[agentPoliciesById,value]),mergedEuiFieldProps=Object(external_kbnSharedDeps_React_.useMemo)(()=>({onCreateOption:null,singleSelection:{asPlainText:!0},noSuggestions:!1,isClearable:!1,selectedOptions:selectedOptions,renderOption:renderOption,...euiFieldProps}),[euiFieldProps,renderOption,selectedOptions]);return external_kbnSharedDeps_React_default.a.createElement(components_.ComboBoxField,{field:field,fullWidth:!0,helpText:helpText,euiFieldProps:mergedEuiFieldProps})},PolicyIdComboBoxField=external_kbnSharedDeps_React_default.a.memo(PolicyIdComboBoxFieldComponent),OsquerySchemaLink=external_kbnSharedDeps_React_default.a.memo(()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:"https://osquery.io/schema/4.7.0",target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.codeEditorField.osquerySchemaLinkLabel",defaultMessage:"Osquery schema"}))));OsquerySchemaLink.displayName="OsquerySchemaLink";const CodeEditorFieldComponent=({field:field})=>{var _errors$;const{value:value,label:label,labelAppend:labelAppend,helpText:helpText,setValue:setValue,errors:errors}=field,error=null===(_errors$=errors[0])||void 0===_errors$?void 0:_errors$.message;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:label,labelAppend:Object(external_kbnSharedDeps_LodashFp_.isEmpty)(labelAppend)?external_kbnSharedDeps_React_default.a.createElement(OsquerySchemaLink,null):labelAppend,helpText:helpText,isInvalid:"string"==typeof error,error:error,fullWidth:!0},external_kbnSharedDeps_React_default.a.createElement(OsqueryEditor,{defaultValue:value,onChange:setValue}))},CodeEditorField=external_kbnSharedDeps_React_default.a.memo(CodeEditorFieldComponent),idPattern=/^[a-zA-Z0-9-_]+$/,idFieldValidations=[helpers_.fieldValidators.emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.queryFlyoutForm.emptyIdError",{defaultMessage:"ID is required"})),({value:value})=>{if(!idPattern.test(value))return{message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.queryFlyoutForm.invalidIdError",{defaultMessage:"Characters must be alphanumeric, _, or -"})}}],intervalFieldValidation=helpers_.fieldValidators.numberGreaterThanField({than:0,message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.queryFlyoutForm.invalidIntervalField",{defaultMessage:"A positive interval value is required"})}),CommonUseField=Object(hook_form_lib_.getUseField)({component:components_.Field}),AddQueryFlyoutComponent=({onSave:onSave,onClose:onClose})=>{const{form:form}=Object(hook_form_lib_.useForm)({id:"addQueryFlyoutForm",onSubmit:(payload,isValid)=>{isValid&&(onSave(payload),onClose())},schema:{id:{type:hook_form_lib_.FIELD_TYPES.TEXT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.queryFlyoutForm.idFieldLabel",{defaultMessage:"ID"}),validations:idFieldValidations.map(validator=>({validator:validator}))},query:{type:hook_form_lib_.FIELD_TYPES.TEXT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.queryFlyoutForm.queryFieldLabel",{defaultMessage:"Query"}),validations:[{validator:queryFieldValidation}]},interval:{type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.queryFlyoutForm.intervalFieldLabel",{defaultMessage:"Interval (s)"}),validations:[{validator:intervalFieldValidation}]}}}),{submit:submit}=form;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPortal,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyout,{size:"m",ownFocus:!0,onClose:onClose,"aria-labelledby":"flyoutTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutHeader,{hasBorder:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",{id:"flyoutTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduleQueryGroup.queryFlyoutForm.addFormTitle",defaultMessage:"Attach next query"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutBody,null,external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.Form,{form:form},external_kbnSharedDeps_React_default.a.createElement(CommonUseField,{path:"id"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(CommonUseField,{path:"query",component:CodeEditorField}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(CommonUseField,{path:"interval",euiFieldProps:{append:"s"}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutFooter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{iconType:"cross",onClick:onClose,flush:"left"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryGroup.queryFlyoutForm.cancelButtonLabel",defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{onClick:submit,fill:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryGroup.queryFlyoutForm.saveButtonLabel",defaultMessage:"Save"})))))))},AddQueryFlyout=external_kbnSharedDeps_React_default.a.memo(AddQueryFlyoutComponent),edit_query_flyout_CommonUseField=Object(hook_form_lib_.getUseField)({component:components_.Field}),EditQueryFlyout=({defaultValue:defaultValue,onSave:onSave,onClose:onClose})=>{const{form:form}=Object(hook_form_lib_.useForm)({id:"editQueryFlyoutForm",onSubmit:(payload,isValid)=>{isValid&&(onSave(payload),onClose())},defaultValue:defaultValue,deserializer:payload=>({id:payload.vars.id.value,query:payload.vars.query.value,interval:payload.vars.interval.value}),schema:{id:{type:hook_form_lib_.FIELD_TYPES.TEXT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.queryFlyoutForm.idFieldLabel",{defaultMessage:"ID"}),validations:idFieldValidations.map(validator=>({validator:validator}))},query:{type:hook_form_lib_.FIELD_TYPES.TEXT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.queryFlyoutForm.queryFieldLabel",{defaultMessage:"Query"}),validations:[{validator:queryFieldValidation}]},interval:{type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.queryFlyoutForm.intervalFieldLabel",{defaultMessage:"Interval (s)"}),validations:[{validator:intervalFieldValidation}]}}}),{submit:submit}=form;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPortal,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyout,{size:"m",ownFocus:!0,onClose:onClose,"aria-labelledby":"flyoutTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutHeader,{hasBorder:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",{id:"flyoutTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduleQueryGroup.queryFlyoutForm.editFormTitle",defaultMessage:"Edit query"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutBody,null,external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.Form,{form:form},external_kbnSharedDeps_React_default.a.createElement(edit_query_flyout_CommonUseField,{path:"id"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(edit_query_flyout_CommonUseField,{path:"query",component:CodeEditorField}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(edit_query_flyout_CommonUseField,{path:"interval",euiFieldProps:{append:"s"}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutFooter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{iconType:"cross",onClick:onClose,flush:"left"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryGroup.queryFlyoutForm.cancelButtonLabel",defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{onClick:submit,fill:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryGroup.queryFlyoutForm.saveButtonLabel",defaultMessage:"Save"})))))))},SUPPORTED_PACK_EXTENSIONS=["application/json","text/plain"],ExamplePackLink=external_kbnSharedDeps_React_default.a.memo(()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:"https://github.com/osquery/osquery/tree/master/packs",target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.packUploader.examplePacksLinkLabel",defaultMessage:"Example packs"})));ExamplePackLink.displayName="ExamplePackLink";const OsqueryPackUploaderComponent=({onChange:onChange})=>{const packName=Object(external_kbnSharedDeps_React_.useRef)(""),filePickerRef=Object(external_kbnSharedDeps_React_.useRef)(null),[isInvalid,setIsInvalid]=Object(external_kbnSharedDeps_React_.useState)(null);let fileReader;const handleFileRead=()=>{var _parsedContent,_parsedContent2,_filePickerRef$curren2;const content=fileReader.result;let parsedContent;try{parsedContent=JSON.parse(content.replaceAll("\\\n",""),(key,value)=>"query"===key?value.replaceAll(/\s(?=\s)/gm,""):value),setIsInvalid(null)}catch(error){var _filePickerRef$curren;setIsInvalid(error),null===(_filePickerRef$curren=filePickerRef.current)||void 0===_filePickerRef$curren||_filePickerRef$curren.removeFiles(new Event("fake"))}if(null===(_parsedContent=parsedContent)||void 0===_parsedContent||!_parsedContent.queries)return;const queriesJSON=Object(external_kbnSharedDeps_Lodash_.mapKeys)(null===(_parsedContent2=parsedContent)||void 0===_parsedContent2?void 0:_parsedContent2.queries,(value,key)=>`pack_${packName.current}_${key}`);onChange(queriesJSON),null===(_filePickerRef$curren2=filePickerRef.current)||void 0===_filePickerRef$curren2||_filePickerRef$curren2.removeFiles(new Event("fake"))},handleFileChosen=file=>{fileReader=new FileReader,fileReader.onloadend=handleFileRead,fileReader.readAsText(file)},handleInputChange=Object(external_kbnSharedDeps_React_.useCallback)(inputFiles=>{var _ref;if(inputFiles.length){var _filePickerRef$curren3;if(inputFiles.length&&(null!==(_ref=!!inputFiles[0].type.length&&!SUPPORTED_PACK_EXTENSIONS.includes(inputFiles[0].type))&&void 0!==_ref?_ref:!inputFiles[0].name.endsWith(".conf")))return packName.current="",setIsInvalid(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.packUploader.unsupportedFileTypeText",{defaultMessage:"File type {fileType} is not supported, please upload {supportedFileTypes} config file",values:{fileType:inputFiles[0].type,supportedFileTypes:SUPPORTED_PACK_EXTENSIONS.join(" or ")}})),void(null===(_filePickerRef$curren3=filePickerRef.current)||void 0===_filePickerRef$curren3||_filePickerRef$curren3.removeFiles(new Event("fake")));packName.current=Object(external_kbnSharedDeps_Lodash_.kebabCase)(inputFiles[0].name.split(".")[0]),handleFileChosen(inputFiles[0])}else packName.current=""},[handleFileChosen]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,labelAppend:external_kbnSharedDeps_React_default.a.createElement(ExamplePackLink,null),isInvalid:!!isInvalid,error:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,""+isInvalid)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilePicker,{ref:filePickerRef,id:"osquery_pack_picker",initialPromptText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.packUploader.initialPromptTextLabel",{defaultMessage:"Select or drag and drop osquery pack config file"}),onChange:handleInputChange,display:"large",fullWidth:!0,isInvalid:!!isInvalid,accept:SUPPORTED_PACK_EXTENSIONS.join(",")})))},OsqueryPackUploader=external_kbnSharedDeps_React_default.a.memo(OsqueryPackUploaderComponent),getNewStream=({id:id,interval:interval,query:query,scheduledQueryGroupId:scheduledQueryGroupId})=>({data_stream:{type:"logs",dataset:common.OSQUERY_INTEGRATION_NAME+".result"},enabled:!0,id:scheduledQueryGroupId?`osquery-${common.OSQUERY_INTEGRATION_NAME}.result-${scheduledQueryGroupId}`:null,vars:{id:{type:"text",value:id},interval:{type:"integer",value:interval},query:{type:"text",value:query}}}),QueriesFieldComponent=({field:field,scheduledQueryGroupId:scheduledQueryGroupId})=>{var _field$value$0$stream;const[showAddQueryFlyout,setShowAddQueryFlyout]=Object(external_kbnSharedDeps_React_.useState)(!1),[showEditQueryFlyout,setShowEditQueryFlyout]=Object(external_kbnSharedDeps_React_.useState)(-1),[tableSelectedItems,setTableSelectedItems]=Object(external_kbnSharedDeps_React_.useState)([]),handleShowAddFlyout=Object(external_kbnSharedDeps_React_.useCallback)(()=>setShowAddQueryFlyout(!0),[]),handleHideAddFlyout=Object(external_kbnSharedDeps_React_.useCallback)(()=>setShowAddQueryFlyout(!1),[]),handleHideEditFlyout=Object(external_kbnSharedDeps_React_.useCallback)(()=>setShowEditQueryFlyout(-1),[]),{setValue:setValue}=field,handleDeleteClick=Object(external_kbnSharedDeps_React_.useCallback)(stream=>{var _stream$vars;const streamIndex=Object(external_kbnSharedDeps_Lodash_.findIndex)(field.value[0].streams,["vars.id.value",null===(_stream$vars=stream.vars)||void 0===_stream$vars?void 0:_stream$vars.id.value]);streamIndex>-1&&setValue(Object(dist.produce)(draft=>(Object(external_kbnSharedDeps_Lodash_.pullAt)(draft[0].streams,[streamIndex]),draft)))},[field.value,setValue]),handleEditClick=Object(external_kbnSharedDeps_React_.useCallback)(stream=>{var _stream$vars2;const streamIndex=Object(external_kbnSharedDeps_Lodash_.findIndex)(field.value[0].streams,["vars.id.value",null===(_stream$vars2=stream.vars)||void 0===_stream$vars2?void 0:_stream$vars2.id.value]);setShowEditQueryFlyout(streamIndex)},[field.value]),handleEditQuery=Object(external_kbnSharedDeps_React_.useCallback)(updatedQuery=>{showEditQueryFlyout>=0&&setValue(Object(dist.produce)(draft=>(draft[0].streams[showEditQueryFlyout].vars.id.value=updatedQuery.id,draft[0].streams[showEditQueryFlyout].vars.interval.value=updatedQuery.interval,draft[0].streams[showEditQueryFlyout].vars.query.value=updatedQuery.query,draft))),handleHideEditFlyout()},[handleHideEditFlyout,setValue,showEditQueryFlyout]),handleAddQuery=Object(external_kbnSharedDeps_React_.useCallback)(newQuery=>{setValue(Object(dist.produce)(draft=>(draft[0].streams.push(getNewStream({...newQuery,scheduledQueryGroupId:scheduledQueryGroupId})),draft))),handleHideAddFlyout()},[handleHideAddFlyout,scheduledQueryGroupId,setValue]),handleDeleteQueries=Object(external_kbnSharedDeps_React_.useCallback)(()=>{setValue(Object(dist.produce)(draft=>(Object(external_kbnSharedDeps_Lodash_.pullAllBy)(draft[0].streams,tableSelectedItems,"vars.id.value"),draft))),setTableSelectedItems([])},[setValue,tableSelectedItems]),handlePackUpload=Object(external_kbnSharedDeps_React_.useCallback)(newQueries=>{setValue(Object(dist.produce)(draft=>(Object(external_kbnSharedDeps_Lodash_.forEach)(newQueries,(newQuery,newQueryId)=>{draft[0].streams.push(getNewStream({id:newQueryId,interval:newQuery.interval,query:newQuery.query,scheduledQueryGroupId:scheduledQueryGroupId}))}),draft)))},[scheduledQueryGroupId,setValue]),tableData=Object(external_kbnSharedDeps_React_.useMemo)(()=>({inputs:field.value}),[field.value]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},tableSelectedItems.length?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{color:"danger",onClick:handleDeleteQueries,iconType:"trash"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryGroup.table.deleteQueriesButtonLabel",defaultMessage:"Delete {queriesCount, plural, one {# query} other {# queries}}",values:{queriesCount:tableSelectedItems.length}})):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{fill:!0,onClick:handleShowAddFlyout,iconType:"plusInCircle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryGroup.queriesForm.addQueryButtonLabel",defaultMessage:"Add query"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),field.value&&null!==(_field$value$0$stream=field.value[0].streams)&&void 0!==_field$value$0$stream&&_field$value$0$stream.length?external_kbnSharedDeps_React_default.a.createElement(scheduled_query_group_queries_table.a,{editMode:!0,data:tableData,onEditClick:handleEditClick,onDeleteClick:handleDeleteClick,selectedItems:tableSelectedItems,setSelectedItems:setTableSelectedItems}):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(OsqueryPackUploader,{onChange:handlePackUpload}),showAddQueryFlyout&&external_kbnSharedDeps_React_default.a.createElement(AddQueryFlyout,{onSave:handleAddQuery,onClose:handleHideAddFlyout}),null!=showEditQueryFlyout&&showEditQueryFlyout>=0&&external_kbnSharedDeps_React_default.a.createElement(EditQueryFlyout,{defaultValue:field.value[0].streams[showEditQueryFlyout],onSave:handleEditQuery,onClose:handleHideEditFlyout}))},QueriesField=external_kbnSharedDeps_React_default.a.memo(QueriesFieldComponent);function form_extends(){return(form_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const GhostFormField=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null),form_CommonUseField=Object(hook_form_lib_.getUseField)({component:components_.Field}),ScheduledQueryGroupFormComponent=({defaultValue:defaultValue,packageInfo:packageInfo,editMode:editMode=!1})=>{var _defaultValue$id;const{application:{navigateToApp:navigateToApp},http:http,notifications:{toasts:toasts}}=Object(kibana.d)().services,[showConfirmationModal,setShowConfirmationModal]=Object(external_kbnSharedDeps_React_.useState)(!1),handleHideConfirmationModal=Object(external_kbnSharedDeps_React_.useCallback)(()=>setShowConfirmationModal(!1),[]),{data:agentPolicies}=(()=>{const{http:http,notifications:{toasts:toasts}}=Object(kibana.d)().services;return Object(lib.useQuery)(["agentPolicies"],()=>http.get(common_.agentPolicyRouteService.getListPath(),{query:{perPage:100}}),{initialData:{items:[],total:0,page:1,perPage:100},placeholderData:[],keepPreviousData:!0,select:response=>response.items,onError:error=>toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.agent_policies.fetchError",{defaultMessage:"Error while fetching agent policies"})})})})(),agentPoliciesById=Object(external_kbnSharedDeps_Lodash_.mapKeys)(agentPolicies,"id"),agentPolicyOptions=Object(external_kbnSharedDeps_React_.useMemo)(()=>{var _agentPolicies$map;return null!==(_agentPolicies$map=null==agentPolicies?void 0:agentPolicies.map(agentPolicy=>({key:agentPolicy.id,label:agentPolicy.id})))&&void 0!==_agentPolicies$map?_agentPolicies$map:[]},[agentPolicies]),cancelButtonProps=Object(kibana.e)("scheduled_query_groups/"+(editMode?null==defaultValue?void 0:defaultValue.id:"")),{isLoading:isLoading,mutateAsync:mutateAsync}=Object(lib.useMutation)(payload=>editMode&&null!=defaultValue&&defaultValue.id?http.put(common_.packagePolicyRouteService.getUpdatePath(defaultValue.id),{body:JSON.stringify(payload)}):http.post(common_.packagePolicyRouteService.getCreatePath(),{body:JSON.stringify(payload)}),{onSuccess:data=>{if(!editMode)return navigateToApp("osquery",{path:"scheduled_query_groups/"+data.item.id}),void toasts.addSuccess(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.form.createSuccessToastMessageText",{defaultMessage:"Successfully scheduled {scheduledQueryGroupName}",values:{scheduledQueryGroupName:data.item.name}}));navigateToApp("osquery",{path:"scheduled_query_groups/"+data.item.id}),toasts.addSuccess(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.form.updateSuccessToastMessageText",{defaultMessage:"Successfully updated {scheduledQueryGroupName}",values:{scheduledQueryGroupName:data.item.name}}))},onError:error=>{toasts.addError(error,{title:error.body.error,toastMessage:error.body.message})}}),{form:form}=Object(hook_form_lib_.useForm)({id:"scheduledQueryForm",schema:{name:{type:hook_form_lib_.FIELD_TYPES.TEXT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.form.nameFieldLabel",{defaultMessage:"Name"})},description:{type:hook_form_lib_.FIELD_TYPES.TEXT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.form.descriptionFieldLabel",{defaultMessage:"Description"})},namespace:{type:hook_form_lib_.FIELD_TYPES.COMBO_BOX,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.form.namespaceFieldLabel",{defaultMessage:"Namespace"})},policy_id:{type:hook_form_lib_.FIELD_TYPES.COMBO_BOX,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.form.agentPolicyFieldLabel",{defaultMessage:"Agent policy"})}},onSubmit:payload=>{const formData=Object(dist.produce)(payload,draft=>(draft.inputs[0].streams.forEach(stream=>{delete stream.compiled_stream,null==stream.id&&delete stream.id}),draft));return mutateAsync(formData)},options:{stripEmptyFields:!1},deserializer:payload=>({...payload,policy_id:payload.policy_id.length?[payload.policy_id]:[],namespace:[payload.namespace]}),serializer:payload=>({...payload,policy_id:payload.policy_id[0],namespace:payload.namespace[0]}),defaultValue:Object(external_kbnSharedDeps_LodashFp_.merge)({name:"",description:"",enabled:!0,policy_id:[],namespace:"default",output_id:"",package:packageInfo,inputs:[{type:"osquery",enabled:!0,streams:[]}]},null!=defaultValue?defaultValue:{})}),{submit:submit}=form,policyIdEuiFieldProps=Object(external_kbnSharedDeps_React_.useMemo)(()=>({isDisabled:!!defaultValue,options:agentPolicyOptions}),[defaultValue,agentPolicyOptions]),[{policy_id:policyId}]=Object(hook_form_lib_.useFormData)({form:form,watch:["policy_id"]}),currentPolicy=Object(external_kbnSharedDeps_React_.useMemo)(()=>{var _currentAgentPolicy$a;if(!policyId)return{agentCount:0,agentPolicy:{}};const currentAgentPolicy=agentPoliciesById[policyId[0]];return{agentCount:null!==(_currentAgentPolicy$a=null==currentAgentPolicy?void 0:currentAgentPolicy.agents)&&void 0!==_currentAgentPolicy$a?_currentAgentPolicy$a:0,agentPolicy:currentAgentPolicy}},[agentPoliciesById,policyId]),handleSaveClick=Object(external_kbnSharedDeps_React_.useCallback)(()=>{currentPolicy.agentCount?setShowConfirmationModal(!0):submit()},[currentPolicy.agentCount,submit]),handleConfirmConfirmationClick=Object(external_kbnSharedDeps_React_.useCallback)(()=>{submit(),setShowConfirmationModal(!1)},[submit]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.Form,{form:form},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescribedFormGroup,{title:external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryGroup.form.settingsSectionTitleText",defaultMessage:"Scheduled query group settings"})),fullWidth:!0,description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryGroup.form.settingsSectionDescriptionText",defaultMessage:"Scheduled query groups include one or more queries that are run at a set interval and are associated with an agent policy. When you define a scheduled query group, it is added as a new Osquery Manager policy."})},external_kbnSharedDeps_React_default.a.createElement(form_CommonUseField,{path:"name"}),external_kbnSharedDeps_React_default.a.createElement(form_CommonUseField,{path:"description"}),external_kbnSharedDeps_React_default.a.createElement(form_CommonUseField,{path:"policy_id",euiFieldProps:policyIdEuiFieldProps,component:PolicyIdComboBoxField,agentPoliciesById:agentPoliciesById}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiAccordion,{id:"accordion1",buttonContent:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.scheduledQueryGroup.form.advancedSectionToggleButtonLabel",{defaultMessage:"Advanced"})},external_kbnSharedDeps_React_default.a.createElement(form_CommonUseField,{path:"namespace"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHorizontalRule,null),external_kbnSharedDeps_React_default.a.createElement(form_CommonUseField,{path:"inputs",component:QueriesField,scheduledQueryGroupId:null!==(_defaultValue$id=null==defaultValue?void 0:defaultValue.id)&&void 0!==_defaultValue$id?_defaultValue$id:null}),external_kbnSharedDeps_React_default.a.createElement(form_CommonUseField,{path:"enabled",component:GhostFormField}),external_kbnSharedDeps_React_default.a.createElement(form_CommonUseField,{path:"output_id",component:GhostFormField}),external_kbnSharedDeps_React_default.a.createElement(form_CommonUseField,{path:"package",component:GhostFormField})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xxl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xxl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xxl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xxl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xxl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBottomBar,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,form_extends({color:"ghost"},cancelButtonProps),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryGroup.form.cancelButtonLabel",defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{isLoading:isLoading,color:"primary",fill:!0,size:"m",iconType:"save",onClick:handleSaveClick},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryGroup.form.saveQueryButtonLabel",defaultMessage:"Save query"}))))))),showConfirmationModal&&external_kbnSharedDeps_React_default.a.createElement(ConfirmDeployAgentPolicyModal,form_extends({onCancel:handleHideConfirmationModal,onConfirm:handleConfirmConfirmationClick},currentPolicy)))},ScheduledQueryGroupForm=external_kbnSharedDeps_React_default.a.memo(ScheduledQueryGroupFormComponent);__webpack_require__(23);const useOsqueryIntegration=()=>{const{http:http,notifications:{toasts:toasts}}=Object(kibana.d)().services;return Object(lib.useQuery)("integrations",()=>http.get(common_.epmRouteService.getListPath(),{query:{experimental:!0}}),{select:({response:response})=>Object(external_kbnSharedDeps_LodashFp_.find)(["name",common.OSQUERY_INTEGRATION_NAME],response),onError:error=>toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.osquery.osquery_integration.fetchError",{defaultMessage:"Error while fetching osquery integration"})})})};function add_extends(){return(add_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const AddScheduledQueryGroupPageComponent=()=>{useBreadcrumbs("scheduled_query_group_add");const scheduledQueryListProps=Object(kibana.e)("scheduled_query_groups"),{data:osqueryIntegration}=useOsqueryIntegration(),packageInfo=Object(external_kbnSharedDeps_React_.useMemo)(()=>{if(osqueryIntegration)return{name:osqueryIntegration.name,title:osqueryIntegration.title,version:osqueryIntegration.version}},[osqueryIntegration]),LeftColumn=Object(external_kbnSharedDeps_React_.useMemo)(()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"flexStart",direction:"column",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,add_extends({iconType:"arrowLeft"},scheduledQueryListProps,{flush:"left",size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.addScheduledQueryGroup.viewScheduledQueryGroupsListTitle",defaultMessage:"View all scheduled query groups"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(BetaBadgeRowWrapper,null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.addScheduledQueryGroup.pageTitle",defaultMessage:"Add scheduled query group"})),external_kbnSharedDeps_React_default.a.createElement(BetaBadge,null)))),[scheduledQueryListProps]);return external_kbnSharedDeps_React_default.a.createElement(WithHeaderLayout,{leftColumn:LeftColumn},packageInfo&&external_kbnSharedDeps_React_default.a.createElement(ScheduledQueryGroupForm,{packageInfo:packageInfo}))},AddScheduledQueryGroupPage=external_kbnSharedDeps_React_default.a.memo(AddScheduledQueryGroupPageComponent),useScheduledQueryGroup=({scheduledQueryGroupId:scheduledQueryGroupId,skip:skip=!1})=>{const{http:http}=Object(kibana.d)().services;return Object(lib.useQuery)(["scheduledQueryGroup",{scheduledQueryGroupId:scheduledQueryGroupId}],()=>http.get(common_.packagePolicyRouteService.getInfoPath(scheduledQueryGroupId)),{keepPreviousData:!0,enabled:!skip,select:response=>response.item})};function edit_extends(){return(edit_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const EditScheduledQueryGroupPageComponent=()=>{var _data$name;const{scheduledQueryGroupId:scheduledQueryGroupId}=Object(external_kbnSharedDeps_ReactRouterDom_.useParams)(),queryDetailsLinkProps=Object(kibana.e)("scheduled_query_groups/"+scheduledQueryGroupId),{data:data}=useScheduledQueryGroup({scheduledQueryGroupId:scheduledQueryGroupId});useBreadcrumbs("scheduled_query_group_edit",{scheduledQueryGroupName:null!==(_data$name=null==data?void 0:data.name)&&void 0!==_data$name?_data$name:""});const LeftColumn=Object(external_kbnSharedDeps_React_.useMemo)(()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"flexStart",direction:"column",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,edit_extends({iconType:"arrowLeft"},queryDetailsLinkProps,{flush:"left",size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.editScheduledQuery.viewScheduledQueriesListTitle",defaultMessage:"View {queryName} details",values:{queryName:null==data?void 0:data.name}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(BetaBadgeRowWrapper,null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.editScheduledQuery.pageTitle",defaultMessage:"Edit {queryName}",values:{queryName:null==data?void 0:data.name}})),external_kbnSharedDeps_React_default.a.createElement(BetaBadge,null)))),[null==data?void 0:data.name,queryDetailsLinkProps]);return external_kbnSharedDeps_React_default.a.createElement(WithHeaderLayout,{leftColumn:LeftColumn},data?external_kbnSharedDeps_React_default.a.createElement(ScheduledQueryGroupForm,{editMode:!0,defaultValue:data}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLoadingContent,{lines:10}))},EditScheduledQueryGroupPage=external_kbnSharedDeps_React_default.a.memo(EditScheduledQueryGroupPageComponent);function scheduled_query_groups_details_extends(){return(scheduled_query_groups_details_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const details_Divider=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Divider",componentId:"sc-1g8rb3o-0"})(["width:0;height:100%;border-left:",";"],({theme:theme})=>theme.eui.euiBorderThin),ScheduledQueryGroupDetailsPageComponent=()=>{var _data$name;const{scheduledQueryGroupId:scheduledQueryGroupId}=Object(external_kbnSharedDeps_ReactRouterDom_.useParams)(),scheduledQueryGroupsListProps=Object(kibana.e)("scheduled_query_groups"),editQueryLinkProps=Object(kibana.e)(`scheduled_query_groups/${scheduledQueryGroupId}/edit`),{data:data}=useScheduledQueryGroup({scheduledQueryGroupId:scheduledQueryGroupId});useBreadcrumbs("scheduled_query_group_details",{scheduledQueryGroupName:null!==(_data$name=null==data?void 0:data.name)&&void 0!==_data$name?_data$name:""});const LeftColumn=Object(external_kbnSharedDeps_React_.useMemo)(()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"flexStart",direction:"column",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,scheduled_query_groups_details_extends({iconType:"arrowLeft"},scheduledQueryGroupsListProps,{flush:"left",size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryDetails.viewAllScheduledQueriesListTitle",defaultMessage:"View all scheduled query groups"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(BetaBadgeRowWrapper,null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryDetails.pageTitle",defaultMessage:"{queryName} details",values:{queryName:null==data?void 0:data.name}})),external_kbnSharedDeps_React_default.a.createElement(BetaBadge,null))),(null==data?void 0:data.description)&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued",size:"s"},data.description))),[null==data?void 0:data.description,null==data?void 0:data.name,scheduledQueryGroupsListProps]),RightColumn=Object(external_kbnSharedDeps_React_.useMemo)(()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"flexEnd",direction:"row"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,key:"agents_failed_count"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{compressed:!0,textStyle:"reverse",style:{textAlign:"right"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,{className:"eui-textNoWrap"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduleQueryGroup.kpis.policyLabelText",defaultMessage:"Policy"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,{className:"eui-textNoWrap"},null!=data&&data.policy_id?external_kbnSharedDeps_React_default.a.createElement(AgentsPolicyLink,{policyId:null==data?void 0:data.policy_id}):null))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,key:"agents_failed_count_divider"},external_kbnSharedDeps_React_default.a.createElement(details_Divider,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,key:"edit_button"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,scheduled_query_groups_details_extends({fill:!0},editQueryLinkProps,{iconType:"pencil"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.scheduledQueryDetailsPage.editQueryButtonLabel",defaultMessage:"Edit"})))),[null==data?void 0:data.policy_id,editQueryLinkProps]);return external_kbnSharedDeps_React_default.a.createElement(WithHeaderLayout,{leftColumn:LeftColumn,rightColumn:RightColumn,rightColumnGrow:!1},data&&external_kbnSharedDeps_React_default.a.createElement(scheduled_query_group_queries_table.a,{data:data}))},ScheduledQueryGroupDetailsPage=external_kbnSharedDeps_React_default.a.memo(ScheduledQueryGroupDetailsPageComponent),ScheduledQueryGroupsComponent=()=>{useBreadcrumbs("scheduled_query_groups");const match=Object(external_kbnSharedDeps_ReactRouterDom_.useRouteMatch)();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Switch,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{path:match.url+"/add"},external_kbnSharedDeps_React_default.a.createElement(AddScheduledQueryGroupPage,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{path:match.url+"/:scheduledQueryGroupId/edit"},external_kbnSharedDeps_React_default.a.createElement(EditScheduledQueryGroupPage,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{path:match.url+"/:scheduledQueryGroupId"},external_kbnSharedDeps_React_default.a.createElement(ScheduledQueryGroupDetailsPage,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{path:""+match.url},external_kbnSharedDeps_React_default.a.createElement(ScheduledQueryGroupsPage,null)))},ScheduledQueryGroups=external_kbnSharedDeps_React_default.a.memo(ScheduledQueryGroupsComponent),OsqueryAppRoutesComponent=()=>(useBreadcrumbs("base"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Switch,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{path:"/scheduled_query_groups"},external_kbnSharedDeps_React_default.a.createElement(ScheduledQueryGroups,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{path:"/live_queries"},external_kbnSharedDeps_React_default.a.createElement(LiveQueries,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Redirect,{to:"/live_queries"}))),OsqueryAppRoutes=external_kbnSharedDeps_React_default.a.memo(OsqueryAppRoutesComponent),ManageIntegrationLinkComponent=()=>{const{application:{getUrlForApp:getUrlForApp,navigateToApp:navigateToApp}}=Object(kibana.d)().services,{data:osqueryIntegration}=useOsqueryIntegration(),integrationHref=Object(external_kbnSharedDeps_React_.useMemo)(()=>{if(osqueryIntegration)return getUrlForApp("fleet",{path:"#"+fleet_public_.pagePathGetters.integration_details_policies({pkgkey:`${osqueryIntegration.name}-${osqueryIntegration.version}`})})},[getUrlForApp,osqueryIntegration]),integrationClick=Object(external_kbnSharedDeps_React_.useCallback)(event=>{if(!Object(kibana.c)(event)&&Object(kibana.b)(event)&&(event.preventDefault(),osqueryIntegration))return navigateToApp("fleet",{path:"#"+fleet_public_.pagePathGetters.integration_details_policies({pkgkey:`${osqueryIntegration.name}-${osqueryIntegration.version}`})})},[navigateToApp,osqueryIntegration]);return integrationHref?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{iconType:"gear",href:integrationHref,onClick:integrationClick},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.appNavigation.manageIntegrationButton",defaultMessage:"Manage integration"}))):null},ManageIntegrationLink=external_kbnSharedDeps_React_default.a.memo(ManageIntegrationLinkComponent);function app_extends(){return(app_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const OsqueryAppComponent=()=>{const location=Object(external_kbnSharedDeps_ReactRouterDom_.useLocation)(),section=Object(external_kbnSharedDeps_React_.useMemo)(()=>{var _location$pathname$sp;return null!==(_location$pathname$sp=location.pathname.split("/")[1])&&void 0!==_location$pathname$sp?_location$pathname$sp:"overview"},[location.pathname]);return external_kbnSharedDeps_React_default.a.createElement(Container,null,external_kbnSharedDeps_React_default.a.createElement(Wrapper,null,external_kbnSharedDeps_React_default.a.createElement(Nav,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTabs,{display:"condensed"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTab,app_extends({isSelected:"live_queries"===section},Object(kibana.e)("live_queries")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.appNavigation.liveQueriesLinkText",defaultMessage:"Live queries"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTab,app_extends({isSelected:"scheduled_query_groups"===section},Object(kibana.e)("scheduled_query_groups")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.appNavigation.scheduledQueryGroupsLinkText",defaultMessage:"Scheduled query groups"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s",direction:"row"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{iconType:"popout",href:"https://ela.st/osquery-feedback",target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.osquery.appNavigation.sendFeedbackButton",defaultMessage:"Send feedback"}))),external_kbnSharedDeps_React_default.a.createElement(ManageIntegrationLink,null))))),external_kbnSharedDeps_React_default.a.createElement(OsqueryAppRoutes,null)))},OsqueryApp=external_kbnSharedDeps_React_default.a.memo(OsqueryAppComponent),OsqueryAppContext=()=>{const[darkMode]=Object(public_.useUiSetting$)(common.DEFAULT_DARK_MODE),theme=Object(external_kbnSharedDeps_React_.useMemo)(()=>({eui:darkMode?external_kbnSharedDeps_Theme_euiDarkVars_default.a:external_kbnSharedDeps_Theme_euiLightVars_default.a,darkMode:darkMode}),[darkMode]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_StyledComponents_.ThemeProvider,{theme:theme},external_kbnSharedDeps_React_default.a.createElement(OsqueryApp,null))},renderApp=(core,services,{element:element,history:history},storage,kibanaVersion)=>(external_kbnSharedDeps_ReactDom_default.a.render(external_kbnSharedDeps_React_default.a.createElement(kibana.a,{services:{appName:common.PLUGIN_NAME,kibanaVersion:kibanaVersion,...core,...services,storage:storage}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiErrorBoundary,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Router,{history:history},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.I18nProvider,null,external_kbnSharedDeps_React_default.a.createElement(lib.QueryClientProvider,{client:query_client_queryClient},external_kbnSharedDeps_React_default.a.createElement(OsqueryAppContext,null),external_kbnSharedDeps_React_default.a.createElement(devtools.ReactQueryDevtools,{initialIsOpen:!1})))))),element),()=>external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(element))}])]);