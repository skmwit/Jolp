/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()()}var installedModules={},installedChunks={7:0};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.e=function(chunkId){var promises=[],installedChunkData=installedChunks[chunkId];if(0!==installedChunkData)if(installedChunkData)promises.push(installedChunkData[2]);else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var onScriptComplete,script=document.createElement("script");script.charset="utf-8",script.timeout=120,__webpack_require__.nc&&script.setAttribute("nonce",__webpack_require__.nc),script.src=function(chunkId){return __webpack_require__.p+"infra.chunk."+chunkId+".js"}(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null,clearTimeout(timeout);var chunk=installedChunks[chunkId];if(0!==chunk){if(chunk){var errorType=event&&("load"===event.type?"missing":event.type),realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")",error.name="ChunkLoadError",error.type=errorType,error.request=realSrc,chunk[1](error)}installedChunks[chunkId]=void 0}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete,document.head.appendChild(script)}return Promise.all(promises)},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__.oe=function(err){throw console.error(err),err};var jsonpArray=window.infra_bundle_jsonpfunction=window.infra_bundle_jsonpfunction||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;__webpack_require__(__webpack_require__.s=51)}([function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var Either_1=__webpack_require__(17),map=Either_1.either.map,chain=Either_1.either.chain,Type=function(){function Type(name,is,validate,encode){this.name=name,this.is=is,this.validate=validate,this.encode=encode,this.decode=this.decode.bind(this)}return Type.prototype.pipe=function(ab,name){var _this=this;return void 0===name&&(name="pipe("+this.name+", "+ab.name+")"),new Type(name,ab.is,(function(i,c){return chain(_this.validate(i,c),(function(a){return ab.validate(a,c)}))}),this.encode===exports.identity&&ab.encode===exports.identity?exports.identity:function(b){return _this.encode(ab.encode(b))})},Type.prototype.asDecoder=function(){return this},Type.prototype.asEncoder=function(){return this},Type.prototype.decode=function(i){return this.validate(i,[{key:"",type:this,actual:i}])},Type}();exports.Type=Type,exports.identity=function(a){return a},exports.getFunctionName=function(f){return f.displayName||f.name||"<function"+f.length+">"},exports.getContextEntry=function(key,decoder){return{key:key,type:decoder}},exports.appendContext=function(c,key,decoder,actual){for(var len=c.length,r=Array(len+1),i=0;i<len;i++)r[i]=c[i];return r[len]={key:key,type:decoder,actual:actual},r},exports.failures=Either_1.left,exports.failure=function(value,context,message){return exports.failures([{value:value,context:context,message:message}])},exports.success=Either_1.right;var pushAll=function(xs,ys){for(var l=ys.length,i=0;i<l;i++)xs.push(ys[i])},getIsCodec=function(tag){return function(codec){return codec._tag===tag}},isAnyCodec=getIsCodec("AnyType"),isInterfaceCodec=getIsCodec("InterfaceType"),isPartialCodec=getIsCodec("PartialType"),NullType=function(_super){function NullType(){var _this=_super.call(this,"null",(function(u){return null===u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="NullType",_this}return __extends(NullType,_super),NullType}(Type);exports.NullType=NullType,exports.nullType=new NullType,exports.null=exports.nullType;var UndefinedType=function(_super){function UndefinedType(){var _this=_super.call(this,"undefined",(function(u){return void 0===u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="UndefinedType",_this}return __extends(UndefinedType,_super),UndefinedType}(Type);exports.UndefinedType=UndefinedType;var undefinedType=new UndefinedType;exports.undefined=undefinedType;var VoidType=function(_super){function VoidType(){var _this=_super.call(this,"void",undefinedType.is,undefinedType.validate,exports.identity)||this;return _this._tag="VoidType",_this}return __extends(VoidType,_super),VoidType}(Type);exports.VoidType=VoidType,exports.voidType=new VoidType,exports.void=exports.voidType;var UnknownType=function(_super){function UnknownType(){var _this=_super.call(this,"unknown",(function(_){return!0}),exports.success,exports.identity)||this;return _this._tag="UnknownType",_this}return __extends(UnknownType,_super),UnknownType}(Type);exports.UnknownType=UnknownType,exports.unknown=new UnknownType;var StringType=function(_super){function StringType(){var _this=_super.call(this,"string",(function(u){return"string"==typeof u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="StringType",_this}return __extends(StringType,_super),StringType}(Type);exports.StringType=StringType,exports.string=new StringType;var NumberType=function(_super){function NumberType(){var _this=_super.call(this,"number",(function(u){return"number"==typeof u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="NumberType",_this}return __extends(NumberType,_super),NumberType}(Type);exports.NumberType=NumberType,exports.number=new NumberType;var BooleanType=function(_super){function BooleanType(){var _this=_super.call(this,"boolean",(function(u){return"boolean"==typeof u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="BooleanType",_this}return __extends(BooleanType,_super),BooleanType}(Type);exports.BooleanType=BooleanType,exports.boolean=new BooleanType;var AnyArrayType=function(_super){function AnyArrayType(){var _this=_super.call(this,"UnknownArray",Array.isArray,(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="AnyArrayType",_this}return __extends(AnyArrayType,_super),AnyArrayType}(Type);exports.AnyArrayType=AnyArrayType,exports.UnknownArray=new AnyArrayType,exports.Array=exports.UnknownArray;var AnyDictionaryType=function(_super){function AnyDictionaryType(){var _this=_super.call(this,"UnknownRecord",(function(u){return"[object Object]"===Object.prototype.toString.call(u)}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="AnyDictionaryType",_this}return __extends(AnyDictionaryType,_super),AnyDictionaryType}(Type);exports.AnyDictionaryType=AnyDictionaryType,exports.UnknownRecord=new AnyDictionaryType;var FunctionType=function(_super){function FunctionType(){var _this=_super.call(this,"Function",(function(u){return"function"==typeof u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="FunctionType",_this}return __extends(FunctionType,_super),FunctionType}(Type);exports.FunctionType=FunctionType,exports.Function=new FunctionType;var RefinementType=function(_super){function RefinementType(name,is,validate,encode,type,predicate){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this.predicate=predicate,_this._tag="RefinementType",_this}return __extends(RefinementType,_super),RefinementType}(Type);exports.RefinementType=RefinementType,exports.brand=function(codec,predicate,name){return refinement(codec,predicate,name)},exports.Int=exports.brand(exports.number,(function(n){return Number.isInteger(n)}),"Int");var LiteralType=function(_super){function LiteralType(name,is,validate,encode,value){var _this=_super.call(this,name,is,validate,encode)||this;return _this.value=value,_this._tag="LiteralType",_this}return __extends(LiteralType,_super),LiteralType}(Type);exports.LiteralType=LiteralType,exports.literal=function(value,name){void 0===name&&(name=JSON.stringify(value));var is=function(u){return u===value};return new LiteralType(name,is,(function(u,c){return is(u)?exports.success(value):exports.failure(u,c)}),exports.identity,value)};var KeyofType=function(_super){function KeyofType(name,is,validate,encode,keys){var _this=_super.call(this,name,is,validate,encode)||this;return _this.keys=keys,_this._tag="KeyofType",_this}return __extends(KeyofType,_super),KeyofType}(Type);exports.KeyofType=KeyofType;var hasOwnProperty=Object.prototype.hasOwnProperty;exports.keyof=function(keys,name){void 0===name&&(name=Object.keys(keys).map((function(k){return JSON.stringify(k)})).join(" | "));var is=function(u){return exports.string.is(u)&&hasOwnProperty.call(keys,u)};return new KeyofType(name,is,(function(u,c){return is(u)?exports.success(u):exports.failure(u,c)}),exports.identity,keys)};var RecursiveType=function(_super){function RecursiveType(name,is,validate,encode,runDefinition){var _this=_super.call(this,name,is,validate,encode)||this;return _this.runDefinition=runDefinition,_this._tag="RecursiveType",_this}return __extends(RecursiveType,_super),RecursiveType}(Type);exports.RecursiveType=RecursiveType,Object.defineProperty(RecursiveType.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0}),exports.recursion=function(name,definition){var cache,runDefinition=function(){return cache||((cache=definition(Self)).name=name),cache},Self=new RecursiveType(name,(function(u){return runDefinition().is(u)}),(function(u,c){return runDefinition().validate(u,c)}),(function(a){return runDefinition().encode(a)}),runDefinition);return Self};var ArrayType=function(_super){function ArrayType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this._tag="ArrayType",_this}return __extends(ArrayType,_super),ArrayType}(Type);exports.ArrayType=ArrayType,exports.array=function(codec,name){return void 0===name&&(name="Array<"+codec.name+">"),new ArrayType(name,(function(u){return exports.UnknownArray.is(u)&&u.every(codec.is)}),(function(u,c){return chain(exports.UnknownArray.validate(u,c),(function(us){for(var len=us.length,as=us,errors=[],i=0;i<len;i++){var ui=us[i],result=codec.validate(ui,exports.appendContext(c,String(i),codec,ui));if(Either_1.isLeft(result))pushAll(errors,result.left);else{var ai=result.right;ai!==ui&&(as===us&&(as=us.slice()),as[i]=ai)}}return errors.length>0?exports.failures(errors):exports.success(as)}))}),codec.encode===exports.identity?exports.identity:function(a){return a.map(codec.encode)},codec)};var InterfaceType=function(_super){function InterfaceType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;return _this.props=props,_this._tag="InterfaceType",_this}return __extends(InterfaceType,_super),InterfaceType}(Type);exports.InterfaceType=InterfaceType;var getNameFromProps=function(props){return Object.keys(props).map((function(k){return k+": "+props[k].name})).join(", ")},useIdentity=function(codecs){for(var i=0;i<codecs.length;i++)if(codecs[i].encode!==exports.identity)return!1;return!0},getInterfaceTypeName=function(props){return"{ "+getNameFromProps(props)+" }"};exports.type=function(props,name){void 0===name&&(name=getInterfaceTypeName(props));var keys=Object.keys(props),types=keys.map((function(key){return props[key]})),len=keys.length;return new InterfaceType(name,(function(u){if(exports.UnknownRecord.is(u)){for(var i=0;i<len;i++){var k=keys[i];if(!hasOwnProperty.call(u,k)||!types[i].is(u[k]))return!1}return!0}return!1}),(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(o){for(var a=o,errors=[],i=0;i<len;i++){var k=keys[i];hasOwnProperty.call(a,k)||(a===o&&(a=__assign({},o)),a[k]=a[k]);var ak=a[k],type_1=types[i],result=type_1.validate(ak,exports.appendContext(c,k,type_1,ak));if(Either_1.isLeft(result))pushAll(errors,result.left);else{var vak=result.right;vak!==ak&&(a===o&&(a=__assign({},o)),a[k]=vak)}}return errors.length>0?exports.failures(errors):exports.success(a)}))}),useIdentity(types)?exports.identity:function(a){for(var s=__assign({},a),i=0;i<len;i++){var k=keys[i],encode=types[i].encode;encode!==exports.identity&&(s[k]=encode(a[k]))}return s},props)},exports.interface=exports.type;var PartialType=function(_super){function PartialType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;return _this.props=props,_this._tag="PartialType",_this}return __extends(PartialType,_super),PartialType}(Type);exports.PartialType=PartialType;var getPartialTypeName=function(inner){return"Partial<"+inner+">"};exports.partial=function(props,name){void 0===name&&(name=getPartialTypeName(getInterfaceTypeName(props)));var keys=Object.keys(props),types=keys.map((function(key){return props[key]})),len=keys.length;return new PartialType(name,(function(u){if(exports.UnknownRecord.is(u)){for(var i=0;i<len;i++){var k=keys[i],uk=u[k];if(void 0!==uk&&!props[k].is(uk))return!1}return!0}return!1}),(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(o){for(var a=o,errors=[],i=0;i<len;i++){var k=keys[i],ak=a[k],type_2=props[k],result=type_2.validate(ak,exports.appendContext(c,k,type_2,ak));if(Either_1.isLeft(result))void 0!==ak&&pushAll(errors,result.left);else{var vak=result.right;vak!==ak&&(a===o&&(a=__assign({},o)),a[k]=vak)}}return errors.length>0?exports.failures(errors):exports.success(a)}))}),useIdentity(types)?exports.identity:function(a){for(var s=__assign({},a),i=0;i<len;i++){var k=keys[i],ak=a[k];void 0!==ak&&(s[k]=types[i].encode(ak))}return s},props)};var DictionaryType=function(_super){function DictionaryType(name,is,validate,encode,domain,codomain){var _this=_super.call(this,name,is,validate,encode)||this;return _this.domain=domain,_this.codomain=codomain,_this._tag="DictionaryType",_this}return __extends(DictionaryType,_super),DictionaryType}(Type);exports.DictionaryType=DictionaryType,exports.record=function(domain,codomain,name){return void 0===name&&(name="{ [K in "+domain.name+"]: "+codomain.name+" }"),new DictionaryType(name,(function(u){return exports.UnknownRecord.is(u)?Object.keys(u).every((function(k){return domain.is(k)&&codomain.is(u[k])})):isAnyCodec(codomain)&&Array.isArray(u)}),(function(u,c){if(exports.UnknownRecord.is(u)){for(var a={},errors=[],keys=Object.keys(u),len=keys.length,changed=!1,i=0;i<len;i++){var k=keys[i],ok=u[k],domainResult=domain.validate(k,exports.appendContext(c,k,domain,k));if(Either_1.isLeft(domainResult))pushAll(errors,domainResult.left);else{var vk=domainResult.right;changed=changed||vk!==k,k=vk;var codomainResult=codomain.validate(ok,exports.appendContext(c,k,codomain,ok));if(Either_1.isLeft(codomainResult))pushAll(errors,codomainResult.left);else{var vok=codomainResult.right;changed=changed||vok!==ok,a[k]=vok}}}return errors.length>0?exports.failures(errors):exports.success(changed?a:u)}return isAnyCodec(codomain)&&Array.isArray(u)?exports.success(u):exports.failure(u,c)}),domain.encode===exports.identity&&codomain.encode===exports.identity?exports.identity:function(a){for(var s={},keys=Object.keys(a),len=keys.length,i=0;i<len;i++){var k=keys[i];s[String(domain.encode(k))]=codomain.encode(a[k])}return s},domain,codomain)};var UnionType=function(_super){function UnionType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;return _this.types=types,_this._tag="UnionType",_this}return __extends(UnionType,_super),UnionType}(Type);exports.UnionType=UnionType;var getUnionName=function(codecs){return"("+codecs.map((function(type){return type.name})).join(" | ")+")"};exports.union=function(codecs,name){void 0===name&&(name=getUnionName(codecs));var index=getIndex(codecs);if(void 0!==index&&codecs.length>0){var tag_1=index[0],groups_1=index[1],len_1=groups_1.length,find_1=function(value){for(var i=0;i<len_1;i++)if(-1!==groups_1[i].indexOf(value))return i};return new TaggedUnionType(name,(function(u){if(exports.UnknownRecord.is(u)){var i=find_1(u[tag_1]);return void 0!==i&&codecs[i].is(u)}return!1}),(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(r){var i=find_1(r[tag_1]);if(void 0===i)return exports.failure(u,c);var codec=codecs[i];return codec.validate(r,exports.appendContext(c,String(i),codec,r))}))}),useIdentity(codecs)?exports.identity:function(a){var i=find_1(a[tag_1]);if(void 0===i)throw new Error("no codec found to encode value in union codec "+name);return codecs[i].encode(a)},codecs,tag_1)}return new UnionType(name,(function(u){return codecs.some((function(type){return type.is(u)}))}),(function(u,c){for(var errors=[],i=0;i<codecs.length;i++){var codec=codecs[i],result=codec.validate(u,exports.appendContext(c,String(i),codec,u));if(!Either_1.isLeft(result))return exports.success(result.right);pushAll(errors,result.left)}return exports.failures(errors)}),useIdentity(codecs)?exports.identity:function(a){for(var _i=0,codecs_1=codecs;_i<codecs_1.length;_i++){var codec=codecs_1[_i];if(codec.is(a))return codec.encode(a)}throw new Error("no codec found to encode value in union type "+name)},codecs)};var IntersectionType=function(_super){function IntersectionType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;return _this.types=types,_this._tag="IntersectionType",_this}return __extends(IntersectionType,_super),IntersectionType}(Type);exports.IntersectionType=IntersectionType;var mergeAll=function(base,us){for(var equal=!0,primitive=!0,_i=0,us_1=us;_i<us_1.length;_i++){(u=us_1[_i])!==base&&(equal=!1),exports.UnknownRecord.is(u)&&(primitive=!1)}if(equal)return base;if(primitive)return us[us.length-1];for(var r={},_a=0,us_2=us;_a<us_2.length;_a++){var u=us_2[_a];for(var k in u)u[k]===base[k]&&r.hasOwnProperty(k)||(r[k]=u[k])}return r};exports.intersection=function(codecs,name){void 0===name&&(name="("+codecs.map((function(type){return type.name})).join(" & ")+")");var len=codecs.length;return new IntersectionType(name,(function(u){return codecs.every((function(type){return type.is(u)}))}),0===codecs.length?exports.success:function(u,c){for(var us=[],errors=[],i=0;i<len;i++){var codec=codecs[i],result=codec.validate(u,exports.appendContext(c,String(i),codec,u));Either_1.isLeft(result)?pushAll(errors,result.left):us.push(result.right)}return errors.length>0?exports.failures(errors):exports.success(mergeAll(u,us))},0===codecs.length?exports.identity:function(a){return mergeAll(a,codecs.map((function(codec){return codec.encode(a)})))},codecs)};var TupleType=function(_super){function TupleType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;return _this.types=types,_this._tag="TupleType",_this}return __extends(TupleType,_super),TupleType}(Type);exports.TupleType=TupleType,exports.tuple=function(codecs,name){void 0===name&&(name="["+codecs.map((function(type){return type.name})).join(", ")+"]");var len=codecs.length;return new TupleType(name,(function(u){return exports.UnknownArray.is(u)&&u.length===len&&codecs.every((function(type,i){return type.is(u[i])}))}),(function(u,c){return chain(exports.UnknownArray.validate(u,c),(function(us){for(var as=us.length>len?us.slice(0,len):us,errors=[],i=0;i<len;i++){var a=us[i],type_3=codecs[i],result=type_3.validate(a,exports.appendContext(c,String(i),type_3,a));if(Either_1.isLeft(result))pushAll(errors,result.left);else{var va=result.right;va!==a&&(as===us&&(as=us.slice()),as[i]=va)}}return errors.length>0?exports.failures(errors):exports.success(as)}))}),useIdentity(codecs)?exports.identity:function(a){return codecs.map((function(type,i){return type.encode(a[i])}))},codecs)};var ReadonlyType=function(_super){function ReadonlyType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this._tag="ReadonlyType",_this}return __extends(ReadonlyType,_super),ReadonlyType}(Type);exports.ReadonlyType=ReadonlyType,exports.readonly=function(codec,name){return void 0===name&&(name="Readonly<"+codec.name+">"),new ReadonlyType(name,codec.is,(function(u,c){return map(codec.validate(u,c),(function(x){return x}))}),codec.encode===exports.identity?exports.identity:codec.encode,codec)};var ReadonlyArrayType=function(_super){function ReadonlyArrayType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this._tag="ReadonlyArrayType",_this}return __extends(ReadonlyArrayType,_super),ReadonlyArrayType}(Type);exports.ReadonlyArrayType=ReadonlyArrayType,exports.readonlyArray=function(codec,name){void 0===name&&(name="ReadonlyArray<"+codec.name+">");var arrayType=exports.array(codec);return new ReadonlyArrayType(name,arrayType.is,(function(u,c){return map(arrayType.validate(u,c),(function(x){return x}))}),arrayType.encode,codec)},exports.strict=function(props,name){return exports.exact(exports.type(props),name)};var TaggedUnionType=function(_super){function TaggedUnionType(name,is,validate,encode,codecs,tag){var _this=_super.call(this,name,is,validate,encode,codecs)||this;return _this.tag=tag,_this}return __extends(TaggedUnionType,_super),TaggedUnionType}(UnionType);exports.TaggedUnionType=TaggedUnionType,exports.taggedUnion=function(tag,codecs,name){void 0===name&&(name=getUnionName(codecs));var U=exports.union(codecs,name);return U instanceof TaggedUnionType?U:(console.warn("[io-ts] Cannot build a tagged union for "+name+", returning a de-optimized union"),new TaggedUnionType(name,U.is,U.validate,U.encode,codecs,tag))};var ExactType=function(_super){function ExactType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this._tag="ExactType",_this}return __extends(ExactType,_super),ExactType}(Type);exports.ExactType=ExactType;var getProps=function(codec){switch(codec._tag){case"RefinementType":case"ReadonlyType":return getProps(codec.type);case"InterfaceType":case"StrictType":case"PartialType":return codec.props;case"IntersectionType":return codec.types.reduce((function(props,type){return Object.assign(props,getProps(type))}),{})}},stripKeys=function(o,props){for(var keys=Object.getOwnPropertyNames(o),shouldStrip=!1,r={},i=0;i<keys.length;i++){var key=keys[i];hasOwnProperty.call(props,key)?r[key]=o[key]:shouldStrip=!0}return shouldStrip?r:o};exports.exact=function(codec,name){void 0===name&&(name=function(codec){return isInterfaceCodec(codec)?"{| "+getNameFromProps(codec.props)+" |}":isPartialCodec(codec)?getPartialTypeName("{| "+getNameFromProps(codec.props)+" |}"):"Exact<"+codec.name+">"}(codec));var props=getProps(codec);return new ExactType(name,codec.is,(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(){return map(codec.validate(u,c),(function(a){return stripKeys(a,props)}))}))}),(function(a){return codec.encode(stripKeys(a,props))}),codec)},exports.getValidationError=function(value,context){return{value:value,context:context}},exports.getDefaultContext=function(decoder){return[{key:"",type:decoder}]};var NeverType=function(_super){function NeverType(){var _this=_super.call(this,"never",(function(_){return!1}),(function(u,c){return exports.failure(u,c)}),(function(){throw new Error("cannot encode never")}))||this;return _this._tag="NeverType",_this}return __extends(NeverType,_super),NeverType}(Type);exports.NeverType=NeverType,exports.never=new NeverType;var AnyType=function(_super){function AnyType(){var _this=_super.call(this,"any",(function(_){return!0}),exports.success,exports.identity)||this;return _this._tag="AnyType",_this}return __extends(AnyType,_super),AnyType}(Type);exports.AnyType=AnyType,exports.any=new AnyType,exports.Dictionary=exports.UnknownRecord;var ObjectType=function(_super){function ObjectType(){var _this=_super.call(this,"object",(function(u){return null!==u&&"object"==typeof u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="ObjectType",_this}return __extends(ObjectType,_super),ObjectType}(Type);function refinement(codec,predicate,name){return void 0===name&&(name="("+codec.name+" | "+exports.getFunctionName(predicate)+")"),new RefinementType(name,(function(u){return codec.is(u)&&predicate(u)}),(function(i,c){return chain(codec.validate(i,c),(function(a){return predicate(a)?exports.success(a):exports.failure(a,c)}))}),codec.encode,codec,predicate)}exports.ObjectType=ObjectType,exports.object=new ObjectType,exports.refinement=refinement,exports.Integer=refinement(exports.number,Number.isInteger,"Integer"),exports.dictionary=exports.record;var StrictType=function(_super){function StrictType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;return _this.props=props,_this._tag="StrictType",_this}return __extends(StrictType,_super),StrictType}(Type);exports.StrictType=StrictType,exports.clean=function(codec){return codec},exports.alias=function(codec){return function(){return codec}};function intersect(a,b){for(var r=[],_i=0,a_1=a;_i<a_1.length;_i++){var v=a_1[_i];-1!==b.indexOf(v)&&r.push(v)}return r}function isLiteralC(codec){return"LiteralType"===codec._tag}exports.emptyTags={};var lazyCodecs=[];function getTags(codec){if(-1!==lazyCodecs.indexOf(codec))return exports.emptyTags;if(function(codec){return"InterfaceType"===codec._tag}(codec)||function(codec){return"StrictType"===codec._tag}(codec)){var index=exports.emptyTags;for(var k in codec.props){var prop=codec.props[k];isLiteralC(prop)&&(index===exports.emptyTags&&(index={}),index[k]=[prop.value])}return index}if(function(codec){return"ExactType"===codec._tag}(codec)||function(codec){return"RefinementType"===codec._tag}(codec))return getTags(codec.type);if(function(codec){return"IntersectionType"===codec._tag}(codec))return codec.types.reduce((function(tags,codec){return function(a,b){if(a===exports.emptyTags)return b;if(b===exports.emptyTags)return a;var r=Object.assign({},a);for(var k in b)if(a.hasOwnProperty(k)){var intersection_1=intersect(a[k],b[k]);if(!(intersection_1.length>0)){r=exports.emptyTags;break}r[k]=intersection_1}else r[k]=b[k];return r}(tags,getTags(codec))}),exports.emptyTags);if(function(codec){return"UnionType"===codec._tag}(codec))return codec.types.slice(1).reduce((function(tags,codec){return function(a,b){if(a===exports.emptyTags||b===exports.emptyTags)return exports.emptyTags;var r=exports.emptyTags;for(var k in a){if(b.hasOwnProperty(k))0===intersect(a[k],b[k]).length&&(r===exports.emptyTags&&(r={}),r[k]=a[k].concat(b[k]))}return r}(tags,getTags(codec))}),getTags(codec.types[0]));if(function(codec){return"RecursiveType"===codec._tag}(codec)){lazyCodecs.push(codec);var tags=getTags(codec.type);return lazyCodecs.pop(),tags}return exports.emptyTags}function getIndex(codecs){var tags=getTags(codecs[0]),keys=Object.keys(tags),len=codecs.length,_loop_1=function(k){for(var all=tags[k].slice(),index=[tags[k]],i=1;i<len;i++){var values=getTags(codecs[i])[k];if(void 0===values)return"continue-keys";if(values.some((function(v){return-1!==all.indexOf(v)})))return"continue-keys";all.push.apply(all,values),index.push(values)}return{value:[k,index]}};keys:for(var _i=0,keys_1=keys;_i<keys_1.length;_i++){var state_1=_loop_1(keys_1[_i]);if("object"==typeof state_1)return state_1.value;switch(state_1){case"continue-keys":continue keys}}}exports.getTags=getTags,exports.getIndex=getIndex},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return badRequestErrorRT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return forbiddenErrorRT})),__webpack_require__.d(__webpack_exports__,"d",(function(){return time_range.a})),__webpack_require__.d(__webpack_exports__,"c",(function(){return routeTimingMetadataRT}));var lib=__webpack_require__(0);const badRequestErrorRT=lib.intersection([lib.type({statusCode:lib.literal(400),error:lib.literal("Bad Request"),message:lib.string}),lib.partial({attributes:lib.unknown})]),forbiddenErrorRT=lib.intersection([lib.type({statusCode:lib.literal(403),error:lib.literal("Forbidden"),message:lib.string}),lib.partial({attributes:lib.unknown})]);lib.intersection([lib.type({statusCode:lib.literal(409),error:lib.literal("Conflict"),message:lib.string}),lib.partial({attributes:lib.unknown})]),lib.type({avg:lib.union([lib.number,lib.null]),count:lib.number,max:lib.union([lib.number,lib.null]),min:lib.union([lib.number,lib.null]),sum:lib.number});var time_range=__webpack_require__(36);__webpack_require__(37);const tracingSpanRT=lib.type({duration:lib.number,id:lib.string,name:lib.string,start:lib.number}),routeTimingMetadataRT=lib.type({spans:lib.array(tracingSpanRT)})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return ResolveLogSourceConfigurationError})),__webpack_require__.d(__webpack_exports__,"a",(function(){return FetchLogSourceConfigurationError})),__webpack_require__.d(__webpack_exports__,"b",(function(){return FetchLogSourceStatusError})),__webpack_require__.d(__webpack_exports__,"c",(function(){return PatchLogSourceConfigurationError})),__webpack_require__.d(__webpack_exports__,"f",(function(){return log_source_configuration.b})),__webpack_require__.d(__webpack_exports__,"e",(function(){return log_source_configuration.a})),__webpack_require__.d(__webpack_exports__,"g",(function(){return log_source_configuration.c})),__webpack_require__.d(__webpack_exports__,"h",(function(){return resolveLogSourceConfiguration}));class ResolveLogSourceConfigurationError extends Error{constructor(message,cause){super(message),this.cause=cause,Object.setPrototypeOf(this,new.target.prototype),this.name="ResolveLogSourceConfigurationError"}}class FetchLogSourceConfigurationError extends Error{constructor(message,cause){super(message),this.cause=cause,Object.setPrototypeOf(this,new.target.prototype),this.name="FetchLogSourceConfigurationError"}}class FetchLogSourceStatusError extends Error{constructor(message,cause){super(message),this.cause=cause,Object.setPrototypeOf(this,new.target.prototype),this.name="FetchLogSourceStatusError"}}class PatchLogSourceConfigurationError extends Error{constructor(message,cause){super(message),this.cause=cause,Object.setPrototypeOf(this,new.target.prototype),this.name="PatchLogSourceConfigurationError"}}var log_source_configuration=__webpack_require__(8);const resolveLogSourceConfiguration=async(sourceConfiguration,indexPatternsService)=>"index_name"===sourceConfiguration.logIndices.type?await resolveLegacyReference(sourceConfiguration,indexPatternsService):await resolveKibanaIndexPatternReference(sourceConfiguration,indexPatternsService),resolveLegacyReference=async(sourceConfiguration,indexPatternsService)=>{if("index_name"!==sourceConfiguration.logIndices.type)throw new Error("This function can only resolve legacy references");const indices=sourceConfiguration.logIndices.indexName,fields=await indexPatternsService.getFieldsForWildcard({pattern:indices,allowNoIndex:!0}).catch(error=>{throw new ResolveLogSourceConfigurationError(`Failed to fetch fields for indices "${indices}": ${error}`,error)});return{indices:sourceConfiguration.logIndices.indexName,timestampField:sourceConfiguration.fields.timestamp,tiebreakerField:sourceConfiguration.fields.tiebreaker,messageField:sourceConfiguration.fields.message,fields:fields,runtimeMappings:{},columns:sourceConfiguration.logColumns,name:sourceConfiguration.name,description:sourceConfiguration.description}},resolveKibanaIndexPatternReference=async(sourceConfiguration,indexPatternsService)=>{var _indexPattern$timeFie;if("index_pattern"!==sourceConfiguration.logIndices.type)throw new Error("This function can only resolve Kibana Index Pattern references");const{indexPatternId:indexPatternId}=sourceConfiguration.logIndices,indexPattern=await indexPatternsService.get(indexPatternId).catch(error=>{throw new ResolveLogSourceConfigurationError(`Failed to fetch index pattern "${indexPatternId}": ${error}`,error)});return{indices:indexPattern.title,timestampField:null!==(_indexPattern$timeFie=indexPattern.timeFieldName)&&void 0!==_indexPattern$timeFie?_indexPattern$timeFie:"@timestamp",tiebreakerField:"_doc",messageField:["message"],fields:indexPattern.fields,runtimeMappings:resolveRuntimeMappings(indexPattern),columns:sourceConfiguration.logColumns,name:sourceConfiguration.name,description:sourceConfiguration.description}},resolveRuntimeMappings=indexPattern=>{const{runtimeFields:runtimeFields}=indexPattern.getComputedFields();return Object.entries(runtimeFields).reduce((accumulatedMappings,[runtimeFieldName,runtimeFieldSpec])=>({...accumulatedMappings,[runtimeFieldName]:{type:runtimeFieldSpec.type,...null!=runtimeFieldSpec.script?{script:{lang:"painless",source:runtimeFieldSpec.script.source}}:{}}}),{})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return LOG_DOCUMENT_COUNT_ALERT_TYPE_ID})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Comparator})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ComparatorToi18nMap})),__webpack_require__.d(__webpack_exports__,"d",(function(){return countCriteriaRT})),__webpack_require__.d(__webpack_exports__,"j",(function(){return timeUnitRT})),__webpack_require__.d(__webpack_exports__,"i",(function(){return timeSizeRT})),__webpack_require__.d(__webpack_exports__,"g",(function(){return groupByRT})),__webpack_require__.d(__webpack_exports__,"h",(function(){return isRatioAlert})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getNumerator})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getDenominator}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1),lib=__webpack_require__(0);const commonSearchSuccessResponseFieldsRT=lib.type({_shards:lib.type({total:lib.number,successful:lib.number,skipped:lib.number,failed:lib.number}),timed_out:lib.boolean,took:lib.number}),LOG_DOCUMENT_COUNT_ALERT_TYPE_ID="logs.alert.document.count";lib.keyof({count:null,ratio:null});let Comparator;!function(Comparator){Comparator.GT="more than",Comparator.GT_OR_EQ="more than or equals",Comparator.LT="less than",Comparator.LT_OR_EQ="less than or equals",Comparator.EQ="equals",Comparator.NOT_EQ="does not equal",Comparator.MATCH="matches",Comparator.NOT_MATCH="does not match",Comparator.MATCH_PHRASE="matches phrase",Comparator.NOT_MATCH_PHRASE="does not match phrase"}(Comparator||(Comparator={}));const ComparatorRT=lib.keyof({[Comparator.GT]:null,[Comparator.GT_OR_EQ]:null,[Comparator.LT]:null,[Comparator.LT_OR_EQ]:null,[Comparator.EQ]:null,[Comparator.NOT_EQ]:null,[Comparator.MATCH]:null,[Comparator.NOT_MATCH]:null,[Comparator.MATCH_PHRASE]:null,[Comparator.NOT_MATCH_PHRASE]:null}),ComparatorToi18nMap={[Comparator.GT]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.comparator.gt",{defaultMessage:"more than"}),[Comparator.GT_OR_EQ]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.comparator.gtOrEq",{defaultMessage:"more than or equals"}),[Comparator.LT]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.comparator.lt",{defaultMessage:"less than"}),[Comparator.LT_OR_EQ]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.comparator.ltOrEq",{defaultMessage:"less than or equals"}),[Comparator.EQ]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.comparator.eq",{defaultMessage:"is"}),[Comparator.NOT_EQ]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.comparator.notEq",{defaultMessage:"is not"}),[Comparator.EQ+":number"]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.comparator.eqNumber",{defaultMessage:"equals"}),[Comparator.NOT_EQ+":number"]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.comparator.notEqNumber",{defaultMessage:"does not equal"}),[Comparator.MATCH]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.comparator.match",{defaultMessage:"matches"}),[Comparator.NOT_MATCH]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.comparator.notMatch",{defaultMessage:"does not match"}),[Comparator.MATCH_PHRASE]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.comparator.matchPhrase",{defaultMessage:"matches phrase"}),[Comparator.NOT_MATCH_PHRASE]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.comparator.notMatchPhrase",{defaultMessage:"does not match phrase"})};let AlertStates;!function(AlertStates){AlertStates[AlertStates.OK=0]="OK",AlertStates[AlertStates.ALERT=1]="ALERT",AlertStates[AlertStates.NO_DATA=2]="NO_DATA",AlertStates[AlertStates.ERROR=3]="ERROR"}(AlertStates||(AlertStates={}));const ThresholdRT=lib.type({comparator:ComparatorRT,value:lib.number}),criterionRT=lib.type({field:lib.string,comparator:ComparatorRT,value:lib.union([lib.string,lib.number])}),partialCriterionRT=lib.partial(criterionRT.props),countCriteriaRT=lib.array(criterionRT),partialCountCriteriaRT=lib.array(partialCriterionRT),ratioCriteriaRT=lib.tuple([countCriteriaRT,countCriteriaRT]),partialRatioCriteriaRT=lib.tuple([partialCountCriteriaRT,partialCountCriteriaRT]),timeUnitRT=(lib.union([partialCountCriteriaRT,partialRatioCriteriaRT]),lib.union([lib.literal("s"),lib.literal("m"),lib.literal("h"),lib.literal("d")])),timeSizeRT=lib.number,groupByRT=lib.array(lib.string),RequiredAlertParamsRT=lib.type({count:ThresholdRT,timeUnit:timeUnitRT,timeSize:timeSizeRT}),OptionalAlertParamsRT=(lib.partial(RequiredAlertParamsRT.props),lib.partial({groupBy:groupByRT})),countAlertParamsRT=lib.intersection([lib.type({criteria:countCriteriaRT,...RequiredAlertParamsRT.props}),lib.partial({...OptionalAlertParamsRT.props})]),partialCountAlertParamsRT=lib.intersection([lib.type({criteria:partialCountCriteriaRT,...RequiredAlertParamsRT.props}),lib.partial({...OptionalAlertParamsRT.props})]),ratioAlertParamsRT=lib.intersection([lib.type({criteria:ratioCriteriaRT,...RequiredAlertParamsRT.props}),lib.partial({...OptionalAlertParamsRT.props})]),partialRatioAlertParamsRT=lib.intersection([lib.type({criteria:partialRatioCriteriaRT,...RequiredAlertParamsRT.props}),lib.partial({...OptionalAlertParamsRT.props})]),isRatioAlert=(lib.union([countAlertParamsRT,ratioAlertParamsRT]),lib.union([partialCountAlertParamsRT,partialRatioAlertParamsRT]),criteria=>!!(criteria.length>0&&Array.isArray(criteria[0]))),getNumerator=criteria=>criteria[0],getDenominator=criteria=>criteria[1],chartPreviewHistogramBucket=lib.type({key:lib.number,doc_count:lib.number});lib.intersection([commonSearchSuccessResponseFieldsRT,lib.intersection([lib.type({hits:lib.type({total:lib.type({value:lib.number})})}),lib.partial({aggregations:lib.type({histogramBuckets:lib.type({buckets:lib.array(chartPreviewHistogramBucket)})})})])]),lib.intersection([commonSearchSuccessResponseFieldsRT,lib.type({aggregations:lib.type({groups:lib.intersection([lib.type({buckets:lib.array(lib.type({key:lib.record(lib.string,lib.string),doc_count:lib.number,filtered_results:lib.intersection([lib.type({doc_count:lib.number}),lib.partial({histogramBuckets:lib.type({buckets:lib.array(chartPreviewHistogramBucket)})})])}))}),lib.partial({after_key:lib.record(lib.string,lib.string)})])}),hits:lib.type({total:lib.type({value:lib.number})})})])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parse=exports.unitsAsc=exports.unitsDesc=exports.units=exports.unitsMap=void 0;const moment_1=__webpack_require__(49).__importDefault(__webpack_require__(50));exports.unitsMap={ms:{weight:1,type:"fixed",base:1},s:{weight:2,type:"fixed",base:1e3},m:{weight:3,type:"mixed",base:6e4},h:{weight:4,type:"mixed",base:36e5},d:{weight:5,type:"mixed",base:864e5},w:{weight:6,type:"calendar",base:NaN},M:{weight:7,type:"calendar",base:NaN},y:{weight:9,type:"calendar",base:NaN}},exports.units=Object.keys(exports.unitsMap).sort((a,b)=>exports.unitsMap[b].weight-exports.unitsMap[a].weight),exports.unitsDesc=[...exports.units],exports.unitsAsc=[...exports.units].reverse();const isDate=d=>"[object Date]"===Object.prototype.toString.call(d);function parse(input,options={}){const text=input,{roundUp:roundUp=!1,momentInstance:momentInstance=moment_1.default,forceNow:forceNow}=options;if(!text)return;if(momentInstance.isMoment(text))return text;if(isDate(text))return momentInstance(text);if(void 0!==forceNow&&(!isDate(d=forceNow)||isNaN(d.valueOf())))throw new Error("forceNow must be a valid Date");var d;let time,index,parseString,mathString="";return"now"===text.substring(0,3)?(time=momentInstance(forceNow),mathString=text.substring("now".length)):(index=text.indexOf("||"),-1===index?(parseString=text,mathString=""):(parseString=text.substring(0,index),mathString=text.substring(index+2)),time=momentInstance(parseString)),mathString.length?function(mathString,time,roundUp){const dateTime=time,len=mathString.length;let i=0;for(;i<len;){const c=mathString.charAt(i++);let type,num,unit;if("/"===c)type=0;else if("+"===c)type=1;else{if("-"!==c)return;type=2}if(isNaN(mathString.charAt(i)))num=1;else if(2===mathString.length)num=mathString.charAt(i);else{const numFrom=i;for(;!isNaN(mathString.charAt(i));)if(i++,i>=len)return;num=parseInt(mathString.substring(numFrom,i),10)}if(0===type&&1!==num)return;unit=mathString.charAt(i++);for(let j=i;j<len;j++){const unitChar=mathString.charAt(i);if(!/[a-z]/i.test(unitChar))break;unit+=unitChar,i++}if(-1===exports.units.indexOf(unit))return;0===type?roundUp?dateTime.endOf(unit):dateTime.startOf(unit):1===type?dateTime.add(num,unit):2===type&&dateTime.subtract(num,unit)}return dateTime}(mathString,time,roundUp):time}exports.parse=parse,exports.default={parse:parse,unitsMap:Object.freeze(exports.unitsMap),units:Object.freeze(exports.units),unitsAsc:Object.freeze(exports.unitsAsc),unitsDesc:Object.freeze(exports.unitsDesc)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return logSourceColumnConfigurationRT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return logIndexPatternReferenceRT})),__webpack_require__.d(__webpack_exports__,"a",(function(){return logIndexNameReferenceRT})),__webpack_require__.d(__webpack_exports__,"c",(function(){return logIndexReferenceRT})),__webpack_require__.d(__webpack_exports__,"e",(function(){return logSourceConfigurationPropertiesRT})),__webpack_require__.d(__webpack_exports__,"f",(function(){return logSourceConfigurationRT}));var io_ts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);const logSourceConfigurationOriginRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.keyof({fallback:null,internal:null,stored:null}),logSourceFieldsConfigurationRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.strict({container:io_ts__WEBPACK_IMPORTED_MODULE_0__.string,host:io_ts__WEBPACK_IMPORTED_MODULE_0__.string,pod:io_ts__WEBPACK_IMPORTED_MODULE_0__.string,timestamp:io_ts__WEBPACK_IMPORTED_MODULE_0__.string,tiebreaker:io_ts__WEBPACK_IMPORTED_MODULE_0__.string,message:io_ts__WEBPACK_IMPORTED_MODULE_0__.array(io_ts__WEBPACK_IMPORTED_MODULE_0__.string)}),logSourceCommonColumnConfigurationRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.strict({id:io_ts__WEBPACK_IMPORTED_MODULE_0__.string}),logSourceTimestampColumnConfigurationRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.strict({timestampColumn:logSourceCommonColumnConfigurationRT}),logSourceMessageColumnConfigurationRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.strict({messageColumn:logSourceCommonColumnConfigurationRT}),logSourceFieldColumnConfigurationRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.strict({fieldColumn:io_ts__WEBPACK_IMPORTED_MODULE_0__.intersection([logSourceCommonColumnConfigurationRT,io_ts__WEBPACK_IMPORTED_MODULE_0__.strict({field:io_ts__WEBPACK_IMPORTED_MODULE_0__.string})])}),logSourceColumnConfigurationRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.union([logSourceTimestampColumnConfigurationRT,logSourceMessageColumnConfigurationRT,logSourceFieldColumnConfigurationRT]),logIndexPatternReferenceRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.type({type:io_ts__WEBPACK_IMPORTED_MODULE_0__.literal("index_pattern"),indexPatternId:io_ts__WEBPACK_IMPORTED_MODULE_0__.string}),logIndexNameReferenceRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.type({type:io_ts__WEBPACK_IMPORTED_MODULE_0__.literal("index_name"),indexName:io_ts__WEBPACK_IMPORTED_MODULE_0__.string}),logIndexReferenceRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.union([logIndexPatternReferenceRT,logIndexNameReferenceRT]),logSourceConfigurationPropertiesRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.strict({name:io_ts__WEBPACK_IMPORTED_MODULE_0__.string,description:io_ts__WEBPACK_IMPORTED_MODULE_0__.string,logIndices:logIndexReferenceRT,fields:logSourceFieldsConfigurationRT,logColumns:io_ts__WEBPACK_IMPORTED_MODULE_0__.array(logSourceColumnConfigurationRT)}),logSourceConfigurationRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.exact(io_ts__WEBPACK_IMPORTED_MODULE_0__.intersection([io_ts__WEBPACK_IMPORTED_MODULE_0__.type({id:io_ts__WEBPACK_IMPORTED_MODULE_0__.string,origin:logSourceConfigurationOriginRT,configuration:logSourceConfigurationPropertiesRT}),io_ts__WEBPACK_IMPORTED_MODULE_0__.partial({updatedAt:io_ts__WEBPACK_IMPORTED_MODULE_0__.number,version:io_ts__WEBPACK_IMPORTED_MODULE_0__.string})]))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return formatNumber}));const formatNumber=val=>Number(val).toLocaleString("en",{maximumFractionDigits:1})},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getLogSourceConfigurationSuccessResponsePayloadRT})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getLogSourceStatusPath})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getLogSourceStatusSuccessResponsePayloadRT})),__webpack_require__.d(__webpack_exports__,"e",(function(){return patchLogSourceConfigurationRequestBodyRT})),__webpack_require__.d(__webpack_exports__,"f",(function(){return patchLogSourceConfigurationSuccessResponsePayloadRT})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getLogSourceConfigurationPath}));var lib=__webpack_require__(0),shared=__webpack_require__(4),log_source_configuration=__webpack_require__(8);lib.type({sourceId:lib.string});const getLogSourceConfigurationSuccessResponsePayloadRT=lib.intersection([lib.type({data:log_source_configuration.f}),lib.partial({timing:shared.c})]),getLogSourceConfigurationErrorResponsePayloadRT=lib.union([shared.a,shared.b]),getLogSourceConfigurationPath=(lib.union([getLogSourceConfigurationSuccessResponsePayloadRT,getLogSourceConfigurationErrorResponsePayloadRT]),sourceId=>"/api/infra/log_source_configurations/"+sourceId),getLogSourceStatusPath=sourceId=>getLogSourceConfigurationPath(sourceId)+"/status",logIndexStatusRT=(lib.type({sourceId:lib.string}),lib.strict({name:lib.string,type:lib.string,searchable:lib.boolean,aggregatable:lib.boolean}),lib.keyof({missing:null,empty:null,available:null})),logSourceStatusRT=lib.strict({logIndexStatus:logIndexStatusRT}),getLogSourceStatusSuccessResponsePayloadRT=lib.intersection([lib.type({data:logSourceStatusRT}),lib.partial({timing:shared.c})]),logSourceConfigurationProperiesPatchRT=(lib.type({sourceId:lib.string}),lib.partial({...log_source_configuration.e.type.props,fields:lib.partial(log_source_configuration.e.type.props.fields.type.props)})),patchLogSourceConfigurationRequestBodyRT=lib.type({data:logSourceConfigurationProperiesPatchRT}),patchLogSourceConfigurationSuccessResponsePayloadRT=getLogSourceConfigurationSuccessResponsePayloadRT;lib.union([patchLogSourceConfigurationSuccessResponsePayloadRT,shared.a,shared.b])},function(module,__webpack_exports__,__webpack_require__){"use strict";let Comparator,Aggregators,AlertStates;__webpack_require__.d(__webpack_exports__,"a",(function(){return Comparator})),function(Comparator){Comparator.GT=">",Comparator.LT="<",Comparator.GT_OR_EQ=">=",Comparator.LT_OR_EQ="<=",Comparator.BETWEEN="between",Comparator.OUTSIDE_RANGE="outside"}(Comparator||(Comparator={})),function(Aggregators){Aggregators.COUNT="count",Aggregators.AVERAGE="avg",Aggregators.SUM="sum",Aggregators.MIN="min",Aggregators.MAX="max",Aggregators.RATE="rate",Aggregators.CARDINALITY="cardinality",Aggregators.P95="p95",Aggregators.P99="p99"}(Aggregators||(Aggregators={})),function(AlertStates){AlertStates[AlertStates.OK=0]="OK",AlertStates[AlertStates.ALERT=1]="ALERT",AlertStates[AlertStates.WARNING=2]="WARNING",AlertStates[AlertStates.NO_DATA=3]="NO_DATA",AlertStates[AlertStates.ERROR=4]="ERROR"}(AlertStates||(AlertStates={}))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createPlainError})),__webpack_require__.d(__webpack_exports__,"c",(function(){return throwErrors})),__webpack_require__.d(__webpack_exports__,"b",(function(){return decodeOrThrow}));var fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18),fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),io_ts__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0);const getErrorPath=([first,...rest])=>{if(void 0===first)return[];if(first.type instanceof io_ts__WEBPACK_IMPORTED_MODULE_3__.IntersectionType){const[,...next]=rest;return getErrorPath(next)}if(first.type instanceof io_ts__WEBPACK_IMPORTED_MODULE_3__.UnionType){const[,...next]=rest;return[first.key,...getErrorPath(next)]}return[first.key,...getErrorPath(rest)]},formatErrors=errors=>"Failed to validate: \n"+errors.map(error=>"  "+(error=>{var _error$message;return null!==(_error$message=error.message)&&void 0!==_error$message?_error$message:`in ${getErrorPath(error.context).join("/")}: ${JSON.stringify(error.value)} does not match expected type ${(({context:context})=>{var _context$type$name,_context,_context$type;return null!==(_context$type$name=null===(_context=context[context.length-1])||void 0===_context||null===(_context$type=_context.type)||void 0===_context$type?void 0:_context$type.name)&&void 0!==_context$type$name?_context$type$name:"unknown"})(error)}`})(error)).join("\n"),createPlainError=message=>new Error(message),throwErrors=createError=>errors=>{throw createError(formatErrors(errors))},decodeOrThrow=(runtimeType,createError=createPlainError)=>inputValue=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_2__.pipe)(runtimeType.decode(inputValue),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_0__.fold)(throwErrors(createError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_1__.identity))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createKibanaContextForPlugin})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useKibanaContextForPlugin}));var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);const createKibanaContextForPlugin=(core,pluginsStart)=>Object(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_0__.createKibanaReactContext)({...core,...pluginsStart}),useKibanaContextForPlugin=_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_0__.useKibana},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.apS=exports.apSW=exports.bind=exports.bindW=exports.bindTo=exports.exists=exports.elem=exports.toError=exports.either=exports.getValidationMonoid=exports.MonadThrow=exports.ChainRec=exports.Extend=exports.Alt=exports.Bifunctor=exports.Traversable=exports.Foldable=exports.Monad=exports.Applicative=exports.Functor=exports.getValidationSemigroup=exports.getValidation=exports.getAltValidation=exports.getApplicativeValidation=exports.getWitherable=exports.getFilterable=exports.getApplyMonoid=exports.getApplySemigroup=exports.getSemigroup=exports.getEq=exports.getShow=exports.URI=exports.throwError=exports.sequence=exports.traverse=exports.reduceRight=exports.foldMap=exports.reduce=exports.duplicate=exports.extend=exports.alt=exports.flatten=exports.chainFirst=exports.chainFirstW=exports.chain=exports.chainW=exports.of=exports.apSecond=exports.apFirst=exports.ap=exports.apW=exports.mapLeft=exports.bimap=exports.map=exports.filterOrElse=exports.orElse=exports.swap=exports.getOrElse=exports.getOrElseW=exports.fold=exports.fromPredicate=exports.fromOption=exports.stringifyJSON=exports.parseJSON=exports.tryCatch=exports.fromNullable=exports.right=exports.left=exports.isRight=exports.isLeft=void 0;var ChainRec_1=__webpack_require__(53),function_1=__webpack_require__(18);function tryCatch(f,onError){try{return exports.right(f())}catch(e){return exports.left(onError(e))}}exports.isLeft=function(ma){return"Left"===ma._tag},exports.isRight=function(ma){return"Right"===ma._tag},exports.left=function(e){return{_tag:"Left",left:e}},exports.right=function(a){return{_tag:"Right",right:a}},exports.fromNullable=function(e){return function(a){return null==a?exports.left(e):exports.right(a)}},exports.tryCatch=tryCatch,exports.parseJSON=function(s,onError){return tryCatch((function(){return JSON.parse(s)}),onError)},exports.stringifyJSON=function(u,onError){return tryCatch((function(){return JSON.stringify(u)}),onError)},exports.fromOption=function(onNone){return function(ma){return"None"===ma._tag?exports.left(onNone()):exports.right(ma.value)}},exports.fromPredicate=function(predicate,onFalse){return function(a){return predicate(a)?exports.right(a):exports.left(onFalse(a))}},exports.fold=function(onLeft,onRight){return function(ma){return exports.isLeft(ma)?onLeft(ma.left):onRight(ma.right)}},exports.getOrElseW=function(onLeft){return function(ma){return exports.isLeft(ma)?onLeft(ma.left):ma.right}},exports.getOrElse=exports.getOrElseW,exports.swap=function(ma){return exports.isLeft(ma)?exports.right(ma.left):exports.left(ma.right)},exports.orElse=function(onLeft){return function(ma){return exports.isLeft(ma)?onLeft(ma.left):ma}},exports.filterOrElse=function(predicate,onFalse){return exports.chain((function(a){return predicate(a)?exports.right(a):exports.left(onFalse(a))}))};var map_=function(fa,f){return function_1.pipe(fa,exports.map(f))},ap_=function(fab,fa){return function_1.pipe(fab,exports.ap(fa))},chain_=function(ma,f){return function_1.pipe(ma,exports.chain(f))},reduce_=function(fa,b,f){return function_1.pipe(fa,exports.reduce(b,f))},foldMap_=function(M){return function(fa,f){var foldMapM=exports.foldMap(M);return function_1.pipe(fa,foldMapM(f))}},reduceRight_=function(fa,b,f){return function_1.pipe(fa,exports.reduceRight(b,f))},traverse_=function(F){var traverseF=exports.traverse(F);return function(ta,f){return function_1.pipe(ta,traverseF(f))}},bimap_=function(fa,f,g){return function_1.pipe(fa,exports.bimap(f,g))},mapLeft_=function(fa,f){return function_1.pipe(fa,exports.mapLeft(f))},alt_=function(fa,that){return function_1.pipe(fa,exports.alt(that))},extend_=function(wa,f){return function_1.pipe(wa,exports.extend(f))},chainRec_=function(a,f){return ChainRec_1.tailRec(f(a),(function(e){return exports.isLeft(e)?exports.right(exports.left(e.left)):exports.isLeft(e.right)?exports.left(f(e.right.left)):exports.right(exports.right(e.right.right))}))};function getApplySemigroup(S){return{concat:function(x,y){return exports.isLeft(x)?x:exports.isLeft(y)?y:exports.right(S.concat(x.right,y.right))}}}function getFilterable(M){var empty=exports.left(M.empty);return{URI:exports.URI,_E:void 0,map:map_,compact:function(ma){return exports.isLeft(ma)?ma:"None"===ma.right._tag?empty:exports.right(ma.right.value)},separate:function(ma){return exports.isLeft(ma)?{left:ma,right:ma}:exports.isLeft(ma.right)?{left:exports.right(ma.right.left),right:empty}:{left:empty,right:exports.right(ma.right.right)}},filter:function(ma,predicate){return exports.isLeft(ma)||predicate(ma.right)?ma:empty},filterMap:function(ma,f){if(exports.isLeft(ma))return ma;var ob=f(ma.right);return"None"===ob._tag?empty:exports.right(ob.value)},partition:function(ma,p){return exports.isLeft(ma)?{left:ma,right:ma}:p(ma.right)?{left:empty,right:exports.right(ma.right)}:{left:exports.right(ma.right),right:empty}},partitionMap:function(ma,f){if(exports.isLeft(ma))return{left:ma,right:ma};var e=f(ma.right);return exports.isLeft(e)?{left:exports.right(e.left),right:empty}:{left:empty,right:exports.right(e.right)}}}}function getApplicativeValidation(SE){return{URI:exports.URI,_E:void 0,map:map_,ap:function(fab,fa){return exports.isLeft(fab)?exports.isLeft(fa)?exports.left(SE.concat(fab.left,fa.left)):fab:exports.isLeft(fa)?fa:exports.right(fab.right(fa.right))},of:exports.of}}function getAltValidation(SE){return{URI:exports.URI,_E:void 0,map:map_,alt:function(me,that){if(exports.isRight(me))return me;var ea=that();return exports.isLeft(ea)?exports.left(SE.concat(me.left,ea.left)):ea}}}function getValidationSemigroup(SE,SA){return{concat:function(x,y){return exports.isLeft(x)?exports.isLeft(y)?exports.left(SE.concat(x.left,y.left)):x:exports.isLeft(y)?y:exports.right(SA.concat(x.right,y.right))}}}exports.map=function(f){return function(fa){return exports.isLeft(fa)?fa:exports.right(f(fa.right))}},exports.bimap=function(f,g){return function(fa){return exports.isLeft(fa)?exports.left(f(fa.left)):exports.right(g(fa.right))}},exports.mapLeft=function(f){return function(fa){return exports.isLeft(fa)?exports.left(f(fa.left)):fa}},exports.apW=function(fa){return function(fab){return exports.isLeft(fab)?fab:exports.isLeft(fa)?fa:exports.right(fab.right(fa.right))}},exports.ap=exports.apW,exports.apFirst=function(fb){return function_1.flow(exports.map((function(a){return function(){return a}})),exports.ap(fb))},exports.apSecond=function(fb){return function_1.flow(exports.map((function(){return function(b){return b}})),exports.ap(fb))},exports.of=exports.right,exports.chainW=function(f){return function(ma){return exports.isLeft(ma)?ma:f(ma.right)}},exports.chain=exports.chainW,exports.chainFirstW=function(f){return function(ma){return function_1.pipe(ma,exports.chainW((function(a){return function_1.pipe(f(a),exports.map((function(){return a})))})))}},exports.chainFirst=exports.chainFirstW,exports.flatten=exports.chain(function_1.identity),exports.alt=function(that){return function(fa){return exports.isLeft(fa)?that():fa}},exports.extend=function(f){return function(wa){return exports.isLeft(wa)?wa:exports.right(f(wa))}},exports.duplicate=exports.extend(function_1.identity),exports.reduce=function(b,f){return function(fa){return exports.isLeft(fa)?b:f(b,fa.right)}},exports.foldMap=function(M){return function(f){return function(fa){return exports.isLeft(fa)?M.empty:f(fa.right)}}},exports.reduceRight=function(b,f){return function(fa){return exports.isLeft(fa)?b:f(fa.right,b)}},exports.traverse=function(F){return function(f){return function(ta){return exports.isLeft(ta)?F.of(exports.left(ta.left)):F.map(f(ta.right),exports.right)}}},exports.sequence=function(F){return function(ma){return exports.isLeft(ma)?F.of(exports.left(ma.left)):F.map(ma.right,exports.right)}},exports.throwError=exports.left,exports.URI="Either",exports.getShow=function(SE,SA){return{show:function(ma){return exports.isLeft(ma)?"left("+SE.show(ma.left)+")":"right("+SA.show(ma.right)+")"}}},exports.getEq=function(EL,EA){return{equals:function(x,y){return x===y||(exports.isLeft(x)?exports.isLeft(y)&&EL.equals(x.left,y.left):exports.isRight(y)&&EA.equals(x.right,y.right))}}},exports.getSemigroup=function(S){return{concat:function(x,y){return exports.isLeft(y)?x:exports.isLeft(x)?y:exports.right(S.concat(x.right,y.right))}}},exports.getApplySemigroup=getApplySemigroup,exports.getApplyMonoid=function(M){return{concat:getApplySemigroup(M).concat,empty:exports.right(M.empty)}},exports.getFilterable=getFilterable,exports.getWitherable=function(M){var F_=getFilterable(M);return{URI:exports.URI,_E:void 0,map:map_,compact:F_.compact,separate:F_.separate,filter:F_.filter,filterMap:F_.filterMap,partition:F_.partition,partitionMap:F_.partitionMap,traverse:traverse_,sequence:exports.sequence,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_,wither:function(F){var traverseF=traverse_(F);return function(ma,f){return F.map(traverseF(ma,f),F_.compact)}},wilt:function(F){var traverseF=traverse_(F);return function(ma,f){return F.map(traverseF(ma,f),F_.separate)}}}},exports.getApplicativeValidation=getApplicativeValidation,exports.getAltValidation=getAltValidation,exports.getValidation=function(SE){var applicativeValidation=getApplicativeValidation(SE),altValidation=getAltValidation(SE);return{URI:exports.URI,_E:void 0,map:map_,of:exports.of,chain:chain_,bimap:bimap_,mapLeft:mapLeft_,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_,extend:extend_,traverse:traverse_,sequence:exports.sequence,chainRec:chainRec_,throwError:exports.throwError,ap:applicativeValidation.ap,alt:altValidation.alt}},exports.getValidationSemigroup=getValidationSemigroup,exports.Functor={URI:exports.URI,map:map_},exports.Applicative={URI:exports.URI,map:map_,ap:ap_,of:exports.of},exports.Monad={URI:exports.URI,map:map_,ap:ap_,of:exports.of,chain:chain_},exports.Foldable={URI:exports.URI,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_},exports.Traversable={URI:exports.URI,map:map_,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_,traverse:traverse_,sequence:exports.sequence},exports.Bifunctor={URI:exports.URI,bimap:bimap_,mapLeft:mapLeft_},exports.Alt={URI:exports.URI,map:map_,alt:alt_},exports.Extend={URI:exports.URI,map:map_,extend:extend_},exports.ChainRec={URI:exports.URI,map:map_,ap:ap_,chain:chain_,chainRec:chainRec_},exports.MonadThrow={URI:exports.URI,map:map_,ap:ap_,of:exports.of,chain:chain_,throwError:exports.throwError},exports.getValidationMonoid=function(SE,SA){return{concat:getValidationSemigroup(SE,SA).concat,empty:exports.right(SA.empty)}},exports.either={URI:exports.URI,map:map_,of:exports.of,ap:ap_,chain:chain_,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_,traverse:traverse_,sequence:exports.sequence,bimap:bimap_,mapLeft:mapLeft_,alt:alt_,extend:extend_,chainRec:chainRec_,throwError:exports.throwError},exports.toError=function(e){return e instanceof Error?e:new Error(String(e))},exports.elem=function(E){return function(a,ma){return!exports.isLeft(ma)&&E.equals(a,ma.right)}},exports.exists=function(predicate){return function(ma){return!exports.isLeft(ma)&&predicate(ma.right)}},exports.bindTo=function(name){return exports.map(function_1.bindTo_(name))},exports.bindW=function(name,f){return exports.chainW((function(a){return function_1.pipe(f(a),exports.map((function(b){return function_1.bind_(a,name,b)})))}))},exports.bind=exports.bindW,exports.apSW=function(name,fb){return function_1.flow(exports.map((function(a){return function(b){return function_1.bind_(a,name,b)}})),exports.apW(fb))},exports.apS=exports.apSW},function(module,exports,__webpack_require__){"use strict";function identity(a){return a}function absurd(_){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindTo_=exports.bind_=exports.hole=exports.pipe=exports.untupled=exports.tupled=exports.absurd=exports.decrement=exports.increment=exports.tuple=exports.flow=exports.flip=exports.constVoid=exports.constUndefined=exports.constNull=exports.constFalse=exports.constTrue=exports.constant=exports.not=exports.unsafeCoerce=exports.identity=void 0,exports.identity=identity,exports.unsafeCoerce=identity,exports.not=function(predicate){return function(a){return!predicate(a)}},exports.constant=function(a){return function(){return a}},exports.constTrue=function(){return!0},exports.constFalse=function(){return!1},exports.constNull=function(){return null},exports.constUndefined=function(){},exports.constVoid=function(){},exports.flip=function(f){return function(b,a){return f(a,b)}},exports.flow=function(ab,bc,cd,de,ef,fg,gh,hi,ij){switch(arguments.length){case 1:return ab;case 2:return function(){return bc(ab.apply(this,arguments))};case 3:return function(){return cd(bc(ab.apply(this,arguments)))};case 4:return function(){return de(cd(bc(ab.apply(this,arguments))))};case 5:return function(){return ef(de(cd(bc(ab.apply(this,arguments)))))};case 6:return function(){return fg(ef(de(cd(bc(ab.apply(this,arguments))))))};case 7:return function(){return gh(fg(ef(de(cd(bc(ab.apply(this,arguments)))))))};case 8:return function(){return hi(gh(fg(ef(de(cd(bc(ab.apply(this,arguments))))))))};case 9:return function(){return ij(hi(gh(fg(ef(de(cd(bc(ab.apply(this,arguments)))))))))}}},exports.tuple=function(){for(var t=[],_i=0;_i<arguments.length;_i++)t[_i]=arguments[_i];return t},exports.increment=function(n){return n+1},exports.decrement=function(n){return n-1},exports.absurd=absurd,exports.tupled=function(f){return function(a){return f.apply(void 0,a)}},exports.untupled=function(f){return function(){for(var a=[],_i=0;_i<arguments.length;_i++)a[_i]=arguments[_i];return f(a)}},exports.pipe=function(a,ab,bc,cd,de,ef,fg,gh,hi,ij,jk,kl,lm,mn,no,op,pq,qr,rs,st){switch(arguments.length){case 1:return a;case 2:return ab(a);case 3:return bc(ab(a));case 4:return cd(bc(ab(a)));case 5:return de(cd(bc(ab(a))));case 6:return ef(de(cd(bc(ab(a)))));case 7:return fg(ef(de(cd(bc(ab(a))))));case 8:return gh(fg(ef(de(cd(bc(ab(a)))))));case 9:return hi(gh(fg(ef(de(cd(bc(ab(a))))))));case 10:return ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))));case 11:return jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))));case 12:return kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))));case 13:return lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))));case 14:return mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))));case 15:return no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))))));case 16:return op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))))));case 17:return pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))))))));case 18:return qr(pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))))))));case 19:return rs(qr(pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))))))))));case 20:return st(rs(qr(pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))))))))))}},exports.hole=absurd,exports.bind_=function(a,name,b){var _a;return Object.assign({},a,((_a={})[name]=b,_a))},exports.bindTo_=function(name){return function(b){var _a;return(_a={})[name]=b,_a}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return METRIC_THRESHOLD_ALERT_TYPE_ID}));var _common_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12);__webpack_require__.d(__webpack_exports__,"a",(function(){return _common_types__WEBPACK_IMPORTED_MODULE_0__.a}));const METRIC_THRESHOLD_ALERT_TYPE_ID="metrics.alert.threshold";let Aggregators;!function(Aggregators){Aggregators.COUNT="count",Aggregators.AVERAGE="avg",Aggregators.SUM="sum",Aggregators.MIN="min",Aggregators.MAX="max",Aggregators.RATE="rate",Aggregators.CARDINALITY="cardinality",Aggregators.P95="p95",Aggregators.P99="p99"}(Aggregators||(Aggregators={}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TriggerActionsContext})),__webpack_require__.d(__webpack_exports__,"b",(function(){return TriggersActionsProvider}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);const TriggerActionsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({triggersActionsUI:null}),TriggersActionsProvider=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(TriggerActionsContext.Provider,{value:{triggersActionsUI:props.triggersActionsUI}},props.children)},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return useNavigationWarningPrompt})),__webpack_require__.d(__webpack_exports__,"a",(function(){return NavigationWarningPromptProvider})),__webpack_require__.d(__webpack_exports__,"b",(function(){return Prompt}));var external_kbnSharedDeps_React_=__webpack_require__(2),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);const NavigationWarningPromptContext=Object(external_kbnSharedDeps_React_.createContext)({setPrompt:prompt=>{}}),useNavigationWarningPrompt=()=>Object(external_kbnSharedDeps_React_.useContext)(NavigationWarningPromptContext),NavigationWarningPromptProvider=({children:children})=>{const[prompt,setPrompt]=Object(external_kbnSharedDeps_React_.useState)(void 0);return external_kbnSharedDeps_React_default.a.createElement(NavigationWarningPromptContext.Provider,{value:{prompt:prompt,setPrompt:setPrompt}},children)},Prompt=({prompt:prompt})=>{const{setPrompt:setPrompt}=useNavigationWarningPrompt();return Object(external_kbnSharedDeps_React_.useEffect)(()=>(setPrompt(prompt),()=>{setPrompt(void 0)}),[prompt,setPrompt]),null}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return METRIC_INVENTORY_THRESHOLD_ALERT_TYPE_ID}));var _common_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12);__webpack_require__.d(__webpack_exports__,"a",(function(){return _common_types__WEBPACK_IMPORTED_MODULE_0__.a}));const METRIC_INVENTORY_THRESHOLD_ALERT_TYPE_ID="metrics.alert.inventory.threshold"},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pipeable=exports.pipe=void 0;var function_1=__webpack_require__(18);exports.pipe=function_1.pipe;exports.pipeable=function(I){var r={};if(function(I){return"function"==typeof I.map}(I)){r.map=function(f){return function(fa){return I.map(fa,f)}}}if(function(I){return"function"==typeof I.contramap}(I)){r.contramap=function(f){return function(fa){return I.contramap(fa,f)}}}if(function(I){return"function"==typeof I.mapWithIndex}(I)){r.mapWithIndex=function(f){return function(fa){return I.mapWithIndex(fa,f)}}}if(function(I){return"function"==typeof I.ap}(I)){r.ap=function(fa){return function(fab){return I.ap(fab,fa)}},r.apFirst=function(fb){return function(fa){return I.ap(I.map(fa,(function(a){return function(){return a}})),fb)}},r.apSecond=function(fb){return function(fa){return I.ap(I.map(fa,(function(){return function(b){return b}})),fb)}}}if(function(I){return"function"==typeof I.chain}(I)){r.chain=function(f){return function(ma){return I.chain(ma,f)}},r.chainFirst=function(f){return function(ma){return I.chain(ma,(function(a){return I.map(f(a),(function(){return a}))}))}},r.flatten=function(mma){return I.chain(mma,function_1.identity)}}if(function(I){return"function"==typeof I.bimap}(I)){r.bimap=function(f,g){return function(fa){return I.bimap(fa,f,g)}},r.mapLeft=function(f){return function(fa){return I.mapLeft(fa,f)}}}if(function(I){return"function"==typeof I.extend}(I)){r.extend=function(f){return function(wa){return I.extend(wa,f)}},r.duplicate=function(wa){return I.extend(wa,function_1.identity)}}if(function(I){return"function"==typeof I.reduce}(I)){r.reduce=function(b,f){return function(fa){return I.reduce(fa,b,f)}},r.foldMap=function(M){var foldMapM=I.foldMap(M);return function(f){return function(fa){return foldMapM(fa,f)}}},r.reduceRight=function(b,f){return function(fa){return I.reduceRight(fa,b,f)}}}if(function(I){return"function"==typeof I.reduceWithIndex}(I)){r.reduceWithIndex=function(b,f){return function(fa){return I.reduceWithIndex(fa,b,f)}},r.foldMapWithIndex=function(M){var foldMapM=I.foldMapWithIndex(M);return function(f){return function(fa){return foldMapM(fa,f)}}},r.reduceRightWithIndex=function(b,f){return function(fa){return I.reduceRightWithIndex(fa,b,f)}}}if(function(I){return"function"==typeof I.alt}(I)){r.alt=function(that){return function(fa){return I.alt(fa,that)}}}if(function(I){return"function"==typeof I.compact}(I)&&(r.compact=I.compact,r.separate=I.separate),function(I){return"function"==typeof I.filter}(I)){r.filter=function(predicate){return function(fa){return I.filter(fa,predicate)}},r.filterMap=function(f){return function(fa){return I.filterMap(fa,f)}},r.partition=function(predicate){return function(fa){return I.partition(fa,predicate)}},r.partitionMap=function(f){return function(fa){return I.partitionMap(fa,f)}}}if(function(I){return"function"==typeof I.filterWithIndex}(I)){r.filterWithIndex=function(predicateWithIndex){return function(fa){return I.filterWithIndex(fa,predicateWithIndex)}},r.filterMapWithIndex=function(f){return function(fa){return I.filterMapWithIndex(fa,f)}},r.partitionWithIndex=function(predicateWithIndex){return function(fa){return I.partitionWithIndex(fa,predicateWithIndex)}},r.partitionMapWithIndex=function(f){return function(fa){return I.partitionMapWithIndex(fa,f)}}}if(function(I){return"function"==typeof I.promap}(I)){r.promap=function(f,g){return function(fa){return I.promap(fa,f,g)}}}if(function(I){return"function"==typeof I.compose}(I)){r.compose=function(that){return function(fa){return I.compose(fa,that)}}}if(function(I){return"function"==typeof I.throwError}(I)){r.fromOption=function(onNone){return function(ma){return"None"===ma._tag?I.throwError(onNone()):I.of(ma.value)}},r.fromEither=function(ma){return"Left"===ma._tag?I.throwError(ma.left):I.of(ma.right)},r.fromPredicate=function(predicate,onFalse){return function(a){return predicate(a)?I.of(a):I.throwError(onFalse(a))}},r.filterOrElse=function(predicate,onFalse){return function(ma){return I.chain(ma,(function(a){return predicate(a)?I.of(a):I.throwError(onFalse(a))}))}}}return r}},function(module,exports){module.exports=__kbnSharedDeps__.RisonNode},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return isValidDatemath})),__webpack_require__.d(__webpack_exports__,"a",(function(){return datemathToEpochMillis})),__webpack_require__.d(__webpack_exports__,"b",(function(){return extendDatemath}));var _elastic_datemath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_elastic_datemath__WEBPACK_IMPORTED_MODULE_0__);function isValidDatemath(value){const parsedValue=_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default.a.parse(value);return!(!parsedValue||!parsedValue.isValid())}function datemathToEpochMillis(value,round="down"){const parsedValue=_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default.a.parse(value,{roundUp:"up"===round});return parsedValue&&parsedValue.isValid()?parsedValue.valueOf():null}const datemathNowExpression=/(\+|\-)(\d+)(ms|s|m|h|d|w|M|y)$/;function extendDatemath(value,direction="before",oppositeEdge){if(isValidDatemath(value))return"now"===value?{value:"now"}:value.startsWith("now")?function(value,direction){const[,operator,amount,unit]=datemathNowExpression.exec(value)||[];if(!operator||!amount||!unit)return;const mustIncreaseAmount="-"===operator&&"before"===direction||"+"===operator&&"after"===direction,parsedAmount=parseInt(amount,10);let newAmount,newUnit=unit;switch(unit){case"ms":case"s":newAmount=mustIncreaseAmount?2*parsedAmount:Math.floor(parsedAmount/2);break;case"m":let ratio;const MINUTES_LARGE=10;mustIncreaseAmount?(ratio=parsedAmount>=MINUTES_LARGE?.5:1,newAmount=parsedAmount+Math.floor(parsedAmount*ratio)):newAmount=parsedAmount>=MINUTES_LARGE?Math.floor(parsedAmount/1.5):parsedAmount-Math.floor(.5*parsedAmount);break;case"h":1===parsedAmount?(newAmount=mustIncreaseAmount?90:30,newUnit="m"):newAmount=mustIncreaseAmount?parsedAmount+1:parsedAmount-1;break;case"d":case"w":case"M":case"y":1===parsedAmount?(newUnit=_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default.a.unitsDesc[_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default.a.unitsDesc.indexOf(unit)+1],newAmount=mustIncreaseAmount?convertDate(1,unit,newUnit)+1:convertDate(1,unit,newUnit)-1):newAmount=mustIncreaseAmount?parsedAmount+1:parsedAmount-1;break;default:throw new TypeError("Unhandled datemath unit")}const{unit:normalizedUnit,amount:normalizedAmount}=normalizeDate(newAmount,newUnit),diffAmount=Math.abs(normalizedAmount-convertDate(parsedAmount,unit,normalizedUnit)),shouldKeepDiffUnit=diffAmount%1!=0,nextValue=`now${operator}${normalizedAmount}${normalizedUnit}`;return isDateInRange(nextValue)?{value:nextValue,diffUnit:shouldKeepDiffUnit?unit:newUnit,diffAmount:shouldKeepDiffUnit?Math.abs(newAmount-parsedAmount):diffAmount}:void 0}(value,direction):oppositeEdge&&isValidDatemath(oppositeEdge)?function(value,direction,oppositeEdge){const valueTimestamp=datemathToEpochMillis(value),oppositeEdgeTimestamp=datemathToEpochMillis(oppositeEdge),normalizedDiff=normalizeDate(Math.abs(valueTimestamp-oppositeEdgeTimestamp),"ms"),normalizedTimestampDiff=convertDate(normalizedDiff.amount,normalizedDiff.unit,"ms"),newValue="before"===direction?valueTimestamp-normalizedTimestampDiff:valueTimestamp+normalizedTimestampDiff;return isDateInRange(newValue)?{value:new Date(newValue).toISOString(),diffUnit:normalizedDiff.unit,diffAmount:normalizedDiff.amount}:void 0}(value,direction,oppositeEdge):void 0}const CONVERSION_RATIOS_wy=[["w",52],["y",1]],CONVERSION_RATIOS_w=[["ms",1e3],["s",60],["m",60],["h",24],["d",7],["w",4],["M",12],["y",1]],CONVERSION_RATIOS_M=[["ms",1e3],["s",60],["m",60],["h",24],["d",30],["M",12],["y",1]],CONVERSION_RATIOS_default=[["ms",1e3],["s",60],["m",60],["h",24],["d",365],["y",1]];function getRatioScale(from,to){return"y"===from&&"w"===to||"w"===from&&"y"===to?CONVERSION_RATIOS_wy:"w"===from||"w"===to?CONVERSION_RATIOS_w:"M"===from||"M"===to?CONVERSION_RATIOS_M:CONVERSION_RATIOS_default}function convertDate(value,from,to){if(from===to)return value;const ratioScale=getRatioScale(from,to),fromIdx=ratioScale.findIndex(ratio=>ratio[0]===from),toIdx=ratioScale.findIndex(ratio=>ratio[0]===to);let convertedValue=value;if(fromIdx>toIdx)for(let i=toIdx;i<fromIdx;i++)convertedValue*=ratioScale[i][1];else for(let i=fromIdx;i<toIdx;i++)convertedValue/=ratioScale[i][1];return convertedValue}function normalizeDate(amount,unit){if("y"===unit)return{amount:amount,unit:unit};const nextUnit=_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default.a.unitsAsc[_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default.a.unitsAsc.indexOf(unit)+1],newAmount=amount/getRatioScale(unit,nextUnit).find(r=>r[0]===unit)[1];return 1===newAmount?{amount:newAmount,unit:nextUnit}:newAmount>=2?normalizeDate(Math.round(newAmount),nextUnit):{amount:amount,unit:unit}}function isDateInRange(date){try{var _datemathToEpochMilli;const epoch="string"==typeof date?null!==(_datemathToEpochMilli=datemathToEpochMillis(date))&&void 0!==_datemathToEpochMilli?_datemathToEpochMilli:-1:date;return epoch>=0&&epoch<=864e13}catch{return!1}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULT_SOURCE_ID})),__webpack_require__.d(__webpack_exports__,"b",(function(){return METRICS_INDEX_PATTERN}));const DEFAULT_SOURCE_ID="default",METRICS_INDEX_PATTERN="metrics-*,metricbeat-*"},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("entry/core/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/home/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return useLinkProps})),__webpack_require__.d(__webpack_exports__,"a",(function(){return shouldHandleLinkEvent}));var external_kbnSharedDeps_React_=__webpack_require__(2),query_string=__webpack_require__(35),public_=__webpack_require__(34),kibanaReact_public_=__webpack_require__(3);var navigation_warning_prompt=__webpack_require__(22);const useLinkProps=({app:app,pathname:pathname,hash:hash,search:search},options={})=>{var _useKibana$services$a;validateParams({app:app,pathname:pathname,hash:hash,search:search});const{prompt:prompt}=Object(navigation_warning_prompt.c)(),prefixer=(()=>{var _useKibana$services$a;const getUrlForApp=null===(_useKibana$services$a=Object(kibanaReact_public_.useKibana)().services.application)||void 0===_useKibana$services$a?void 0:_useKibana$services$a.getUrlForApp;return Object(external_kbnSharedDeps_React_.useMemo)(()=>{if(!getUrlForApp)throw new Error("Application core service is unavailable");return(app,path)=>getUrlForApp(app,{path:path})},[getUrlForApp])})(),navigateToApp=null===(_useKibana$services$a=Object(kibanaReact_public_.useKibana)().services.application)||void 0===_useKibana$services$a?void 0:_useKibana$services$a.navigateToApp,{hrefOnly:hrefOnly}=options,encodedSearch=Object(external_kbnSharedDeps_React_.useMemo)(()=>search?encodeSearch(search):void 0,[search]),mergedHash=Object(external_kbnSharedDeps_React_.useMemo)(()=>hash&&encodedSearch?`${hash}?${encodedSearch}`:hash,[hash,encodedSearch]),mergedPathname=Object(external_kbnSharedDeps_React_.useMemo)(()=>pathname&&encodedSearch?`${pathname}?${encodedSearch}`:pathname,[pathname,encodedSearch]),href=Object(external_kbnSharedDeps_React_.useMemo)(()=>prefixer(app,`${null!=pathname?pathname:""}${hash?"":encodedSearch?"?"+encodedSearch:""}${mergedHash?"#"+mergedHash:""}`),[mergedHash,hash,encodedSearch,pathname,prefixer,app]),onClick=Object(external_kbnSharedDeps_React_.useMemo)(()=>e=>{if(!shouldHandleLinkEvent(e))return;e.preventDefault();const navigate=()=>{if(navigateToApp){const navigationPath=mergedHash?"#"+mergedHash:mergedPathname;navigateToApp(app,{path:navigationPath||void 0})}};if(prompt){if(!window.confirm(prompt))return;navigate()}else navigate()},[navigateToApp,mergedHash,mergedPathname,app,prompt]);return{href:href,onClick:hrefOnly?void 0:onClick}},encodeSearch=search=>Object(query_string.stringify)(public_.url.encodeQuery(search),{sort:!1,encode:!1}),validateParams=({app:app,pathname:pathname,hash:hash,search:search})=>{if(!app&&hash)throw new Error("The metrics and logs apps use browserHistory. Please provide a pathname rather than a hash.")},shouldHandleLinkEvent=e=>{return!(e.defaultPrevented||(event=e,event.metaKey||event.altKey||event.ctrlKey||event.shiftKey));var event}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return PALETTES})),__webpack_require__.d(__webpack_exports__,"d",(function(){return InventoryColorPaletteRT})),__webpack_require__.d(__webpack_exports__,"f",(function(){return StepLegendRT})),__webpack_require__.d(__webpack_exports__,"a",(function(){return GradientLegendRT})),__webpack_require__.d(__webpack_exports__,"g",(function(){return SteppedGradientLegendRT})),__webpack_require__.d(__webpack_exports__,"c",(function(){return InfraWaffleMapRuleOperator})),__webpack_require__.d(__webpack_exports__,"b",(function(){return InfraFormatterType}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),io_ts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);const OperatorRT=io_ts__WEBPACK_IMPORTED_MODULE_1__.keyof({gt:null,gte:null,lt:null,lte:null,eq:null}),PALETTES={status:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.legendControls.palettes.status",{defaultMessage:"Status"}),temperature:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.legendControls.palettes.temperature",{defaultMessage:"Temperature"}),cool:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.legendControls.palettes.cool",{defaultMessage:"Cool"}),warm:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.legendControls.palettes.warm",{defaultMessage:"Warm"}),positive:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.legendControls.palettes.positive",{defaultMessage:"Positive"}),negative:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.legendControls.palettes.negative",{defaultMessage:"Negative"})},InventoryColorPaletteRT=io_ts__WEBPACK_IMPORTED_MODULE_1__.keyof(PALETTES),StepRuleRT=io_ts__WEBPACK_IMPORTED_MODULE_1__.intersection([io_ts__WEBPACK_IMPORTED_MODULE_1__.type({value:io_ts__WEBPACK_IMPORTED_MODULE_1__.number,operator:OperatorRT,color:io_ts__WEBPACK_IMPORTED_MODULE_1__.string}),io_ts__WEBPACK_IMPORTED_MODULE_1__.partial({label:io_ts__WEBPACK_IMPORTED_MODULE_1__.string})]),StepLegendRT=io_ts__WEBPACK_IMPORTED_MODULE_1__.type({type:io_ts__WEBPACK_IMPORTED_MODULE_1__.literal("step"),rules:io_ts__WEBPACK_IMPORTED_MODULE_1__.array(StepRuleRT)}),GradientRuleRT=io_ts__WEBPACK_IMPORTED_MODULE_1__.type({value:io_ts__WEBPACK_IMPORTED_MODULE_1__.number,color:io_ts__WEBPACK_IMPORTED_MODULE_1__.string}),GradientLegendRT=io_ts__WEBPACK_IMPORTED_MODULE_1__.type({type:io_ts__WEBPACK_IMPORTED_MODULE_1__.literal("gradient"),rules:io_ts__WEBPACK_IMPORTED_MODULE_1__.array(GradientRuleRT)}),SteppedGradientLegendRT=io_ts__WEBPACK_IMPORTED_MODULE_1__.type({type:io_ts__WEBPACK_IMPORTED_MODULE_1__.literal("steppedGradient"),rules:io_ts__WEBPACK_IMPORTED_MODULE_1__.array(GradientRuleRT)});io_ts__WEBPACK_IMPORTED_MODULE_1__.union([StepLegendRT,GradientLegendRT,SteppedGradientLegendRT]);let InfraWaffleMapRuleOperator,InfraFormatterType;!function(InfraWaffleMapRuleOperator){InfraWaffleMapRuleOperator.gt="gt",InfraWaffleMapRuleOperator.gte="gte",InfraWaffleMapRuleOperator.lt="lt",InfraWaffleMapRuleOperator.lte="lte",InfraWaffleMapRuleOperator.eq="eq"}(InfraWaffleMapRuleOperator||(InfraWaffleMapRuleOperator={})),function(InfraFormatterType){InfraFormatterType.number="number",InfraFormatterType.abbreviatedNumber="abbreviatedNumber",InfraFormatterType.bytes="bytes",InfraFormatterType.bits="bits",InfraFormatterType.percent="percent"}(InfraFormatterType||(InfraFormatterType={}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FORMATTERS})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createFormatter}));var number=__webpack_require__(9);let InfraWaffleMapDataFormat;!function(InfraWaffleMapDataFormat){InfraWaffleMapDataFormat.bytesDecimal="bytesDecimal",InfraWaffleMapDataFormat.bitsDecimal="bitsDecimal",InfraWaffleMapDataFormat.abbreviatedNumber="abbreviatedNumber"}(InfraWaffleMapDataFormat||(InfraWaffleMapDataFormat={}));const LABELS={[InfraWaffleMapDataFormat.bytesDecimal]:["B","kB","MB","GB","TB","PB","EB","ZB","YB"],[InfraWaffleMapDataFormat.bitsDecimal]:["bit","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],[InfraWaffleMapDataFormat.abbreviatedNumber]:["","K","M","B","T"]},BASES={[InfraWaffleMapDataFormat.bytesDecimal]:1e3,[InfraWaffleMapDataFormat.bitsDecimal]:1e3,[InfraWaffleMapDataFormat.abbreviatedNumber]:1e3},createBytesFormatter=format=>bytes=>{const labels=LABELS[format],base=BASES[format],value=format===InfraWaffleMapDataFormat.bitsDecimal?8*bytes:bytes,power=Math.min(Math.floor(Math.log(Math.abs(value))/Math.log(base)),labels.length-1);return power<0?`${Object(number.a)(value)}${labels[0]}`:`${Object(number.a)(value/Math.pow(base,power))}${labels[power]}`},FORMATTERS={number:number.a,abbreviatedNumber:createBytesFormatter(InfraWaffleMapDataFormat.abbreviatedNumber),bytes:createBytesFormatter(InfraWaffleMapDataFormat.bytesDecimal),bits:createBytesFormatter(InfraWaffleMapDataFormat.bitsDecimal),percent:val=>Object(number.a)(100*val)+"%",highPercision:val=>Number(val).toLocaleString("en",{maximumFractionDigits:5})},createFormatter=(format,template="{{value}}")=>val=>{if(null==val)return"";const value=(0,FORMATTERS[format])(Number(val));return template.replace(/{{value}}/g,value)}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(54),decodeComponent=__webpack_require__(55),splitOnFirst=__webpack_require__(56);function validateArrayFormatSeparator(value){if("string"!=typeof value||1!==value.length)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(value,options){return options.encode?options.strict?strictUriEncode(value):encodeURIComponent(value):value}function decode(value,options){return options.decode?decodeComponent(value):value}function removeHash(input){const hashStart=input.indexOf("#");return-1!==hashStart&&(input=input.slice(0,hashStart)),input}function extract(input){const queryStart=(input=removeHash(input)).indexOf("?");return-1===queryStart?"":input.slice(queryStart+1)}function parseValue(value,options){return options.parseNumbers&&!Number.isNaN(Number(value))&&"string"==typeof value&&""!==value.trim()?value=Number(value):!options.parseBooleans||null===value||"true"!==value.toLowerCase()&&"false"!==value.toLowerCase()||(value="true"===value.toLowerCase()),value}function parse(input,options){validateArrayFormatSeparator((options=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},options)).arrayFormatSeparator);const formatter=function(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key),key=key.replace(/\[\d*\]$/,""),result?(void 0===accumulator[key]&&(accumulator[key]={}),accumulator[key][result[1]]=value):accumulator[key]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key),key=key.replace(/\[\]$/,""),result?void 0!==accumulator[key]?accumulator[key]=[].concat(accumulator[key],value):accumulator[key]=[value]:accumulator[key]=value};case"comma":case"separator":return(key,value,accumulator)=>{const newValue="string"==typeof value&&value.split("").indexOf(options.arrayFormatSeparator)>-1?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):null===value?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{void 0!==accumulator[key]?accumulator[key]=[].concat(accumulator[key],value):accumulator[key]=value}}}(options),ret=Object.create(null);if("string"!=typeof input)return ret;if(!(input=input.trim().replace(/^[?#&]/,"")))return ret;for(const param of input.split("&")){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=void 0===value?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options),formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if("object"==typeof value&&null!==value)for(const k of Object.keys(value))value[k]=parseValue(value[k],options);else ret[key]=parseValue(value,options)}return!1===options.sort?ret:(!0===options.sort?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];return Boolean(value)&&"object"==typeof value&&!Array.isArray(value)?result[key]=function keysSorter(input){return Array.isArray(input)?input.sort():"object"==typeof input?keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key]):input}(value):result[key]=value,result},Object.create(null))}exports.extract=extract,exports.parse=parse,exports.stringify=(object,options)=>{if(!object)return"";validateArrayFormatSeparator((options=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},options)).arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&null==object[key]||options.skipEmptyString&&""===object[key],formatter=function(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;return void 0===value||options.skipNull&&null===value||options.skipEmptyString&&""===value?result:null===value?[...result,[encode(key,options),"[",index,"]"].join("")]:[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>void 0===value||options.skipNull&&null===value||options.skipEmptyString&&""===value?result:null===value?[...result,[encode(key,options),"[]"].join("")]:[...result,[encode(key,options),"[]=",encode(value,options)].join("")];case"comma":case"separator":return key=>(result,value)=>null==value||0===value.length?result:0===result.length?[[encode(key,options),"=",encode(value,options)].join("")]:[[result,encode(value,options)].join(options.arrayFormatSeparator)];default:return key=>(result,value)=>void 0===value||options.skipNull&&null===value||options.skipEmptyString&&""===value?result:null===value?[...result,encode(key,options)]:[...result,[encode(key,options),"=",encode(value,options)].join("")]}}(options),objectCopy={};for(const key of Object.keys(object))shouldFilter(key)||(objectCopy[key]=object[key]);const keys=Object.keys(objectCopy);return!1!==options.sort&&keys.sort(options.sort),keys.map(key=>{const value=object[key];return void 0===value?"":null===value?encode(key,options):Array.isArray(value)?value.reduce(formatter(key),[]).join("&"):encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")},exports.parseUrl=(input,options)=>{options=Object.assign({decode:!0},options);const[url,hash]=splitOnFirst(input,"#");return Object.assign({url:url.split("?")[0]||"",query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})},exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:!0,strict:!0},options);const url=removeHash(input.url).split("?")[0]||"",queryFromUrl=exports.extract(input.url),parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:!1}),query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);queryString&&(queryString="?"+queryString);let hash=function(url){let hash="";const hashStart=url.indexOf("#");return-1!==hashStart&&(hash=url.slice(hashStart)),hash}(input.url);return input.fragmentIdentifier&&(hash="#"+encode(input.fragmentIdentifier,options)),`${url}${queryString}${hash}`}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return timeRangeRT}));var io_ts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);const timeRangeRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.type({startTime:io_ts__WEBPACK_IMPORTED_MODULE_0__.number,endTime:io_ts__WEBPACK_IMPORTED_MODULE_0__.number})},function(module,exports,__webpack_require__){var v1=__webpack_require__(57),v4=__webpack_require__(58),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return callFetchLogSourceConfigurationAPI}));var _common_http_api_log_sources__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_common_log_sources__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_common_runtime_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(15);const callFetchLogSourceConfigurationAPI=async(sourceId,fetch)=>{const response=await fetch(Object(_common_http_api_log_sources__WEBPACK_IMPORTED_MODULE_0__.a)(sourceId),{method:"GET"}).catch(error=>{throw new _common_log_sources__WEBPACK_IMPORTED_MODULE_1__.a(`Failed to fetch log source configuration "${sourceId}": ${error}`,error)});return Object(_common_runtime_types__WEBPACK_IMPORTED_MODULE_2__.b)(_common_http_api_log_sources__WEBPACK_IMPORTED_MODULE_0__.b,message=>new _common_log_sources__WEBPACK_IMPORTED_MODULE_1__.a(`Failed to decode log source configuration "${sourceId}": ${message}`))(response)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return callFetchLogSourceStatusAPI}));var _common_http_api_log_sources__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_common_log_sources__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_common_runtime_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(15);const callFetchLogSourceStatusAPI=async(sourceId,fetch)=>{const response=await fetch(Object(_common_http_api_log_sources__WEBPACK_IMPORTED_MODULE_0__.c)(sourceId),{method:"GET"}).catch(error=>{throw new _common_log_sources__WEBPACK_IMPORTED_MODULE_1__.b(`Failed to fetch status for log source "${sourceId}": ${error}`,error)});return Object(_common_runtime_types__WEBPACK_IMPORTED_MODULE_2__.b)(_common_http_api_log_sources__WEBPACK_IMPORTED_MODULE_0__.d,message=>new _common_log_sources__WEBPACK_IMPORTED_MODULE_1__.b(`Failed to decode status for log source "${sourceId}": ${message}`))(response)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CommonInfraProviders})),__webpack_require__.d(__webpack_exports__,"b",(function(){return CoreProviders}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13),_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_hooks_use_kibana__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(16),_utils_header_action_menu_provider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41),_utils_navigation_warning_prompt__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(22),_utils_triggers_actions_context__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(20);const CommonInfraProviders=({children:children,triggersActionsUI:triggersActionsUI,setHeaderActionMenu:setHeaderActionMenu,appName:appName,storage:storage})=>{const[darkMode]=Object(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_2__.useUiSetting$)("theme:darkMode");return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_utils_triggers_actions_context__WEBPACK_IMPORTED_MODULE_6__.b,{triggersActionsUI:triggersActionsUI},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__.EuiThemeProvider,{darkMode:darkMode},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DataUIProviders,{appName:appName,storage:storage},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_utils_header_action_menu_provider__WEBPACK_IMPORTED_MODULE_4__.b,{setHeaderActionMenu:setHeaderActionMenu},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_utils_navigation_warning_prompt__WEBPACK_IMPORTED_MODULE_5__.a,null,children)))))},CoreProviders=({children:children,core:core,plugins:plugins})=>{const{Provider:KibanaContextProviderForPlugin}=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>Object(_hooks_use_kibana__WEBPACK_IMPORTED_MODULE_3__.a)(core,plugins),[core,plugins]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(KibanaContextProviderForPlugin,{services:{...core,...plugins}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(core.i18n.Context,null,children))},DataUIProviders=({appName:appName,children:children,storage:storage})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_2__.KibanaContextProvider,{services:{appName:appName,storage:storage}},children)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HeaderActionMenuContext})),__webpack_require__.d(__webpack_exports__,"b",(function(){return HeaderActionMenuProvider}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);const HeaderActionMenuContext=react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext({}),HeaderActionMenuProvider=({setHeaderActionMenu:setHeaderActionMenu,children:children})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeaderActionMenuContext.Provider,{value:{setHeaderActionMenu:setHeaderActionMenu}},children)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return validateMetricThreshold}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_server_lib_alerting_metric_threshold_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(19);function validateMetricThreshold({criteria:criteria}){const validationResult={errors:{}},errors={};return validationResult.errors=errors,criteria&&criteria.length?(criteria.forEach((c,idx)=>{const id=idx.toString();errors[id]=errors[id]||{aggField:[],timeSizeUnit:[],timeWindowSize:[],critical:{threshold0:[],threshold1:[]},warning:{threshold0:[],threshold1:[]},metric:[]},c.aggType||errors[id].aggField.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.aggregationRequired",{defaultMessage:"Aggregation is required."})),c.threshold&&c.threshold.length||errors[id].critical.threshold0.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."})),c.warningThreshold&&!c.warningThreshold.length&&errors[id].warning.threshold0.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}));for(const props of[{comparator:c.comparator,threshold:c.threshold,type:"critical"},{comparator:c.warningComparator,threshold:c.warningThreshold,type:"warning"}]){const{comparator:comparator,threshold:threshold,type:type}=props;threshold&&threshold.length&&![...threshold].every(isNumber)&&[...threshold].forEach((v,i)=>{if(!isNumber(v)){const key=0===i?"threshold0":"threshold1";errors[id][type][key].push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdTypeRequired",{defaultMessage:"Thresholds must contain a valid number."}))}}),comparator===_server_lib_alerting_metric_threshold_types__WEBPACK_IMPORTED_MODULE_1__.a.BETWEEN&&(!threshold||threshold.length<2)&&errors[id][type].threshold1.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}c.timeSize||errors[id].timeWindowSize.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.timeRequred",{defaultMessage:"Time size is Required."})),c.metric||"count"===c.aggType||errors[id].metric.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.metricRequired",{defaultMessage:"Metric is required."}))}),validationResult):validationResult}const isNumber=value=>"number"==typeof value},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return validateMetricThreshold}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_server_lib_alerting_inventory_metric_threshold_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23);function validateMetricThreshold({criteria:criteria}){const validationResult={errors:{}},errors={};return validationResult.errors=errors,criteria&&criteria.length?(criteria.forEach((c,idx)=>{var _c$customMetric;const id=idx.toString();errors[id]=errors[id]||{timeSizeUnit:[],timeWindowSize:[],critical:{threshold0:[],threshold1:[]},warning:{threshold0:[],threshold1:[]},metric:[]},c.threshold&&c.threshold.length||errors[id].critical.threshold0.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."})),c.warningThreshold&&!c.warningThreshold.length&&errors[id].warning.threshold0.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}));for(const props of[{comparator:c.comparator,threshold:c.threshold,type:"critical"},{comparator:c.warningComparator,threshold:c.warningThreshold,type:"warning"}]){const{comparator:comparator,threshold:threshold,type:type}=props;threshold&&threshold.length&&![...threshold].every(isNumber)&&[...threshold].forEach((v,i)=>{if(!isNumber(v)){const key=0===i?"threshold0":"threshold1";errors[id][type][key].push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdTypeRequired",{defaultMessage:"Thresholds must contain a valid number."}))}}),comparator===_server_lib_alerting_inventory_metric_threshold_types__WEBPACK_IMPORTED_MODULE_1__.a.BETWEEN&&(!threshold||threshold.length<2)&&errors[id][type].threshold1.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}c.timeSize||errors[id].timeWindowSize.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.timeRequred",{defaultMessage:"Time size is Required."})),c.metric||errors[id].metric.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.metricRequired",{defaultMessage:"Metric is required."})),"custom"!==c.metric||null!==(_c$customMetric=c.customMetric)&&void 0!==_c$customMetric&&_c$customMetric.field||errors[id].metric.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.metrics.alertFlyout.error.customMetricFieldRequired",{defaultMessage:"Field is required."}))}),validationResult):validationResult}const isNumber=value=>"number"==typeof value},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return errorsRT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return validateExpression}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),io_ts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),_common_alerting_logs_log_threshold_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6);const criterionErrorRT=io_ts__WEBPACK_IMPORTED_MODULE_1__.type({field:io_ts__WEBPACK_IMPORTED_MODULE_1__.array(io_ts__WEBPACK_IMPORTED_MODULE_1__.string),comparator:io_ts__WEBPACK_IMPORTED_MODULE_1__.array(io_ts__WEBPACK_IMPORTED_MODULE_1__.string),value:io_ts__WEBPACK_IMPORTED_MODULE_1__.array(io_ts__WEBPACK_IMPORTED_MODULE_1__.string)}),criterionErrorsRT=io_ts__WEBPACK_IMPORTED_MODULE_1__.record(io_ts__WEBPACK_IMPORTED_MODULE_1__.string,criterionErrorRT),alertingErrorRT=io_ts__WEBPACK_IMPORTED_MODULE_1__.recursion("AlertingError",()=>io_ts__WEBPACK_IMPORTED_MODULE_1__.record(io_ts__WEBPACK_IMPORTED_MODULE_1__.string,io_ts__WEBPACK_IMPORTED_MODULE_1__.union([io_ts__WEBPACK_IMPORTED_MODULE_1__.string,io_ts__WEBPACK_IMPORTED_MODULE_1__.array(io_ts__WEBPACK_IMPORTED_MODULE_1__.string),alertingErrorRT]))),errorsRT=io_ts__WEBPACK_IMPORTED_MODULE_1__.type({threshold:io_ts__WEBPACK_IMPORTED_MODULE_1__.type({value:io_ts__WEBPACK_IMPORTED_MODULE_1__.array(io_ts__WEBPACK_IMPORTED_MODULE_1__.string)}),criteria:io_ts__WEBPACK_IMPORTED_MODULE_1__.record(io_ts__WEBPACK_IMPORTED_MODULE_1__.string,criterionErrorsRT),timeWindowSize:io_ts__WEBPACK_IMPORTED_MODULE_1__.array(io_ts__WEBPACK_IMPORTED_MODULE_1__.string),timeSizeUnit:io_ts__WEBPACK_IMPORTED_MODULE_1__.array(io_ts__WEBPACK_IMPORTED_MODULE_1__.string)});function validateExpression({count:count,criteria:criteria,timeSize:timeSize}){const validationResult={errors:{}},errors={threshold:{value:[]},criteria:{},timeSizeUnit:[],timeWindowSize:[]};if(validationResult.errors=errors,Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isNumber)(null==count?void 0:count.value)||Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isFinite)(null==count?void 0:count.value)||errors.threshold.value.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.logs.alertFlyout.error.thresholdRequired",{defaultMessage:"Numeric threshold value is Required."})),timeSize||errors.timeWindowSize.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.logs.alertFlyout.error.timeSizeRequired",{defaultMessage:"Time size is Required."})),criteria&&criteria.length>0){const getCriterionErrors=_criteria=>{const _errors={};return _criteria.forEach((criterion,idx)=>{_errors[idx]={field:[],comparator:[],value:[]},criterion.field||_errors[idx].field.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.logs.alertFlyout.error.criterionFieldRequired",{defaultMessage:"Field is required."})),criterion.comparator||_errors[idx].comparator.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.logs.alertFlyout.error.criterionComparatorRequired",{defaultMessage:"Comparator is required."})),void 0!==criterion.value&&null!==criterion.value||_errors[idx].value.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.logs.alertFlyout.error.criterionValueRequired",{defaultMessage:"Value is required."}))}),_errors};if(Object(_common_alerting_logs_log_threshold_types__WEBPACK_IMPORTED_MODULE_3__.h)(criteria)){const numeratorErrors=getCriterionErrors(Object(_common_alerting_logs_log_threshold_types__WEBPACK_IMPORTED_MODULE_3__.f)(criteria));errors.criteria[0]=numeratorErrors;const denominatorErrors=getCriterionErrors(Object(_common_alerting_logs_log_threshold_types__WEBPACK_IMPORTED_MODULE_3__.e)(criteria));errors.criteria[1]=denominatorErrors}else{const criteriaErrors=getCriterionErrors(criteria);errors.criteria[0]=criteriaErrors}}return validationResult}},function(module,exports){var getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);module.exports=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}},function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getAlertType})),__webpack_require__.d(__webpack_exports__,"a",(function(){return AlertDropdown}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1),external_kbnSharedDeps_React_=__webpack_require__(2),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),types=__webpack_require__(6),validation=__webpack_require__(44);function getAlertType(){return{id:types.c,description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alertFlyout.alertDescription",{defaultMessage:"Alert when the log aggregation exceeds the threshold."}),iconClass:"bell",documentationUrl:docLinks=>`${docLinks.ELASTIC_WEBSITE_URL}guide/en/observability/${docLinks.DOC_LINK_VERSION}/logs-threshold-alert.html`,alertParamsExpression:external_kbnSharedDeps_React_default.a.lazy(()=>Promise.all([__webpack_require__.e(4),__webpack_require__.e(9)]).then(__webpack_require__.bind(null,562))),validate:validation.b,defaultActionMessage:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alerting.threshold.defaultActionMessage",{defaultMessage:"\\{\\{^context.isRatio\\}\\}\\{\\{#context.group\\}\\}\\{\\{context.group\\}\\} - \\{\\{/context.group\\}\\}\\{\\{context.matchingDocuments\\}\\} log entries have matched the following conditions: \\{\\{context.conditions\\}\\}\\{\\{/context.isRatio\\}\\}\\{\\{#context.isRatio\\}\\}\\{\\{#context.group\\}\\}\\{\\{context.group\\}\\} - \\{\\{/context.group\\}\\} Ratio of the count of log entries matching \\{\\{context.numeratorConditions\\}\\} to the count of log entries matching \\{\\{context.denominatorConditions\\}\\} was \\{\\{context.ratio\\}\\}\\{\\{/context.isRatio\\}\\}"}),requiresAppContext:!1}}var external_kbnSharedDeps_ElasticEui_=__webpack_require__(10),external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(14),triggers_actions_context=__webpack_require__(20);const AlertFlyout=props=>{const{visible:visible,setVisible:setVisible}=props,{triggersActionsUI:triggersActionsUI}=Object(external_kbnSharedDeps_React_.useContext)(triggers_actions_context.a),onCloseFlyout=Object(external_kbnSharedDeps_React_.useCallback)(()=>setVisible(!1),[setVisible]),AddAlertFlyout=Object(external_kbnSharedDeps_React_.useMemo)(()=>triggersActionsUI&&triggersActionsUI.getAddAlertFlyout({consumer:"logs",onClose:onCloseFlyout,canChangeTrigger:!1,alertTypeId:types.c,metadata:{isInternal:!0}}),[triggersActionsUI,onCloseFlyout]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,visible&&AddAlertFlyout)};var use_link_props=__webpack_require__(31),use_kibana=__webpack_require__(16);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const readOnlyUserTooltipContent=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alertDropdown.readOnlyCreateAlertContent",{defaultMessage:"Creating alerts requires more permissions in this application."}),readOnlyUserTooltipTitle=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.alertDropdown.readOnlyCreateAlertTitle",{defaultMessage:"Read only"}),AlertDropdown=()=>{var _capabilities$logs$sa,_capabilities$logs;const{services:{application:{capabilities:capabilities}}}=Object(use_kibana.b)(),canCreateAlerts=null!==(_capabilities$logs$sa=null==capabilities||null===(_capabilities$logs=capabilities.logs)||void 0===_capabilities$logs?void 0:_capabilities$logs.save)&&void 0!==_capabilities$logs$sa&&_capabilities$logs$sa,[popoverOpen,setPopoverOpen]=Object(external_kbnSharedDeps_React_.useState)(!1),[flyoutVisible,setFlyoutVisible]=Object(external_kbnSharedDeps_React_.useState)(!1),manageAlertsLinkProps=Object(use_link_props.b)({app:"management",pathname:"/insightsAndAlerting/triggersActions/alerts"},{hrefOnly:!0}),closePopover=Object(external_kbnSharedDeps_React_.useCallback)(()=>{setPopoverOpen(!1)},[setPopoverOpen]),openPopover=Object(external_kbnSharedDeps_React_.useCallback)(()=>{setPopoverOpen(!0)},[setPopoverOpen]),menuItems=Object(external_kbnSharedDeps_React_.useMemo)(()=>[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuItem,{disabled:!canCreateAlerts,icon:"bell",key:"createLink",onClick:()=>setFlyoutVisible(!0),toolTipContent:canCreateAlerts?void 0:readOnlyUserTooltipContent,toolTipTitle:canCreateAlerts?void 0:readOnlyUserTooltipTitle},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.alerting.logs.createAlertButton",defaultMessage:"Create alert"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuItem,_extends({icon:"tableOfContents",key:"manageLink"},manageAlertsLinkProps),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.alerting.logs.manageAlerts",defaultMessage:"Manage alerts"}))],[manageAlertsLinkProps,canCreateAlerts]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{panelPaddingSize:"none",button:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{iconSide:"right",iconType:"arrowDown",onClick:openPopover},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.alerting.logs.alertsButton",defaultMessage:"Alerts"})),isOpen:popoverOpen,closePopover:closePopover},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuPanel,{items:menuItems})),external_kbnSharedDeps_React_default.a.createElement(AlertFlyout,{setVisible:setFlyoutVisible,visible:flyoutVisible}))}},function(module,exports){module.exports=__kbnSharedDeps__.TsLib},function(module,exports){module.exports=__kbnSharedDeps__.Moment},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(52);__kbnBundles__.define("plugin/infra/public",__webpack_require__,59)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__.infra},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tailRec=void 0,exports.tailRec=function(a,f){for(var v=f(a);"Left"===v._tag;)v=f(v.left);return v.right}},function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>"%"+x.charCodeAt(0).toString(16).toUpperCase())},function(module,exports,__webpack_require__){"use strict";var singleMatcher=new RegExp("%[a-f0-9]{2}","gi"),multiMatcher=new RegExp("(%[a-f0-9]{2})+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(1===components.length)return components;split=split||1;var left=components.slice(0,split),right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){for(var tokens=input.match(singleMatcher),i=1;i<tokens.length;i++)tokens=(input=decodeComponents(tokens,i).join("")).match(singleMatcher);return input}}module.exports=function(encodedURI){if("string"!=typeof encodedURI)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`");try{return encodedURI=encodedURI.replace(/\+/g," "),decodeURIComponent(encodedURI)}catch(err){return function(input){for(var replaceMap={"%FE%FF":"","%FF%FE":""},match=multiMatcher.exec(input);match;){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);result!==match[0]&&(replaceMap[match[0]]=result)}match=multiMatcher.exec(input)}replaceMap["%C2"]="";for(var entries=Object.keys(replaceMap),i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}(encodedURI)}}},function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if("string"!=typeof string||"string"!=typeof separator)throw new TypeError("Expected the arguments to be of type `string`");if(""===separator)return[string];const separatorIndex=string.indexOf(separator);return-1===separatorIndex?[string]:[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},function(module,exports,__webpack_require__){var _nodeId,_clockseq,rng=__webpack_require__(45),bytesToUuid=__webpack_require__(46),_lastMSecs=0,_lastNSecs=0;module.exports=function(options,buf,offset){var i=buf&&offset||0,b=buf||[],node=(options=options||{}).node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=rng();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}var msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}},function(module,exports,__webpack_require__){var rng=__webpack_require__(45),bytesToUuid=__webpack_require__(46);module.exports=function(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin})),__webpack_require__.d(__webpack_exports__,"FORMATTERS",(function(){return formatters.a})),__webpack_require__.d(__webpack_exports__,"InfraFormatterType",(function(){return lib.b})),__webpack_require__.d(__webpack_exports__,"LogStream",(function(){return LazyLogStreamWrapper}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1),public_=__webpack_require__(29),external_kbnSharedDeps_React_=__webpack_require__(2),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),validation=__webpack_require__(42),types=__webpack_require__(19);var inventory_metric_threshold_types=__webpack_require__(23),components_validation=__webpack_require__(43);var log_threshold=__webpack_require__(48),home_public_=__webpack_require__(30);var external_kbnSharedDeps_RisonNode_=__webpack_require__(26),constants=__webpack_require__(28),fetch_log_source_configuration=__webpack_require__(38),fetch_log_source_status=__webpack_require__(39),log_sources=__webpack_require__(5);function getLogsOverviewDataFetcher(getStartServices){return async params=>{const[core,startPlugins]=await getStartServices(),{data:data}=startPlugins,sourceConfiguration=await Object(fetch_log_source_configuration.a)(constants.a,core.http.fetch),resolvedLogSourceConfiguration=await Object(log_sources.h)(sourceConfiguration.data.configuration,startPlugins.data.indexPatterns),{stats:stats,series:series}=await async function(logParams,params,dataPlugin){return new Promise((resolve,reject)=>{let esResponse;dataPlugin.search.search({params:{index:logParams.index,body:{size:0,query:buildLogOverviewQuery(logParams,params),aggs:buildLogOverviewAggregations(logParams,params)}}}).subscribe(response=>esResponse=response.rawResponse,error=>reject(error),()=>{var _esResponse;null!==(_esResponse=esResponse)&&void 0!==_esResponse&&_esResponse.aggregations?resolve(function(aggregations){const processedStats={},processedSeries={};return aggregations.stats.buckets.forEach(stat=>{const label=stat.key;processedStats[stat.key]={type:"number",label:label,value:stat.doc_count},stat.series.buckets.forEach(series=>{processedSeries[label]=processedSeries[label]||{label:label,coordinates:[]},processedSeries[label].coordinates.push({x:series.key,y:series.doc_count})})}),{stats:processedStats,series:processedSeries}}(esResponse.aggregations)):resolve({stats:{},series:{}})})})}({index:resolvedLogSourceConfiguration.indices,timestampField:resolvedLogSourceConfiguration.timestampField},params,data),timeSpanInMinutes=(params.absoluteTime.end-params.absoluteTime.start)/6e4;return{appLink:`/app/logs/stream?logPosition=(end:${Object(external_kbnSharedDeps_RisonNode_.encode)(params.relativeTime.end)},start:${Object(external_kbnSharedDeps_RisonNode_.encode)(params.relativeTime.start)})`,stats:normalizeStats(stats,timeSpanInMinutes),series:normalizeSeries(series)}}}function buildLogOverviewQuery(logParams,params){return{range:{[logParams.timestampField]:{gt:new Date(params.absoluteTime.start).toISOString(),lte:new Date(params.absoluteTime.end).toISOString(),format:"strict_date_optional_time"}}}}function buildLogOverviewAggregations(logParams,params){return{stats:{terms:{field:"event.dataset",size:4,missing:"unknown"},aggs:{series:{date_histogram:{field:logParams.timestampField,fixed_interval:params.bucketSize}}}}}}function normalizeStats(stats,timeSpanInMinutes){return Object.keys(stats).reduce((normalized,key)=>(normalized[key]={...stats[key],value:stats[key].value/timeSpanInMinutes},normalized),{})}function normalizeSeries(series){const seriesKeys=Object.keys(series),timestamps=seriesKeys.flatMap(key=>series[key].coordinates.map(c=>c.x)),[first,second]=[...new Set(timestamps)].sort(),timeSpanInMinutes=(second-first)/6e4;return seriesKeys.reduce((normalized,key)=>(normalized[key]={...series[key],coordinates:series[key].coordinates.map(c=>c.y?{...c,y:c.y/timeSpanInMinutes}:c)},normalized),{})}const createMetricsHasData=getStartServices=>async()=>{const[coreServices]=await getStartServices(),{http:http}=coreServices;return(await http.get("/api/metrics/source/default/hasData")).hasData},createMetricsFetchData=getStartServices=>async({absoluteTime:absoluteTime,bucketSize:bucketSize})=>{const[coreServices]=await getStartServices(),{http:http}=coreServices,makeRequest=async(overrides={})=>{const{start:start,end:end}=absoluteTime,overviewRequest={sourceId:"default",bucketSize:bucketSize,size:5,timerange:{from:start,to:end},...overrides};return{appLink:`/app/metrics/inventory?waffleTime=(currentTime:${end},isAutoReloading:!f)`,series:(await http.post("/api/metrics/overview/top",{body:JSON.stringify(overviewRequest)})).series,sort:async(by,direction)=>makeRequest({sort:by,sortDirection:direction})}};return await makeRequest()};var external_kbnSharedDeps_ReactDom_=__webpack_require__(21),external_kbnSharedDeps_ReactDom_default=__webpack_require__.n(external_kbnSharedDeps_ReactDom_),embeddable_public_=__webpack_require__(47),common_=__webpack_require__(13),common_providers=__webpack_require__(40),datemath=__webpack_require__(27);const LazyLogStream=external_kbnSharedDeps_React_default.a.lazy(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(1)]).then(__webpack_require__.bind(null,299))),LazyLogStreamWrapper=props=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Suspense,{fallback:external_kbnSharedDeps_React_default.a.createElement("div",null)},external_kbnSharedDeps_React_default.a.createElement(LazyLogStream,props));function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class log_stream_embeddable_LogStreamEmbeddable extends embeddable_public_.Embeddable{constructor(core,pluginDeps,initialInput,parent){super(initialInput,{},parent),this.core=core,this.pluginDeps=pluginDeps,_defineProperty(this,"type","LOG_STREAM_EMBEDDABLE"),_defineProperty(this,"node",void 0),_defineProperty(this,"subscription",void 0),this.subscription=this.getInput$().subscribe(()=>this.renderComponent())}render(node){this.node&&external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(this.node),this.node=node,this.renderComponent()}destroy(){super.destroy(),this.subscription.unsubscribe(),this.node&&external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(this.node)}async reload(){}renderComponent(){if(!this.node)return;const startTimestamp=Object(datemath.a)(this.input.timeRange.from),endTimestamp=Object(datemath.a)(this.input.timeRange.to,"up");startTimestamp&&endTimestamp&&external_kbnSharedDeps_ReactDom_default.a.render(external_kbnSharedDeps_React_default.a.createElement(common_providers.b,{core:this.core,plugins:this.pluginDeps},external_kbnSharedDeps_React_default.a.createElement(common_.EuiThemeProvider,null,external_kbnSharedDeps_React_default.a.createElement("div",{style:{width:"100%"}},external_kbnSharedDeps_React_default.a.createElement(LazyLogStreamWrapper,{startTimestamp:startTimestamp,endTimestamp:endTimestamp,height:"100%",query:this.input.query,filters:this.input.filters})))),this.node)}}class log_stream_embeddable_factory_LogStreamEmbeddableFactoryDefinition{constructor(getStartServices){var obj,key,value;this.getStartServices=getStartServices,value="LOG_STREAM_EMBEDDABLE",(key="type")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}async isEditable(){const[{application:application}]=await this.getStartServices();return application.capabilities.logs.save}async create(initialInput,parent){const[core,plugins]=await this.getStartServices();return new log_stream_embeddable_LogStreamEmbeddable(core,plugins,initialInput,parent)}getDisplayName(){return external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logStreamEmbeddable.displayName",{defaultMessage:"Log stream"})}getDescription(){return external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logStreamEmbeddable.description",{defaultMessage:"Add a table of live streaming logs."})}getIconType(){return"logsApp"}async getExplicitInput(){return{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logStreamEmbeddable.title",{defaultMessage:"Log stream"})}}}class plugin_Plugin{constructor(_context){}setup(core,pluginsSetup){var homePlugin,getStartServices;pluginsSetup.home&&((homePlugin=pluginsSetup.home).featureCatalogue.register({id:"metrics",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.registerFeatures.infraOpsTitle",{defaultMessage:"Metrics"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.registerFeatures.infraOpsDescription",{defaultMessage:"Explore infrastructure metrics and logs for common servers, containers, and services."}),icon:"metricsApp",path:"/app/metrics",showOnHomePage:!1,category:home_public_.FeatureCatalogueCategory.DATA}),homePlugin.featureCatalogue.register({id:"logs",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.registerFeatures.logsTitle",{defaultMessage:"Logs"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.registerFeatures.logsDescription",{defaultMessage:"Stream logs in real time or scroll through historical views in a console-like experience."}),icon:"logsApp",path:"/app/logs",showOnHomePage:!1,category:home_public_.FeatureCatalogueCategory.DATA})),pluginsSetup.triggersActionsUi.alertTypeRegistry.register({id:inventory_metric_threshold_types.b,description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.metrics.inventory.alertFlyout.alertDescription",{defaultMessage:"Alert when the inventory exceeds a defined threshold."}),iconClass:"bell",documentationUrl:docLinks=>`${docLinks.ELASTIC_WEBSITE_URL}guide/en/observability/${docLinks.DOC_LINK_VERSION}/infrastructure-threshold-alert.html`,alertParamsExpression:external_kbnSharedDeps_React_default.a.lazy(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(3),__webpack_require__.e(2),__webpack_require__.e(6),__webpack_require__.e(13)]).then(__webpack_require__.bind(null,564))),validate:components_validation.a,defaultActionMessage:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.metrics.alerting.inventory.threshold.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} - \\{\\{context.group\\}\\} is in a state of \\{\\{context.alertState\\}\\}\n\nReason:\n\\{\\{context.reason\\}\\}\n"}),requiresAppContext:!1}),pluginsSetup.triggersActionsUi.alertTypeRegistry.register(Object(log_threshold.b)()),pluginsSetup.triggersActionsUi.alertTypeRegistry.register({id:types.b,description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.metrics.alertFlyout.alertDescription",{defaultMessage:"Alert when the metrics aggregation exceeds the threshold."}),iconClass:"bell",documentationUrl:docLinks=>`${docLinks.ELASTIC_WEBSITE_URL}guide/en/observability/${docLinks.DOC_LINK_VERSION}/metrics-threshold-alert.html`,alertParamsExpression:external_kbnSharedDeps_React_default.a.lazy(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(2),__webpack_require__.e(11)]).then(__webpack_require__.bind(null,563))),validate:validation.a,defaultActionMessage:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.metrics.alerting.threshold.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} - \\{\\{context.group\\}\\} is in a state of \\{\\{context.alertState\\}\\}\n\nReason:\n\\{\\{context.reason\\}\\}\n"}),requiresAppContext:!1}),pluginsSetup.observability&&(pluginsSetup.observability.dashboard.register({appName:"infra_logs",hasData:(getStartServices=core.getStartServices,async()=>{const[core]=await getStartServices();return"available"===(await Object(fetch_log_source_status.a)(constants.a,core.http.fetch)).data.logIndexStatus}),fetchData:getLogsOverviewDataFetcher(core.getStartServices)}),pluginsSetup.observability.dashboard.register({appName:"infra_metrics",hasData:createMetricsHasData(core.getStartServices),fetchData:createMetricsFetchData(core.getStartServices)})),pluginsSetup.embeddable.registerEmbeddableFactory("LOG_STREAM_EMBEDDABLE",new log_stream_embeddable_factory_LogStreamEmbeddableFactoryDefinition(core.getStartServices)),core.application.register({id:"logs",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.pluginTitle",{defaultMessage:"Logs"}),euiIconType:"logoObservability",order:8100,appRoute:"/app/logs",meta:{searchDeepLinks:[{id:"stream",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.index.streamTabTitle",{defaultMessage:"Stream"}),path:"/stream"},{id:"anomalies",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.index.anomaliesTabTitle",{defaultMessage:"Anomalies"}),path:"/anomalies"},{id:"log-categories",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.index.logCategoriesBetaBadgeTitle",{defaultMessage:"Categories"}),path:"/log-categories"},{id:"settings",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.index.settingsTabTitle",{defaultMessage:"Settings"}),path:"/settings"}]},category:public_.DEFAULT_APP_CATEGORIES.observability,mount:async params=>{const[coreStart,pluginsStart]=await core.getStartServices(),{renderApp:renderApp}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(3),__webpack_require__.e(4),__webpack_require__.e(5),__webpack_require__.e(10)]).then(__webpack_require__.bind(null,561));return renderApp(coreStart,pluginsStart,params)}}),core.application.register({id:"metrics",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.metrics.pluginTitle",{defaultMessage:"Metrics"}),euiIconType:"logoObservability",order:8200,appRoute:"/app/metrics",category:public_.DEFAULT_APP_CATEGORIES.observability,meta:{searchDeepLinks:[{id:"inventory",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.homePage.inventoryTabTitle",{defaultMessage:"Inventory"}),path:"/inventory"},{id:"metrics-explorer",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.homePage.metricsExplorerTabTitle",{defaultMessage:"Metrics Explorer"}),path:"/explorer"},{id:"settings",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.homePage.settingsTabTitle",{defaultMessage:"Settings"}),path:"/settings"}]},mount:async params=>{const[coreStart,pluginsStart]=await core.getStartServices(),{renderApp:renderApp}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(3),__webpack_require__.e(2),__webpack_require__.e(4),__webpack_require__.e(5),__webpack_require__.e(6),__webpack_require__.e(8)]).then(__webpack_require__.bind(null,560));return renderApp(coreStart,pluginsStart,params)}}),core.application.register({id:"infra",appRoute:"/app/infra",title:"infra",navLinkStatus:3,mount:async params=>{const{renderApp:renderApp}=await __webpack_require__.e(12).then(__webpack_require__.bind(null,559));return renderApp(params)}})}start(_core,_plugins){}stop(){}}var formatters=__webpack_require__(33),lib=__webpack_require__(32);const public_plugin=context=>new plugin_Plugin(context)},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/observability/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticCharts},function(module,exports){module.exports=__kbnSharedDeps__.ReactRouterDom},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.RxjsOperators},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/ml/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Rxjs},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/triggersActionsUi/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticNumeral},function(module,exports){module.exports=__kbnSharedDeps__.SaferLodashSet},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("entry/core/public/utils");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/licenseManagement/common/constants");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEuiChartsTheme},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEuiLibServices},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/triggersActionsUi/public/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))}]);