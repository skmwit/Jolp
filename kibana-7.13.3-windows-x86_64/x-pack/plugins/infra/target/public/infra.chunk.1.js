/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.infra_bundle_jsonpfunction=window.infra_bundle_jsonpfunction||[]).push([[1],{105:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LogPositionState})),__webpack_require__.d(__webpack_exports__,"b",(function(){return WithLogPositionUrlState})),__webpack_require__.d(__webpack_exports__,"c",(function(){return replaceLogPositionInQueryString}));var external_kbnSharedDeps_React_=__webpack_require__(2),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),constate_cjs=__webpack_require__(78),constate_cjs_default=__webpack_require__.n(constate_cjs),useSetState=__webpack_require__(106),useSetState_default=__webpack_require__.n(useSetState),useInterval=__webpack_require__(121),useInterval_default=__webpack_require__.n(useInterval),datemath=__webpack_require__(27),use_kibana_timefilter_time=__webpack_require__(133);const TIME_DEFAULTS={from:"now-1d",to:"now"},LogPositionState=constate_cjs_default()(()=>{const[getTime,setTime]=Object(use_kibana_timefilter_time.a)(TIME_DEFAULTS),{from:start,to:end}=getTime(),DEFAULT_DATE_RANGE={startDateExpression:start,endDateExpression:end},[isInitialized,setInitialized]=Object(external_kbnSharedDeps_React_.useState)(!1),initialize=Object(external_kbnSharedDeps_React_.useCallback)(()=>{setInitialized(!0)},[setInitialized]),[targetPosition,jumpToTargetPosition]=Object(external_kbnSharedDeps_React_.useState)(null),[isStreaming,setIsStreaming]=Object(external_kbnSharedDeps_React_.useState)(!1),[visiblePositions,reportVisiblePositions]=Object(external_kbnSharedDeps_React_.useState)({endKey:null,middleKey:null,startKey:null,pagesBeforeStart:1/0,pagesAfterEnd:1/0}),[dateRange,setDateRange]=useSetState_default()({...DEFAULT_DATE_RANGE,startTimestamp:Object(datemath.a)(DEFAULT_DATE_RANGE.startDateExpression),endTimestamp:Object(datemath.a)(DEFAULT_DATE_RANGE.endDateExpression,"up"),timestampsLastUpdate:Date.now(),lastCompleteDateRangeExpressionUpdate:Date.now()});Object(external_kbnSharedDeps_React_.useEffect)(()=>{isInitialized&&(TIME_DEFAULTS.from===dateRange.startDateExpression&&TIME_DEFAULTS.to===dateRange.endDateExpression||setTime({from:dateRange.startDateExpression,to:dateRange.endDateExpression}))},[isInitialized,dateRange.startDateExpression,dateRange.endDateExpression,setTime]);const{startKey:startKey,middleKey:middleKey,endKey:endKey,pagesBeforeStart:pagesBeforeStart,pagesAfterEnd:pagesAfterEnd}=visiblePositions,visibleMidpoint=((middleKey,targetPosition)=>{const[store,update]=Object(external_kbnSharedDeps_React_.useState)({middleKey:middleKey,targetPosition:targetPosition,currentValue:middleKey||targetPosition});return Object(external_kbnSharedDeps_React_.useEffect)(()=>{middleKey!==store.middleKey?update({targetPosition:targetPosition,middleKey:middleKey,currentValue:middleKey}):targetPosition!==store.targetPosition&&update({targetPosition:targetPosition,middleKey:middleKey,currentValue:targetPosition})},[middleKey,targetPosition]),store.currentValue})(middleKey,targetPosition),visibleTimeInterval=Object(external_kbnSharedDeps_React_.useMemo)(()=>startKey&&endKey?{start:startKey.time,end:endKey.time}:null,[startKey,endKey]),updateDateRange=Object(external_kbnSharedDeps_React_.useCallback)(newDateRange=>{if(!("startDateExpression"in newDateRange)&&!("endDateExpression"in newDateRange))return;const nextStartDateExpression=newDateRange.startDateExpression||dateRange.startDateExpression,nextEndDateExpression=newDateRange.endDateExpression||dateRange.endDateExpression;if(!Object(datemath.c)(nextStartDateExpression)||!Object(datemath.c)(nextEndDateExpression))return;const nextStartTimestamp=Object(datemath.a)(nextStartDateExpression),nextEndTimestamp=Object(datemath.a)(nextEndDateExpression,"up");targetPosition&&(nextStartTimestamp>targetPosition.time||nextEndTimestamp<targetPosition.time)&&jumpToTargetPosition(null),setDateRange(prevState=>({...newDateRange,startTimestamp:nextStartTimestamp,endTimestamp:nextEndTimestamp,timestampsLastUpdate:Date.now(),lastCompleteDateRangeExpressionUpdate:"startDateExpression"in newDateRange&&"endDateExpression"in newDateRange?Date.now():prevState.lastCompleteDateRangeExpressionUpdate}))},[setDateRange,dateRange,targetPosition]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{"now"===dateRange.endDateExpression&&visiblePositions.pagesAfterEnd<=2&&setDateRange({endTimestamp:Object(datemath.a)(dateRange.endDateExpression,"up"),timestampsLastUpdate:Date.now()})},[dateRange.endDateExpression,visiblePositions,setDateRange]);const startLiveStreaming=Object(external_kbnSharedDeps_React_.useCallback)(()=>{setIsStreaming(!0),jumpToTargetPosition(null),updateDateRange({startDateExpression:"now-1d",endDateExpression:"now"})},[updateDateRange]),stopLiveStreaming=Object(external_kbnSharedDeps_React_.useCallback)(()=>{setIsStreaming(!1)},[]);useInterval_default()(()=>updateDateRange({startDateExpression:"now-1d",endDateExpression:"now"}),isStreaming?5e3:null);return{...{isInitialized:isInitialized,targetPosition:targetPosition,isStreaming:isStreaming,firstVisiblePosition:startKey,pagesBeforeStart:pagesBeforeStart,pagesAfterEnd:pagesAfterEnd,visibleMidpoint:visibleMidpoint,visibleMidpointTime:visibleMidpoint?visibleMidpoint.time:null,visibleTimeInterval:visibleTimeInterval,...dateRange},...{initialize:initialize,jumpToTargetPosition:jumpToTargetPosition,jumpToTargetPositionTime:Object(external_kbnSharedDeps_React_.useCallback)(time=>jumpToTargetPosition({tiebreaker:0,time:time}),[jumpToTargetPosition]),reportVisiblePositions:reportVisiblePositions,startLiveStreaming:startLiveStreaming,stopLiveStreaming:stopLiveStreaming,updateDateRange:updateDateRange}}});var common_time=__webpack_require__(210),url_state=__webpack_require__(108);const WithLogPositionUrlState=()=>{const{visibleMidpoint:visibleMidpoint,isStreaming:isStreaming,jumpToTargetPosition:jumpToTargetPosition,startLiveStreaming:startLiveStreaming,stopLiveStreaming:stopLiveStreaming,startDateExpression:startDateExpression,endDateExpression:endDateExpression,updateDateRange:updateDateRange,initialize:initialize}=Object(external_kbnSharedDeps_React_.useContext)(LogPositionState.Context),urlState=Object(external_kbnSharedDeps_React_.useMemo)(()=>({position:visibleMidpoint?Object(common_time.c)(visibleMidpoint):null,streamLive:isStreaming,start:startDateExpression,end:endDateExpression}),[visibleMidpoint,isStreaming,startDateExpression,endDateExpression]);return external_kbnSharedDeps_React_default.a.createElement(url_state.a,{urlState:urlState,urlStateKey:"logPosition",mapToUrlState:mapToUrlState,onChange:newUrlState=>{newUrlState&&((newUrlState.start||newUrlState.end)&&updateDateRange({startDateExpression:newUrlState.start,endDateExpression:newUrlState.end}),newUrlState.position&&jumpToTargetPosition(newUrlState.position),newUrlState.streamLive?startLiveStreaming():void 0===newUrlState.streamLive||newUrlState.streamLive||stopLiveStreaming())},onInitialize:initialUrlState=>{if(initialUrlState){const initialPosition=initialUrlState.position;let initialStartDateExpression=initialUrlState.start,initialEndDateExpression=initialUrlState.end;if(initialPosition){const initialStartTimestamp=initialStartDateExpression?Object(datemath.a)(initialStartDateExpression):void 0,initialEndTimestamp=initialEndDateExpression?Object(datemath.a)(initialEndDateExpression,"up"):void 0;(!initialStartTimestamp||initialStartTimestamp>initialPosition.time)&&(initialStartDateExpression=new Date(initialPosition.time-36e5).toISOString()),(!initialEndTimestamp||initialEndTimestamp<initialPosition.time)&&(initialEndDateExpression=new Date(initialPosition.time+36e5).toISOString()),jumpToTargetPosition(initialPosition)}else initialStartDateExpression=initialStartDateExpression||"now-1d",initialEndDateExpression=initialEndDateExpression||"now";(initialStartDateExpression||initialEndDateExpression)&&updateDateRange({startDateExpression:initialStartDateExpression,endDateExpression:initialEndDateExpression}),initialUrlState.streamLive&&startLiveStreaming()}initialize()}})},mapToUrlState=value=>value?{position:mapToPositionUrlState(value.position),streamLive:mapToStreamLiveUrlState(value.streamLive),start:mapToDate(value.start),end:mapToDate(value.end)}:void 0,mapToPositionUrlState=value=>value&&"number"==typeof value.time&&"number"==typeof value.tiebreaker?Object(common_time.c)(value):void 0,mapToStreamLiveUrlState=value=>"boolean"==typeof value&&value,mapToDate=value=>Object(datemath.c)(value)?value:void 0,replaceLogPositionInQueryString=time=>Number.isNaN(time)?value=>value:Object(url_state.d)("logPosition",{position:{time:time,tiebreaker:0},end:new Date(time+36e5).toISOString(),start:new Date(time-36e5).toISOString(),streamLive:!1})},106:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(initialState){void 0===initialState&&(initialState={});var _a=react_1.useState(initialState),state=_a[0],set=_a[1];return[state,react_1.useCallback((function(patch){set((function(prevState){return Object.assign({},prevState,patch instanceof Function?patch(prevState):patch)}))}),[set])]}},108:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UrlStateContainer})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getQueryStringFromLocation})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getParamFromQueryString})),__webpack_require__.d(__webpack_exports__,"d",(function(){return replaceStateKeyInQueryString}));var query_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),react_router_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(62),rison_node__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26),_src_plugins_kibana_utils_public__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(34);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class UrlStateContainerLifecycle extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component{constructor(...args){super(...args),_defineProperty(this,"replaceStateInLocation",Object(lodash__WEBPACK_IMPORTED_MODULE_1__.throttle)(urlState=>{const{history:history,location:location,urlStateKey:urlStateKey}=this.props,newLocation=replaceQueryStringInLocation(location,replaceStateKeyInQueryString(urlStateKey,urlState)(getQueryStringFromLocation(location)));newLocation!==location&&history.replace(newLocation)},1e3)),_defineProperty(this,"handleInitialize",location=>{const{onInitialize:onInitialize,mapToUrlState:mapToUrlState,urlStateKey:urlStateKey,urlState:urlState}=this.props;if(!onInitialize||!mapToUrlState)return;const newUrlStateString=getParamFromQueryString(getQueryStringFromLocation(location),urlStateKey),newUrlState=mapToUrlState(decodeRisonUrlState(newUrlStateString));!newUrlState&&this.props.populateWithInitialState?(this.replaceStateInLocation(urlState),onInitialize(urlState)):onInitialize(newUrlState)}),_defineProperty(this,"handleLocationChange",(prevLocation,newLocation)=>{const{onChange:onChange,mapToUrlState:mapToUrlState,urlStateKey:urlStateKey}=this.props;if(!onChange||!mapToUrlState)return;const previousUrlStateString=getParamFromQueryString(getQueryStringFromLocation(prevLocation),urlStateKey),newUrlStateString=getParamFromQueryString(getQueryStringFromLocation(newLocation),urlStateKey);if(previousUrlStateString!==newUrlStateString){const previousUrlState=mapToUrlState(decodeRisonUrlState(previousUrlStateString)),newUrlState=mapToUrlState(decodeRisonUrlState(newUrlStateString));void 0!==newUrlState&&onChange(newUrlState,previousUrlState)}})}render(){return null}componentDidUpdate({location:prevLocation,urlState:prevUrlState}){const{history:history,location:location,urlState:urlState}=this.props;urlState!==prevUrlState&&this.replaceStateInLocation(urlState),"POP"===history.action&&location!==prevLocation&&this.handleLocationChange(prevLocation,location)}componentDidMount(){const{location:location}=this.props;this.handleInitialize(location)}}const UrlStateContainer=props=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Route,null,({history:history,location:location})=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(UrlStateContainerLifecycle,_extends({history:history,location:location},props))),decodeRisonUrlState=value=>{try{return value?Object(rison_node__WEBPACK_IMPORTED_MODULE_4__.decode)(value):void 0}catch(error){if(error instanceof Error&&error.message.startsWith("rison decoder error"))return{};throw error}},getQueryStringFromLocation=location=>location.search.substring(1),getParamFromQueryString=(queryString,key)=>{const queryParam=Object(query_string__WEBPACK_IMPORTED_MODULE_0__.parse)(queryString,{sort:!1})[key];return Array.isArray(queryParam)?queryParam[0]:queryParam},replaceStateKeyInQueryString=(stateKey,urlState)=>queryString=>{const previousQueryValues=Object(query_string__WEBPACK_IMPORTED_MODULE_0__.parse)(queryString,{sort:!1}),newValue=void 0===urlState?previousQueryValues:{...previousQueryValues,[stateKey]:(state=urlState,Object(rison_node__WEBPACK_IMPORTED_MODULE_4__.encode)(state))};var state;return Object(query_string__WEBPACK_IMPORTED_MODULE_0__.stringify)(_src_plugins_kibana_utils_public__WEBPACK_IMPORTED_MODULE_5__.url.encodeQuery(newValue),{sort:!1,encode:!1})},replaceQueryStringInLocation=(location,queryString)=>queryString===getQueryStringFromLocation(location)?location:{...location,search:"?"+queryString}},113:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return useObservable})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useObservableState})),__webpack_require__.d(__webpack_exports__,"e",(function(){return useSubscription})),__webpack_require__.d(__webpack_exports__,"d",(function(){return useOperator})),__webpack_require__.d(__webpack_exports__,"a",(function(){return tapUnsubscribe}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(65);const useLatest=value=>{const valueRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);return valueRef.current=value,valueRef},useObservable=(createObservableOnce,inputValues)=>{const[inputValues$]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>new rxjs__WEBPACK_IMPORTED_MODULE_1__.BehaviorSubject(inputValues)),[output$]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>createObservableOnce(inputValues$));return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{inputValues$.next(inputValues)},inputValues),output$},useObservableState=(state$,initialState)=>{const[latestValue,setLatestValue]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialState),[latestError,setLatestError]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)();return useSubscription(state$,{next:setLatestValue,error:setLatestError}),{latestValue:latestValue,latestError:latestError}},useSubscription=(input$,{next:next,error:error,complete:complete,unsubscribe:unsubscribe})=>{const latestSubscription=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),latestNext=useLatest(next),latestError=useLatest(error),latestComplete=useLatest(complete),latestUnsubscribe=useLatest(unsubscribe);return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{const fixedUnsubscribe=latestUnsubscribe.current,subscription=input$.subscribe({next:value=>{var _latestNext$current;return null===(_latestNext$current=latestNext.current)||void 0===_latestNext$current?void 0:_latestNext$current.call(latestNext,value)},error:value=>{var _latestError$current;return null===(_latestError$current=latestError.current)||void 0===_latestError$current?void 0:_latestError$current.call(latestError,value)},complete:()=>{var _latestComplete$curre;return null===(_latestComplete$curre=latestComplete.current)||void 0===_latestComplete$curre?void 0:_latestComplete$curre.call(latestComplete)}});return latestSubscription.current=subscription,()=>{subscription.unsubscribe(),null==fixedUnsubscribe||fixedUnsubscribe()}},[input$,latestNext,latestError,latestComplete,latestUnsubscribe]),latestSubscription.current},useOperator=(input$,operator)=>{const latestOperator=useLatest(operator);return useObservable(inputs$=>inputs$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.switchMap)(([currentInput$])=>latestOperator.current(currentInput$))),[input$])},tapUnsubscribe=onUnsubscribe=>source$=>new rxjs__WEBPACK_IMPORTED_MODULE_1__.Observable(subscriber=>{const subscription=source$.subscribe({next:value=>subscriber.next(value),error:error=>subscriber.error(error),complete:()=>subscriber.complete()});return()=>{onUnsubscribe(),subscription.unsubscribe()}})},114:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useKibanaUiSetting}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3);function useKibanaUiSetting(key,defaultValue){const[uiSetting,setUiSetting]=Object(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_1__.useUiSetting$)(key);return[Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>uiSetting||defaultValue,[uiSetting,defaultValue]),setUiSetting]}},115:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AutoSizer}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(497),resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_2__);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class AutoSizer extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent{constructor(props){super(props),_defineProperty(this,"element",null),_defineProperty(this,"resizeObserver",null),_defineProperty(this,"windowWidth",-1),_defineProperty(this,"windowHeight",-1),_defineProperty(this,"state",{boundsMeasurement:{height:void 0,width:void 0},contentMeasurement:{height:void 0,width:void 0}}),_defineProperty(this,"measure",entry=>{if(!this.element)return;const{content:content=!0,bounds:bounds=!1}=this.props,{boundsMeasurement:previousBoundsMeasurement,contentMeasurement:previousContentMeasurement}=this.state,boundsRect=bounds?this.element.getBoundingClientRect():null,boundsMeasurement=boundsRect?{height:boundsRect.height,width:boundsRect.width}:previousBoundsMeasurement;if(this.props.detectAnyWindowResize&&boundsMeasurement){if(boundsMeasurement.width&&-1!==this.windowWidth&&this.windowWidth>window.innerWidth){const gap=this.windowWidth-window.innerWidth;boundsMeasurement.width=boundsMeasurement.width-gap}if(boundsMeasurement.height&&-1!==this.windowHeight&&this.windowHeight>window.innerHeight){const gap=this.windowHeight-window.innerHeight;boundsMeasurement.height=boundsMeasurement.height-gap}}this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight;const contentMeasurement=(content&&entry?entry.contentRect:null)&&entry?{height:entry.contentRect.height,width:entry.contentRect.width}:previousContentMeasurement;Object(lodash__WEBPACK_IMPORTED_MODULE_0__.isEqual)(boundsMeasurement,previousBoundsMeasurement)&&Object(lodash__WEBPACK_IMPORTED_MODULE_0__.isEqual)(contentMeasurement,previousContentMeasurement)||requestAnimationFrame(()=>{this.resizeObserver&&(this.setState({boundsMeasurement:boundsMeasurement,contentMeasurement:contentMeasurement}),this.props.onResize&&this.props.onResize({bounds:boundsMeasurement,content:contentMeasurement}))})}),_defineProperty(this,"updateMeasurement",()=>requestAnimationFrame(()=>{const{detectAnyWindowResize:detectAnyWindowResize}=this.props;if(detectAnyWindowResize)switch(detectAnyWindowResize){case"height":this.windowHeight!==window.innerHeight&&this.measure(null);break;case"width":this.windowWidth!==window.innerWidth&&this.measure(null);break;default:this.measure(null)}})),_defineProperty(this,"storeRef",element=>{this.element&&this.resizeObserver&&this.resizeObserver.unobserve(this.element),element&&this.resizeObserver&&this.resizeObserver.observe(element),this.element=element}),this.props.detectAnyWindowResize&&window.addEventListener("resize",this.updateMeasurement),this.resizeObserver=new resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_2___default.a(entries=>{entries.forEach(entry=>{entry.target===this.element&&this.measure(entry)})})}componentWillUnmount(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.props.detectAnyWindowResize&&window.removeEventListener("resize",this.updateMeasurement)}render(){const{children:children}=this.props,{boundsMeasurement:boundsMeasurement,contentMeasurement:contentMeasurement}=this.state;return children({bounds:boundsMeasurement,content:contentMeasurement,measureRef:this.storeRef})}}},121:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(callback,delay){var savedCallback=react_1.useRef((function(){}));react_1.useEffect((function(){savedCallback.current=callback})),react_1.useEffect((function(){if(null!==delay){var interval_1=setInterval((function(){return savedCallback.current()}),delay||0);return function(){return clearInterval(interval_1)}}}),[delay])}},130:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return logEntryContextRT})),__webpack_require__.d(__webpack_exports__,"e",(function(){return logEntryFieldRT})),__webpack_require__.d(__webpack_exports__,"f",(function(){return logEntryRT})),__webpack_require__.d(__webpack_exports__,"d",(function(){return logEntryCursorRT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return logEntryBeforeCursorRT})),__webpack_require__.d(__webpack_exports__,"a",(function(){return logEntryAfterCursorRT}));var lib=__webpack_require__(0),typed_json=__webpack_require__(136);__webpack_require__(15);const logEntryCursorRT=lib.type({time:lib.number,tiebreaker:lib.number}),logEntryBeforeCursorRT=lib.type({before:lib.union([logEntryCursorRT,lib.literal("last")])}),logEntryAfterCursorRT=lib.type({after:lib.union([logEntryCursorRT,lib.literal("first")])}),logMessageConstantPartRT=(lib.type({center:logEntryCursorRT}),lib.type({constant:lib.string})),logMessageFieldPartRT=lib.type({field:lib.string,value:typed_json.a,highlights:lib.array(lib.string)}),logMessagePartRT=lib.union([logMessageConstantPartRT,logMessageFieldPartRT]),logTimestampColumnRT=lib.type({columnId:lib.string,timestamp:lib.number}),logFieldColumnRT=lib.type({columnId:lib.string,field:lib.string,value:typed_json.a,highlights:lib.array(lib.string)}),logMessageColumnRT=lib.type({columnId:lib.string,message:lib.array(logMessagePartRT)}),logColumnRT=lib.union([logTimestampColumnRT,logFieldColumnRT,logMessageColumnRT]),logEntryContextRT=lib.union([lib.type({}),lib.type({"container.id":lib.string}),lib.type({"host.name":lib.string,"log.file.path":lib.string})]),logEntryFieldRT=lib.type({field:lib.string,value:typed_json.a}),logEntryRT=lib.type({id:lib.string,index:lib.string,cursor:logEntryCursorRT,columns:lib.array(logColumnRT),context:logEntryContextRT})},134:function(module,exports,__webpack_require__){!function(exports){"use strict";function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function bisector(compare){var f;return 1===compare.length&&(f=compare,compare=function(d,x){return ascending(f(d),x)}),{left:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}var ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right,bisectLeft=ascendingBisect.left;function pair(a,b){return[a,b]}function number(x){return null===x?NaN:+x}function variance(values,valueof){var value,delta,n=values.length,m=0,i=-1,mean=0,sum=0;if(null==valueof)for(;++i<n;)isNaN(value=number(values[i]))||(sum+=(delta=value-mean)*(value-(mean+=delta/++m)));else for(;++i<n;)isNaN(value=number(valueof(values[i],i,values)))||(sum+=(delta=value-mean)*(value-(mean+=delta/++m)));if(m>1)return sum/(m-1)}function deviation(array,f){var v=variance(array,f);return v?Math.sqrt(v):v}function extent(values,valueof){var value,min,max,n=values.length,i=-1;if(null==valueof){for(;++i<n;)if(null!=(value=values[i])&&value>=value)for(min=max=value;++i<n;)null!=(value=values[i])&&(min>value&&(min=value),max<value&&(max=value))}else for(;++i<n;)if(null!=(value=valueof(values[i],i,values))&&value>=value)for(min=max=value;++i<n;)null!=(value=valueof(values[i],i,values))&&(min>value&&(min=value),max<value&&(max=value));return[min,max]}var array=Array.prototype,slice=array.slice,map=array.map;function constant(x){return function(){return x}}function identity(x){return x}function range(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickIncrement(start,stop,count){var step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log(step)/Math.LN10),error=step/Math.pow(10,power);return power>=0?(error>=e10?10:error>=e5?5:error>=e2?2:1)*Math.pow(10,power):-Math.pow(10,-power)/(error>=e10?10:error>=e5?5:error>=e2?2:1)}function tickStep(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count),step1=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10)),error=step0/step1;return error>=e10?step1*=10:error>=e5?step1*=5:error>=e2&&(step1*=2),stop<start?-step1:step1}function sturges(values){return Math.ceil(Math.log(values.length)/Math.LN2)+1}function quantile(values,p,valueof){if(null==valueof&&(valueof=number),n=values.length){if((p=+p)<=0||n<2)return+valueof(values[0],0,values);if(p>=1)return+valueof(values[n-1],n-1,values);var n,i=(n-1)*p,i0=Math.floor(i),value0=+valueof(values[i0],i0,values);return value0+(+valueof(values[i0+1],i0+1,values)-value0)*(i-i0)}}function min(values,valueof){var value,min,n=values.length,i=-1;if(null==valueof){for(;++i<n;)if(null!=(value=values[i])&&value>=value)for(min=value;++i<n;)null!=(value=values[i])&&min>value&&(min=value)}else for(;++i<n;)if(null!=(value=valueof(values[i],i,values))&&value>=value)for(min=value;++i<n;)null!=(value=valueof(values[i],i,values))&&min>value&&(min=value);return min}function transpose(matrix){if(!(n=matrix.length))return[];for(var i=-1,m=min(matrix,length),transpose=new Array(m);++i<m;)for(var n,j=-1,row=transpose[i]=new Array(n);++j<n;)row[j]=matrix[j][i];return transpose}function length(d){return d.length}exports.bisect=bisectRight,exports.bisectRight=bisectRight,exports.bisectLeft=bisectLeft,exports.ascending=ascending,exports.bisector=bisector,exports.cross=function(values0,values1,reduce){var i0,i1,i,value0,n0=values0.length,n1=values1.length,values=new Array(n0*n1);for(null==reduce&&(reduce=pair),i0=i=0;i0<n0;++i0)for(value0=values0[i0],i1=0;i1<n1;++i1,++i)values[i]=reduce(value0,values1[i1]);return values},exports.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},exports.deviation=deviation,exports.extent=extent,exports.histogram=function(){var value=identity,domain=extent,threshold=sturges;function histogram(data){var i,x,n=data.length,values=new Array(n);for(i=0;i<n;++i)values[i]=value(data[i],i,data);var xz=domain(values),x0=xz[0],x1=xz[1],tz=threshold(values,x0,x1);Array.isArray(tz)||(tz=tickStep(x0,x1,tz),tz=range(Math.ceil(x0/tz)*tz,x1,tz));for(var m=tz.length;tz[0]<=x0;)tz.shift(),--m;for(;tz[m-1]>x1;)tz.pop(),--m;var bin,bins=new Array(m+1);for(i=0;i<=m;++i)(bin=bins[i]=[]).x0=i>0?tz[i-1]:x0,bin.x1=i<m?tz[i]:x1;for(i=0;i<n;++i)x0<=(x=values[i])&&x<=x1&&bins[bisectRight(tz,x,0,m)].push(data[i]);return bins}return histogram.value=function(_){return arguments.length?(value="function"==typeof _?_:constant(_),histogram):value},histogram.domain=function(_){return arguments.length?(domain="function"==typeof _?_:constant([_[0],_[1]]),histogram):domain},histogram.thresholds=function(_){return arguments.length?(threshold="function"==typeof _?_:Array.isArray(_)?constant(slice.call(_)):constant(_),histogram):threshold},histogram},exports.thresholdFreedmanDiaconis=function(values,min,max){return values=map.call(values,number).sort(ascending),Math.ceil((max-min)/(2*(quantile(values,.75)-quantile(values,.25))*Math.pow(values.length,-1/3)))},exports.thresholdScott=function(values,min,max){return Math.ceil((max-min)/(3.5*deviation(values)*Math.pow(values.length,-1/3)))},exports.thresholdSturges=sturges,exports.max=function(values,valueof){var value,max,n=values.length,i=-1;if(null==valueof){for(;++i<n;)if(null!=(value=values[i])&&value>=value)for(max=value;++i<n;)null!=(value=values[i])&&value>max&&(max=value)}else for(;++i<n;)if(null!=(value=valueof(values[i],i,values))&&value>=value)for(max=value;++i<n;)null!=(value=valueof(values[i],i,values))&&value>max&&(max=value);return max},exports.mean=function(values,valueof){var value,n=values.length,m=n,i=-1,sum=0;if(null==valueof)for(;++i<n;)isNaN(value=number(values[i]))?--m:sum+=value;else for(;++i<n;)isNaN(value=number(valueof(values[i],i,values)))?--m:sum+=value;if(m)return sum/m},exports.median=function(values,valueof){var value,n=values.length,i=-1,numbers=[];if(null==valueof)for(;++i<n;)isNaN(value=number(values[i]))||numbers.push(value);else for(;++i<n;)isNaN(value=number(valueof(values[i],i,values)))||numbers.push(value);return quantile(numbers.sort(ascending),.5)},exports.merge=function(arrays){for(var m,merged,array,n=arrays.length,i=-1,j=0;++i<n;)j+=arrays[i].length;for(merged=new Array(j);--n>=0;)for(m=(array=arrays[n]).length;--m>=0;)merged[--j]=array[m];return merged},exports.min=min,exports.pairs=function(array,f){null==f&&(f=pair);for(var i=0,n=array.length-1,p=array[0],pairs=new Array(n<0?0:n);i<n;)pairs[i]=f(p,p=array[++i]);return pairs},exports.permute=function(array,indexes){for(var i=indexes.length,permutes=new Array(i);i--;)permutes[i]=array[indexes[i]];return permutes},exports.quantile=quantile,exports.range=range,exports.scan=function(values,compare){if(n=values.length){var n,xi,i=0,j=0,xj=values[j];for(null==compare&&(compare=ascending);++i<n;)(compare(xi=values[i],xj)<0||0!==compare(xj,xj))&&(xj=xi,j=i);return 0===compare(xj,xj)?j:void 0}},exports.shuffle=function(array,i0,i1){for(var t,i,m=(null==i1?array.length:i1)-(i0=null==i0?0:+i0);m;)i=Math.random()*m--|0,t=array[m+i0],array[m+i0]=array[i+i0],array[i+i0]=t;return array},exports.sum=function(values,valueof){var value,n=values.length,i=-1,sum=0;if(null==valueof)for(;++i<n;)(value=+values[i])&&(sum+=value);else for(;++i<n;)(value=+valueof(values[i],i,values))&&(sum+=value);return sum},exports.ticks=function(start,stop,count){var reverse,n,ticks,step,i=-1;if(count=+count,(start=+start)==(stop=+stop)&&count>0)return[start];if((reverse=stop<start)&&(n=start,start=stop,stop=n),0===(step=tickIncrement(start,stop,count))||!isFinite(step))return[];if(step>0)for(start=Math.ceil(start/step),stop=Math.floor(stop/step),ticks=new Array(n=Math.ceil(stop-start+1));++i<n;)ticks[i]=(start+i)*step;else for(start=Math.floor(start*step),stop=Math.ceil(stop*step),ticks=new Array(n=Math.ceil(start-stop+1));++i<n;)ticks[i]=(start-i)/step;return reverse&&ticks.reverse(),ticks},exports.tickIncrement=tickIncrement,exports.tickStep=tickStep,exports.transpose=transpose,exports.variance=variance,exports.zip=function(){return transpose(arguments)},Object.defineProperty(exports,"__esModule",{value:!0})}(exports)},136:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return jsonScalarRT})),__webpack_require__.d(__webpack_exports__,"a",(function(){return jsonArrayRT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return jsonObjectRT}));var io_ts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);__webpack_require__(64);const jsonScalarRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.union([io_ts__WEBPACK_IMPORTED_MODULE_0__.null,io_ts__WEBPACK_IMPORTED_MODULE_0__.boolean,io_ts__WEBPACK_IMPORTED_MODULE_0__.number,io_ts__WEBPACK_IMPORTED_MODULE_0__.string]),jsonValueRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.recursion("JsonValue",()=>io_ts__WEBPACK_IMPORTED_MODULE_0__.union([jsonScalarRT,jsonArrayRT,jsonObjectRT])),jsonArrayRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.recursion("JsonArray",()=>io_ts__WEBPACK_IMPORTED_MODULE_0__.array(jsonValueRT)),jsonObjectRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.recursion("JsonObject",()=>io_ts__WEBPACK_IMPORTED_MODULE_0__.record(io_ts__WEBPACK_IMPORTED_MODULE_0__.string,jsonValueRT))},137:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return InfraLoadingPanel}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13);class InfraLoadingPanel extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent{render(){const{height:height,text:text,width:width}=this.props;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(InfraLoadingStaticPanel,{style:{height:height,width:width}},react__WEBPACK_IMPORTED_MODULE_1__.createElement(InfraLoadingStaticContentPanel,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiPanel,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiLoadingChart,{size:"m"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiText,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("p",null,text)))))}}const InfraLoadingStaticPanel=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__.euiStyled.div`
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: center;
`,InfraLoadingStaticContentPanel=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__.euiStyled.div`
  flex: 0 0 auto;
  align-self: center;
  text-align: center;
`},147:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.default=function(state){var ref=react_1.useRef();return react_1.useEffect((function(){ref.current=state})),ref.current}},155:function(module,__webpack_exports__,__webpack_require__){"use strict";var _flatten_data_search_response__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(195);__webpack_require__.d(__webpack_exports__,"flattenDataSearchResponseDescriptor",(function(){return _flatten_data_search_response__WEBPACK_IMPORTED_MODULE_0__.a}));var _normalize_data_search_responses__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(267);__webpack_require__.d(__webpack_exports__,"normalizeDataSearchResponses",(function(){return _normalize_data_search_responses__WEBPACK_IMPORTED_MODULE_1__.a}));var _types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(268);__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_2__,"useDataSearch")&&__webpack_require__.d(__webpack_exports__,"useDataSearch",(function(){return _types__WEBPACK_IMPORTED_MODULE_2__.useDataSearch})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_2__,"useDataSearchResponseState")&&__webpack_require__.d(__webpack_exports__,"useDataSearchResponseState",(function(){return _types__WEBPACK_IMPORTED_MODULE_2__.useDataSearchResponseState})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_2__,"useLatestPartialDataSearchResponse")&&__webpack_require__.d(__webpack_exports__,"useLatestPartialDataSearchResponse",(function(){return _types__WEBPACK_IMPORTED_MODULE_2__.useLatestPartialDataSearchResponse}));var _use_data_search_request__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(269);__webpack_require__.d(__webpack_exports__,"useDataSearch",(function(){return _use_data_search_request__WEBPACK_IMPORTED_MODULE_3__.a}));var _use_data_search_response_state__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(196);__webpack_require__.d(__webpack_exports__,"useDataSearchResponseState",(function(){return _use_data_search_response_state__WEBPACK_IMPORTED_MODULE_4__.a}));var _use_latest_partial_data_search_response__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(270);__webpack_require__.d(__webpack_exports__,"useLatestPartialDataSearchResponse",(function(){return _use_latest_partial_data_search_response__WEBPACK_IMPORTED_MODULE_5__.a}))},156:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return monospaceTextStyle})),__webpack_require__.d(__webpack_exports__,"b",(function(){return hoveredContentStyle})),__webpack_require__.d(__webpack_exports__,"a",(function(){return highlightedContentStyle})),__webpack_require__.d(__webpack_exports__,"c",(function(){return longWrappedContentStyle})),__webpack_require__.d(__webpack_exports__,"e",(function(){return preWrappedContentStyle})),__webpack_require__.d(__webpack_exports__,"f",(function(){return unwrappedContentStyle})),__webpack_require__.d(__webpack_exports__,"g",(function(){return useMeasuredCharacterDimensions}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13);const monospaceTextStyle=scale=>_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__.css`
  font-family: ${props=>props.theme.eui.euiCodeFontFamily};
  font-size: ${props=>{switch(scale){case"large":return props.theme.eui.euiFontSizeM;case"medium":return props.theme.eui.euiFontSizeS;case"small":return props.theme.eui.euiFontSizeXS;default:return props.theme.eui.euiFontSize}}};
  line-height: ${props=>props.theme.eui.euiLineHeight};
`,hoveredContentStyle=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__.css`
  background-color: ${props=>props.theme.eui.euiFocusBackgroundColor};
`,highlightedContentStyle=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__.css`
  background-color: ${props=>props.theme.eui.euiColorHighlight};
`,longWrappedContentStyle=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__.css`
  overflow: visible;
  white-space: pre-wrap;
  word-break: break-all;
`,preWrappedContentStyle=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__.css`
  overflow: hidden;
  white-space: pre;
`,unwrappedContentStyle=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__.css`
  overflow: hidden;
  white-space: nowrap;
`,useMeasuredCharacterDimensions=scale=>{const[dimensions,setDimensions]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({height:0,width:0}),measureElement=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(element=>{if(!element)return;const boundingBox=element.getBoundingClientRect();setDimensions({height:boundingBox.height,width:boundingBox.width})},[]);return{CharacterDimensionsProbe:Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MonospaceCharacterDimensionsProbe,{scale:scale,ref:measureElement},"X"),[measureElement,scale]),dimensions:dimensions}},MonospaceCharacterDimensionsProbe=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__.euiStyled.div.attrs(()=>({"aria-hidden":!0}))`
  visibility: hidden;
  position: absolute;
  height: auto;
  width: auto;
  padding: 0;
  margin: 0;

  ${props=>monospaceTextStyle(props.scale)};
`},157:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LogEntryContextMenu}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_elastic_eui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10),_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),_log_entry_column__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(92);const DEFAULT_MENU_LABEL=_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__.i18n.translate("xpack.infra.logEntryItemView.logEntryActionsMenuToolTip",{defaultMessage:"View actions for line"}),LogEntryContextMenu=({"aria-label":ariaLabel,isOpen:isOpen,onOpen:onOpen,onClose:onClose,items:items})=>{const closeMenuAndCall=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>callback=>e=>{onClose(),callback(e)},[onClose]),button=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ButtonWrapper,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiButton,{size:"s",fill:!0,"aria-label":ariaLabel||DEFAULT_MENU_LABEL,onClick:isOpen?onClose:onOpen,minWidth:"auto"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiIcon,{type:"boxesHorizontal"}))),wrappedItems=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>items.map((item,i)=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiContextMenuItem,{key:i,onClick:closeMenuAndCall(item.onClick),href:item.href},item.label)),[items,closeMenuAndCall]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LogEntryContextMenuContent,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AbsoluteWrapper,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiPopover,{panelPaddingSize:"none",closePopover:onClose,isOpen:isOpen,button:button,ownFocus:!0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiContextMenuPanel,{items:wrappedItems}))))},LogEntryContextMenuContent=Object(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__.euiStyled)(_log_entry_column__WEBPACK_IMPORTED_MODULE_4__.b)`
  overflow: hidden;
  user-select: none;
`,AbsoluteWrapper=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__.euiStyled.div`
  position: absolute;
`,ButtonWrapper=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__.euiStyled.div`
  transform: translate(-6px, -6px);
`},158:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(159);var _no_data__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(198);__webpack_require__.d(__webpack_exports__,"a",(function(){return _no_data__WEBPACK_IMPORTED_MODULE_1__.a}))},159:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NoIndices}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const NoIndices=({actions:actions,message:message,title:title,...rest})=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(CenteredEmptyPrompt,_extends({title:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2",null,title),body:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",null,message),actions:actions},rest)),CenteredEmptyPrompt=Object(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__.euiStyled)(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiEmptyPrompt)`
  align-self: center;
`},166:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return log_entry_column.a})),__webpack_require__.d(__webpack_exports__,"h",(function(){return log_entry_column.c})),__webpack_require__.d(__webpack_exports__,"c",(function(){return LogEntryFieldColumn})),__webpack_require__.d(__webpack_exports__,"d",(function(){return LogEntryMessageColumn})),__webpack_require__.d(__webpack_exports__,"e",(function(){return LogEntryRowWrapper})),__webpack_require__.d(__webpack_exports__,"f",(function(){return LogEntryTimestampColumn})),__webpack_require__.d(__webpack_exports__,"g",(function(){return scrollable_log_text_stream_view_ScrollableLogTextStreamView})),__webpack_require__.d(__webpack_exports__,"b",(function(){return log_entry_context_menu.a}));var log_entry_column=__webpack_require__(92),external_kbnSharedDeps_React_=__webpack_require__(2),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),common_=__webpack_require__(13),log_entry=__webpack_require__(169),field_value=__webpack_require__(212),text_styles=__webpack_require__(156);const LogEntryFieldColumn=({columnValue:columnValue,highlights:[firstHighlight],isActiveHighlight:isActiveHighlight,wrapMode:wrapMode,render:render})=>Object(log_entry.e)(columnValue)?external_kbnSharedDeps_React_default.a.createElement(FieldColumnContent,{wrapMode:wrapMode},external_kbnSharedDeps_React_default.a.createElement(field_value.a,{highlightTerms:Object(log_entry.g)(firstHighlight)?firstHighlight.highlights:[],isActiveHighlight:isActiveHighlight,value:columnValue.value,render:render})):null,FieldColumnContent=Object(common_.euiStyled)(log_entry_column.b)`
  text-overflow: ellipsis;

  ${props=>"long"===props.wrapMode?text_styles.c:"pre-wrapped"===props.wrapMode?text_styles.e:text_styles.f};
`,LogEntryMessageColumn=Object(external_kbnSharedDeps_React_.memo)(({columnValue:columnValue,highlights:highlights,isActiveHighlight:isActiveHighlight,wrapMode:wrapMode,render:render})=>{const message=Object(external_kbnSharedDeps_React_.useMemo)(()=>Object(log_entry.j)(columnValue)?formatMessageSegments(columnValue.message,highlights,isActiveHighlight):null,[columnValue,highlights,isActiveHighlight]),messageAsString=Object(external_kbnSharedDeps_React_.useMemo)(()=>Object(log_entry.j)(columnValue)?renderMessageSegments(columnValue.message):"",[columnValue]);return external_kbnSharedDeps_React_default.a.createElement(MessageColumnContent,{wrapMode:wrapMode},render?render(messageAsString):message)}),MessageColumnContent=Object(common_.euiStyled)(log_entry_column.b)`
  text-overflow: ellipsis;
  ${props=>"long"===props.wrapMode?text_styles.c:"pre-wrapped"===props.wrapMode?text_styles.e:text_styles.f};
`,formatMessageSegments=(messageSegments,highlights,isActiveHighlight)=>messageSegments.map((messageSegment,index)=>{if(Object(log_entry.f)(messageSegment)){const[firstHighlight=[]]=highlights.map(highlight=>{if(Object(log_entry.i)(highlight)){const segment=highlight.message[index];if(Object(log_entry.h)(segment))return segment.highlights}return[]});return external_kbnSharedDeps_React_default.a.createElement(field_value.a,{highlightTerms:firstHighlight,isActiveHighlight:isActiveHighlight,key:"MessageSegment-"+index,value:messageSegment.value})}return Object(log_entry.d)(messageSegment)?messageSegment.constant:"failed to format message"}),renderMessageSegments=messageSegments=>messageSegments.map(messageSegment=>Object(log_entry.d)(messageSegment)?messageSegment.constant:Object(log_entry.f)(messageSegment)?messageSegment.value.toString():void 0).join(" ");var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1),external_kbnSharedDeps_Lodash_=__webpack_require__(24),public_=__webpack_require__(60),formatted_time=__webpack_require__(271);const LogEntryTimestampColumn=Object(external_kbnSharedDeps_React_.memo)(({format:format="time",time:time,render:render})=>{const formattedTime=Object(formatted_time.a)(time,{format:format});return external_kbnSharedDeps_React_default.a.createElement(TimestampColumnContent,null,render?render(time):formattedTime)}),TimestampColumnContent=Object(common_.euiStyled)(log_entry_column.b)`
  color: ${props=>props.theme.eui.euiColorDarkShade};
  overflow: hidden;
  text-overflow: clip;
  white-space: pre;
`;var log_entry_context_menu=__webpack_require__(157),log_column_render_configuration=__webpack_require__(197);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const MENU_LABEL=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logEntryItemView.logEntryActionsMenuToolTip",{defaultMessage:"View actions for line"}),LOG_DETAILS_LABEL=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.logEntryActionsDetailsButton",{defaultMessage:"View details"}),LOG_VIEW_IN_CONTEXT_LABEL=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.lobs.logEntryActionsViewInContextButton",{defaultMessage:"View in context"}),LogEntryRow=Object(external_kbnSharedDeps_React_.memo)(({boundingBoxRef:boundingBoxRef,columnConfigurations:columnConfigurations,columnWidths:columnWidths,highlights:highlights,isActiveHighlight:isActiveHighlight,isHighlighted:isHighlighted,logEntry:logEntry,openFlyoutWithItem:openFlyoutWithItem,openViewLogInContext:openViewLogInContext,scale:scale,wrap:wrap})=>{const trackMetric=Object(public_.useUiTracker)({app:"infra_logs"}),[isHovered,setIsHovered]=Object(external_kbnSharedDeps_React_.useState)(!1),[isMenuOpen,setIsMenuOpen]=Object(external_kbnSharedDeps_React_.useState)(!1),openMenu=Object(external_kbnSharedDeps_React_.useCallback)(()=>setIsMenuOpen(!0),[]),closeMenu=Object(external_kbnSharedDeps_React_.useCallback)(()=>setIsMenuOpen(!1),[]),setItemIsHovered=Object(external_kbnSharedDeps_React_.useCallback)(()=>setIsHovered(!0),[]),setItemIsNotHovered=Object(external_kbnSharedDeps_React_.useCallback)(()=>setIsHovered(!1),[]),openFlyout=Object(external_kbnSharedDeps_React_.useCallback)(()=>null==openFlyoutWithItem?void 0:openFlyoutWithItem(logEntry.id),[openFlyoutWithItem,logEntry.id]),handleOpenViewLogInContext=Object(external_kbnSharedDeps_React_.useCallback)(()=>{null==openViewLogInContext||openViewLogInContext(logEntry),trackMetric({metric:"view_in_context__stream"})},[openViewLogInContext,logEntry,trackMetric]),hasContext=Object(external_kbnSharedDeps_React_.useMemo)(()=>!Object(external_kbnSharedDeps_Lodash_.isEmpty)(logEntry.context),[logEntry]),hasActionFlyoutWithItem=void 0!==openFlyoutWithItem,hasActionViewLogInContext=hasContext&&void 0!==openViewLogInContext,hasActionsMenu=hasActionFlyoutWithItem||hasActionViewLogInContext,menuItems=Object(external_kbnSharedDeps_React_.useMemo)(()=>{const items=[];return hasActionFlyoutWithItem&&items.push({label:LOG_DETAILS_LABEL,onClick:openFlyout}),hasActionViewLogInContext&&items.push({label:LOG_VIEW_IN_CONTEXT_LABEL,onClick:handleOpenViewLogInContext}),items},[hasActionFlyoutWithItem,hasActionViewLogInContext,openFlyout,handleOpenViewLogInContext]),logEntryColumnsById=Object(external_kbnSharedDeps_React_.useMemo)(()=>logEntry.columns.reduce((columnsById,column)=>({...columnsById,[column.columnId]:column}),{}),[logEntry.columns]),highlightsByColumnId=Object(external_kbnSharedDeps_React_.useMemo)(()=>highlights.reduce((columnsById,highlight)=>highlight.columns.reduce((innerColumnsById,column)=>({...innerColumnsById,[column.columnId]:[...innerColumnsById[column.columnId]||[],column]}),columnsById),{}),[highlights]);return external_kbnSharedDeps_React_default.a.createElement(LogEntryRowWrapper,{"data-test-subj":"streamEntry logTextStreamEntry",ref:boundingBoxRef,onMouseEnter:setItemIsHovered,onMouseLeave:setItemIsNotHovered,isHighlighted:isHighlighted,scale:scale},columnConfigurations.map(columnConfiguration=>{if(Object(log_column_render_configuration.d)(columnConfiguration)){const column=logEntryColumnsById[columnConfiguration.timestampColumn.id],columnWidth=columnWidths[columnConfiguration.timestampColumn.id];return external_kbnSharedDeps_React_default.a.createElement(log_entry_column.a,_extends({"data-test-subj":"logColumn timestampLogColumn",key:columnConfiguration.timestampColumn.id},columnWidth),Object(log_entry.k)(column)?external_kbnSharedDeps_React_default.a.createElement(LogEntryTimestampColumn,{time:column.timestamp,render:columnConfiguration.timestampColumn.render}):null)}if(Object(log_column_render_configuration.c)(columnConfiguration)){const column=logEntryColumnsById[columnConfiguration.messageColumn.id],columnWidth=columnWidths[columnConfiguration.messageColumn.id];return external_kbnSharedDeps_React_default.a.createElement(log_entry_column.a,_extends({"data-test-subj":"logColumn messageLogColumn",key:columnConfiguration.messageColumn.id},columnWidth),column?external_kbnSharedDeps_React_default.a.createElement(LogEntryMessageColumn,{columnValue:column,highlights:highlightsByColumnId[column.columnId]||[],isActiveHighlight:isActiveHighlight,wrapMode:wrap?"long":"pre-wrapped",render:columnConfiguration.messageColumn.render}):null)}if(Object(log_column_render_configuration.b)(columnConfiguration)){const column=logEntryColumnsById[columnConfiguration.fieldColumn.id],columnWidth=columnWidths[columnConfiguration.fieldColumn.id];return external_kbnSharedDeps_React_default.a.createElement(log_entry_column.a,_extends({"data-test-subj":"logColumn fieldLogColumn fieldLogColumn:"+columnConfiguration.fieldColumn.field,key:columnConfiguration.fieldColumn.id},columnWidth),column?external_kbnSharedDeps_React_default.a.createElement(LogEntryFieldColumn,{columnValue:column,highlights:highlightsByColumnId[column.columnId]||[],isActiveHighlight:isActiveHighlight,wrapMode:wrap?"long":"pre-wrapped",render:columnConfiguration.fieldColumn.render}):null)}}),hasActionsMenu?external_kbnSharedDeps_React_default.a.createElement(log_entry_column.a,_extends({key:"logColumn iconLogColumn iconLogColumn:details"},columnWidths[log_entry_column.c]),isHovered||isMenuOpen?external_kbnSharedDeps_React_default.a.createElement(log_entry_context_menu.a,{"aria-label":MENU_LABEL,isOpen:isMenuOpen,onOpen:openMenu,onClose:closeMenu,items:menuItems}):null):null)}),LogEntryRowWrapper=common_.euiStyled.div.attrs(()=>({role:"row"}))`
  align-items: stretch;
  color: ${props=>props.theme.eui.euiTextColor};
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  overflow: hidden;

  ${props=>Object(text_styles.d)(props.scale)};
  ${props=>props.isHighlighted?text_styles.a:""}

  &:hover {
    ${text_styles.b}
  }
`;var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(14),external_kbnSharedDeps_Moment_=__webpack_require__(50),external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);var auto_sizer=__webpack_require__(115),empty_states=__webpack_require__(158),loading=__webpack_require__(137),d3_array=__webpack_require__(134),common_time=__webpack_require__(210);function getStreamItemId(item){switch(item.kind){case"logEntry":return`${item.logEntry.cursor.time}:${item.logEntry.cursor.tiebreaker}:${item.logEntry.id}`}}function parseStreamItemId(id){const idFragments=id.split(":");return{gid:idFragments.slice(2).join(":"),tiebreaker:parseInt(idFragments[1],10),time:parseInt(idFragments[0],10)}}const streamItemTimeBisector=Object(d3_array.bisector)(Object(common_time.a)((function(item){switch(item.kind){case"logEntry":return item.logEntry.cursor}})));var column_headers=__webpack_require__(272),external_kbnSharedDeps_ElasticEui_=__webpack_require__(10);const LogTextSeparator=({children:children})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},children),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHorizontalRule,null)));var datemath=__webpack_require__(27);function loading_item_view_extends(){return(loading_item_view_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const TIMESTAMP_FORMAT={hour12:!1,month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};class loading_item_view_LogTextStreamLoadingItemView extends external_kbnSharedDeps_React_.PureComponent{render(){const{position:position,timestamp:timestamp,startDateExpression:startDateExpression,endDateExpression:endDateExpression,className:className,hasMore:hasMore,isLoading:isLoading,isStreaming:isStreaming,onExtendRange:onExtendRange,onStreamStart:onStreamStart}=this.props,shouldShowCta=!hasMore&&!isStreaming,extra=external_kbnSharedDeps_React_.createElement(LoadingItemViewExtra,{justifyContent:"center",alignItems:"center",gutterSize:"m"},isLoading||isStreaming?external_kbnSharedDeps_React_.createElement(ProgressSpinner,{kind:isStreaming?"streaming":"loading"}):shouldShowCta?external_kbnSharedDeps_React_.createElement(ProgressCta,{position:position,onStreamStart:onStreamStart,onExtendRange:onExtendRange,startDateExpression:startDateExpression,endDateExpression:endDateExpression}):null);return external_kbnSharedDeps_React_.createElement(ProgressEntryWrapper,{className:className,position:position},"start"===position?extra:null,external_kbnSharedDeps_React_.createElement(ProgressMessage,{timestamp:timestamp,position:position,isStreaming:isStreaming}),"end"===position?extra:null)}}const LoadingItemViewExtra=Object(common_.euiStyled)(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup)`
  height: 40px;
`,ProgressEntryWrapper=common_.euiStyled.div`
  padding-left: ${props=>props.theme.eui.euiSizeS};
  padding-top: ${props=>"start"===props.position?props.theme.eui.euiSizeL:props.theme.eui.euiSizeM};
  padding-bottom: ${props=>"end"===props.position?props.theme.eui.euiSizeL:props.theme.eui.euiSizeM};
`,ProgressMessage=({timestamp:timestamp,position:position,isStreaming:isStreaming})=>{const formattedTimestamp=isStreaming&&"end"===position?external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedRelative,{units:"second",value:timestamp,updateInterval:1}):external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedTime,loading_item_view_extends({value:timestamp},TIMESTAMP_FORMAT)),message="start"===position?external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.showingEntriesFromTimestamp",defaultMessage:"Showing entries from {timestamp}",values:{timestamp:formattedTimestamp}}):isStreaming?external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.lastUpdate",defaultMessage:"Last update {timestamp}",values:{timestamp:formattedTimestamp}}):external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.showingEntriesUntilTimestamp",defaultMessage:"Showing entries until {timestamp}",values:{timestamp:formattedTimestamp}});return external_kbnSharedDeps_React_.createElement(LogTextSeparator,null,external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xxs"},message))},ProgressSpinner=({kind:kind})=>external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_ElasticEui_.EuiLoadingSpinner,{size:"l"})),external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s"},"streaming"===kind?external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.streamingNewEntriesText",defaultMessage:"Streaming new entries"}):external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.loadingNewEntriesText",defaultMessage:"Loading new entries"})))),ProgressCta=({position:position,startDateExpression:startDateExpression,endDateExpression:endDateExpression,onExtendRange:onExtendRange,onStreamStart:onStreamStart})=>{if("now"===("start"===position?startDateExpression:endDateExpression)&&"end"===position)return external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{onClick:onStreamStart,size:"s"},external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.streamLive",defaultMessage:"Stream live"}));const iconType="start"===position?"arrowUp":"arrowDown",extendedRange="start"===position?Object(datemath.b)(startDateExpression,"before",endDateExpression):Object(datemath.b)(endDateExpression,"after",startDateExpression);return extendedRange&&"diffUnit"in extendedRange?external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{onClick:()=>{"function"==typeof onExtendRange&&onExtendRange(extendedRange.value)},iconType:iconType,size:"s"},external_kbnSharedDeps_React_.createElement(ProgressExtendMessage,{amount:extendedRange.diffAmount,unit:extendedRange.diffUnit})):null},ProgressExtendMessage=({amount:amount,unit:unit})=>{switch(unit){case"ms":return external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByMillisecondsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {millisecond} other {milliseconds}}",values:{amount:amount}});case"s":return external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeBySecondsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {second} other {seconds}}",values:{amount:amount}});case"m":return external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByMinutesButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {minute} other {minutes}}",values:{amount:amount}});case"h":return external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByHoursButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {hour} other {hours}}",values:{amount:amount}});case"d":return external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByDaysButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {day} other {days}}",values:{amount:amount}});case"w":return external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByWeeksButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {week} other {weeks}}",values:{amount:amount}});case"M":return external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByMonthsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {month} other {months}}",values:{amount:amount}});case"y":return external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByYearsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {year} other {years}}",values:{amount:amount}});default:throw new TypeError("Unhandled unit: "+unit)}};class jump_to_tail_LogTextStreamJumpToTail extends external_kbnSharedDeps_React_.PureComponent{render(){const{onClickJump:onClickJump,width:width}=this.props;return external_kbnSharedDeps_React_.createElement(JumpToTailWrapper,{width:width},external_kbnSharedDeps_React_.createElement(MessageWrapper,null,external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued"},external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.streamingNewEntriesText",defaultMessage:"Streaming new entries"}))),external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"xs",onClick:onClickJump,iconType:"arrowDown"},external_kbnSharedDeps_React_.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.jumpToTailText",defaultMessage:"Jump to most recent entries"})))}}const JumpToTailWrapper=common_.euiStyled.div`
  align-items: center;
  display: flex;
  min-height: ${props=>props.theme.eui.euiSizeXXL};
  width: ${props=>props.width}px;
  position: fixed;
  bottom: 0;
  background-color: ${props=>props.theme.eui.euiColorEmptyShade};
`,MessageWrapper=common_.euiStyled.div`
  padding: 8px 16px;
`;function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class measurable_item_view_MeasurableItemView extends external_kbnSharedDeps_React_.PureComponent{constructor(...args){super(...args),_defineProperty(this,"childRef",external_kbnSharedDeps_React_.createRef()),_defineProperty(this,"getOffsetRect",()=>{const currentElement=this.childRef.current;return null===currentElement?null:{height:currentElement.offsetHeight,left:currentElement.offsetLeft,top:currentElement.offsetTop,width:currentElement.offsetWidth}})}componentDidMount(){this.props.register(this.props.registrationKey,this)}componentWillUnmount(){this.props.register(this.props.registrationKey,null)}componentDidUpdate(prevProps){prevProps.registrationKey!==this.props.registrationKey&&(this.props.register(prevProps.registrationKey,null),this.props.register(this.props.registrationKey,this))}render(){return this.props.children(this.childRef)}}var vertical_scroll_panel=__webpack_require__(273),datetime=__webpack_require__(199);const LogDateRow=({timestamp:timestamp})=>{const formattedDate=Object(datetime.a)(timestamp);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xxs"},external_kbnSharedDeps_React_default.a.createElement("h2",{style:{paddingLeft:8}},formattedDate))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHorizontalRule,null)))};function scrollable_log_text_stream_view_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class scrollable_log_text_stream_view_ScrollableLogTextStreamView extends external_kbnSharedDeps_React_default.a.PureComponent{static getDerivedStateFromProps(nextProps,prevState){const hasNewTarget=nextProps.target&&nextProps.target!==prevState.target,hasItems=nextProps.items.length>0,nextItems=hasItems&&prevState.isScrollLocked?prevState.items:nextProps.items;return nextProps.isStreaming&&hasItems?{target:nextProps.target,targetId:getStreamItemId(nextProps.items[nextProps.items.length-1]),items:nextItems}:hasNewTarget&&hasItems?{target:nextProps.target,targetId:getStreamItemId((streamItems=nextProps.items,key=nextProps.target,streamItems[Math.min(streamItemTimeBisector.left(streamItems,key),streamItems.length-1)])),items:nextItems}:hasItems?!hasItems||nextItems.length===prevState.items.length&&nextItems[0]===prevState.items[0]?null:{...prevState,items:nextItems}:{target:null,targetId:null,items:[]};var streamItems,key}constructor(props){super(props),scrollable_log_text_stream_view_defineProperty(this,"handleOpenFlyout",id=>{var _this$props$onOpenLog,_this$props;null===(_this$props$onOpenLog=(_this$props=this.props).onOpenLogEntryFlyout)||void 0===_this$props$onOpenLog||_this$props$onOpenLog.call(_this$props,id)}),scrollable_log_text_stream_view_defineProperty(this,"handleOpenViewLogInContext",entry=>{const{setContextEntry:setContextEntry}=this.props;setContextEntry&&setContextEntry(entry)}),scrollable_log_text_stream_view_defineProperty(this,"handleReload",()=>{const{reloadItems:reloadItems}=this.props;reloadItems&&reloadItems()}),scrollable_log_text_stream_view_defineProperty(this,"handleVisibleChildrenChange",function(func,isArgsEqual=external_kbnSharedDeps_Lodash_.isEqual){let previousArgs,previousResult;return(...args)=>(isArgsEqual(args,previousArgs)||(previousArgs=args,previousResult=func(...args)),previousResult)}(({topChild:topChild,middleChild:middleChild,bottomChild:bottomChild,pagesAbove:pagesAbove,pagesBelow:pagesBelow,fromScroll:fromScroll})=>{fromScroll&&this.props.isStreaming&&this.setState({isScrollLocked:0!==pagesBelow}),this.props.reportVisibleInterval({endKey:parseStreamItemId(bottomChild),middleKey:parseStreamItemId(middleChild),pagesAfterEnd:pagesBelow,pagesBeforeStart:pagesAbove,startKey:parseStreamItemId(topChild),fromScroll:fromScroll})})),scrollable_log_text_stream_view_defineProperty(this,"handleJumpToTail",()=>{const{items:items}=this.props,lastItemTarget=getStreamItemId(items[items.length-1]);this.setState({targetId:lastItemTarget,isScrollLocked:!1})}),this.state={target:null,targetId:null,items:props.items,isScrollLocked:!1}}render(){var _this$props$hideScrol;const{columnConfigurations:columnConfigurations,currentHighlightKey:currentHighlightKey,hasMoreAfterEnd:hasMoreAfterEnd,hasMoreBeforeStart:hasMoreBeforeStart,highlightedItem:highlightedItem,isLoadingMore:isLoadingMore,isReloading:isReloading,isStreaming:isStreaming,scale:scale,wrap:wrap,startDateExpression:startDateExpression,endDateExpression:endDateExpression,lastLoadedTime:lastLoadedTime,updateDateRange:updateDateRange,startLiveStreaming:startLiveStreaming,onOpenLogEntryFlyout:onOpenLogEntryFlyout,setContextEntry:setContextEntry}=this.props,hideScrollbar=null===(_this$props$hideScrol=this.props.hideScrollbar)||void 0===_this$props$hideScrol||_this$props$hideScrol,{targetId:targetId,items:items,isScrollLocked:isScrollLocked}=this.state,hasItems=items.length>0,hasFlyoutAction=!!onOpenLogEntryFlyout,hasContextAction=!!setContextEntry;return external_kbnSharedDeps_React_default.a.createElement(ScrollableLogTextStreamViewWrapper,null,!isReloading||isStreaming&&hasItems?hasItems?external_kbnSharedDeps_React_default.a.createElement(WithColumnWidths,{columnConfigurations:columnConfigurations,scale:scale},({columnWidths:columnWidths,CharacterDimensionsProbe:CharacterDimensionsProbe})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(CharacterDimensionsProbe,null),external_kbnSharedDeps_React_default.a.createElement(column_headers.b,{columnConfigurations:columnConfigurations,columnWidths:columnWidths}),external_kbnSharedDeps_React_default.a.createElement(auto_sizer.a,{bounds:!0,content:!0,detectAnyWindowResize:"height"},({measureRef:measureRef,bounds:{height:height=0},content:{width:width=0}})=>external_kbnSharedDeps_React_default.a.createElement(ScrollPanelSizeProbe,{ref:measureRef},external_kbnSharedDeps_React_default.a.createElement(vertical_scroll_panel.b,{height:height,width:width,onVisibleChildrenChange:this.handleVisibleChildrenChange,target:targetId,hideScrollbar:hideScrollbar,"data-test-subj":"logStream",isLocked:isScrollLocked,entriesCount:items.length},registerChild=>items.length>0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(loading_item_view_LogTextStreamLoadingItemView,{position:"start",isLoading:isLoadingMore,hasMore:hasMoreBeforeStart,timestamp:items[0].logEntry.cursor.time,isStreaming:!1,startDateExpression:startDateExpression,endDateExpression:endDateExpression,onExtendRange:newDateExpression=>updateDateRange({startDateExpression:newDateExpression})}),items.map((item,idx)=>{const currentTimestamp=item.logEntry.cursor.time;let showDate=!1;if(idx>0){const prevTimestamp=items[idx-1].logEntry.cursor.time;showDate=!external_kbnSharedDeps_Moment_default()(currentTimestamp).isSame(prevTimestamp,"day")}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,{key:getStreamItemId(item)},showDate&&external_kbnSharedDeps_React_default.a.createElement(LogDateRow,{timestamp:currentTimestamp}),external_kbnSharedDeps_React_default.a.createElement(measurable_item_view_MeasurableItemView,{register:registerChild,registrationKey:getStreamItemId(item)},itemMeasureRef=>external_kbnSharedDeps_React_default.a.createElement(LogEntryRow,{columnConfigurations:columnConfigurations,columnWidths:columnWidths,openFlyoutWithItem:hasFlyoutAction?this.handleOpenFlyout:void 0,openViewLogInContext:hasContextAction?this.handleOpenViewLogInContext:void 0,boundingBoxRef:itemMeasureRef,logEntry:item.logEntry,highlights:item.highlights,isActiveHighlight:!!currentHighlightKey&&currentHighlightKey.gid===item.logEntry.id,scale:scale,wrap:wrap,isHighlighted:!!highlightedItem&&item.logEntry.id===highlightedItem})))}),external_kbnSharedDeps_React_default.a.createElement(loading_item_view_LogTextStreamLoadingItemView,{position:"end",isLoading:isStreaming||isLoadingMore,hasMore:hasMoreAfterEnd,isStreaming:isStreaming,timestamp:isStreaming&&lastLoadedTime?lastLoadedTime.valueOf():items[items.length-1].logEntry.cursor.time,startDateExpression:startDateExpression,endDateExpression:endDateExpression,onExtendRange:newDateExpression=>updateDateRange({endDateExpression:newDateExpression}),onStreamStart:()=>startLiveStreaming()}),isScrollLocked&&external_kbnSharedDeps_React_default.a.createElement(jump_to_tail_LogTextStreamJumpToTail,{width:width,onClickJump:this.handleJumpToTail})):null))))):external_kbnSharedDeps_React_default.a.createElement(empty_states.a,{titleText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.emptyView.noLogMessageTitle",{defaultMessage:"There are no log messages to display."}),bodyText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.emptyView.noLogMessageDescription",{defaultMessage:"Try adjusting your filter."}),refetchText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.infra.logs.emptyView.checkForNewDataButtonLabel",{defaultMessage:"Check for new data"}),onRefetch:this.handleReload,testString:"logsNoDataPrompt"}):external_kbnSharedDeps_React_default.a.createElement(loading.a,{width:"100%",height:"100%",text:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logs.scrollableLogTextStreamView.loadingEntriesLabel",defaultMessage:"Loading entries"})}))}}const WithColumnWidths=({children:children,columnConfigurations:columnConfigurations,scale:scale})=>children(Object(log_entry_column.d)({columnConfigurations:columnConfigurations,scale:scale})),ScrollableLogTextStreamViewWrapper=common_.euiStyled.div`
  overflow: hidden;
  display: flex;
  flex: 1 1 0%;
  flex-direction: column;
  align-items: stretch;
`,ScrollPanelSizeProbe=common_.euiStyled.div`
  overflow: hidden;
  flex: 1 1 0%;
`},169:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return getUniqueLogEntryKey})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getLogEntryIndexBeforeTime})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getLogEntryIndexAtTime})),__webpack_require__.d(__webpack_exports__,"k",(function(){return isTimestampColumn})),__webpack_require__.d(__webpack_exports__,"j",(function(){return isMessageColumn})),__webpack_require__.d(__webpack_exports__,"e",(function(){return isFieldColumn})),__webpack_require__.d(__webpack_exports__,"d",(function(){return isConstantSegment})),__webpack_require__.d(__webpack_exports__,"f",(function(){return isFieldSegment})),__webpack_require__.d(__webpack_exports__,"i",(function(){return isHighlightMessageColumn})),__webpack_require__.d(__webpack_exports__,"g",(function(){return isHighlightFieldColumn})),__webpack_require__.d(__webpack_exports__,"h",(function(){return isHighlightFieldSegment}));var d3_array=__webpack_require__(134),time=__webpack_require__(210);const getLogEntryKey=entry=>entry.cursor,getUniqueLogEntryKey=entry=>({...entry.cursor,gid:entry.id}),logEntryTimeBisector=Object(d3_array.bisector)(Object(time.a)(getLogEntryKey)),getLogEntryIndexBeforeTime=logEntryTimeBisector.left,getLogEntryIndexAtTime=(logEntryTimeBisector.right,Object(time.b)(getLogEntryKey)),isTimestampColumn=column=>null!=column&&"timestamp"in column,isMessageColumn=column=>null!=column&&"message"in column,isFieldColumn=column=>null!=column&&"field"in column,isConstantSegment=segment=>"constant"in segment,isFieldSegment=segment=>"field"in segment&&"value"in segment,isHighlightMessageColumn=column=>null!=column&&"message"in column,isHighlightFieldColumn=column=>null!=column&&"field"in column,isHighlightFieldSegment=segment=>segment&&"field"in segment&&"highlights"in segment},194:function(module,exports,__webpack_require__){"use strict";module.exports=function equal(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var length,i,keys;if(Array.isArray(a)){if((length=a.length)!=b.length)return!1;for(i=length;0!=i--;)if(!equal(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((length=(keys=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=length;0!=i--;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return!1;for(i=length;0!=i--;){var key=keys[i];if(!equal(a[key],b[key]))return!1}return!0}return a!=a&&b!=b}},195:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return flattenDataSearchResponseDescriptor}));var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(65);const flattenDataSearchResponseDescriptor=({abortController:abortController,options:options,request:request,response$:response$})=>response$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.map)(response=>({abortController:abortController,options:options,request:request,response:response})))},196:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useDataSearchResponseState}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_use_observable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(113);const useDataSearchResponseState=response$=>{var _latestValue$response,_latestValue$response2;const{latestValue:latestValue}=Object(_use_observable__WEBPACK_IMPORTED_MODULE_1__.c)(response$,void 0);return{cancelRequest:Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{null==latestValue||latestValue.abortController.abort()},[latestValue]),isRequestRunning:null!==(_latestValue$response=null==latestValue?void 0:latestValue.response.isRunning)&&void 0!==_latestValue$response&&_latestValue$response,isResponsePartial:null!==(_latestValue$response2=null==latestValue?void 0:latestValue.response.isPartial)&&void 0!==_latestValue$response2&&_latestValue$response2,latestResponseData:null==latestValue?void 0:latestValue.response.data,latestResponseErrors:null==latestValue?void 0:latestValue.response.errors,loaded:null==latestValue?void 0:latestValue.response.loaded,total:null==latestValue?void 0:latestValue.response.total}}},197:function(module,__webpack_exports__,__webpack_require__){"use strict";function isTimestampColumnRenderConfiguration(column){return"timestampColumn"in column}function isMessageColumnRenderConfiguration(column){return"messageColumn"in column}function isFieldColumnRenderConfiguration(column){return"fieldColumn"in column}function columnWidthToCSS(width){return"number"==typeof width?width+"px":width}__webpack_require__.d(__webpack_exports__,"d",(function(){return isTimestampColumnRenderConfiguration})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isMessageColumnRenderConfiguration})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isFieldColumnRenderConfiguration})),__webpack_require__.d(__webpack_exports__,"a",(function(){return columnWidthToCSS}))},198:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NoData}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13);const NoData=({titleText:titleText,bodyText:bodyText,refetchText:refetchText,onRefetch:onRefetch,testString:testString})=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(CenteredEmptyPrompt,{title:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2",null,titleText),titleSize:"m",body:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",null,bodyText),actions:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiButton,{iconType:"refresh",color:"primary",fill:!0,onClick:onRefetch},refetchText),"data-test-subj":testString}),CenteredEmptyPrompt=Object(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__.euiStyled)(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiEmptyPrompt)`
  align-self: center;
`},199:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return localizedDate}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);function localizedDate(dateTime,locale=_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.getLocale()){return new Intl.DateTimeFormat(locale,{year:"numeric",month:"short",day:"numeric"}).format(dateTime)}},209:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return useLogStream})),__webpack_require__.d(__webpack_exports__,"a",(function(){return LogStreamProvider})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useLogStreamContext}));var constate_cjs=__webpack_require__(78),constate_cjs_default=__webpack_require__.n(constate_cjs),external_kbnSharedDeps_React_=__webpack_require__(2),usePrevious=__webpack_require__(147),usePrevious_default=__webpack_require__.n(usePrevious),useSetState=__webpack_require__(106),useSetState_default=__webpack_require__.n(useSetState),use_observable=__webpack_require__(113),external_kbnSharedDeps_RxjsOperators_=__webpack_require__(65),runtime_types=__webpack_require__(15),lib=__webpack_require__(0),log_source_configuration=__webpack_require__(8),log_entry=__webpack_require__(130),typed_json=__webpack_require__(136),errors=__webpack_require__(266);const logEntriesBaseSearchRequestParamsRT=lib.intersection([lib.type({sourceId:lib.string,startTimestamp:lib.number,endTimestamp:lib.number,size:lib.number}),lib.partial({query:typed_json.b,columns:lib.array(log_source_configuration.d),highlightPhrase:lib.string})]),logEntriesBeforeSearchRequestParamsRT=lib.intersection([logEntriesBaseSearchRequestParamsRT,log_entry.b]),logEntriesAfterSearchRequestParamsRT=lib.intersection([logEntriesBaseSearchRequestParamsRT,log_entry.a]),logEntriesSearchRequestParamsRT=lib.union([logEntriesBaseSearchRequestParamsRT,logEntriesBeforeSearchRequestParamsRT,logEntriesAfterSearchRequestParamsRT]),logEntriesSearchResponsePayloadRT=lib.intersection([lib.type({data:lib.intersection([lib.type({entries:lib.array(log_entry.f),topCursor:lib.union([log_entry.d,lib.null]),bottomCursor:lib.union([log_entry.d,lib.null])}),lib.partial({hasMoreBefore:lib.boolean,hasMoreAfter:lib.boolean})])}),lib.partial({errors:lib.array(errors.a)})]);var data_search=__webpack_require__(155);const useLogEntriesAfterRequest=({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp})=>{const{search:fetchLogEntriesAfter,requests$:logEntriesAfterSearchRequests$}=Object(data_search.useDataSearch)({getRequest:Object(external_kbnSharedDeps_React_.useCallback)((cursor,params)=>{var _params$extendTo;return sourceId?{request:{params:logEntriesSearchRequestParamsRT.encode({after:cursor,columns:columnOverrides,endTimestamp:null!==(_params$extendTo=null==params?void 0:params.extendTo)&&void 0!==_params$extendTo?_params$extendTo:endTimestamp,highlightPhrase:highlightPhrase,query:query,size:params.size,sourceId:sourceId,startTimestamp:startTimestamp})},options:{strategy:"infra-log-entries"}}:null},[columnOverrides,endTimestamp,highlightPhrase,query,sourceId,startTimestamp]),parseResponses:parseLogEntriesAfterSearchResponses});return{fetchLogEntriesAfter:fetchLogEntriesAfter,logEntriesAfterSearchRequests$:logEntriesAfterSearchRequests$}},useFetchLogEntriesAfter=({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp})=>{const{fetchLogEntriesAfter:fetchLogEntriesAfter,logEntriesAfterSearchRequests$:logEntriesAfterSearchRequests$}=useLogEntriesAfterRequest({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp}),{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,logEntriesAfterSearchResponse$:logEntriesAfterSearchResponse$,total:total}=(logEntriesAfterSearchRequests$=>{const logEntriesAfterSearchResponse$=Object(use_observable.d)(logEntriesAfterSearchRequests$,flattenLogEntriesAfterSearchResponse),{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,total:total}=Object(data_search.useDataSearchResponseState)(logEntriesAfterSearchResponse$);return{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,logEntriesAfterSearchRequests$:logEntriesAfterSearchRequests$,logEntriesAfterSearchResponse$:logEntriesAfterSearchResponse$,total:total}})(logEntriesAfterSearchRequests$);return{cancelRequest:cancelRequest,fetchLogEntriesAfter:fetchLogEntriesAfter,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,logEntriesAfterSearchResponse$:logEntriesAfterSearchResponse$,total:total}},parseLogEntriesAfterSearchResponses=Object(data_search.normalizeDataSearchResponses)(null,Object(runtime_types.b)(logEntriesSearchResponsePayloadRT)),flattenLogEntriesAfterSearchResponse=Object(external_kbnSharedDeps_RxjsOperators_.exhaustMap)(data_search.flattenDataSearchResponseDescriptor);var external_kbnSharedDeps_Rxjs_=__webpack_require__(67);const useLogEntriesBeforeRequest=({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp})=>{const{search:fetchLogEntriesBefore,requests$:logEntriesBeforeSearchRequests$}=Object(data_search.useDataSearch)({getRequest:Object(external_kbnSharedDeps_React_.useCallback)((cursor,params)=>{var _params$extendTo;return sourceId?{request:{params:logEntriesSearchRequestParamsRT.encode({before:cursor,columns:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,size:params.size,sourceId:sourceId,startTimestamp:null!==(_params$extendTo=params.extendTo)&&void 0!==_params$extendTo?_params$extendTo:startTimestamp})},options:{strategy:"infra-log-entries"}}:null},[columnOverrides,endTimestamp,highlightPhrase,query,sourceId,startTimestamp]),parseResponses:parseLogEntriesBeforeSearchResponses});return{fetchLogEntriesBefore:fetchLogEntriesBefore,logEntriesBeforeSearchRequests$:logEntriesBeforeSearchRequests$}},useFetchLogEntriesBefore=({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp})=>{const{fetchLogEntriesBefore:fetchLogEntriesBefore,logEntriesBeforeSearchRequests$:logEntriesBeforeSearchRequests$}=useLogEntriesBeforeRequest({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp}),{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,logEntriesBeforeSearchResponse$:logEntriesBeforeSearchResponse$,total:total}=(logEntriesBeforeSearchRequests$=>{const logEntriesBeforeSearchResponse$=Object(use_observable.d)(logEntriesBeforeSearchRequests$,flattenLogEntriesBeforeSearchResponse),{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,total:total}=Object(data_search.useDataSearchResponseState)(logEntriesBeforeSearchResponse$);return{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,logEntriesBeforeSearchRequests$:logEntriesBeforeSearchRequests$,logEntriesBeforeSearchResponse$:logEntriesBeforeSearchResponse$,total:total}})(logEntriesBeforeSearchRequests$);return{cancelRequest:cancelRequest,fetchLogEntriesBefore:fetchLogEntriesBefore,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,logEntriesBeforeSearchResponse$:logEntriesBeforeSearchResponse$,total:total}},parseLogEntriesBeforeSearchResponses=Object(data_search.normalizeDataSearchResponses)(null,Object(runtime_types.b)(logEntriesSearchResponsePayloadRT)),flattenLogEntriesBeforeSearchResponse=Object(external_kbnSharedDeps_RxjsOperators_.exhaustMap)(data_search.flattenDataSearchResponseDescriptor),initialCombinedResponse={before:void 0,after:void 0,combined:void 0},INITIAL_STATE={entries:[],topCursor:null,bottomCursor:null,hasMoreBefore:!0,hasMoreAfter:!0};function useLogStream({sourceId:sourceId,startTimestamp:startTimestamp,endTimestamp:endTimestamp,query:query,center:center,columns:columns}){const[state,setState]=useSetState_default()(INITIAL_STATE),[resetOnSuccess,setResetOnSuccess]=Object(external_kbnSharedDeps_React_.useState)(!1),prevStartTimestamp=usePrevious_default()(startTimestamp),prevEndTimestamp=usePrevious_default()(endTimestamp);Object(external_kbnSharedDeps_React_.useEffect)(()=>{prevStartTimestamp&&prevStartTimestamp>startTimestamp&&setState({hasMoreBefore:!0})},[prevStartTimestamp,startTimestamp,setState]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{prevEndTimestamp&&prevEndTimestamp<endTimestamp&&setState({hasMoreAfter:!0})},[prevEndTimestamp,endTimestamp,setState]);const commonFetchArguments=Object(external_kbnSharedDeps_React_.useMemo)(()=>({sourceId:sourceId,startTimestamp:startTimestamp,endTimestamp:endTimestamp,query:query,columnOverrides:columns}),[columns,endTimestamp,query,sourceId,startTimestamp]),{fetchLogEntriesAround:fetchLogEntriesAround,isRequestRunning:isLogEntriesAroundRequestRunning,logEntriesAroundSearchResponses$:logEntriesAroundSearchResponses$}=(({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp})=>{var _latestCombinedRespon,_latestCombinedRespon2;const{fetchLogEntriesBefore:fetchLogEntriesBefore}=useLogEntriesBeforeRequest({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp}),{fetchLogEntriesAfter:fetchLogEntriesAfter}=useLogEntriesAfterRequest({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp}),logEntriesAroundSearchRequests$=Object(use_observable.b)(()=>new external_kbnSharedDeps_Rxjs_.ReplaySubject,[]),fetchLogEntriesAround=Object(external_kbnSharedDeps_React_.useCallback)((cursor,size)=>{const logEntriesBeforeSearchRequest=fetchLogEntriesBefore(cursor,{size:Math.floor(size/2)});if(null==logEntriesBeforeSearchRequest)return;const logEntriesAfterSearchRequest$=Object(data_search.flattenDataSearchResponseDescriptor)(logEntriesBeforeSearchRequest).pipe(Object(external_kbnSharedDeps_RxjsOperators_.last)(),Object(external_kbnSharedDeps_RxjsOperators_.map)(lastBeforeSearchResponse=>{var _lastBeforeSearchResp,_lastBeforeSearchResp2;const cursorAfter=null!==(_lastBeforeSearchResp=null===(_lastBeforeSearchResp2=lastBeforeSearchResponse.response.data)||void 0===_lastBeforeSearchResp2?void 0:_lastBeforeSearchResp2.bottomCursor)&&void 0!==_lastBeforeSearchResp?_lastBeforeSearchResp:{time:cursor.time-1,tiebreaker:0},logEntriesAfterSearchRequest=fetchLogEntriesAfter(cursorAfter,{size:Math.ceil(size/2)});if(null==logEntriesAfterSearchRequest)throw new Error("Failed to create request: no request args given");return logEntriesAfterSearchRequest}));logEntriesAroundSearchRequests$.next([logEntriesBeforeSearchRequest,logEntriesAfterSearchRequest$])},[fetchLogEntriesAfter,fetchLogEntriesBefore,logEntriesAroundSearchRequests$]),logEntriesAroundSearchResponses$=Object(use_observable.b)(inputs$=>inputs$.pipe(Object(external_kbnSharedDeps_RxjsOperators_.switchMap)(([currentSearchRequests$])=>currentSearchRequests$.pipe(Object(external_kbnSharedDeps_RxjsOperators_.switchMap)(([beforeRequest,afterRequest$])=>{const beforeResponse$=Object(data_search.flattenDataSearchResponseDescriptor)(beforeRequest),afterResponse$=afterRequest$.pipe(Object(external_kbnSharedDeps_RxjsOperators_.switchMap)(data_search.flattenDataSearchResponseDescriptor),Object(external_kbnSharedDeps_RxjsOperators_.startWith)(void 0));return Object(external_kbnSharedDeps_Rxjs_.combineLatest)([beforeResponse$,afterResponse$])}),Object(external_kbnSharedDeps_RxjsOperators_.map)(([beforeResponse,afterResponse])=>{var _ref,_ref2,_beforeResponse$respo,_beforeResponse$respo2,_afterResponse$respon,_afterResponse$respon2,_beforeResponse$respo3,_afterResponse$respon3,_beforeResponse$respo4,_afterResponse$respon4,_beforeResponse$respo5,_afterResponse$respon5;const loadedBefore=beforeResponse.response.loaded,loadedAfter=null==afterResponse?void 0:afterResponse.response.loaded,totalBefore=beforeResponse.response.total,totalAfter=null==afterResponse?void 0:afterResponse.response.total;return{before:beforeResponse,after:afterResponse,combined:{isRunning:null!==(_ref=beforeResponse.response.isRunning||(null==afterResponse?void 0:afterResponse.response.isRunning))&&void 0!==_ref&&_ref,isPartial:null!==(_ref2=beforeResponse.response.isPartial||(null==afterResponse?void 0:afterResponse.response.isPartial))&&void 0!==_ref2&&_ref2,loaded:null!=loadedBefore||null!=loadedAfter?(null!=loadedBefore?loadedBefore:0)+(null!=loadedAfter?loadedAfter:0):void 0,total:null!=totalBefore||null!=totalAfter?(null!=totalBefore?totalBefore:0)+(null!=totalAfter?totalAfter:0):void 0,entries:[...null!==(_beforeResponse$respo=null===(_beforeResponse$respo2=beforeResponse.response.data)||void 0===_beforeResponse$respo2?void 0:_beforeResponse$respo2.entries)&&void 0!==_beforeResponse$respo?_beforeResponse$respo:[],...null!==(_afterResponse$respon=null==afterResponse||null===(_afterResponse$respon2=afterResponse.response.data)||void 0===_afterResponse$respon2?void 0:_afterResponse$respon2.entries)&&void 0!==_afterResponse$respon?_afterResponse$respon:[]],errors:[...null!==(_beforeResponse$respo3=beforeResponse.response.errors)&&void 0!==_beforeResponse$respo3?_beforeResponse$respo3:[],...null!==(_afterResponse$respon3=null==afterResponse?void 0:afterResponse.response.errors)&&void 0!==_afterResponse$respon3?_afterResponse$respon3:[]],hasMoreBefore:null===(_beforeResponse$respo4=beforeResponse.response.data)||void 0===_beforeResponse$respo4?void 0:_beforeResponse$respo4.hasMoreBefore,hasMoreAfter:null==afterResponse||null===(_afterResponse$respon4=afterResponse.response.data)||void 0===_afterResponse$respon4?void 0:_afterResponse$respon4.hasMoreAfter,topCursor:null===(_beforeResponse$respo5=beforeResponse.response.data)||void 0===_beforeResponse$respo5?void 0:_beforeResponse$respo5.topCursor,bottomCursor:null==afterResponse||null===(_afterResponse$respon5=afterResponse.response.data)||void 0===_afterResponse$respon5?void 0:_afterResponse$respon5.bottomCursor}}})))),[logEntriesAroundSearchRequests$]),{latestValue:{before:latestBeforeResponse,after:latestAfterResponse,combined:latestCombinedResponse}}=Object(use_observable.c)(logEntriesAroundSearchResponses$,initialCombinedResponse);return{cancelRequest:Object(external_kbnSharedDeps_React_.useCallback)(()=>{null==latestBeforeResponse||latestBeforeResponse.abortController.abort(),null==latestAfterResponse||latestAfterResponse.abortController.abort()},[latestBeforeResponse,latestAfterResponse]),fetchLogEntriesAround:fetchLogEntriesAround,isRequestRunning:null!==(_latestCombinedRespon=null==latestCombinedResponse?void 0:latestCombinedResponse.isRunning)&&void 0!==_latestCombinedRespon&&_latestCombinedRespon,isResponsePartial:null!==(_latestCombinedRespon2=null==latestCombinedResponse?void 0:latestCombinedResponse.isPartial)&&void 0!==_latestCombinedRespon2&&_latestCombinedRespon2,loaded:null==latestCombinedResponse?void 0:latestCombinedResponse.loaded,logEntriesAroundSearchResponses$:logEntriesAroundSearchResponses$,total:null==latestCombinedResponse?void 0:latestCombinedResponse.total}})(commonFetchArguments);Object(use_observable.e)(logEntriesAroundSearchResponses$,{next:({before:before,after:after,combined:combined})=>{null==before.response.data&&null==(null==after?void 0:after.response.data)||combined.isPartial||(setState(_prevState=>{var _combined$hasMoreAfte,_combined$hasMoreAfte2;const prevState=resetOnSuccess?INITIAL_STATE:_prevState;return{...resetOnSuccess?INITIAL_STATE:prevState,entries:combined.entries,hasMoreAfter:null!==(_combined$hasMoreAfte=combined.hasMoreAfter)&&void 0!==_combined$hasMoreAfte?_combined$hasMoreAfte:prevState.hasMoreAfter,hasMoreBefore:null!==(_combined$hasMoreAfte2=combined.hasMoreAfter)&&void 0!==_combined$hasMoreAfte2?_combined$hasMoreAfte2:prevState.hasMoreAfter,bottomCursor:combined.bottomCursor,topCursor:combined.topCursor,lastLoadedTime:new Date}}),resetOnSuccess&&setResetOnSuccess(!1))}});const{fetchLogEntriesBefore:fetchLogEntriesBefore,isRequestRunning:isLogEntriesBeforeRequestRunning,logEntriesBeforeSearchResponse$:logEntriesBeforeSearchResponse$}=useFetchLogEntriesBefore(commonFetchArguments);Object(use_observable.e)(logEntriesBeforeSearchResponse$,{next:({response:{data:data,isPartial:isPartial}})=>{null==data||isPartial||(setState(_prevState=>{var _data$hasMoreBefore,_data$topCursor,_prevState$bottomCurs;const prevState=resetOnSuccess?INITIAL_STATE:_prevState;return{...resetOnSuccess?INITIAL_STATE:prevState,entries:[...data.entries,...prevState.entries],hasMoreBefore:null!==(_data$hasMoreBefore=data.hasMoreBefore)&&void 0!==_data$hasMoreBefore?_data$hasMoreBefore:prevState.hasMoreBefore,topCursor:null!==(_data$topCursor=data.topCursor)&&void 0!==_data$topCursor?_data$topCursor:prevState.topCursor,bottomCursor:null!==(_prevState$bottomCurs=prevState.bottomCursor)&&void 0!==_prevState$bottomCurs?_prevState$bottomCurs:data.bottomCursor,lastLoadedTime:new Date}}),resetOnSuccess&&setResetOnSuccess(!1))}});const fetchPreviousEntries=Object(external_kbnSharedDeps_React_.useCallback)(params=>{if(null===state.topCursor)throw new Error("useLogStream: Cannot fetch previous entries. No cursor is set.\nEnsure you have called `fetchEntries` at least once.");(state.hasMoreBefore||null!=params&&params.force)&&fetchLogEntriesBefore(state.topCursor,{size:200,extendTo:null==params?void 0:params.extendTo})},[fetchLogEntriesBefore,state.topCursor,state.hasMoreBefore]),{fetchLogEntriesAfter:fetchLogEntriesAfter,isRequestRunning:isLogEntriesAfterRequestRunning,logEntriesAfterSearchResponse$:logEntriesAfterSearchResponse$}=useFetchLogEntriesAfter(commonFetchArguments);Object(use_observable.e)(logEntriesAfterSearchResponse$,{next:({response:{data:data,isPartial:isPartial}})=>{null==data||isPartial||(setState(_prevState=>{var _data$hasMoreAfter,_prevState$topCursor,_data$bottomCursor;const prevState=resetOnSuccess?INITIAL_STATE:_prevState;return{...resetOnSuccess?INITIAL_STATE:prevState,entries:[...prevState.entries,...data.entries],hasMoreAfter:null!==(_data$hasMoreAfter=data.hasMoreAfter)&&void 0!==_data$hasMoreAfter?_data$hasMoreAfter:prevState.hasMoreAfter,topCursor:null!==(_prevState$topCursor=prevState.topCursor)&&void 0!==_prevState$topCursor?_prevState$topCursor:data.topCursor,bottomCursor:null!==(_data$bottomCursor=data.bottomCursor)&&void 0!==_data$bottomCursor?_data$bottomCursor:prevState.bottomCursor,lastLoadedTime:new Date}}),resetOnSuccess&&setResetOnSuccess(!1))}});const fetchNextEntries=Object(external_kbnSharedDeps_React_.useCallback)(params=>{if(null===state.bottomCursor)throw new Error("useLogStream: Cannot fetch next entries. No cursor is set.\nEnsure you have called `fetchEntries` at least once.");(state.hasMoreAfter||null!=params&&params.force)&&fetchLogEntriesAfter(state.bottomCursor,{size:200,extendTo:null==params?void 0:params.extendTo})},[fetchLogEntriesAfter,state.bottomCursor,state.hasMoreAfter]),fetchEntries=Object(external_kbnSharedDeps_React_.useCallback)(()=>{setState(INITIAL_STATE),center?fetchLogEntriesAround(center,200):fetchLogEntriesBefore("last",{size:200})},[center,fetchLogEntriesAround,fetchLogEntriesBefore,setState]),fetchNewestEntries=Object(external_kbnSharedDeps_React_.useCallback)(()=>{setResetOnSuccess(!0),fetchLogEntriesBefore("last",{size:200})},[fetchLogEntriesBefore]),isReloading=Object(external_kbnSharedDeps_React_.useMemo)(()=>isLogEntriesAroundRequestRunning||null==state.bottomCursor&&null==state.topCursor&&isLogEntriesBeforeRequestRunning,[isLogEntriesAroundRequestRunning,isLogEntriesBeforeRequestRunning,state.bottomCursor,state.topCursor]),isLoadingMore=Object(external_kbnSharedDeps_React_.useMemo)(()=>isLogEntriesBeforeRequestRunning||isLogEntriesAfterRequestRunning,[isLogEntriesAfterRequestRunning,isLogEntriesBeforeRequestRunning]);return{...state,fetchEntries:fetchEntries,fetchNextEntries:fetchNextEntries,fetchPreviousEntries:fetchPreviousEntries,fetchNewestEntries:fetchNewestEntries,isLoadingMore:isLoadingMore,isReloading:isReloading}}const[LogStreamProvider,useLogStreamContext]=constate_cjs_default()(useLogStream)},210:function(module,__webpack_exports__,__webpack_require__){"use strict";let TimeUnit;__webpack_require__.d(__webpack_exports__,"c",(function(){return pickTimeKey})),__webpack_require__.d(__webpack_exports__,"a",(function(){return compareToTimeKey})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getIndexAtTimeKey})),function(TimeUnit){TimeUnit[TimeUnit.Millisecond=1]="Millisecond",TimeUnit[TimeUnit.Second=1e3]="Second",TimeUnit[TimeUnit.Minute=6e4]="Minute",TimeUnit[TimeUnit.Hour=36e5]="Hour",TimeUnit[TimeUnit.Day=864e5]="Day",TimeUnit[TimeUnit.Month=2592e6]="Month",TimeUnit[TimeUnit.Year=31104e6]="Year"}(TimeUnit||(TimeUnit={}));TimeUnit.Millisecond,TimeUnit.Second,TimeUnit.Minute,TimeUnit.Hour,TimeUnit.Day,TimeUnit.Month,TimeUnit.Year,TimeUnit.Second,TimeUnit.Minute,TimeUnit.Hour,TimeUnit.Day,TimeUnit.Month,TimeUnit.Year;var d3_array=__webpack_require__(134),external_kbnSharedDeps_Lodash_=__webpack_require__(24);const pickTimeKey=value=>Object(external_kbnSharedDeps_Lodash_.pick)(value,["time","tiebreaker"]);function compareTimeKeys(firstKey,secondKey,compareValues=d3_array.ascending){const timeComparison=compareValues(firstKey.time,secondKey.time);if(0===timeComparison){const tiebreakerComparison=compareValues(firstKey.tiebreaker,secondKey.tiebreaker);return 0===tiebreakerComparison&&void 0!==firstKey.gid&&void 0!==secondKey.gid?compareValues(firstKey.gid,secondKey.gid):tiebreakerComparison}return timeComparison}const compareToTimeKey=(keyAccessor,compareValues)=>(value,key)=>compareTimeKeys(keyAccessor(value),key,compareValues),getIndexAtTimeKey=(keyAccessor,compareValues)=>{const comparator=compareToTimeKey(keyAccessor,compareValues),collectionBisector=Object(d3_array.bisector)(comparator);return(collection,key)=>{const index=collectionBisector.left(collection,key);return index>=collection.length||0!==comparator(collection[index],key)?null:index}};__webpack_require__(36)},212:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldValue}));var json_stable_stringify=__webpack_require__(493),json_stable_stringify_default=__webpack_require__.n(json_stable_stringify),external_kbnSharedDeps_React_=__webpack_require__(2),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),common_=__webpack_require__(13),external_kbnSharedDeps_Lodash_=__webpack_require__(24),lib=__webpack_require__(111);const asPropReader=reader=>"function"==typeof reader?reader:(props,defaultValue)=>Object(external_kbnSharedDeps_Lodash_.get)(props,reader,defaultValue),switchProp=Object.assign((propName,options)=>props=>{const propValue=asPropReader(propName)(props,switchProp.default);if(void 0!==propValue)return options instanceof Map?options.get(propValue):Object(external_kbnSharedDeps_Lodash_.get)(options,propValue)},{default:Symbol("default")}),tintOrShade=(textColor,color,tintFraction,shadeFraction)=>Object(lib.parseToHsl)(textColor).lightness>.5?Object(lib.shade)(1-shadeFraction,color):Object(lib.tint)(1-tintFraction,color),getContrast=(color1,color2)=>{const luminance1=Object(lib.getLuminance)(color1),luminance2=Object(lib.getLuminance)(color2);return parseFloat((luminance1>luminance2?(luminance1+.05)/(luminance2+.05):(luminance2+.05)/(luminance1+.05)).toFixed(2))},chooseLightOrDarkColor=(backgroundColor,lightColor,darkColor)=>getContrast(backgroundColor,lightColor)>getContrast(backgroundColor,darkColor)?lightColor:darkColor,ActiveHighlightMarker=common_.euiStyled.mark`
  color: ${props=>chooseLightOrDarkColor(props.theme.eui.euiColorAccent,props.theme.eui.euiColorEmptyShade,props.theme.eui.euiColorDarkestShade)};
  background-color: ${props=>props.theme.eui.euiColorAccent};
  outline: 1px solid ${props=>props.theme.eui.euiColorAccent};
  };
`,HighlightMarker=common_.euiStyled.mark`
  color: ${props=>chooseLightOrDarkColor(tintOrShade(props.theme.eui.euiTextColor,props.theme.eui.euiColorAccent,.7,.5),props.theme.eui.euiColorEmptyShade,props.theme.eui.euiColorDarkestShade)};
  background-color: ${props=>tintOrShade(props.theme.eui.euiTextColor,props.theme.eui.euiColorAccent,.7,.5)};
  outline: 1px solid ${props=>tintOrShade(props.theme.eui.euiTextColor,props.theme.eui.euiColorAccent,.7,.5)};
  };
`,highlightFieldValue=(value,highlightTerms,HighlightComponent)=>highlightTerms.reduce((fragments,highlightTerm,index)=>{const lastFragment=fragments[fragments.length-1];if("string"!=typeof lastFragment)return fragments;const highlightTermPosition=lastFragment.indexOf(highlightTerm);return highlightTermPosition>-1?[...fragments.slice(0,fragments.length-1),lastFragment.slice(0,highlightTermPosition),external_kbnSharedDeps_React_default.a.createElement(HighlightComponent,{key:`highlight-${highlightTerm}-${index}`},highlightTerm),lastFragment.slice(highlightTermPosition+highlightTerm.length)]:fragments},[value]),FieldValue=external_kbnSharedDeps_React_default.a.memo(({highlightTerms:highlightTerms,isActiveHighlight:isActiveHighlight,value:value,render:render})=>render?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,render(1===value.length?value[0]:value)):1===value.length?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,highlightFieldValue(formatValue(value[0]),highlightTerms,isActiveHighlight?ActiveHighlightMarker:HighlightMarker)):value.length>1?external_kbnSharedDeps_React_default.a.createElement("ul",{"data-test-subj":"LogEntryFieldValues"},value.map((entry,i)=>external_kbnSharedDeps_React_default.a.createElement(CommaSeparatedLi,{key:"LogEntryFieldValue-"+i,"data-test-subj":"LogEntryFieldValue-"+i},highlightFieldValue(formatValue(entry),highlightTerms,isActiveHighlight?ActiveHighlightMarker:HighlightMarker)))):null),formatValue=value=>"string"==typeof value?value:json_stable_stringify_default()(value),CommaSeparatedLi=common_.euiStyled.li`
  display: inline;
  &:not(:last-child) {
    margin-right: 1ex;
    &::after {
      content: ',';
    }
  }
`},237:function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},266:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return searchStrategyErrorRT}));var io_ts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);const abortedRequestSearchStrategyErrorRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.type({type:io_ts__WEBPACK_IMPORTED_MODULE_0__.literal("aborted")}),genericSearchStrategyErrorRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.type({type:io_ts__WEBPACK_IMPORTED_MODULE_0__.literal("generic"),message:io_ts__WEBPACK_IMPORTED_MODULE_0__.string}),shardFailureSearchStrategyErrorRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.type({type:io_ts__WEBPACK_IMPORTED_MODULE_0__.literal("shardFailure"),shardInfo:io_ts__WEBPACK_IMPORTED_MODULE_0__.type({shard:io_ts__WEBPACK_IMPORTED_MODULE_0__.union([io_ts__WEBPACK_IMPORTED_MODULE_0__.number,io_ts__WEBPACK_IMPORTED_MODULE_0__.null]),index:io_ts__WEBPACK_IMPORTED_MODULE_0__.union([io_ts__WEBPACK_IMPORTED_MODULE_0__.string,io_ts__WEBPACK_IMPORTED_MODULE_0__.null]),node:io_ts__WEBPACK_IMPORTED_MODULE_0__.union([io_ts__WEBPACK_IMPORTED_MODULE_0__.string,io_ts__WEBPACK_IMPORTED_MODULE_0__.null])}),message:io_ts__WEBPACK_IMPORTED_MODULE_0__.union([io_ts__WEBPACK_IMPORTED_MODULE_0__.string,io_ts__WEBPACK_IMPORTED_MODULE_0__.null])}),searchStrategyErrorRT=io_ts__WEBPACK_IMPORTED_MODULE_0__.union([abortedRequestSearchStrategyErrorRT,genericSearchStrategyErrorRT,shardFailureSearchStrategyErrorRT])},267:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return normalizeDataSearchResponses}));var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65),_src_plugins_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34);const normalizeDataSearchResponses=(initialResponse,parseRawResponse)=>response$=>response$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.map)(response=>{var _response$isPartial,_response$isRunning;const{data:data,errors:errors=[]}=parseRawResponse(response.rawResponse);return{data:data,errors:errors,isPartial:null!==(_response$isPartial=response.isPartial)&&void 0!==_response$isPartial&&_response$isPartial,isRunning:null!==(_response$isRunning=response.isRunning)&&void 0!==_response$isRunning&&_response$isRunning,loaded:response.loaded,total:response.total}}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.startWith)({data:initialResponse,errors:[],isPartial:!0,isRunning:!0,loaded:0,total:void 0}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.catchError)(error=>{var _error$message;return Object(rxjs__WEBPACK_IMPORTED_MODULE_0__.of)({data:initialResponse,errors:[error instanceof _src_plugins_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__.AbortError?{type:"aborted"}:{type:"generic",message:""+(null!==(_error$message=error.message)&&void 0!==_error$message?_error$message:error)}],isPartial:!0,isRunning:!1,loaded:0,total:void 0})}))},268:function(module,exports){},269:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useDataSearch}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(65),_hooks_use_kibana__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(16),_use_observable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(113);const useDataSearch=({getRequest:getRequest,parseResponses:parseResponses})=>{const{services:services}=Object(_hooks_use_kibana__WEBPACK_IMPORTED_MODULE_3__.b)(),requests$=Object(_use_observable__WEBPACK_IMPORTED_MODULE_4__.b)(()=>new rxjs__WEBPACK_IMPORTED_MODULE_1__.ReplaySubject(1),[]),search=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((...args)=>{const requestArgs=getRequest(...args);if(null==requestArgs)return;const abortController=new AbortController;let isAbortable=!0;const newRequestDescriptor={...requestArgs,abortController:abortController,response$:services.data.search.search(requestArgs.request,{abortSignal:abortController.signal,...requestArgs.options}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.tap)({error:()=>{isAbortable=!1},complete:()=>{isAbortable=!1}}),Object(_use_observable__WEBPACK_IMPORTED_MODULE_4__.a)(()=>{isAbortable&&abortController.abort()}),parseResponses,Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.share)())};return requests$.next(newRequestDescriptor),newRequestDescriptor},[getRequest,services.data.search,parseResponses,requests$]);return{requests$:requests$,search:search}}},270:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useLatestPartialDataSearchResponse}));var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(65),_use_observable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(113),_flatten_data_search_response__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(195),_use_data_search_response_state__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(196);const useLatestPartialDataSearchResponse=requests$=>{const latestResponse$=Object(_use_observable__WEBPACK_IMPORTED_MODULE_1__.d)(requests$,flattenLatestDataSearchResponse),{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,latestResponseData:latestResponseData,latestResponseErrors:latestResponseErrors,loaded:loaded,total:total}=Object(_use_data_search_response_state__WEBPACK_IMPORTED_MODULE_3__.a)(latestResponse$);return{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,latestResponseData:latestResponseData,latestResponseErrors:latestResponseErrors,loaded:loaded,total:total}},flattenLatestDataSearchResponse=Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.switchMap)(_flatten_data_search_response__WEBPACK_IMPORTED_MODULE_2__.a)},271:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useFormattedTime}));var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50),moment__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_utils_use_kibana_ui_setting__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(114);const useFormattedTime=(time,{format:format="dateTime",fallbackFormat:fallbackFormat}={})=>{const scaledTuples=Object(_utils_use_kibana_ui_setting__WEBPACK_IMPORTED_MODULE_2__.a)("dateFormat:scaled")[0]||[["",void 0]],dateFormat={dateTime:Object(_utils_use_kibana_ui_setting__WEBPACK_IMPORTED_MODULE_2__.a)("dateFormat")[0],time:scaledTuples.find(([key])=>""===key)[1]}[format];return Object(react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>((time,userFormat,fallbackFormat="Y-MM-DD HH:mm:ss.SSS")=>userFormat?moment__WEBPACK_IMPORTED_MODULE_0___default()(time).format(userFormat):moment__WEBPACK_IMPORTED_MODULE_0___default()(time).format(fallbackFormat))(time,dateFormat,fallbackFormat),[time,dateFormat,fallbackFormat])}},272:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return LogColumnHeaders})),__webpack_require__.d(__webpack_exports__,"a",(function(){return LogColumnHeader})),__webpack_require__.d(__webpack_exports__,"c",(function(){return LogColumnHeadersWrapper}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),polished__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(111),_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),_log_entry_column__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(92),_vertical_scroll_panel__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(273),_containers_logs_log_position__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(105),_common_formatters_datetime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(199),_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(197);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const LogColumnHeaders=({columnConfigurations:columnConfigurations,columnWidths:columnWidths})=>{const{firstVisiblePosition:firstVisiblePosition}=Object(react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_containers_logs_log_position__WEBPACK_IMPORTED_MODULE_6__.a.Context);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(LogColumnHeadersWrapper,null,columnConfigurations.map(columnConfiguration=>{if(Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_8__.d)(columnConfiguration)){let columnHeader;return columnHeader=!1===columnConfiguration.timestampColumn.header?null:"string"==typeof columnConfiguration.timestampColumn.header?columnConfiguration.timestampColumn.header:firstVisiblePosition?Object(_common_formatters_datetime__WEBPACK_IMPORTED_MODULE_7__.a)(firstVisiblePosition.time):_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.logs.stream.timestampColumnTitle",{defaultMessage:"Timestamp"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(LogColumnHeader,{key:columnConfiguration.timestampColumn.id,columnWidth:columnWidths[columnConfiguration.timestampColumn.id],"data-test-subj":"logColumnHeader timestampLogColumnHeader"},columnHeader)}if(Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_8__.c)(columnConfiguration)){let columnHeader;return columnHeader=!1===columnConfiguration.messageColumn.header?null:"string"==typeof columnConfiguration.messageColumn.header?columnConfiguration.messageColumn.header:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.infra.logs.stream.messageColumnTitle",{defaultMessage:"Message"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(LogColumnHeader,{columnWidth:columnWidths[columnConfiguration.messageColumn.id],"data-test-subj":"logColumnHeader messageLogColumnHeader",key:columnConfiguration.messageColumn.id},columnHeader)}if(Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_8__.b)(columnConfiguration)){let columnHeader;return columnHeader=!1===columnConfiguration.fieldColumn.header?null:"string"==typeof columnConfiguration.fieldColumn.header?columnConfiguration.fieldColumn.header:columnConfiguration.fieldColumn.field,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(LogColumnHeader,{columnWidth:columnWidths[columnConfiguration.fieldColumn.id],"data-test-subj":"logColumnHeader fieldLogColumnHeader",key:columnConfiguration.fieldColumn.id},columnHeader)}}))},LogColumnHeader=({children:children,columnWidth:columnWidth,"data-test-subj":dataTestSubj})=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(LogColumnHeaderWrapper,_extends({"data-test-subj":dataTestSubj},columnWidth),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(LogColumnHeaderContent,null,children)),LogColumnHeadersWrapper=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__.euiStyled.div.attrs(props=>{var _props$role;return{role:null!==(_props$role=props.role)&&void 0!==_props$role?_props$role:"row"}})`
  align-items: stretch;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  overflow: hidden;
  padding-right: ${_vertical_scroll_panel__WEBPACK_IMPORTED_MODULE_5__.a}px;
  border-bottom: ${props=>props.theme.eui.euiBorderThin};
  box-shadow: 0 2px 2px -1px ${props=>Object(polished__WEBPACK_IMPORTED_MODULE_2__.transparentize)(.3,props.theme.eui.euiColorLightShade)};
  position: relative;
  z-index: 1;
`,LogColumnHeaderWrapper=Object(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__.euiStyled)(_log_entry_column__WEBPACK_IMPORTED_MODULE_4__.a).attrs(props=>{var _props$role2;return{role:null!==(_props$role2=props.role)&&void 0!==_props$role2?_props$role2:"columnheader"}})`
  align-items: center;
  display: flex;
  flex-direction: row;
  height: 32px;
  overflow: hidden;
`,LogColumnHeaderContent=Object(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__.euiStyled)(_log_entry_column__WEBPACK_IMPORTED_MODULE_4__.b)`
  color: ${props=>props.theme.eui.euiTitleColor};
  font-size: ${props=>props.theme.eui.euiFontSizeS};
  font-weight: ${props=>props.theme.eui.euiFontWeightSemiBold};
  line-height: ${props=>props.theme.eui.euiLineHeight};
  text-overflow: clip;
  white-space: pre;
`},273:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ASSUMED_SCROLLBAR_WIDTH})),__webpack_require__.d(__webpack_exports__,"b",(function(){return VerticalScrollPanel}));var d3_array__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(134),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const ASSUMED_SCROLLBAR_WIDTH=20;class VerticalScrollPanel extends react__WEBPACK_IMPORTED_MODULE_2__.PureComponent{constructor(...args){super(...args),_defineProperty(this,"scrollRef",react__WEBPACK_IMPORTED_MODULE_2__.createRef()),_defineProperty(this,"childRefs",new Map),_defineProperty(this,"childDimensions",new Map),_defineProperty(this,"nextScrollEventFromCenterTarget",!1),_defineProperty(this,"handleScroll",Object(lodash__WEBPACK_IMPORTED_MODULE_1__.throttle)(()=>{this.reportVisibleChildren(!this.nextScrollEventFromCenterTarget),this.nextScrollEventFromCenterTarget=!1},250)),_defineProperty(this,"registerChild",(key,element)=>{null===element?this.childRefs.delete(key):this.childRefs.set(key,element)}),_defineProperty(this,"updateChildDimensions",()=>{this.childDimensions=new Map(Object(lodash__WEBPACK_IMPORTED_MODULE_1__.sortBy)(Array.from(this.childRefs.entries()).reduce((accumulatedDimensions,[key,child])=>{const currentOffsetRect=child.getOffsetRect();return null!==currentOffsetRect&&accumulatedDimensions.push([key,currentOffsetRect]),accumulatedDimensions},[]),"1.top"))}),_defineProperty(this,"getVisibleChildren",()=>{if(null===this.scrollRef.current||this.childDimensions.size<=0)return;const{childDimensions:childDimensions,props:{height:scrollViewHeight},scrollRef:{current:{scrollTop:scrollTop}}}=this;return getVisibleChildren(Array.from(childDimensions.entries()),scrollViewHeight,scrollTop)}),_defineProperty(this,"getScrollPosition",()=>{if(null===this.scrollRef.current)return;const{props:{height:scrollViewHeight},scrollRef:{current:{scrollHeight:scrollHeight,scrollTop:scrollTop}}}=this;return{pagesAbove:scrollTop/scrollViewHeight,pagesBelow:(scrollHeight-scrollTop-scrollViewHeight)/scrollViewHeight}}),_defineProperty(this,"reportVisibleChildren",(fromScroll=!1)=>{const{onVisibleChildrenChange:onVisibleChildrenChange}=this.props,visibleChildren=this.getVisibleChildren(),scrollPosition=this.getScrollPosition();visibleChildren&&scrollPosition&&"function"==typeof onVisibleChildrenChange&&onVisibleChildrenChange({bottomChild:visibleChildren.bottomChild,middleChild:visibleChildren.middleChild,topChild:visibleChildren.topChild,fromScroll:fromScroll,...scrollPosition})}),_defineProperty(this,"centerTarget",(target,offset)=>{const{props:{height:scrollViewHeight},childDimensions:childDimensions,scrollRef:scrollRef}=this;if(null===scrollRef.current||!target||childDimensions.size<=0)return!1;const targetDimensions=childDimensions.get(target);if(targetDimensions){const targetOffset=void 0===offset?targetDimensions.height/2:offset;this.nextScrollEventFromCenterTarget=!0;const currentScrollTop=scrollRef.current.scrollTop,newScrollTop=targetDimensions.top+targetOffset-scrollViewHeight/2;return scrollRef.current.scrollTop=newScrollTop,currentScrollTop!==newScrollTop}return!1}),_defineProperty(this,"handleUpdatedChildren",(target,offset)=>{this.updateChildDimensions();let centerTargetWillReportChildren=!1;target&&(centerTargetWillReportChildren=this.centerTarget(target,offset)),centerTargetWillReportChildren||this.reportVisibleChildren()})}componentDidMount(){this.handleUpdatedChildren(this.props.target,void 0)}getSnapshotBeforeUpdate(prevProps){if(0===prevProps.height&&this.props.height>0||prevProps.target!==this.props.target&&this.props.target)return{scrollOffset:void 0,scrollTarget:this.props.target};if(this.props.height>0){const visibleChildren=this.getVisibleChildren();if(visibleChildren)return{scrollOffset:visibleChildren.middleChildOffset,scrollTarget:visibleChildren.middleChild}}return{scrollOffset:void 0,scrollTarget:void 0}}componentDidUpdate(prevProps,prevState,snapshot){prevProps.height===this.props.height&&prevProps.target===this.props.target&&prevProps.entriesCount===this.props.entriesCount||this.handleUpdatedChildren(snapshot.scrollTarget,snapshot.scrollOffset),prevProps.isLocked&&!this.props.isLocked&&this.scrollRef.current&&(this.scrollRef.current.scrollTop=this.scrollRef.current.scrollHeight)}componentWillUnmount(){this.childRefs.clear()}render(){const{children:children,height:height,width:width,hideScrollbar:hideScrollbar,"data-test-subj":dataTestSubj}=this.props,scrollbarOffset=hideScrollbar?ASSUMED_SCROLLBAR_WIDTH:0;return react__WEBPACK_IMPORTED_MODULE_2__.createElement(ScrollPanelWrapper,{"data-test-subj":dataTestSubj,style:{height:height,width:width+scrollbarOffset},scrollbarOffset:scrollbarOffset,onScroll:this.handleScroll,ref:this.scrollRef},"function"==typeof children?children(this.registerChild):null)}}_defineProperty(VerticalScrollPanel,"defaultProps",{hideScrollbar:!1});const ScrollPanelWrapper=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__.euiStyled.div`
  overflow-x: hidden;
  overflow-y: scroll;
  position: relative;
  padding-right: ${props=>props.scrollbarOffset||0}px;

  & * {
    overflow-anchor: none;
  }
`,getVisibleChildren=(childDimensions,scrollViewHeight,scrollTop)=>{const middleChildIndex=Math.min(getChildIndexBefore(childDimensions,scrollTop+scrollViewHeight/2),childDimensions.length-1),topChildIndex=Math.min(getChildIndexBefore(childDimensions,scrollTop,0,middleChildIndex),childDimensions.length-1),bottomChildIndex=Math.min(getChildIndexBefore(childDimensions,scrollTop+scrollViewHeight,middleChildIndex),childDimensions.length-1);return{bottomChild:childDimensions[bottomChildIndex][0],bottomChildOffset:childDimensions[bottomChildIndex][1].top-scrollTop-scrollViewHeight,middleChild:childDimensions[middleChildIndex][0],middleChildOffset:scrollTop+scrollViewHeight/2-childDimensions[middleChildIndex][1].top,topChild:childDimensions[topChildIndex][0],topChildOffset:childDimensions[topChildIndex][1].top-scrollTop}},getChildIndexBefore=Object(d3_array__WEBPACK_IMPORTED_MODULE_0__.bisector)(([key,rect])=>rect.top+rect.height).left},299:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LogStream",(function(){return LogStream})),__webpack_require__.d(__webpack_exports__,"LogStreamContent",(function(){return LogStreamContent}));var external_kbnSharedDeps_React_=__webpack_require__(2),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_Lodash_=__webpack_require__(24),public_=__webpack_require__(63),common_=__webpack_require__(13),kibanaReact_public_=__webpack_require__(3),log_source=__webpack_require__(84),log_stream=__webpack_require__(209),log_text_stream=__webpack_require__(166),external_kbnSharedDeps_ElasticEui_=__webpack_require__(10),external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(14),data_common_=__webpack_require__(73),fast_deep_equal=__webpack_require__(194),fast_deep_equal_default=__webpack_require__.n(fast_deep_equal);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class resettable_error_boundary_ResettableErrorBoundary extends external_kbnSharedDeps_React_default.a.Component{constructor(...args){super(...args),_defineProperty(this,"state",{latestError:void 0}),_defineProperty(this,"resetError",()=>{this.setState(previousState=>({...previousState,latestError:void 0}))})}componentDidUpdate({resetOnChange:prevResetOnChange}){const{resetOnChange:resetOnChange}=this.props,{latestError:latestError}=this.state;null==latestError||fast_deep_equal_default()(resetOnChange,prevResetOnChange)||this.resetError()}static getDerivedStateFromError(error){return{latestError:error}}render(){const{children:children,renderError:renderError}=this.props,{latestError:latestError}=this.state;return null!=latestError?renderError({latestError:latestError,resetError:this.resetError}):children}}const LogStreamErrorBoundary=({children:children,resetOnChange:resetOnChange=null})=>external_kbnSharedDeps_React_default.a.createElement(resettable_error_boundary_ResettableErrorBoundary,{renderError:renderLogStreamErrorContent,resetOnChange:resetOnChange},children),LogStreamErrorContent=({error:error})=>error instanceof data_common_.KQLSyntaxError?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logStream.kqlErrorTitle",defaultMessage:"Invalid KQL expression",tagName:"h2"}),body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{className:"eui-textLeft"},error.message)}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.infra.logStream.unknownErrorTitle",defaultMessage:"An error occurred",tagName:"h2"}),body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{className:"eui-textLeft"},error.message)}),renderLogStreamErrorContent=({latestError:latestError})=>external_kbnSharedDeps_React_default.a.createElement(LogStreamErrorContent,{error:latestError}),LogStream=({height:height=400,...contentProps})=>external_kbnSharedDeps_React_default.a.createElement(LogStreamContainer,{style:{height:height}},external_kbnSharedDeps_React_default.a.createElement(LogStreamErrorBoundary,{resetOnChange:[contentProps.query]},external_kbnSharedDeps_React_default.a.createElement(LogStreamContent,contentProps))),LogStreamContent=({sourceId:sourceId="default",startTimestamp:startTimestamp,endTimestamp:endTimestamp,query:query,filters:filters,center:center,highlight:highlight,columns:columns})=>{var _services$http,_services$data;const customColumns=Object(external_kbnSharedDeps_React_.useMemo)(()=>columns?function(columns){return columns.map(column=>{switch(column.type){case"timestamp":{const{width:width,header:header,render:render}=column;return{timestampColumn:{id:"___#timestamp",width:width,header:header,render:render}}}case"message":{const{width:width,header:header,render:render}=column;return{messageColumn:{id:"___#message",width:width,header:header,render:render}}}case"field":{const{width:width,header:header,render:render}=column;return{fieldColumn:{id:"___#"+column.field,field:column.field,width:width,header:header,render:render}}}}})}(columns):void 0,[columns]),{services:services}=Object(kibanaReact_public_.useKibana)();if(null==services||null===(_services$http=services.http)||void 0===_services$http||!_services$http.fetch||null==services||null===(_services$data=services.data)||void 0===_services$data||!_services$data.indexPatterns)throw new Error("<LogStream /> cannot access kibana core services.\n\nEnsure the component is mounted within kibana-react's <KibanaContextProvider> hierarchy.\nRead more at https://github.com/elastic/kibana/blob/master/src/plugins/kibana_react/README.md\"\n");const{derivedIndexPattern:derivedIndexPattern,isLoadingSourceConfiguration:isLoadingSourceConfiguration,loadSource:loadSource,sourceConfiguration:sourceConfiguration}=Object(log_source.b)({sourceId:sourceId,fetch:services.http.fetch,indexPatternsService:services.data.indexPatterns}),parsedQuery=Object(external_kbnSharedDeps_React_.useMemo)(()=>"object"==typeof query&&"bool"in query?mergeBoolQueries(query,public_.esQuery.buildEsQuery(derivedIndexPattern,[],null!=filters?filters:[])):public_.esQuery.buildEsQuery(derivedIndexPattern,coerceToQueries(query),null!=filters?filters:[]),[derivedIndexPattern,filters,query]),{entries:entries,fetchEntries:fetchEntries,fetchNextEntries:fetchNextEntries,fetchPreviousEntries:fetchPreviousEntries,hasMoreAfter:hasMoreAfter,hasMoreBefore:hasMoreBefore,isLoadingMore:isLoadingMore,isReloading:isReloading}=Object(log_stream.b)({sourceId:sourceId,startTimestamp:startTimestamp,endTimestamp:endTimestamp,query:parsedQuery,center:center,columns:customColumns}),columnConfigurations=Object(external_kbnSharedDeps_React_.useMemo)(()=>sourceConfiguration?null!=customColumns?customColumns:sourceConfiguration.configuration.logColumns:[],[sourceConfiguration,customColumns]),streamItems=Object(external_kbnSharedDeps_React_.useMemo)(()=>entries.map(entry=>({kind:"logEntry",logEntry:entry,highlights:[]})),[entries]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{loadSource()},[loadSource]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{fetchEntries()},[fetchEntries]);const handlePagination=Object(external_kbnSharedDeps_React_.useCallback)(({fromScroll:fromScroll,pagesBeforeStart:pagesBeforeStart,pagesAfterEnd:pagesAfterEnd})=>{fromScroll&&(isLoadingMore||(pagesBeforeStart<2?fetchPreviousEntries():pagesAfterEnd<2&&fetchNextEntries()))},[isLoadingMore,fetchPreviousEntries,fetchNextEntries]);return external_kbnSharedDeps_React_default.a.createElement(log_text_stream.g,{target:center||(entries.length?entries[entries.length-1].cursor:null),columnConfigurations:columnConfigurations,items:streamItems,scale:"medium",wrap:!0,isReloading:isLoadingSourceConfiguration||isReloading,isLoadingMore:isLoadingMore,hasMoreBeforeStart:hasMoreBefore,hasMoreAfterEnd:hasMoreAfter,isStreaming:!1,jumpToTarget:external_kbnSharedDeps_Lodash_.noop,reportVisibleInterval:handlePagination,reloadItems:fetchEntries,highlightedItem:null!=highlight?highlight:null,currentHighlightKey:null,startDateExpression:"",endDateExpression:"",updateDateRange:external_kbnSharedDeps_Lodash_.noop,startLiveStreaming:external_kbnSharedDeps_Lodash_.noop,hideScrollbar:!1})},LogStreamContainer=common_.euiStyled.div`
  display: flex;
  background-color: ${props=>props.theme.eui.euiColorEmptyShade};
`;const mergeBoolQueries=(firstQuery,secondQuery)=>({bool:{must:[...firstQuery.bool.must,...secondQuery.bool.must],filter:[...firstQuery.bool.filter,...secondQuery.bool.filter],should:[...firstQuery.bool.should,...secondQuery.bool.should],must_not:[...firstQuery.bool.must_not,...secondQuery.bool.must_not]}}),coerceToQueries=value=>null==value?[]:"string"==typeof value?[{language:"kuery",query:value}]:"language"in value&&"query"in value?[value]:[];__webpack_exports__.default=LogStream},493:function(module,exports,__webpack_require__){var json="undefined"!=typeof JSON?JSON:__webpack_require__(494);module.exports=function(obj,opts){opts||(opts={}),"function"==typeof opts&&(opts={cmp:opts});var space=opts.space||"";"number"==typeof space&&(space=Array(space+1).join(" "));var f,cycles="boolean"==typeof opts.cycles&&opts.cycles,replacer=opts.replacer||function(key,value){return value},cmp=opts.cmp&&(f=opts.cmp,function(node){return function(a,b){var aobj={key:a,value:node[a]},bobj={key:b,value:node[b]};return f(aobj,bobj)}}),seen=[];return function stringify(parent,key,node,level){var indent=space?"\n"+new Array(level+1).join(space):"",colonSeparator=space?": ":":";if(node&&node.toJSON&&"function"==typeof node.toJSON&&(node=node.toJSON()),void 0!==(node=replacer.call(parent,key,node))){if("object"!=typeof node||null===node)return json.stringify(node);if(isArray(node)){for(var out=[],i=0;i<node.length;i++){var item=stringify(node,i,node[i],level+1)||json.stringify(null);out.push(indent+space+item)}return"["+out.join(",")+indent+"]"}if(-1!==seen.indexOf(node)){if(cycles)return json.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}seen.push(node);var keys=objectKeys(node).sort(cmp&&cmp(node));for(out=[],i=0;i<keys.length;i++){var value=stringify(node,key=keys[i],node[key],level+1);if(value){var keyValue=json.stringify(key)+colonSeparator+value;out.push(indent+space+keyValue)}}return seen.splice(seen.indexOf(node),1),"{"+out.join(",")+indent+"}"}}({"":obj},"",obj,0)};var isArray=Array.isArray||function(x){return"[object Array]"==={}.toString.call(x)},objectKeys=Object.keys||function(obj){var has=Object.prototype.hasOwnProperty||function(){return!0},keys=[];for(var key in obj)has.call(obj,key)&&keys.push(key);return keys}},494:function(module,exports,__webpack_require__){exports.parse=__webpack_require__(495),exports.stringify=__webpack_require__(496)},495:function(module,exports){var at,ch,text,value,escapee={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected '"+c+"' instead of '"+ch+"'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&ch<="9";)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&ch<="9";)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),"-"!==ch&&"+"!==ch||(string+=ch,next());ch>="0"&&ch<="9";)string+=ch,next();if(number=+string,isFinite(number))return number;error("Bad number")},string=function(){var hex,i,uffff,string="";if('"'===ch)for(;next();){if('"'===ch)return next(),string;if("\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;i<4&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&ch<=" ";)next()};value=function(){switch(white(),ch){case"{":return function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error('Duplicate key "'+key+'"'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")}();case"[":return function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")}();case'"':return string();case"-":return number();default:return ch>="0"&&ch<="9"?number():function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected '"+ch+"'")}()}},module.exports=function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(void 0!==(v=walk(value,k))?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}},496:function(module,exports){var gap,indent,rep,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,(function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+string+'"'}module.exports=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;i<space;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;i<length;i+=1)"string"==typeof(k=rep[i])&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}("",{"":value})}},497:function(module,exports,__webpack_require__){(function(global){var factory;factory=function(){"use strict";var MapShim=function(){if("undefined"!=typeof Map)return Map;function getIndex(arr,key){var result=-1;return arr.some((function(entry,index){return entry[0]===key&&(result=index,!0)})),result}return function(){function class_1(){this.__entries__=[]}return Object.defineProperty(class_1.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),class_1.prototype.get=function(key){var index=getIndex(this.__entries__,key),entry=this.__entries__[index];return entry&&entry[1]},class_1.prototype.set=function(key,value){var index=getIndex(this.__entries__,key);~index?this.__entries__[index][1]=value:this.__entries__.push([key,value])},class_1.prototype.delete=function(key){var entries=this.__entries__,index=getIndex(entries,key);~index&&entries.splice(index,1)},class_1.prototype.has=function(key){return!!~getIndex(this.__entries__,key)},class_1.prototype.clear=function(){this.__entries__.splice(0)},class_1.prototype.forEach=function(callback,ctx){void 0===ctx&&(ctx=null);for(var _i=0,_a=this.__entries__;_i<_a.length;_i++){var entry=_a[_i];callback.call(ctx,entry[1],entry[0])}},class_1}()}(),isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,global$1=void 0!==global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),requestAnimationFrame$1="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(global$1):function(callback){return setTimeout((function(){return callback(Date.now())}),1e3/60)},transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported="undefined"!=typeof MutationObserver,ResizeObserverController=function(){function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(callback,delay){var leadingCall=!1,trailingCall=!1,lastCallTime=0;function resolvePending(){leadingCall&&(leadingCall=!1,callback()),trailingCall&&proxy()}function timeoutCallback(){requestAnimationFrame$1(resolvePending)}function proxy(){var timeStamp=Date.now();if(leadingCall){if(timeStamp-lastCallTime<2)return;trailingCall=!0}else leadingCall=!0,trailingCall=!1,setTimeout(timeoutCallback,delay);lastCallTime=timeStamp}return proxy}(this.refresh.bind(this),20)}return ResizeObserverController.prototype.addObserver=function(observer){~this.observers_.indexOf(observer)||this.observers_.push(observer),this.connected_||this.connect_()},ResizeObserverController.prototype.removeObserver=function(observer){var observers=this.observers_,index=observers.indexOf(observer);~index&&observers.splice(index,1),!observers.length&&this.connected_&&this.disconnect_()},ResizeObserverController.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ResizeObserverController.prototype.updateObservers_=function(){var activeObservers=this.observers_.filter((function(observer){return observer.gatherActive(),observer.hasActive()}));return activeObservers.forEach((function(observer){return observer.broadcastActive()})),activeObservers.length>0},ResizeObserverController.prototype.connect_=function(){isBrowser&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ResizeObserverController.prototype.disconnect_=function(){isBrowser&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ResizeObserverController.prototype.onTransitionEnd_=function(_a){var _b=_a.propertyName,propertyName=void 0===_b?"":_b;transitionKeys.some((function(key){return!!~propertyName.indexOf(key)}))&&this.refresh()},ResizeObserverController.getInstance=function(){return this.instance_||(this.instance_=new ResizeObserverController),this.instance_},ResizeObserverController.instance_=null,ResizeObserverController}(),defineConfigurable=function(target,props){for(var _i=0,_a=Object.keys(props);_i<_a.length;_i++){var key=_a[_i];Object.defineProperty(target,key,{value:props[key],enumerable:!1,writable:!1,configurable:!0})}return target},getWindowOf=function(target){return target&&target.ownerDocument&&target.ownerDocument.defaultView||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(value){return parseFloat(value)||0}function getBordersSize(styles){for(var positions=[],_i=1;_i<arguments.length;_i++)positions[_i-1]=arguments[_i];return positions.reduce((function(size,position){return size+toFloat(styles["border-"+position+"-width"])}),0)}function getHTMLElementContentRect(target){var clientWidth=target.clientWidth,clientHeight=target.clientHeight;if(!clientWidth&&!clientHeight)return emptyRect;var styles=getWindowOf(target).getComputedStyle(target),paddings=function(styles){for(var paddings={},_i=0,positions_1=["top","right","bottom","left"];_i<positions_1.length;_i++){var position=positions_1[_i],value=styles["padding-"+position];paddings[position]=toFloat(value)}return paddings}(styles),horizPad=paddings.left+paddings.right,vertPad=paddings.top+paddings.bottom,width=toFloat(styles.width),height=toFloat(styles.height);if("border-box"===styles.boxSizing&&(Math.round(width+horizPad)!==clientWidth&&(width-=getBordersSize(styles,"left","right")+horizPad),Math.round(height+vertPad)!==clientHeight&&(height-=getBordersSize(styles,"top","bottom")+vertPad)),!function(target){return target===getWindowOf(target).document.documentElement}(target)){var vertScrollbar=Math.round(width+horizPad)-clientWidth,horizScrollbar=Math.round(height+vertPad)-clientHeight;1!==Math.abs(vertScrollbar)&&(width-=vertScrollbar),1!==Math.abs(horizScrollbar)&&(height-=horizScrollbar)}return createRectInit(paddings.left,paddings.top,width,height)}var isSVGGraphicsElement="undefined"!=typeof SVGGraphicsElement?function(target){return target instanceof getWindowOf(target).SVGGraphicsElement}:function(target){return target instanceof getWindowOf(target).SVGElement&&"function"==typeof target.getBBox};function getContentRect(target){return isBrowser?isSVGGraphicsElement(target)?function(target){var bbox=target.getBBox();return createRectInit(0,0,bbox.width,bbox.height)}(target):getHTMLElementContentRect(target):emptyRect}function createRectInit(x,y,width,height){return{x:x,y:y,width:width,height:height}}var ResizeObservation=function(){function ResizeObservation(target){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=target}return ResizeObservation.prototype.isActive=function(){var rect=getContentRect(this.target);return this.contentRect_=rect,rect.width!==this.broadcastWidth||rect.height!==this.broadcastHeight},ResizeObservation.prototype.broadcastRect=function(){var rect=this.contentRect_;return this.broadcastWidth=rect.width,this.broadcastHeight=rect.height,rect},ResizeObservation}(),ResizeObserverEntry=function(target,rectInit){var _a,x,y,width,height,Constr,rect,contentRect=(x=(_a=rectInit).x,y=_a.y,width=_a.width,height=_a.height,Constr="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,rect=Object.create(Constr.prototype),defineConfigurable(rect,{x:x,y:y,width:width,height:height,top:y,right:x+width,bottom:height+y,left:x}),rect);defineConfigurable(this,{target:target,contentRect:contentRect})},ResizeObserverSPI=function(){function ResizeObserverSPI(callback,controller,callbackCtx){if(this.activeObservations_=[],this.observations_=new MapShim,"function"!=typeof callback)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=callback,this.controller_=controller,this.callbackCtx_=callbackCtx}return ResizeObserverSPI.prototype.observe=function(target){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(target instanceof getWindowOf(target).Element))throw new TypeError('parameter 1 is not of type "Element".');var observations=this.observations_;observations.has(target)||(observations.set(target,new ResizeObservation(target)),this.controller_.addObserver(this),this.controller_.refresh())}},ResizeObserverSPI.prototype.unobserve=function(target){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(target instanceof getWindowOf(target).Element))throw new TypeError('parameter 1 is not of type "Element".');var observations=this.observations_;observations.has(target)&&(observations.delete(target),observations.size||this.controller_.removeObserver(this))}},ResizeObserverSPI.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ResizeObserverSPI.prototype.gatherActive=function(){var _this=this;this.clearActive(),this.observations_.forEach((function(observation){observation.isActive()&&_this.activeObservations_.push(observation)}))},ResizeObserverSPI.prototype.broadcastActive=function(){if(this.hasActive()){var ctx=this.callbackCtx_,entries=this.activeObservations_.map((function(observation){return new ResizeObserverEntry(observation.target,observation.broadcastRect())}));this.callback_.call(ctx,entries,ctx),this.clearActive()}},ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)},ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0},ResizeObserverSPI}(),observers="undefined"!=typeof WeakMap?new WeakMap:new MapShim,ResizeObserver=function ResizeObserver(callback){if(!(this instanceof ResizeObserver))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var controller=ResizeObserverController.getInstance(),observer=new ResizeObserverSPI(callback,controller,this);observers.set(this,observer)};return["observe","unobserve","disconnect"].forEach((function(method){ResizeObserver.prototype[method]=function(){var _a;return(_a=observers.get(this))[method].apply(_a,arguments)}})),void 0!==global$1.ResizeObserver?global$1.ResizeObserver:ResizeObserver},module.exports=factory()}).call(this,__webpack_require__(237))},84:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return useLogSource})),__webpack_require__.d(__webpack_exports__,"a",(function(){return LogSourceProvider})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useLogSourceContext}));var constate_cjs=__webpack_require__(78),constate_cjs_default=__webpack_require__.n(constate_cjs),external_kbnSharedDeps_React_=__webpack_require__(2),log_sources=__webpack_require__(11),common_log_sources=__webpack_require__(5),use_tracked_promise=__webpack_require__(79),fetch_log_source_configuration=__webpack_require__(38),fetch_log_source_status=__webpack_require__(39),runtime_types=__webpack_require__(15);const useLogSource=({sourceId:sourceId,fetch:fetch,indexPatternsService:indexPatternsService})=>{const[sourceConfiguration,setSourceConfiguration]=Object(external_kbnSharedDeps_React_.useState)(void 0),[resolvedSourceConfiguration,setResolvedSourceConfiguration]=Object(external_kbnSharedDeps_React_.useState)(void 0),[sourceStatus,setSourceStatus]=Object(external_kbnSharedDeps_React_.useState)(void 0),[loadSourceConfigurationRequest,loadSourceConfiguration]=Object(use_tracked_promise.c)({cancelPreviousOn:"resolution",createPromise:async()=>(await Object(fetch_log_source_configuration.a)(sourceId,fetch)).data,onResolve:setSourceConfiguration},[sourceId,fetch,indexPatternsService]),[resolveSourceConfigurationRequest,resolveSourceConfiguration]=Object(use_tracked_promise.c)({cancelPreviousOn:"resolution",createPromise:async unresolvedSourceConfiguration=>await Object(common_log_sources.h)(unresolvedSourceConfiguration,indexPatternsService),onResolve:setResolvedSourceConfiguration},[indexPatternsService]),[updateSourceConfigurationRequest,updateSourceConfiguration]=Object(use_tracked_promise.c)({cancelPreviousOn:"resolution",createPromise:async patchedProperties=>(await(async(sourceId,patchedProperties,fetch)=>{const response=await fetch(Object(log_sources.a)(sourceId),{method:"PATCH",body:JSON.stringify(log_sources.e.encode({data:patchedProperties}))}).catch(error=>{throw new common_log_sources.c(`Failed to update log source configuration "${sourceId}": ${error}`,error)});return Object(runtime_types.b)(log_sources.f,message=>new common_log_sources.c(`Failed to decode log source configuration "${sourceId}": ${message}`))(response)})(sourceId,patchedProperties,fetch)).data,onResolve:setSourceConfiguration},[sourceId,fetch,indexPatternsService]),[loadSourceStatusRequest,loadSourceStatus]=Object(use_tracked_promise.c)({cancelPreviousOn:"resolution",createPromise:async()=>await Object(fetch_log_source_status.a)(sourceId,fetch),onResolve:({data:data})=>setSourceStatus(data)},[sourceId,fetch]),derivedIndexPattern=Object(external_kbnSharedDeps_React_.useMemo)(()=>{var _resolvedSourceConfig,_resolvedSourceConfig2;return{fields:null!==(_resolvedSourceConfig=null==resolvedSourceConfiguration?void 0:resolvedSourceConfiguration.fields)&&void 0!==_resolvedSourceConfig?_resolvedSourceConfig:[],title:null!==(_resolvedSourceConfig2=null==resolvedSourceConfiguration?void 0:resolvedSourceConfiguration.indices)&&void 0!==_resolvedSourceConfig2?_resolvedSourceConfig2:"unknown"}},[resolvedSourceConfiguration]),isLoadingSourceConfiguration="pending"===loadSourceConfigurationRequest.state,isResolvingSourceConfiguration="pending"===resolveSourceConfigurationRequest.state,isLoadingSourceStatus="pending"===loadSourceStatusRequest.state,isUpdatingSourceConfiguration="pending"===updateSourceConfigurationRequest.state,isLoading=isLoadingSourceConfiguration||isResolvingSourceConfiguration||isLoadingSourceStatus||isUpdatingSourceConfiguration,isUninitialized="uninitialized"===loadSourceConfigurationRequest.state||"uninitialized"===resolveSourceConfigurationRequest.state||"uninitialized"===loadSourceStatusRequest.state,hasFailedLoadingSource="rejected"===loadSourceConfigurationRequest.state,hasFailedResolvingSource="rejected"===resolveSourceConfigurationRequest.state,hasFailedLoadingSourceStatus="rejected"===loadSourceStatusRequest.state,latestLoadSourceFailures=[loadSourceConfigurationRequest,resolveSourceConfigurationRequest,loadSourceStatusRequest].filter(use_tracked_promise.b).map(({value:value})=>value instanceof Error?value:new Error(""+value)),hasFailedLoading=latestLoadSourceFailures.length>0,loadSource=Object(external_kbnSharedDeps_React_.useCallback)(async()=>{const loadSourceConfigurationPromise=loadSourceConfiguration(),loadSourceStatusPromise=loadSourceStatus(),resolveSourceConfigurationPromise=resolveSourceConfiguration((await loadSourceConfigurationPromise).configuration);return await Promise.all([loadSourceConfigurationPromise,resolveSourceConfigurationPromise,loadSourceStatusPromise])},[loadSourceConfiguration,loadSourceStatus,resolveSourceConfiguration]),updateSource=Object(external_kbnSharedDeps_React_.useCallback)(async patchedProperties=>{const updatedSourceConfiguration=await updateSourceConfiguration(patchedProperties),resolveSourceConfigurationPromise=resolveSourceConfiguration(updatedSourceConfiguration.configuration),loadSourceStatusPromise=loadSourceStatus();return await Promise.all([updatedSourceConfiguration,resolveSourceConfigurationPromise,loadSourceStatusPromise])},[loadSourceStatus,resolveSourceConfiguration,updateSourceConfiguration]),initialize=Object(external_kbnSharedDeps_React_.useCallback)(async()=>{if(isUninitialized)return await loadSource()},[isUninitialized,loadSource]);return{sourceId:sourceId,initialize:initialize,isUninitialized:isUninitialized,derivedIndexPattern:derivedIndexPattern,hasFailedLoading:hasFailedLoading,hasFailedLoadingSource:hasFailedLoadingSource,hasFailedLoadingSourceStatus:hasFailedLoadingSourceStatus,hasFailedResolvingSource:hasFailedResolvingSource,latestLoadSourceFailures:latestLoadSourceFailures,isLoading:isLoading,isLoadingSourceConfiguration:isLoadingSourceConfiguration,isLoadingSourceStatus:isLoadingSourceStatus,isResolvingSourceConfiguration:isResolvingSourceConfiguration,sourceStatus:sourceStatus,loadSourceStatus:loadSourceStatus,loadSource:loadSource,sourceConfiguration:sourceConfiguration,updateSource:updateSource,resolvedSourceConfiguration:resolvedSourceConfiguration}},[LogSourceProvider,useLogSourceContext]=constate_cjs_default()(useLogSource)},92:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LogEntryColumn})),__webpack_require__.d(__webpack_exports__,"b",(function(){return LogEntryColumnContent})),__webpack_require__.d(__webpack_exports__,"c",(function(){return iconColumnId})),__webpack_require__.d(__webpack_exports__,"d",(function(){return useColumnWidths}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13),_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(197),_formatted_time__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(271),_text_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(156);const LogEntryColumn=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__.euiStyled.div.attrs(()=>({role:"cell"}))`
  align-items: stretch;
  display: flex;
  flex-basis: ${props=>props.baseWidth||"0%"};
  flex-direction: row;
  flex-grow: ${props=>props.growWeight||0};
  flex-shrink: ${props=>props.shrinkWeight||0};
  overflow: hidden;
`,LogEntryColumnContent=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__.euiStyled.div.attrs({"data-test-subj":"LogEntryColumnContent"})`
  flex: 1 0 0%;
  padding: 2px ${8}px;
`,iconColumnId=Symbol("iconColumnId"),useColumnWidths=({columnConfigurations:columnConfigurations,scale:scale,timeFormat:timeFormat="time"})=>{const{CharacterDimensionsProbe:CharacterDimensionsProbe,dimensions:dimensions}=Object(_text_styles__WEBPACK_IMPORTED_MODULE_4__.g)(scale),referenceTime=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>Date.now(),[]),formattedCurrentDate=Object(_formatted_time__WEBPACK_IMPORTED_MODULE_3__.a)(referenceTime,{format:timeFormat}),columnWidths=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{return columns=columnConfigurations,characterWidth=dimensions.width,formattedDateWidth=formattedCurrentDate.length,columns.reduce((columnWidths,column)=>{if(Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_2__.d)(column)){const customWidth=column.timestampColumn.width?Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_2__.a)(column.timestampColumn.width):void 0;return{...columnWidths,[column.timestampColumn.id]:{growWeight:0,shrinkWeight:0,baseWidth:null!=customWidth?customWidth:Math.ceil(characterWidth*formattedDateWidth*1.1)+16+"px"}}}if(Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_2__.c)(column)){const customWidth=column.messageColumn.width?Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_2__.a)(column.messageColumn.width):void 0;return{...columnWidths,[column.messageColumn.id]:{growWeight:5,shrinkWeight:0,baseWidth:null!=customWidth?customWidth:"0%"}}}{const customWidth=column.fieldColumn.width?Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_2__.a)(column.fieldColumn.width):void 0;return{...columnWidths,[column.fieldColumn.id]:{growWeight:customWidth?0:1,shrinkWeight:0,baseWidth:null!=customWidth?customWidth:Math.ceil(10*characterWidth)+16+"px"}}}},{[iconColumnId]:{growWeight:0,shrinkWeight:0,baseWidth:"48px"}});var columns,characterWidth,formattedDateWidth},[columnConfigurations,dimensions.width,formattedCurrentDate]);return Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({columnWidths:columnWidths,CharacterDimensionsProbe:CharacterDimensionsProbe}),[columnWidths,CharacterDimensionsProbe])}}}]);