/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.indexManagement_bundle_jsonpfunction=window.indexManagement_bundle_jsonpfunction||[]).push([[1],Array(35).concat([function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _combineActions=_interopRequireDefault(__webpack_require__(152));exports.combineActions=_combineActions.default;var _createAction=_interopRequireDefault(__webpack_require__(58));exports.createAction=_createAction.default;var _createActions=_interopRequireDefault(__webpack_require__(155));exports.createActions=_createActions.default;var _createCurriedAction=_interopRequireDefault(__webpack_require__(164));exports.createCurriedAction=_createCurriedAction.default;var _handleAction=_interopRequireDefault(__webpack_require__(94));exports.handleAction=_handleAction.default;var _handleActions=_interopRequireDefault(__webpack_require__(167));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.handleActions=_handleActions.default},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return API_BASE_PATH})),__webpack_require__.d(__webpack_exports__,"k",(function(){return INVALID_INDEX_PATTERN_CHARS})),__webpack_require__.d(__webpack_exports__,"l",(function(){return INVALID_TEMPLATE_NAME_CHARS})),__webpack_require__.d(__webpack_exports__,"c",(function(){return INDEX_CLOSED})),__webpack_require__.d(__webpack_exports__,"h",(function(){return INDEX_OPEN})),__webpack_require__.d(__webpack_exports__,"d",(function(){return INDEX_CLOSING})),__webpack_require__.d(__webpack_exports__,"i",(function(){return INDEX_OPENING})),__webpack_require__.d(__webpack_exports__,"j",(function(){return INDEX_REFRESHING})),__webpack_require__.d(__webpack_exports__,"e",(function(){return INDEX_FLUSHING})),__webpack_require__.d(__webpack_exports__,"f",(function(){return INDEX_FORCEMERGING})),__webpack_require__.d(__webpack_exports__,"g",(function(){return INDEX_MERGING})),__webpack_require__.d(__webpack_exports__,"b",(function(){return INDEX_CLEARING_CACHE})),__webpack_require__.d(__webpack_exports__,"n",(function(){return UIM_APP_NAME})),__webpack_require__.d(__webpack_exports__,"m",(function(){return UIM_APP_LOAD})),__webpack_require__.d(__webpack_exports__,"Z",(function(){return UIM_UPDATE_SETTINGS})),__webpack_require__.d(__webpack_exports__,"t",(function(){return UIM_INDEX_CLEAR_CACHE})),__webpack_require__.d(__webpack_exports__,"u",(function(){return UIM_INDEX_CLEAR_CACHE_MANY})),__webpack_require__.d(__webpack_exports__,"v",(function(){return UIM_INDEX_CLOSE})),__webpack_require__.d(__webpack_exports__,"w",(function(){return UIM_INDEX_CLOSE_MANY})),__webpack_require__.d(__webpack_exports__,"x",(function(){return UIM_INDEX_DELETE})),__webpack_require__.d(__webpack_exports__,"y",(function(){return UIM_INDEX_DELETE_MANY})),__webpack_require__.d(__webpack_exports__,"z",(function(){return UIM_INDEX_FLUSH})),__webpack_require__.d(__webpack_exports__,"A",(function(){return UIM_INDEX_FLUSH_MANY})),__webpack_require__.d(__webpack_exports__,"B",(function(){return UIM_INDEX_FORCE_MERGE})),__webpack_require__.d(__webpack_exports__,"C",(function(){return UIM_INDEX_FORCE_MERGE_MANY})),__webpack_require__.d(__webpack_exports__,"D",(function(){return UIM_INDEX_FREEZE})),__webpack_require__.d(__webpack_exports__,"E",(function(){return UIM_INDEX_FREEZE_MANY})),__webpack_require__.d(__webpack_exports__,"F",(function(){return UIM_INDEX_OPEN})),__webpack_require__.d(__webpack_exports__,"G",(function(){return UIM_INDEX_OPEN_MANY})),__webpack_require__.d(__webpack_exports__,"H",(function(){return UIM_INDEX_REFRESH})),__webpack_require__.d(__webpack_exports__,"I",(function(){return UIM_INDEX_REFRESH_MANY})),__webpack_require__.d(__webpack_exports__,"J",(function(){return UIM_INDEX_UNFREEZE})),__webpack_require__.d(__webpack_exports__,"K",(function(){return UIM_INDEX_UNFREEZE_MANY})),__webpack_require__.d(__webpack_exports__,"L",(function(){return UIM_SHOW_DETAILS_CLICK})),__webpack_require__.d(__webpack_exports__,"s",(function(){return UIM_DETAIL_PANEL_SUMMARY_TAB})),__webpack_require__.d(__webpack_exports__,"q",(function(){return UIM_DETAIL_PANEL_SETTINGS_TAB})),__webpack_require__.d(__webpack_exports__,"p",(function(){return UIM_DETAIL_PANEL_MAPPING_TAB})),__webpack_require__.d(__webpack_exports__,"r",(function(){return UIM_DETAIL_PANEL_STATS_TAB})),__webpack_require__.d(__webpack_exports__,"o",(function(){return UIM_DETAIL_PANEL_EDIT_SETTINGS_TAB})),__webpack_require__.d(__webpack_exports__,"V",(function(){return UIM_TEMPLATE_LIST_LOAD})),__webpack_require__.d(__webpack_exports__,"O",(function(){return UIM_TEMPLATE_DELETE})),__webpack_require__.d(__webpack_exports__,"P",(function(){return UIM_TEMPLATE_DELETE_MANY})),__webpack_require__.d(__webpack_exports__,"W",(function(){return UIM_TEMPLATE_SHOW_DETAILS_CLICK})),__webpack_require__.d(__webpack_exports__,"U",(function(){return UIM_TEMPLATE_DETAIL_PANEL_SUMMARY_TAB})),__webpack_require__.d(__webpack_exports__,"T",(function(){return UIM_TEMPLATE_DETAIL_PANEL_SETTINGS_TAB})),__webpack_require__.d(__webpack_exports__,"R",(function(){return UIM_TEMPLATE_DETAIL_PANEL_MAPPINGS_TAB})),__webpack_require__.d(__webpack_exports__,"Q",(function(){return UIM_TEMPLATE_DETAIL_PANEL_ALIASES_TAB})),__webpack_require__.d(__webpack_exports__,"S",(function(){return UIM_TEMPLATE_DETAIL_PANEL_PREVIEW_TAB})),__webpack_require__.d(__webpack_exports__,"N",(function(){return UIM_TEMPLATE_CREATE})),__webpack_require__.d(__webpack_exports__,"Y",(function(){return UIM_TEMPLATE_UPDATE})),__webpack_require__.d(__webpack_exports__,"M",(function(){return UIM_TEMPLATE_CLONE})),__webpack_require__.d(__webpack_exports__,"X",(function(){return UIM_TEMPLATE_SIMULATE}));const API_BASE_PATH="/api/index_management",INVALID_INDEX_PATTERN_CHARS=["\\","/","?",'"',"<",">","|"],INVALID_TEMPLATE_NAME_CHARS=['"',"*","\\",",","?"],INDEX_CLOSED="close",INDEX_OPEN="open",INDEX_CLOSING="closing",INDEX_OPENING="opening",INDEX_REFRESHING="refreshing",INDEX_FLUSHING="flushing",INDEX_FORCEMERGING="forcemerging",INDEX_MERGING="merging",INDEX_CLEARING_CACHE="clearing cache",UIM_APP_NAME="index_management",UIM_APP_LOAD="app_load",UIM_UPDATE_SETTINGS="update_settings",UIM_INDEX_CLEAR_CACHE="index_clear_cache",UIM_INDEX_CLEAR_CACHE_MANY="index_clear_cache_many",UIM_INDEX_CLOSE="index_close",UIM_INDEX_CLOSE_MANY="index_close_many",UIM_INDEX_DELETE="index_delete",UIM_INDEX_DELETE_MANY="index_delete_many",UIM_INDEX_FLUSH="index_flush",UIM_INDEX_FLUSH_MANY="index_flush_many",UIM_INDEX_FORCE_MERGE="index_force_merge",UIM_INDEX_FORCE_MERGE_MANY="index_force_merge_many",UIM_INDEX_FREEZE="index_freeze",UIM_INDEX_FREEZE_MANY="index_freeze_many",UIM_INDEX_OPEN="index_open",UIM_INDEX_OPEN_MANY="index_open_many",UIM_INDEX_REFRESH="index_refresh",UIM_INDEX_REFRESH_MANY="index_refresh_many",UIM_INDEX_UNFREEZE="index_unfreeze",UIM_INDEX_UNFREEZE_MANY="index_unfreeze_many",UIM_SHOW_DETAILS_CLICK="show_details_click",UIM_DETAIL_PANEL_EDIT_SETTINGS_TAB="detail_panel_edit_settings_tab",UIM_DETAIL_PANEL_MAPPING_TAB="detail_panel_mapping_tab",UIM_DETAIL_PANEL_SETTINGS_TAB="detail_panel_settings_tab",UIM_DETAIL_PANEL_STATS_TAB="detail_panel_stats_tab",UIM_DETAIL_PANEL_SUMMARY_TAB="detail_panel_summary_tab",UIM_TEMPLATE_LIST_LOAD="template_list_load",UIM_TEMPLATE_DELETE="template_delete",UIM_TEMPLATE_DELETE_MANY="template_delete_many",UIM_TEMPLATE_SHOW_DETAILS_CLICK="template_show_details_click",UIM_TEMPLATE_DETAIL_PANEL_SUMMARY_TAB="template_details_summary_tab",UIM_TEMPLATE_DETAIL_PANEL_SETTINGS_TAB="template_details_settings_tab",UIM_TEMPLATE_DETAIL_PANEL_MAPPINGS_TAB="template_details_mappings_tab",UIM_TEMPLATE_DETAIL_PANEL_ALIASES_TAB="template_details_aliases_tab",UIM_TEMPLATE_DETAIL_PANEL_PREVIEW_TAB="template_details_preview_tab",UIM_TEMPLATE_CREATE="template_create",UIM_TEMPLATE_UPDATE="template_update",UIM_TEMPLATE_CLONE="template_clone",UIM_TEMPLATE_SIMULATE="template_simulate"},function(module,exports){module.exports=function(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return serializeTemplate})),__webpack_require__.d(__webpack_exports__,"a",(function(){return serializeLegacyTemplate}));function serializeTemplate(templateDeserialized){const{version:version,priority:priority,indexPatterns:indexPatterns,template:template,composedOf:composedOf,dataStream:dataStream,_meta:_meta}=templateDeserialized;return{version:version,priority:priority,template:template,index_patterns:indexPatterns,data_stream:dataStream,composed_of:composedOf,_meta:_meta}}function serializeLegacyTemplate(template){const{version:version,order:order,indexPatterns:indexPatterns,template:{settings:settings,aliases:aliases,mappings:mappings}={}}=template;return{version:version,order:order,index_patterns:indexPatterns,settings:settings,aliases:aliases,mappings:mappings}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)&&arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(37);exports.__esModule=!0;var _Provider=_interopRequireDefault(__webpack_require__(107));exports.Provider=_Provider.default;var _connectAdvanced=_interopRequireDefault(__webpack_require__(71));exports.connectAdvanced=_connectAdvanced.default;var _Context=__webpack_require__(41);exports.ReactReduxContext=_Context.ReactReduxContext;var _connect=_interopRequireDefault(__webpack_require__(111));exports.connect=_connect.default;var _useDispatch=__webpack_require__(122);exports.useDispatch=_useDispatch.useDispatch,exports.createDispatchHook=_useDispatch.createDispatchHook;var _useSelector=__webpack_require__(123);exports.useSelector=_useSelector.useSelector,exports.createSelectorHook=_useSelector.createSelectorHook;var _useStore=__webpack_require__(78);exports.useStore=_useStore.useStore,exports.createStoreHook=_useStore.createStoreHook;var _batch=__webpack_require__(70),_reactBatchedUpdates=__webpack_require__(124);exports.batch=_reactBatchedUpdates.unstable_batchedUpdates;var _shallowEqual=_interopRequireDefault(__webpack_require__(74));exports.shallowEqual=_shallowEqual.default,(0,_batch.setBatch)(_reactBatchedUpdates.unstable_batchedUpdates)},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(37);exports.__esModule=!0,exports.default=exports.ReactReduxContext=void 0;var ReactReduxContext=_interopRequireDefault(__webpack_require__(19)).default.createContext(null);exports.ReactReduxContext=ReactReduxContext;var _default=ReactReduxContext;exports.default=_default},function(module,__webpack_exports__,__webpack_require__){"use strict";var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(36);__webpack_require__.d(__webpack_exports__,"API_BASE_PATH",(function(){return _constants__WEBPACK_IMPORTED_MODULE_0__.a}));var _lib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(47);__webpack_require__.d(__webpack_exports__,"getTemplateParameter",(function(){return _lib__WEBPACK_IMPORTED_MODULE_1__.a}));__webpack_require__(80)},function(module,exports){},function(module,exports,__webpack_require__){"use strict";module.exports=function(condition,format,a,b,c,d,e,f){if(!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;(error=new Error(format.replace(/%s/g,(function(){return args[argIndex++]})))).name="Invariant Violation"}throw error.framesToPop=1,error}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.ACTION_TYPE_DELIMITER=exports.DEFAULT_NAMESPACE=void 0;exports.DEFAULT_NAMESPACE="/";exports.ACTION_TYPE_DELIMITER="||"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(value){if("object"!=typeof value||null===value)return!1;for(var proto=value;null!==Object.getPrototypeOf(proto);)proto=Object.getPrototypeOf(proto);return Object.getPrototypeOf(value)===proto}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return template_serialization.b})),__webpack_require__.d(__webpack_exports__,"c",(function(){return template_serialization.a})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getTemplateParameter})),__webpack_require__.d(__webpack_exports__,"b",(function(){return serializeComponentTemplate}));var template_serialization=__webpack_require__(38);const getTemplateParameter=(template,setting)=>{var _template;return(template=>!{}.hasOwnProperty.call(template,"template"))(template)?template[setting]:null===(_template=template.template)||void 0===_template?void 0:_template[setting]};function serializeComponentTemplate(componentTemplateDeserialized){const{version:version,template:template,_meta:_meta}=componentTemplateDeserialized;return{version:version,template:template,_meta:_meta}}},function(module,exports,__webpack_require__){"use strict";function identity(a){return a}function absurd(_){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindTo_=exports.bind_=exports.hole=exports.pipe=exports.untupled=exports.tupled=exports.absurd=exports.decrement=exports.increment=exports.tuple=exports.flow=exports.flip=exports.constVoid=exports.constUndefined=exports.constNull=exports.constFalse=exports.constTrue=exports.constant=exports.not=exports.unsafeCoerce=exports.identity=void 0,exports.identity=identity,exports.unsafeCoerce=identity,exports.not=function(predicate){return function(a){return!predicate(a)}},exports.constant=function(a){return function(){return a}},exports.constTrue=function(){return!0},exports.constFalse=function(){return!1},exports.constNull=function(){return null},exports.constUndefined=function(){},exports.constVoid=function(){},exports.flip=function(f){return function(b,a){return f(a,b)}},exports.flow=function(ab,bc,cd,de,ef,fg,gh,hi,ij){switch(arguments.length){case 1:return ab;case 2:return function(){return bc(ab.apply(this,arguments))};case 3:return function(){return cd(bc(ab.apply(this,arguments)))};case 4:return function(){return de(cd(bc(ab.apply(this,arguments))))};case 5:return function(){return ef(de(cd(bc(ab.apply(this,arguments)))))};case 6:return function(){return fg(ef(de(cd(bc(ab.apply(this,arguments))))))};case 7:return function(){return gh(fg(ef(de(cd(bc(ab.apply(this,arguments)))))))};case 8:return function(){return hi(gh(fg(ef(de(cd(bc(ab.apply(this,arguments))))))))};case 9:return function(){return ij(hi(gh(fg(ef(de(cd(bc(ab.apply(this,arguments)))))))))}}},exports.tuple=function(){for(var t=[],_i=0;_i<arguments.length;_i++)t[_i]=arguments[_i];return t},exports.increment=function(n){return n+1},exports.decrement=function(n){return n-1},exports.absurd=absurd,exports.tupled=function(f){return function(a){return f.apply(void 0,a)}},exports.untupled=function(f){return function(){for(var a=[],_i=0;_i<arguments.length;_i++)a[_i]=arguments[_i];return f(a)}},exports.pipe=function(a,ab,bc,cd,de,ef,fg,gh,hi,ij,jk,kl,lm,mn,no,op,pq,qr,rs,st){switch(arguments.length){case 1:return a;case 2:return ab(a);case 3:return bc(ab(a));case 4:return cd(bc(ab(a)));case 5:return de(cd(bc(ab(a))));case 6:return ef(de(cd(bc(ab(a)))));case 7:return fg(ef(de(cd(bc(ab(a))))));case 8:return gh(fg(ef(de(cd(bc(ab(a)))))));case 9:return hi(gh(fg(ef(de(cd(bc(ab(a))))))));case 10:return ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))));case 11:return jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))));case 12:return kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))));case 13:return lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))));case 14:return mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))));case 15:return no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))))));case 16:return op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))))));case 17:return pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))))))));case 18:return qr(pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))))))));case 19:return rs(qr(pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))))))))));case 20:return st(rs(qr(pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))))))))))}},exports.hole=absurd,exports.bind_=function(a,name,b){var _a;return Object.assign({},a,((_a={})[name]=b,_a))},exports.bindTo_=function(name){return function(b){var _a;return(_a={})[name]=b,_a}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ex,$$observable=(ex=__webpack_require__(113))&&"object"==typeof ex&&"default"in ex?ex.default:ex,randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject(obj){if("object"!=typeof obj||null===obj)return!1;for(var proto=obj;null!==Object.getPrototypeOf(proto);)proto=Object.getPrototypeOf(proto);return Object.getPrototypeOf(obj)===proto}function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type;return"Given "+(actionType&&'action "'+String(actionType)+'"'||"an action")+', reducer "'+key+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(this,arguments))}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);return Object.getOwnPropertySymbols&&keys.push.apply(keys,Object.getOwnPropertySymbols(object)),enumerableOnly&&(keys=keys.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function compose(){for(var _len=arguments.length,funcs=new Array(_len),_key=0;_key<_len;_key++)funcs[_key]=arguments[_key];return 0===funcs.length?function(arg){return arg}:1===funcs.length?funcs[0]:funcs.reduce((function(a,b){return function(){return a(b.apply(void 0,arguments))}}))}exports.__DO_NOT_USE__ActionTypes=ActionTypes,exports.applyMiddleware=function(){for(var _len=arguments.length,middlewares=new Array(_len),_key=0;_key<_len;_key++)middlewares[_key]=arguments[_key];return function(createStore){return function(){var store=createStore.apply(void 0,arguments),_dispatch=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},middlewareAPI={getState:store.getState,dispatch:function(){return _dispatch.apply(void 0,arguments)}},chain=middlewares.map((function(middleware){return middleware(middlewareAPI)}));return _objectSpread2({},store,{dispatch:_dispatch=compose.apply(void 0,chain)(store.dispatch)})}}},exports.bindActionCreators=function(actionCreators,dispatch){if("function"==typeof actionCreators)return bindActionCreator(actionCreators,dispatch);if("object"!=typeof actionCreators||null===actionCreators)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===actionCreators?"null":typeof actionCreators)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var boundActionCreators={};for(var key in actionCreators){var actionCreator=actionCreators[key];"function"==typeof actionCreator&&(boundActionCreators[key]=bindActionCreator(actionCreator,dispatch))}return boundActionCreators},exports.combineReducers=function(reducers){for(var reducerKeys=Object.keys(reducers),finalReducers={},i=0;i<reducerKeys.length;i++){var key=reducerKeys[i];0,"function"==typeof reducers[key]&&(finalReducers[key]=reducers[key])}var shapeAssertionError,finalReducerKeys=Object.keys(finalReducers);try{!function(reducers){Object.keys(reducers).forEach((function(key){var reducer=reducers[key];if(void 0===reducer(void 0,{type:ActionTypes.INIT}))throw new Error('Reducer "'+key+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===reducer(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+key+"\" returned undefined when probed with a random type. Don't try to handle "+ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(finalReducers)}catch(e){shapeAssertionError=e}return function(state,action){if(void 0===state&&(state={}),shapeAssertionError)throw shapeAssertionError;for(var hasChanged=!1,nextState={},_i=0;_i<finalReducerKeys.length;_i++){var _key=finalReducerKeys[_i],reducer=finalReducers[_key],previousStateForKey=state[_key],nextStateForKey=reducer(previousStateForKey,action);if(void 0===nextStateForKey){var errorMessage=getUndefinedStateErrorMessage(_key,action);throw new Error(errorMessage)}nextState[_key]=nextStateForKey,hasChanged=hasChanged||nextStateForKey!==previousStateForKey}return(hasChanged=hasChanged||finalReducerKeys.length!==Object.keys(state).length)?nextState:state}},exports.compose=compose,exports.createStore=function createStore(reducer,preloadedState,enhancer){var _ref2;if("function"==typeof preloadedState&&"function"==typeof enhancer||"function"==typeof enhancer&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof preloadedState&&void 0===enhancer&&(enhancer=preloadedState,preloadedState=void 0),void 0!==enhancer){if("function"!=typeof enhancer)throw new Error("Expected the enhancer to be a function.");return enhancer(createStore)(reducer,preloadedState)}if("function"!=typeof reducer)throw new Error("Expected the reducer to be a function.");var currentReducer=reducer,currentState=preloadedState,currentListeners=[],nextListeners=currentListeners,isDispatching=!1;function ensureCanMutateNextListeners(){nextListeners===currentListeners&&(nextListeners=currentListeners.slice())}function getState(){if(isDispatching)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return currentState}function subscribe(listener){if("function"!=typeof listener)throw new Error("Expected the listener to be a function.");if(isDispatching)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var isSubscribed=!0;return ensureCanMutateNextListeners(),nextListeners.push(listener),function(){if(isSubscribed){if(isDispatching)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");isSubscribed=!1,ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1),currentListeners=null}}}function dispatch(action){if(!isPlainObject(action))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===action.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(isDispatching)throw new Error("Reducers may not dispatch actions.");try{isDispatching=!0,currentState=currentReducer(currentState,action)}finally{isDispatching=!1}for(var listeners=currentListeners=nextListeners,i=0;i<listeners.length;i++){(0,listeners[i])()}return action}function replaceReducer(nextReducer){if("function"!=typeof nextReducer)throw new Error("Expected the nextReducer to be a function.");currentReducer=nextReducer,dispatch({type:ActionTypes.REPLACE})}function observable(){var _ref,outerSubscribe=subscribe;return(_ref={subscribe:function(observer){if("object"!=typeof observer||null===observer)throw new TypeError("Expected the observer to be an object.");function observeState(){observer.next&&observer.next(getState())}return observeState(),{unsubscribe:outerSubscribe(observeState)}}})[$$observable]=function(){return this},_ref}return dispatch({type:ActionTypes.INIT}),(_ref2={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:replaceReducer})[$$observable]=observable,_ref2}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(value){return"function"==typeof value}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(value){return"undefined"!=typeof Map&&value instanceof Map}},function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(172),decodeComponent=__webpack_require__(173),splitOnFirst=__webpack_require__(174);function validateArrayFormatSeparator(value){if("string"!=typeof value||1!==value.length)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(value,options){return options.encode?options.strict?strictUriEncode(value):encodeURIComponent(value):value}function decode(value,options){return options.decode?decodeComponent(value):value}function removeHash(input){const hashStart=input.indexOf("#");return-1!==hashStart&&(input=input.slice(0,hashStart)),input}function extract(input){const queryStart=(input=removeHash(input)).indexOf("?");return-1===queryStart?"":input.slice(queryStart+1)}function parseValue(value,options){return options.parseNumbers&&!Number.isNaN(Number(value))&&"string"==typeof value&&""!==value.trim()?value=Number(value):!options.parseBooleans||null===value||"true"!==value.toLowerCase()&&"false"!==value.toLowerCase()||(value="true"===value.toLowerCase()),value}function parse(input,options){validateArrayFormatSeparator((options=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},options)).arrayFormatSeparator);const formatter=function(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key),key=key.replace(/\[\d*\]$/,""),result?(void 0===accumulator[key]&&(accumulator[key]={}),accumulator[key][result[1]]=value):accumulator[key]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key),key=key.replace(/\[\]$/,""),result?void 0!==accumulator[key]?accumulator[key]=[].concat(accumulator[key],value):accumulator[key]=[value]:accumulator[key]=value};case"comma":case"separator":return(key,value,accumulator)=>{const newValue="string"==typeof value&&value.split("").indexOf(options.arrayFormatSeparator)>-1?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):null===value?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{void 0!==accumulator[key]?accumulator[key]=[].concat(accumulator[key],value):accumulator[key]=value}}}(options),ret=Object.create(null);if("string"!=typeof input)return ret;if(!(input=input.trim().replace(/^[?#&]/,"")))return ret;for(const param of input.split("&")){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=void 0===value?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options),formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if("object"==typeof value&&null!==value)for(const k of Object.keys(value))value[k]=parseValue(value[k],options);else ret[key]=parseValue(value,options)}return!1===options.sort?ret:(!0===options.sort?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];return Boolean(value)&&"object"==typeof value&&!Array.isArray(value)?result[key]=function keysSorter(input){return Array.isArray(input)?input.sort():"object"==typeof input?keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key]):input}(value):result[key]=value,result},Object.create(null))}exports.extract=extract,exports.parse=parse,exports.stringify=(object,options)=>{if(!object)return"";validateArrayFormatSeparator((options=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},options)).arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&null==object[key]||options.skipEmptyString&&""===object[key],formatter=function(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;return void 0===value||options.skipNull&&null===value||options.skipEmptyString&&""===value?result:null===value?[...result,[encode(key,options),"[",index,"]"].join("")]:[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>void 0===value||options.skipNull&&null===value||options.skipEmptyString&&""===value?result:null===value?[...result,[encode(key,options),"[]"].join("")]:[...result,[encode(key,options),"[]=",encode(value,options)].join("")];case"comma":case"separator":return key=>(result,value)=>null==value||0===value.length?result:0===result.length?[[encode(key,options),"=",encode(value,options)].join("")]:[[result,encode(value,options)].join(options.arrayFormatSeparator)];default:return key=>(result,value)=>void 0===value||options.skipNull&&null===value||options.skipEmptyString&&""===value?result:null===value?[...result,encode(key,options)]:[...result,[encode(key,options),"=",encode(value,options)].join("")]}}(options),objectCopy={};for(const key of Object.keys(object))shouldFilter(key)||(objectCopy[key]=object[key]);const keys=Object.keys(objectCopy);return!1!==options.sort&&keys.sort(options.sort),keys.map(key=>{const value=object[key];return void 0===value?"":null===value?encode(key,options):Array.isArray(value)?value.reduce(formatter(key),[]).join("&"):encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")},exports.parseUrl=(input,options)=>{options=Object.assign({decode:!0},options);const[url,hash]=splitOnFirst(input,"#");return Object.assign({url:url.split("?")[0]||"",query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})},exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:!0,strict:!0},options);const url=removeHash(input.url).split("?")[0]||"",queryFromUrl=exports.extract(input.url),parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:!1}),query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);queryString&&(queryString="?"+queryString);let hash=function(url){let hash="";const hashStart=url.indexOf("#");return-1!==hashStart&&(hash=url.slice(hashStart)),hash}(input.url);return input.fragmentIdentifier&&(hash="#"+encode(input.fragmentIdentifier,options)),`${url}${queryString}${hash}`}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.apS=exports.apSW=exports.bind=exports.bindW=exports.bindTo=exports.exists=exports.elem=exports.toError=exports.either=exports.getValidationMonoid=exports.MonadThrow=exports.ChainRec=exports.Extend=exports.Alt=exports.Bifunctor=exports.Traversable=exports.Foldable=exports.Monad=exports.Applicative=exports.Functor=exports.getValidationSemigroup=exports.getValidation=exports.getAltValidation=exports.getApplicativeValidation=exports.getWitherable=exports.getFilterable=exports.getApplyMonoid=exports.getApplySemigroup=exports.getSemigroup=exports.getEq=exports.getShow=exports.URI=exports.throwError=exports.sequence=exports.traverse=exports.reduceRight=exports.foldMap=exports.reduce=exports.duplicate=exports.extend=exports.alt=exports.flatten=exports.chainFirst=exports.chainFirstW=exports.chain=exports.chainW=exports.of=exports.apSecond=exports.apFirst=exports.ap=exports.apW=exports.mapLeft=exports.bimap=exports.map=exports.filterOrElse=exports.orElse=exports.swap=exports.getOrElse=exports.getOrElseW=exports.fold=exports.fromPredicate=exports.fromOption=exports.stringifyJSON=exports.parseJSON=exports.tryCatch=exports.fromNullable=exports.right=exports.left=exports.isRight=exports.isLeft=void 0;var ChainRec_1=__webpack_require__(96),function_1=__webpack_require__(48);function tryCatch(f,onError){try{return exports.right(f())}catch(e){return exports.left(onError(e))}}exports.isLeft=function(ma){return"Left"===ma._tag},exports.isRight=function(ma){return"Right"===ma._tag},exports.left=function(e){return{_tag:"Left",left:e}},exports.right=function(a){return{_tag:"Right",right:a}},exports.fromNullable=function(e){return function(a){return null==a?exports.left(e):exports.right(a)}},exports.tryCatch=tryCatch,exports.parseJSON=function(s,onError){return tryCatch((function(){return JSON.parse(s)}),onError)},exports.stringifyJSON=function(u,onError){return tryCatch((function(){return JSON.stringify(u)}),onError)},exports.fromOption=function(onNone){return function(ma){return"None"===ma._tag?exports.left(onNone()):exports.right(ma.value)}},exports.fromPredicate=function(predicate,onFalse){return function(a){return predicate(a)?exports.right(a):exports.left(onFalse(a))}},exports.fold=function(onLeft,onRight){return function(ma){return exports.isLeft(ma)?onLeft(ma.left):onRight(ma.right)}},exports.getOrElseW=function(onLeft){return function(ma){return exports.isLeft(ma)?onLeft(ma.left):ma.right}},exports.getOrElse=exports.getOrElseW,exports.swap=function(ma){return exports.isLeft(ma)?exports.right(ma.left):exports.left(ma.right)},exports.orElse=function(onLeft){return function(ma){return exports.isLeft(ma)?onLeft(ma.left):ma}},exports.filterOrElse=function(predicate,onFalse){return exports.chain((function(a){return predicate(a)?exports.right(a):exports.left(onFalse(a))}))};var map_=function(fa,f){return function_1.pipe(fa,exports.map(f))},ap_=function(fab,fa){return function_1.pipe(fab,exports.ap(fa))},chain_=function(ma,f){return function_1.pipe(ma,exports.chain(f))},reduce_=function(fa,b,f){return function_1.pipe(fa,exports.reduce(b,f))},foldMap_=function(M){return function(fa,f){var foldMapM=exports.foldMap(M);return function_1.pipe(fa,foldMapM(f))}},reduceRight_=function(fa,b,f){return function_1.pipe(fa,exports.reduceRight(b,f))},traverse_=function(F){var traverseF=exports.traverse(F);return function(ta,f){return function_1.pipe(ta,traverseF(f))}},bimap_=function(fa,f,g){return function_1.pipe(fa,exports.bimap(f,g))},mapLeft_=function(fa,f){return function_1.pipe(fa,exports.mapLeft(f))},alt_=function(fa,that){return function_1.pipe(fa,exports.alt(that))},extend_=function(wa,f){return function_1.pipe(wa,exports.extend(f))},chainRec_=function(a,f){return ChainRec_1.tailRec(f(a),(function(e){return exports.isLeft(e)?exports.right(exports.left(e.left)):exports.isLeft(e.right)?exports.left(f(e.right.left)):exports.right(exports.right(e.right.right))}))};function getApplySemigroup(S){return{concat:function(x,y){return exports.isLeft(x)?x:exports.isLeft(y)?y:exports.right(S.concat(x.right,y.right))}}}function getFilterable(M){var empty=exports.left(M.empty);return{URI:exports.URI,_E:void 0,map:map_,compact:function(ma){return exports.isLeft(ma)?ma:"None"===ma.right._tag?empty:exports.right(ma.right.value)},separate:function(ma){return exports.isLeft(ma)?{left:ma,right:ma}:exports.isLeft(ma.right)?{left:exports.right(ma.right.left),right:empty}:{left:empty,right:exports.right(ma.right.right)}},filter:function(ma,predicate){return exports.isLeft(ma)||predicate(ma.right)?ma:empty},filterMap:function(ma,f){if(exports.isLeft(ma))return ma;var ob=f(ma.right);return"None"===ob._tag?empty:exports.right(ob.value)},partition:function(ma,p){return exports.isLeft(ma)?{left:ma,right:ma}:p(ma.right)?{left:empty,right:exports.right(ma.right)}:{left:exports.right(ma.right),right:empty}},partitionMap:function(ma,f){if(exports.isLeft(ma))return{left:ma,right:ma};var e=f(ma.right);return exports.isLeft(e)?{left:exports.right(e.left),right:empty}:{left:empty,right:exports.right(e.right)}}}}function getApplicativeValidation(SE){return{URI:exports.URI,_E:void 0,map:map_,ap:function(fab,fa){return exports.isLeft(fab)?exports.isLeft(fa)?exports.left(SE.concat(fab.left,fa.left)):fab:exports.isLeft(fa)?fa:exports.right(fab.right(fa.right))},of:exports.of}}function getAltValidation(SE){return{URI:exports.URI,_E:void 0,map:map_,alt:function(me,that){if(exports.isRight(me))return me;var ea=that();return exports.isLeft(ea)?exports.left(SE.concat(me.left,ea.left)):ea}}}function getValidationSemigroup(SE,SA){return{concat:function(x,y){return exports.isLeft(x)?exports.isLeft(y)?exports.left(SE.concat(x.left,y.left)):x:exports.isLeft(y)?y:exports.right(SA.concat(x.right,y.right))}}}exports.map=function(f){return function(fa){return exports.isLeft(fa)?fa:exports.right(f(fa.right))}},exports.bimap=function(f,g){return function(fa){return exports.isLeft(fa)?exports.left(f(fa.left)):exports.right(g(fa.right))}},exports.mapLeft=function(f){return function(fa){return exports.isLeft(fa)?exports.left(f(fa.left)):fa}},exports.apW=function(fa){return function(fab){return exports.isLeft(fab)?fab:exports.isLeft(fa)?fa:exports.right(fab.right(fa.right))}},exports.ap=exports.apW,exports.apFirst=function(fb){return function_1.flow(exports.map((function(a){return function(){return a}})),exports.ap(fb))},exports.apSecond=function(fb){return function_1.flow(exports.map((function(){return function(b){return b}})),exports.ap(fb))},exports.of=exports.right,exports.chainW=function(f){return function(ma){return exports.isLeft(ma)?ma:f(ma.right)}},exports.chain=exports.chainW,exports.chainFirstW=function(f){return function(ma){return function_1.pipe(ma,exports.chainW((function(a){return function_1.pipe(f(a),exports.map((function(){return a})))})))}},exports.chainFirst=exports.chainFirstW,exports.flatten=exports.chain(function_1.identity),exports.alt=function(that){return function(fa){return exports.isLeft(fa)?that():fa}},exports.extend=function(f){return function(wa){return exports.isLeft(wa)?wa:exports.right(f(wa))}},exports.duplicate=exports.extend(function_1.identity),exports.reduce=function(b,f){return function(fa){return exports.isLeft(fa)?b:f(b,fa.right)}},exports.foldMap=function(M){return function(f){return function(fa){return exports.isLeft(fa)?M.empty:f(fa.right)}}},exports.reduceRight=function(b,f){return function(fa){return exports.isLeft(fa)?b:f(fa.right,b)}},exports.traverse=function(F){return function(f){return function(ta){return exports.isLeft(ta)?F.of(exports.left(ta.left)):F.map(f(ta.right),exports.right)}}},exports.sequence=function(F){return function(ma){return exports.isLeft(ma)?F.of(exports.left(ma.left)):F.map(ma.right,exports.right)}},exports.throwError=exports.left,exports.URI="Either",exports.getShow=function(SE,SA){return{show:function(ma){return exports.isLeft(ma)?"left("+SE.show(ma.left)+")":"right("+SA.show(ma.right)+")"}}},exports.getEq=function(EL,EA){return{equals:function(x,y){return x===y||(exports.isLeft(x)?exports.isLeft(y)&&EL.equals(x.left,y.left):exports.isRight(y)&&EA.equals(x.right,y.right))}}},exports.getSemigroup=function(S){return{concat:function(x,y){return exports.isLeft(y)?x:exports.isLeft(x)?y:exports.right(S.concat(x.right,y.right))}}},exports.getApplySemigroup=getApplySemigroup,exports.getApplyMonoid=function(M){return{concat:getApplySemigroup(M).concat,empty:exports.right(M.empty)}},exports.getFilterable=getFilterable,exports.getWitherable=function(M){var F_=getFilterable(M);return{URI:exports.URI,_E:void 0,map:map_,compact:F_.compact,separate:F_.separate,filter:F_.filter,filterMap:F_.filterMap,partition:F_.partition,partitionMap:F_.partitionMap,traverse:traverse_,sequence:exports.sequence,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_,wither:function(F){var traverseF=traverse_(F);return function(ma,f){return F.map(traverseF(ma,f),F_.compact)}},wilt:function(F){var traverseF=traverse_(F);return function(ma,f){return F.map(traverseF(ma,f),F_.separate)}}}},exports.getApplicativeValidation=getApplicativeValidation,exports.getAltValidation=getAltValidation,exports.getValidation=function(SE){var applicativeValidation=getApplicativeValidation(SE),altValidation=getAltValidation(SE);return{URI:exports.URI,_E:void 0,map:map_,of:exports.of,chain:chain_,bimap:bimap_,mapLeft:mapLeft_,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_,extend:extend_,traverse:traverse_,sequence:exports.sequence,chainRec:chainRec_,throwError:exports.throwError,ap:applicativeValidation.ap,alt:altValidation.alt}},exports.getValidationSemigroup=getValidationSemigroup,exports.Functor={URI:exports.URI,map:map_},exports.Applicative={URI:exports.URI,map:map_,ap:ap_,of:exports.of},exports.Monad={URI:exports.URI,map:map_,ap:ap_,of:exports.of,chain:chain_},exports.Foldable={URI:exports.URI,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_},exports.Traversable={URI:exports.URI,map:map_,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_,traverse:traverse_,sequence:exports.sequence},exports.Bifunctor={URI:exports.URI,bimap:bimap_,mapLeft:mapLeft_},exports.Alt={URI:exports.URI,map:map_,alt:alt_},exports.Extend={URI:exports.URI,map:map_,extend:extend_},exports.ChainRec={URI:exports.URI,map:map_,ap:ap_,chain:chain_,chainRec:chainRec_},exports.MonadThrow={URI:exports.URI,map:map_,ap:ap_,of:exports.of,chain:chain_,throwError:exports.throwError},exports.getValidationMonoid=function(SE,SA){return{concat:getValidationSemigroup(SE,SA).concat,empty:exports.right(SA.empty)}},exports.either={URI:exports.URI,map:map_,of:exports.of,ap:ap_,chain:chain_,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_,traverse:traverse_,sequence:exports.sequence,bimap:bimap_,mapLeft:mapLeft_,alt:alt_,extend:extend_,chainRec:chainRec_,throwError:exports.throwError},exports.toError=function(e){return e instanceof Error?e:new Error(String(e))},exports.elem=function(E){return function(a,ma){return!exports.isLeft(ma)&&E.equals(a,ma.right)}},exports.exists=function(predicate){return function(ma){return!exports.isLeft(ma)&&predicate(ma.right)}},exports.bindTo=function(name){return exports.map(function_1.bindTo_(name))},exports.bindW=function(name,f){return exports.chainW((function(a){return function_1.pipe(f(a),exports.map((function(b){return function_1.bind_(a,name,b)})))}))},exports.bind=exports.bindW,exports.apSW=function(name,fb){return function_1.flow(exports.map((function(a){return function(b){return function_1.bind_(a,name,b)}})),exports.apW(fb))},exports.apS=exports.apSW},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(66),__webpack_require__(67),__webpack_require__(68)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _batch=__webpack_require__(70),nullListeners={notify:function(){}};var Subscription=function(){function Subscription(store,parentSub){this.store=store,this.parentSub=parentSub,this.unsubscribe=null,this.listeners=nullListeners,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var _proto=Subscription.prototype;return _proto.addNestedSub=function(listener){return this.trySubscribe(),this.listeners.subscribe(listener)},_proto.notifyNestedSubs=function(){this.listeners.notify()},_proto.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},_proto.isSubscribed=function(){return Boolean(this.unsubscribe)},_proto.trySubscribe=function(){var batch,first,last;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(batch=(0,_batch.getBatch)(),first=null,last=null,{clear:function(){first=null,last=null},notify:function(){batch((function(){for(var listener=first;listener;)listener.callback(),listener=listener.next}))},get:function(){for(var listeners=[],listener=first;listener;)listeners.push(listener),listener=listener.next;return listeners},subscribe:function(callback){var isSubscribed=!0,listener=last={callback:callback,next:null,prev:last};return listener.prev?listener.prev.next=listener:first=listener,function(){isSubscribed&&null!==first&&(isSubscribed=!1,listener.next?listener.next.prev=listener.prev:last=listener.prev,listener.prev?listener.prev.next=listener.next:first=listener.next)}}}))},_proto.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=nullListeners)},Subscription}();exports.default=Subscription},function(module,exports){function _extends(){return module.exports=_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}module.exports=_extends},function(module,exports){module.exports=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(type,payloadCreator,metaCreator){void 0===payloadCreator&&(payloadCreator=_identity.default);(0,_invariant.default)((0,_isFunction.default)(payloadCreator)||(0,_isNull.default)(payloadCreator),"Expected payloadCreator to be a function, undefined or null");var finalPayloadCreator=(0,_isNull.default)(payloadCreator)||payloadCreator===_identity.default?_identity.default:function(head){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return head instanceof Error?head:payloadCreator.apply(void 0,[head].concat(args))},hasMeta=(0,_isFunction.default)(metaCreator),typeString=type.toString(),actionCreator=function(){var payload=finalPayloadCreator.apply(void 0,arguments),action={type:type};return payload instanceof Error&&(action.error=!0),void 0!==payload&&(action.payload=payload),hasMeta&&(action.meta=metaCreator.apply(void 0,arguments)),action};return actionCreator.toString=function(){return typeString},actionCreator};var _invariant=_interopRequireDefault(__webpack_require__(44)),_isFunction=_interopRequireDefault(__webpack_require__(50)),_identity=_interopRequireDefault(__webpack_require__(59)),_isNull=_interopRequireDefault(__webpack_require__(154));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(value){return value}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(object){if((0,_isMap.default)(object))return Array.from(object.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(object);var keys=Object.getOwnPropertyNames(object);"function"==typeof Object.getOwnPropertySymbols&&(keys=keys.concat(Object.getOwnPropertySymbols(object)));return keys};var obj,_isMap=(obj=__webpack_require__(51))&&obj.__esModule?obj:{default:obj}},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var Either_1=__webpack_require__(53),map=Either_1.either.map,chain=Either_1.either.chain,Type=function(){function Type(name,is,validate,encode){this.name=name,this.is=is,this.validate=validate,this.encode=encode,this.decode=this.decode.bind(this)}return Type.prototype.pipe=function(ab,name){var _this=this;return void 0===name&&(name="pipe("+this.name+", "+ab.name+")"),new Type(name,ab.is,(function(i,c){return chain(_this.validate(i,c),(function(a){return ab.validate(a,c)}))}),this.encode===exports.identity&&ab.encode===exports.identity?exports.identity:function(b){return _this.encode(ab.encode(b))})},Type.prototype.asDecoder=function(){return this},Type.prototype.asEncoder=function(){return this},Type.prototype.decode=function(i){return this.validate(i,[{key:"",type:this,actual:i}])},Type}();exports.Type=Type,exports.identity=function(a){return a},exports.getFunctionName=function(f){return f.displayName||f.name||"<function"+f.length+">"},exports.getContextEntry=function(key,decoder){return{key:key,type:decoder}},exports.appendContext=function(c,key,decoder,actual){for(var len=c.length,r=Array(len+1),i=0;i<len;i++)r[i]=c[i];return r[len]={key:key,type:decoder,actual:actual},r},exports.failures=Either_1.left,exports.failure=function(value,context,message){return exports.failures([{value:value,context:context,message:message}])},exports.success=Either_1.right;var pushAll=function(xs,ys){for(var l=ys.length,i=0;i<l;i++)xs.push(ys[i])},getIsCodec=function(tag){return function(codec){return codec._tag===tag}},isAnyCodec=getIsCodec("AnyType"),isInterfaceCodec=getIsCodec("InterfaceType"),isPartialCodec=getIsCodec("PartialType"),NullType=function(_super){function NullType(){var _this=_super.call(this,"null",(function(u){return null===u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="NullType",_this}return __extends(NullType,_super),NullType}(Type);exports.NullType=NullType,exports.nullType=new NullType,exports.null=exports.nullType;var UndefinedType=function(_super){function UndefinedType(){var _this=_super.call(this,"undefined",(function(u){return void 0===u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="UndefinedType",_this}return __extends(UndefinedType,_super),UndefinedType}(Type);exports.UndefinedType=UndefinedType;var undefinedType=new UndefinedType;exports.undefined=undefinedType;var VoidType=function(_super){function VoidType(){var _this=_super.call(this,"void",undefinedType.is,undefinedType.validate,exports.identity)||this;return _this._tag="VoidType",_this}return __extends(VoidType,_super),VoidType}(Type);exports.VoidType=VoidType,exports.voidType=new VoidType,exports.void=exports.voidType;var UnknownType=function(_super){function UnknownType(){var _this=_super.call(this,"unknown",(function(_){return!0}),exports.success,exports.identity)||this;return _this._tag="UnknownType",_this}return __extends(UnknownType,_super),UnknownType}(Type);exports.UnknownType=UnknownType,exports.unknown=new UnknownType;var StringType=function(_super){function StringType(){var _this=_super.call(this,"string",(function(u){return"string"==typeof u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="StringType",_this}return __extends(StringType,_super),StringType}(Type);exports.StringType=StringType,exports.string=new StringType;var NumberType=function(_super){function NumberType(){var _this=_super.call(this,"number",(function(u){return"number"==typeof u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="NumberType",_this}return __extends(NumberType,_super),NumberType}(Type);exports.NumberType=NumberType,exports.number=new NumberType;var BooleanType=function(_super){function BooleanType(){var _this=_super.call(this,"boolean",(function(u){return"boolean"==typeof u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="BooleanType",_this}return __extends(BooleanType,_super),BooleanType}(Type);exports.BooleanType=BooleanType,exports.boolean=new BooleanType;var AnyArrayType=function(_super){function AnyArrayType(){var _this=_super.call(this,"UnknownArray",Array.isArray,(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="AnyArrayType",_this}return __extends(AnyArrayType,_super),AnyArrayType}(Type);exports.AnyArrayType=AnyArrayType,exports.UnknownArray=new AnyArrayType,exports.Array=exports.UnknownArray;var AnyDictionaryType=function(_super){function AnyDictionaryType(){var _this=_super.call(this,"UnknownRecord",(function(u){return"[object Object]"===Object.prototype.toString.call(u)}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="AnyDictionaryType",_this}return __extends(AnyDictionaryType,_super),AnyDictionaryType}(Type);exports.AnyDictionaryType=AnyDictionaryType,exports.UnknownRecord=new AnyDictionaryType;var FunctionType=function(_super){function FunctionType(){var _this=_super.call(this,"Function",(function(u){return"function"==typeof u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="FunctionType",_this}return __extends(FunctionType,_super),FunctionType}(Type);exports.FunctionType=FunctionType,exports.Function=new FunctionType;var RefinementType=function(_super){function RefinementType(name,is,validate,encode,type,predicate){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this.predicate=predicate,_this._tag="RefinementType",_this}return __extends(RefinementType,_super),RefinementType}(Type);exports.RefinementType=RefinementType,exports.brand=function(codec,predicate,name){return refinement(codec,predicate,name)},exports.Int=exports.brand(exports.number,(function(n){return Number.isInteger(n)}),"Int");var LiteralType=function(_super){function LiteralType(name,is,validate,encode,value){var _this=_super.call(this,name,is,validate,encode)||this;return _this.value=value,_this._tag="LiteralType",_this}return __extends(LiteralType,_super),LiteralType}(Type);exports.LiteralType=LiteralType,exports.literal=function(value,name){void 0===name&&(name=JSON.stringify(value));var is=function(u){return u===value};return new LiteralType(name,is,(function(u,c){return is(u)?exports.success(value):exports.failure(u,c)}),exports.identity,value)};var KeyofType=function(_super){function KeyofType(name,is,validate,encode,keys){var _this=_super.call(this,name,is,validate,encode)||this;return _this.keys=keys,_this._tag="KeyofType",_this}return __extends(KeyofType,_super),KeyofType}(Type);exports.KeyofType=KeyofType;var hasOwnProperty=Object.prototype.hasOwnProperty;exports.keyof=function(keys,name){void 0===name&&(name=Object.keys(keys).map((function(k){return JSON.stringify(k)})).join(" | "));var is=function(u){return exports.string.is(u)&&hasOwnProperty.call(keys,u)};return new KeyofType(name,is,(function(u,c){return is(u)?exports.success(u):exports.failure(u,c)}),exports.identity,keys)};var RecursiveType=function(_super){function RecursiveType(name,is,validate,encode,runDefinition){var _this=_super.call(this,name,is,validate,encode)||this;return _this.runDefinition=runDefinition,_this._tag="RecursiveType",_this}return __extends(RecursiveType,_super),RecursiveType}(Type);exports.RecursiveType=RecursiveType,Object.defineProperty(RecursiveType.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0}),exports.recursion=function(name,definition){var cache,runDefinition=function(){return cache||((cache=definition(Self)).name=name),cache},Self=new RecursiveType(name,(function(u){return runDefinition().is(u)}),(function(u,c){return runDefinition().validate(u,c)}),(function(a){return runDefinition().encode(a)}),runDefinition);return Self};var ArrayType=function(_super){function ArrayType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this._tag="ArrayType",_this}return __extends(ArrayType,_super),ArrayType}(Type);exports.ArrayType=ArrayType,exports.array=function(codec,name){return void 0===name&&(name="Array<"+codec.name+">"),new ArrayType(name,(function(u){return exports.UnknownArray.is(u)&&u.every(codec.is)}),(function(u,c){return chain(exports.UnknownArray.validate(u,c),(function(us){for(var len=us.length,as=us,errors=[],i=0;i<len;i++){var ui=us[i],result=codec.validate(ui,exports.appendContext(c,String(i),codec,ui));if(Either_1.isLeft(result))pushAll(errors,result.left);else{var ai=result.right;ai!==ui&&(as===us&&(as=us.slice()),as[i]=ai)}}return errors.length>0?exports.failures(errors):exports.success(as)}))}),codec.encode===exports.identity?exports.identity:function(a){return a.map(codec.encode)},codec)};var InterfaceType=function(_super){function InterfaceType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;return _this.props=props,_this._tag="InterfaceType",_this}return __extends(InterfaceType,_super),InterfaceType}(Type);exports.InterfaceType=InterfaceType;var getNameFromProps=function(props){return Object.keys(props).map((function(k){return k+": "+props[k].name})).join(", ")},useIdentity=function(codecs){for(var i=0;i<codecs.length;i++)if(codecs[i].encode!==exports.identity)return!1;return!0},getInterfaceTypeName=function(props){return"{ "+getNameFromProps(props)+" }"};exports.type=function(props,name){void 0===name&&(name=getInterfaceTypeName(props));var keys=Object.keys(props),types=keys.map((function(key){return props[key]})),len=keys.length;return new InterfaceType(name,(function(u){if(exports.UnknownRecord.is(u)){for(var i=0;i<len;i++){var k=keys[i];if(!hasOwnProperty.call(u,k)||!types[i].is(u[k]))return!1}return!0}return!1}),(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(o){for(var a=o,errors=[],i=0;i<len;i++){var k=keys[i];hasOwnProperty.call(a,k)||(a===o&&(a=__assign({},o)),a[k]=a[k]);var ak=a[k],type_1=types[i],result=type_1.validate(ak,exports.appendContext(c,k,type_1,ak));if(Either_1.isLeft(result))pushAll(errors,result.left);else{var vak=result.right;vak!==ak&&(a===o&&(a=__assign({},o)),a[k]=vak)}}return errors.length>0?exports.failures(errors):exports.success(a)}))}),useIdentity(types)?exports.identity:function(a){for(var s=__assign({},a),i=0;i<len;i++){var k=keys[i],encode=types[i].encode;encode!==exports.identity&&(s[k]=encode(a[k]))}return s},props)},exports.interface=exports.type;var PartialType=function(_super){function PartialType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;return _this.props=props,_this._tag="PartialType",_this}return __extends(PartialType,_super),PartialType}(Type);exports.PartialType=PartialType;var getPartialTypeName=function(inner){return"Partial<"+inner+">"};exports.partial=function(props,name){void 0===name&&(name=getPartialTypeName(getInterfaceTypeName(props)));var keys=Object.keys(props),types=keys.map((function(key){return props[key]})),len=keys.length;return new PartialType(name,(function(u){if(exports.UnknownRecord.is(u)){for(var i=0;i<len;i++){var k=keys[i],uk=u[k];if(void 0!==uk&&!props[k].is(uk))return!1}return!0}return!1}),(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(o){for(var a=o,errors=[],i=0;i<len;i++){var k=keys[i],ak=a[k],type_2=props[k],result=type_2.validate(ak,exports.appendContext(c,k,type_2,ak));if(Either_1.isLeft(result))void 0!==ak&&pushAll(errors,result.left);else{var vak=result.right;vak!==ak&&(a===o&&(a=__assign({},o)),a[k]=vak)}}return errors.length>0?exports.failures(errors):exports.success(a)}))}),useIdentity(types)?exports.identity:function(a){for(var s=__assign({},a),i=0;i<len;i++){var k=keys[i],ak=a[k];void 0!==ak&&(s[k]=types[i].encode(ak))}return s},props)};var DictionaryType=function(_super){function DictionaryType(name,is,validate,encode,domain,codomain){var _this=_super.call(this,name,is,validate,encode)||this;return _this.domain=domain,_this.codomain=codomain,_this._tag="DictionaryType",_this}return __extends(DictionaryType,_super),DictionaryType}(Type);exports.DictionaryType=DictionaryType,exports.record=function(domain,codomain,name){return void 0===name&&(name="{ [K in "+domain.name+"]: "+codomain.name+" }"),new DictionaryType(name,(function(u){return exports.UnknownRecord.is(u)?Object.keys(u).every((function(k){return domain.is(k)&&codomain.is(u[k])})):isAnyCodec(codomain)&&Array.isArray(u)}),(function(u,c){if(exports.UnknownRecord.is(u)){for(var a={},errors=[],keys=Object.keys(u),len=keys.length,changed=!1,i=0;i<len;i++){var k=keys[i],ok=u[k],domainResult=domain.validate(k,exports.appendContext(c,k,domain,k));if(Either_1.isLeft(domainResult))pushAll(errors,domainResult.left);else{var vk=domainResult.right;changed=changed||vk!==k,k=vk;var codomainResult=codomain.validate(ok,exports.appendContext(c,k,codomain,ok));if(Either_1.isLeft(codomainResult))pushAll(errors,codomainResult.left);else{var vok=codomainResult.right;changed=changed||vok!==ok,a[k]=vok}}}return errors.length>0?exports.failures(errors):exports.success(changed?a:u)}return isAnyCodec(codomain)&&Array.isArray(u)?exports.success(u):exports.failure(u,c)}),domain.encode===exports.identity&&codomain.encode===exports.identity?exports.identity:function(a){for(var s={},keys=Object.keys(a),len=keys.length,i=0;i<len;i++){var k=keys[i];s[String(domain.encode(k))]=codomain.encode(a[k])}return s},domain,codomain)};var UnionType=function(_super){function UnionType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;return _this.types=types,_this._tag="UnionType",_this}return __extends(UnionType,_super),UnionType}(Type);exports.UnionType=UnionType;var getUnionName=function(codecs){return"("+codecs.map((function(type){return type.name})).join(" | ")+")"};exports.union=function(codecs,name){void 0===name&&(name=getUnionName(codecs));var index=getIndex(codecs);if(void 0!==index&&codecs.length>0){var tag_1=index[0],groups_1=index[1],len_1=groups_1.length,find_1=function(value){for(var i=0;i<len_1;i++)if(-1!==groups_1[i].indexOf(value))return i};return new TaggedUnionType(name,(function(u){if(exports.UnknownRecord.is(u)){var i=find_1(u[tag_1]);return void 0!==i&&codecs[i].is(u)}return!1}),(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(r){var i=find_1(r[tag_1]);if(void 0===i)return exports.failure(u,c);var codec=codecs[i];return codec.validate(r,exports.appendContext(c,String(i),codec,r))}))}),useIdentity(codecs)?exports.identity:function(a){var i=find_1(a[tag_1]);if(void 0===i)throw new Error("no codec found to encode value in union codec "+name);return codecs[i].encode(a)},codecs,tag_1)}return new UnionType(name,(function(u){return codecs.some((function(type){return type.is(u)}))}),(function(u,c){for(var errors=[],i=0;i<codecs.length;i++){var codec=codecs[i],result=codec.validate(u,exports.appendContext(c,String(i),codec,u));if(!Either_1.isLeft(result))return exports.success(result.right);pushAll(errors,result.left)}return exports.failures(errors)}),useIdentity(codecs)?exports.identity:function(a){for(var _i=0,codecs_1=codecs;_i<codecs_1.length;_i++){var codec=codecs_1[_i];if(codec.is(a))return codec.encode(a)}throw new Error("no codec found to encode value in union type "+name)},codecs)};var IntersectionType=function(_super){function IntersectionType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;return _this.types=types,_this._tag="IntersectionType",_this}return __extends(IntersectionType,_super),IntersectionType}(Type);exports.IntersectionType=IntersectionType;var mergeAll=function(base,us){for(var equal=!0,primitive=!0,_i=0,us_1=us;_i<us_1.length;_i++){(u=us_1[_i])!==base&&(equal=!1),exports.UnknownRecord.is(u)&&(primitive=!1)}if(equal)return base;if(primitive)return us[us.length-1];for(var r={},_a=0,us_2=us;_a<us_2.length;_a++){var u=us_2[_a];for(var k in u)u[k]===base[k]&&r.hasOwnProperty(k)||(r[k]=u[k])}return r};exports.intersection=function(codecs,name){void 0===name&&(name="("+codecs.map((function(type){return type.name})).join(" & ")+")");var len=codecs.length;return new IntersectionType(name,(function(u){return codecs.every((function(type){return type.is(u)}))}),0===codecs.length?exports.success:function(u,c){for(var us=[],errors=[],i=0;i<len;i++){var codec=codecs[i],result=codec.validate(u,exports.appendContext(c,String(i),codec,u));Either_1.isLeft(result)?pushAll(errors,result.left):us.push(result.right)}return errors.length>0?exports.failures(errors):exports.success(mergeAll(u,us))},0===codecs.length?exports.identity:function(a){return mergeAll(a,codecs.map((function(codec){return codec.encode(a)})))},codecs)};var TupleType=function(_super){function TupleType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;return _this.types=types,_this._tag="TupleType",_this}return __extends(TupleType,_super),TupleType}(Type);exports.TupleType=TupleType,exports.tuple=function(codecs,name){void 0===name&&(name="["+codecs.map((function(type){return type.name})).join(", ")+"]");var len=codecs.length;return new TupleType(name,(function(u){return exports.UnknownArray.is(u)&&u.length===len&&codecs.every((function(type,i){return type.is(u[i])}))}),(function(u,c){return chain(exports.UnknownArray.validate(u,c),(function(us){for(var as=us.length>len?us.slice(0,len):us,errors=[],i=0;i<len;i++){var a=us[i],type_3=codecs[i],result=type_3.validate(a,exports.appendContext(c,String(i),type_3,a));if(Either_1.isLeft(result))pushAll(errors,result.left);else{var va=result.right;va!==a&&(as===us&&(as=us.slice()),as[i]=va)}}return errors.length>0?exports.failures(errors):exports.success(as)}))}),useIdentity(codecs)?exports.identity:function(a){return codecs.map((function(type,i){return type.encode(a[i])}))},codecs)};var ReadonlyType=function(_super){function ReadonlyType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this._tag="ReadonlyType",_this}return __extends(ReadonlyType,_super),ReadonlyType}(Type);exports.ReadonlyType=ReadonlyType,exports.readonly=function(codec,name){return void 0===name&&(name="Readonly<"+codec.name+">"),new ReadonlyType(name,codec.is,(function(u,c){return map(codec.validate(u,c),(function(x){return x}))}),codec.encode===exports.identity?exports.identity:codec.encode,codec)};var ReadonlyArrayType=function(_super){function ReadonlyArrayType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this._tag="ReadonlyArrayType",_this}return __extends(ReadonlyArrayType,_super),ReadonlyArrayType}(Type);exports.ReadonlyArrayType=ReadonlyArrayType,exports.readonlyArray=function(codec,name){void 0===name&&(name="ReadonlyArray<"+codec.name+">");var arrayType=exports.array(codec);return new ReadonlyArrayType(name,arrayType.is,(function(u,c){return map(arrayType.validate(u,c),(function(x){return x}))}),arrayType.encode,codec)},exports.strict=function(props,name){return exports.exact(exports.type(props),name)};var TaggedUnionType=function(_super){function TaggedUnionType(name,is,validate,encode,codecs,tag){var _this=_super.call(this,name,is,validate,encode,codecs)||this;return _this.tag=tag,_this}return __extends(TaggedUnionType,_super),TaggedUnionType}(UnionType);exports.TaggedUnionType=TaggedUnionType,exports.taggedUnion=function(tag,codecs,name){void 0===name&&(name=getUnionName(codecs));var U=exports.union(codecs,name);return U instanceof TaggedUnionType?U:(console.warn("[io-ts] Cannot build a tagged union for "+name+", returning a de-optimized union"),new TaggedUnionType(name,U.is,U.validate,U.encode,codecs,tag))};var ExactType=function(_super){function ExactType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this._tag="ExactType",_this}return __extends(ExactType,_super),ExactType}(Type);exports.ExactType=ExactType;var getProps=function(codec){switch(codec._tag){case"RefinementType":case"ReadonlyType":return getProps(codec.type);case"InterfaceType":case"StrictType":case"PartialType":return codec.props;case"IntersectionType":return codec.types.reduce((function(props,type){return Object.assign(props,getProps(type))}),{})}},stripKeys=function(o,props){for(var keys=Object.getOwnPropertyNames(o),shouldStrip=!1,r={},i=0;i<keys.length;i++){var key=keys[i];hasOwnProperty.call(props,key)?r[key]=o[key]:shouldStrip=!0}return shouldStrip?r:o};exports.exact=function(codec,name){void 0===name&&(name=function(codec){return isInterfaceCodec(codec)?"{| "+getNameFromProps(codec.props)+" |}":isPartialCodec(codec)?getPartialTypeName("{| "+getNameFromProps(codec.props)+" |}"):"Exact<"+codec.name+">"}(codec));var props=getProps(codec);return new ExactType(name,codec.is,(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(){return map(codec.validate(u,c),(function(a){return stripKeys(a,props)}))}))}),(function(a){return codec.encode(stripKeys(a,props))}),codec)},exports.getValidationError=function(value,context){return{value:value,context:context}},exports.getDefaultContext=function(decoder){return[{key:"",type:decoder}]};var NeverType=function(_super){function NeverType(){var _this=_super.call(this,"never",(function(_){return!1}),(function(u,c){return exports.failure(u,c)}),(function(){throw new Error("cannot encode never")}))||this;return _this._tag="NeverType",_this}return __extends(NeverType,_super),NeverType}(Type);exports.NeverType=NeverType,exports.never=new NeverType;var AnyType=function(_super){function AnyType(){var _this=_super.call(this,"any",(function(_){return!0}),exports.success,exports.identity)||this;return _this._tag="AnyType",_this}return __extends(AnyType,_super),AnyType}(Type);exports.AnyType=AnyType,exports.any=new AnyType,exports.Dictionary=exports.UnknownRecord;var ObjectType=function(_super){function ObjectType(){var _this=_super.call(this,"object",(function(u){return null!==u&&"object"==typeof u}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;return _this._tag="ObjectType",_this}return __extends(ObjectType,_super),ObjectType}(Type);function refinement(codec,predicate,name){return void 0===name&&(name="("+codec.name+" | "+exports.getFunctionName(predicate)+")"),new RefinementType(name,(function(u){return codec.is(u)&&predicate(u)}),(function(i,c){return chain(codec.validate(i,c),(function(a){return predicate(a)?exports.success(a):exports.failure(a,c)}))}),codec.encode,codec,predicate)}exports.ObjectType=ObjectType,exports.object=new ObjectType,exports.refinement=refinement,exports.Integer=refinement(exports.number,Number.isInteger,"Integer"),exports.dictionary=exports.record;var StrictType=function(_super){function StrictType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;return _this.props=props,_this._tag="StrictType",_this}return __extends(StrictType,_super),StrictType}(Type);exports.StrictType=StrictType,exports.clean=function(codec){return codec},exports.alias=function(codec){return function(){return codec}};function intersect(a,b){for(var r=[],_i=0,a_1=a;_i<a_1.length;_i++){var v=a_1[_i];-1!==b.indexOf(v)&&r.push(v)}return r}function isLiteralC(codec){return"LiteralType"===codec._tag}exports.emptyTags={};var lazyCodecs=[];function getTags(codec){if(-1!==lazyCodecs.indexOf(codec))return exports.emptyTags;if(function(codec){return"InterfaceType"===codec._tag}(codec)||function(codec){return"StrictType"===codec._tag}(codec)){var index=exports.emptyTags;for(var k in codec.props){var prop=codec.props[k];isLiteralC(prop)&&(index===exports.emptyTags&&(index={}),index[k]=[prop.value])}return index}if(function(codec){return"ExactType"===codec._tag}(codec)||function(codec){return"RefinementType"===codec._tag}(codec))return getTags(codec.type);if(function(codec){return"IntersectionType"===codec._tag}(codec))return codec.types.reduce((function(tags,codec){return function(a,b){if(a===exports.emptyTags)return b;if(b===exports.emptyTags)return a;var r=Object.assign({},a);for(var k in b)if(a.hasOwnProperty(k)){var intersection_1=intersect(a[k],b[k]);if(!(intersection_1.length>0)){r=exports.emptyTags;break}r[k]=intersection_1}else r[k]=b[k];return r}(tags,getTags(codec))}),exports.emptyTags);if(function(codec){return"UnionType"===codec._tag}(codec))return codec.types.slice(1).reduce((function(tags,codec){return function(a,b){if(a===exports.emptyTags||b===exports.emptyTags)return exports.emptyTags;var r=exports.emptyTags;for(var k in a){if(b.hasOwnProperty(k))0===intersect(a[k],b[k]).length&&(r===exports.emptyTags&&(r={}),r[k]=a[k].concat(b[k]))}return r}(tags,getTags(codec))}),getTags(codec.types[0]));if(function(codec){return"RecursiveType"===codec._tag}(codec)){lazyCodecs.push(codec);var tags=getTags(codec.type);return lazyCodecs.pop(),tags}return exports.emptyTags}function getIndex(codecs){var tags=getTags(codecs[0]),keys=Object.keys(tags),len=codecs.length,_loop_1=function(k){for(var all=tags[k].slice(),index=[tags[k]],i=1;i<len;i++){var values=getTags(codecs[i])[k];if(void 0===values)return"continue-keys";if(values.some((function(v){return-1!==all.indexOf(v)})))return"continue-keys";all.push.apply(all,values),index.push(values)}return{value:[k,index]}};keys:for(var _i=0,keys_1=keys;_i<keys_1.length;_i++){var state_1=_loop_1(keys_1[_i]);if("object"==typeof state_1)return state_1.value;switch(state_1){case"continue-keys":continue keys}}}exports.getTags=getTags,exports.getIndex=getIndex},function(module,exports,__webpack_require__){var v1=__webpack_require__(97),v4=__webpack_require__(98),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},function(module,exports){var getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);module.exports=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}},function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(105)()},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(108);function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}module.exports=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.getBatch=exports.setBatch=void 0;var batch=function(callback){callback()};exports.setBatch=function(newBatch){return batch=newBatch};exports.getBatch=function(){return batch}},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(69),_interopRequireDefault=__webpack_require__(37);exports.__esModule=!0,exports.default=function(selectorFactory,_ref){void 0===_ref&&(_ref={});var _ref2=_ref,_ref2$getDisplayName=_ref2.getDisplayName,getDisplayName=void 0===_ref2$getDisplayName?function(name){return"ConnectAdvanced("+name+")"}:_ref2$getDisplayName,_ref2$methodName=_ref2.methodName,methodName=void 0===_ref2$methodName?"connectAdvanced":_ref2$methodName,_ref2$renderCountProp=_ref2.renderCountProp,renderCountProp=void 0===_ref2$renderCountProp?void 0:_ref2$renderCountProp,_ref2$shouldHandleSta=_ref2.shouldHandleStateChanges,shouldHandleStateChanges=void 0===_ref2$shouldHandleSta||_ref2$shouldHandleSta,_ref2$storeKey=_ref2.storeKey,storeKey=void 0===_ref2$storeKey?"store":_ref2$storeKey,_ref2$forwardRef=(_ref2.withRef,_ref2.forwardRef),forwardRef=void 0!==_ref2$forwardRef&&_ref2$forwardRef,_ref2$context=_ref2.context,context=void 0===_ref2$context?_Context.ReactReduxContext:_ref2$context,connectOptions=(0,_objectWithoutPropertiesLoose2.default)(_ref2,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);0;var Context=context;return function(WrappedComponent){var wrappedComponentName=WrappedComponent.displayName||WrappedComponent.name||"Component",displayName=getDisplayName(wrappedComponentName),selectorFactoryOptions=(0,_extends2.default)({},connectOptions,{getDisplayName:getDisplayName,methodName:methodName,renderCountProp:renderCountProp,shouldHandleStateChanges:shouldHandleStateChanges,storeKey:storeKey,displayName:displayName,wrappedComponentName:wrappedComponentName,WrappedComponent:WrappedComponent}),pure=connectOptions.pure;var usePureOnlyMemo=pure?_react.useMemo:function(callback){return callback()};function ConnectFunction(props){var _useMemo=(0,_react.useMemo)((function(){var forwardedRef=props.forwardedRef,wrapperProps=(0,_objectWithoutPropertiesLoose2.default)(props,["forwardedRef"]);return[props.context,forwardedRef,wrapperProps]}),[props]),propsContext=_useMemo[0],forwardedRef=_useMemo[1],wrapperProps=_useMemo[2],ContextToUse=(0,_react.useMemo)((function(){return propsContext&&propsContext.Consumer&&(0,_reactIs.isContextConsumer)(_react.default.createElement(propsContext.Consumer,null))?propsContext:Context}),[propsContext,Context]),contextValue=(0,_react.useContext)(ContextToUse),didStoreComeFromProps=Boolean(props.store)&&Boolean(props.store.getState)&&Boolean(props.store.dispatch);Boolean(contextValue)&&Boolean(contextValue.store);var store=didStoreComeFromProps?props.store:contextValue.store,childPropsSelector=(0,_react.useMemo)((function(){return function(store){return selectorFactory(store.dispatch,selectorFactoryOptions)}(store)}),[store]),_useMemo2=(0,_react.useMemo)((function(){if(!shouldHandleStateChanges)return NO_SUBSCRIPTION_ARRAY;var subscription=new _Subscription.default(store,didStoreComeFromProps?null:contextValue.subscription),notifyNestedSubs=subscription.notifyNestedSubs.bind(subscription);return[subscription,notifyNestedSubs]}),[store,didStoreComeFromProps,contextValue]),subscription=_useMemo2[0],notifyNestedSubs=_useMemo2[1],overriddenContextValue=(0,_react.useMemo)((function(){return didStoreComeFromProps?contextValue:(0,_extends2.default)({},contextValue,{subscription:subscription})}),[didStoreComeFromProps,contextValue,subscription]),_useReducer=(0,_react.useReducer)(storeStateUpdatesReducer,EMPTY_ARRAY,initStateUpdates),previousStateUpdateResult=_useReducer[0][0],forceComponentUpdateDispatch=_useReducer[1];if(previousStateUpdateResult&&previousStateUpdateResult.error)throw previousStateUpdateResult.error;var lastChildProps=(0,_react.useRef)(),lastWrapperProps=(0,_react.useRef)(wrapperProps),childPropsFromStoreUpdate=(0,_react.useRef)(),renderIsScheduled=(0,_react.useRef)(!1),actualChildProps=usePureOnlyMemo((function(){return childPropsFromStoreUpdate.current&&wrapperProps===lastWrapperProps.current?childPropsFromStoreUpdate.current:childPropsSelector(store.getState(),wrapperProps)}),[store,previousStateUpdateResult,wrapperProps]);useIsomorphicLayoutEffectWithArgs(captureWrapperProps,[lastWrapperProps,lastChildProps,renderIsScheduled,wrapperProps,actualChildProps,childPropsFromStoreUpdate,notifyNestedSubs]),useIsomorphicLayoutEffectWithArgs(subscribeUpdates,[shouldHandleStateChanges,store,subscription,childPropsSelector,lastWrapperProps,lastChildProps,renderIsScheduled,childPropsFromStoreUpdate,notifyNestedSubs,forceComponentUpdateDispatch],[store,subscription,childPropsSelector]);var renderedWrappedComponent=(0,_react.useMemo)((function(){return _react.default.createElement(WrappedComponent,(0,_extends2.default)({},actualChildProps,{ref:forwardedRef}))}),[forwardedRef,WrappedComponent,actualChildProps]);return(0,_react.useMemo)((function(){return shouldHandleStateChanges?_react.default.createElement(ContextToUse.Provider,{value:overriddenContextValue},renderedWrappedComponent):renderedWrappedComponent}),[ContextToUse,renderedWrappedComponent,overriddenContextValue])}var Connect=pure?_react.default.memo(ConnectFunction):ConnectFunction;if(Connect.WrappedComponent=WrappedComponent,Connect.displayName=displayName,forwardRef){var forwarded=_react.default.forwardRef((function(props,ref){return _react.default.createElement(Connect,(0,_extends2.default)({},props,{forwardedRef:ref}))}));return forwarded.displayName=displayName,forwarded.WrappedComponent=WrappedComponent,(0,_hoistNonReactStatics.default)(forwarded,WrappedComponent)}return(0,_hoistNonReactStatics.default)(Connect,WrappedComponent)}};var _extends2=_interopRequireDefault(__webpack_require__(56)),_objectWithoutPropertiesLoose2=_interopRequireDefault(__webpack_require__(57)),_hoistNonReactStatics=_interopRequireDefault(__webpack_require__(109)),_react=_interopRequireWildcard(__webpack_require__(19)),_reactIs=__webpack_require__(72),_Subscription=_interopRequireDefault(__webpack_require__(55)),_useIsomorphicLayoutEffect=__webpack_require__(73),_Context=__webpack_require__(41),EMPTY_ARRAY=[],NO_SUBSCRIPTION_ARRAY=[null,null];function storeStateUpdatesReducer(state,action){var updateCount=state[1];return[action.payload,updateCount+1]}function useIsomorphicLayoutEffectWithArgs(effectFunc,effectArgs,dependencies){(0,_useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)((function(){return effectFunc.apply(void 0,effectArgs)}),dependencies)}function captureWrapperProps(lastWrapperProps,lastChildProps,renderIsScheduled,wrapperProps,actualChildProps,childPropsFromStoreUpdate,notifyNestedSubs){lastWrapperProps.current=wrapperProps,lastChildProps.current=actualChildProps,renderIsScheduled.current=!1,childPropsFromStoreUpdate.current&&(childPropsFromStoreUpdate.current=null,notifyNestedSubs())}function subscribeUpdates(shouldHandleStateChanges,store,subscription,childPropsSelector,lastWrapperProps,lastChildProps,renderIsScheduled,childPropsFromStoreUpdate,notifyNestedSubs,forceComponentUpdateDispatch){if(shouldHandleStateChanges){var didUnsubscribe=!1,lastThrownError=null,checkForUpdates=function(){if(!didUnsubscribe){var newChildProps,error,latestStoreState=store.getState();try{newChildProps=childPropsSelector(latestStoreState,lastWrapperProps.current)}catch(e){error=e,lastThrownError=e}error||(lastThrownError=null),newChildProps===lastChildProps.current?renderIsScheduled.current||notifyNestedSubs():(lastChildProps.current=newChildProps,childPropsFromStoreUpdate.current=newChildProps,renderIsScheduled.current=!0,forceComponentUpdateDispatch({type:"STORE_UPDATED",payload:{error:error}}))}};subscription.onStateChange=checkForUpdates,subscription.trySubscribe(),checkForUpdates();return function(){if(didUnsubscribe=!0,subscription.tryUnsubscribe(),subscription.onStateChange=null,lastThrownError)throw lastThrownError}}}var initStateUpdates=function(){return[null,0]}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(110)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.useIsomorphicLayoutEffect=void 0;var _react=__webpack_require__(19),useIsomorphicLayoutEffect="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?_react.useLayoutEffect:_react.useEffect;exports.useIsomorphicLayoutEffect=useIsomorphicLayoutEffect},function(module,exports,__webpack_require__){"use strict";function is(x,y){return x===y?0!==x||0!==y||1/x==1/y:x!=x&&y!=y}exports.__esModule=!0,exports.default=function(objA,objB){if(is(objA,objB))return!0;if("object"!=typeof objA||null===objA||"object"!=typeof objB||null===objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var i=0;i<keysA.length;i++)if(!Object.prototype.hasOwnProperty.call(objB,keysA[i])||!is(objA[keysA[i]],objB[keysA[i]]))return!1;return!0}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(37);exports.__esModule=!0,exports.wrapMapToPropsConstant=function(getConstant){return function(dispatch,options){var constant=getConstant(dispatch,options);function constantSelector(){return constant}return constantSelector.dependsOnOwnProps=!1,constantSelector}},exports.getDependsOnOwnProps=getDependsOnOwnProps,exports.wrapMapToPropsFunc=function(mapToProps,methodName){return function(dispatch,_ref){_ref.displayName;var proxy=function(stateOrDispatch,ownProps){return proxy.dependsOnOwnProps?proxy.mapToProps(stateOrDispatch,ownProps):proxy.mapToProps(stateOrDispatch)};return proxy.dependsOnOwnProps=!0,proxy.mapToProps=function(stateOrDispatch,ownProps){proxy.mapToProps=mapToProps,proxy.dependsOnOwnProps=getDependsOnOwnProps(mapToProps);var props=proxy(stateOrDispatch,ownProps);return"function"==typeof props&&(proxy.mapToProps=props,proxy.dependsOnOwnProps=getDependsOnOwnProps(props),props=proxy(stateOrDispatch,ownProps)),props},proxy}};_interopRequireDefault(__webpack_require__(76));function getDependsOnOwnProps(mapToProps){return null!==mapToProps.dependsOnOwnProps&&void 0!==mapToProps.dependsOnOwnProps?Boolean(mapToProps.dependsOnOwnProps):1!==mapToProps.length}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(37);exports.__esModule=!0,exports.default=function(value,displayName,methodName){(0,_isPlainObject.default)(value)||(0,_warning.default)(methodName+"() in "+displayName+" must return a plain object. Instead received "+value+".")};var _isPlainObject=_interopRequireDefault(__webpack_require__(117)),_warning=_interopRequireDefault(__webpack_require__(77))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(message){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(message);try{throw new Error(message)}catch(e){}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.createStoreHook=createStoreHook,exports.useStore=void 0;var _react=__webpack_require__(19),_Context=__webpack_require__(41),_useReduxContext2=__webpack_require__(79);function createStoreHook(context){void 0===context&&(context=_Context.ReactReduxContext);var useReduxContext=context===_Context.ReactReduxContext?_useReduxContext2.useReduxContext:function(){return(0,_react.useContext)(context)};return function(){return useReduxContext().store}}var useStore=createStoreHook();exports.useStore=useStore},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.useReduxContext=function(){0;return(0,_react.useContext)(_Context.ReactReduxContext)};var _react=__webpack_require__(19),_Context=__webpack_require__(41)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(81),__webpack_require__(82),__webpack_require__(83),__webpack_require__(84),__webpack_require__(43),__webpack_require__(85)},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(value){return 0===value.length}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(value){return value.toString()}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(value){return"string"==typeof value}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(value){return null==value}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var obj,_toCamelCase=(obj=__webpack_require__(158))&&obj.__esModule?obj:{default:obj};exports.default=function(type){return-1===type.indexOf("/")?(0,_toCamelCase.default)(type):type.split("/").map(_toCamelCase.default).join("/")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _constants=__webpack_require__(45),_ownKeys=_interopRequireDefault(__webpack_require__(60)),_get=_interopRequireDefault(__webpack_require__(93));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(predicate){return function flatten(map,_temp,partialFlatMap,partialFlatActionType){var _ref=void 0===_temp?{}:_temp,_ref$namespace=_ref.namespace,namespace=void 0===_ref$namespace?_constants.DEFAULT_NAMESPACE:_ref$namespace,prefix=_ref.prefix;return void 0===partialFlatMap&&(partialFlatMap={}),void 0===partialFlatActionType&&(partialFlatActionType=""),(0,_ownKeys.default)(map).forEach((function(type){var nextNamespace=function(type){return partialFlatActionType||!prefix||prefix&&new RegExp("^"+prefix+namespace).test(type)?type:""+prefix+namespace+type}(function(type){var _ref2;if(!partialFlatActionType)return type;var types=type.toString().split(_constants.ACTION_TYPE_DELIMITER),partials=partialFlatActionType.split(_constants.ACTION_TYPE_DELIMITER);return(_ref2=[]).concat.apply(_ref2,partials.map((function(p){return types.map((function(t){return""+p+namespace+t}))}))).join(_constants.ACTION_TYPE_DELIMITER)}(type)),mapValue=(0,_get.default)(type,map);predicate(mapValue)?flatten(mapValue,{namespace:namespace,prefix:prefix},partialFlatMap,nextNamespace):partialFlatMap[nextNamespace]=mapValue})),partialFlatMap}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(key,x){return(0,_isMap.default)(x)?x.get(key):x[key]};var obj,_isMap=(obj=__webpack_require__(51))&&obj.__esModule?obj:{default:obj}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(type,reducer,defaultState){void 0===reducer&&(reducer=_identity.default);var types=(0,_toString.default)(type).split(_constants.ACTION_TYPE_DELIMITER);(0,_invariant.default)(!(0,_isUndefined.default)(defaultState),"defaultState for reducer handling "+types.join(", ")+" should be defined"),(0,_invariant.default)((0,_isFunction.default)(reducer)||(0,_isPlainObject.default)(reducer),"Expected reducer to be a function or object with next and throw reducers");var _ref=(0,_isFunction.default)(reducer)?[reducer,reducer]:[reducer.next,reducer.throw].map((function(aReducer){return(0,_isNil.default)(aReducer)?_identity.default:aReducer})),nextReducer=_ref[0],throwReducer=_ref[1];return function(state,action){void 0===state&&(state=defaultState);var actionType=action.type;return actionType&&-1!==types.indexOf((0,_toString.default)(actionType))?(!0===action.error?throwReducer:nextReducer)(state,action):state}};var _invariant=_interopRequireDefault(__webpack_require__(44)),_isFunction=_interopRequireDefault(__webpack_require__(50)),_isPlainObject=_interopRequireDefault(__webpack_require__(46)),_identity=_interopRequireDefault(__webpack_require__(59)),_isNil=_interopRequireDefault(__webpack_require__(90)),_isUndefined=_interopRequireDefault(__webpack_require__(166)),_toString=_interopRequireDefault(__webpack_require__(88)),_constants=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tailRec=void 0,exports.tailRec=function(a,f){for(var v=f(a);"Left"===v._tag;)v=f(v.left);return v.right}},function(module,exports,__webpack_require__){var _nodeId,_clockseq,rng=__webpack_require__(63),bytesToUuid=__webpack_require__(64),_lastMSecs=0,_lastNSecs=0;module.exports=function(options,buf,offset){var i=buf&&offset||0,b=buf||[],node=(options=options||{}).node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=rng();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}var msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}},function(module,exports,__webpack_require__){var rng=__webpack_require__(63),bytesToUuid=__webpack_require__(64);module.exports=function(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}},function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterMap=exports.separate=exports.compact=exports.fromArray=exports.toggle=exports.remove=exports.insert=exports.singleton=exports.foldMap=exports.reduce=exports.getIntersectionSemigroup=exports.getUnionMonoid=exports.difference=exports.partitionMap=exports.intersection=exports.union=exports.elem=exports.partition=exports.filter=exports.subset=exports.chain=exports.every=exports.map=exports.some=exports.getEq=exports.toArray=exports.empty=exports.getShow=void 0;var RS=__importStar(__webpack_require__(100));exports.getShow=RS.getShow,exports.empty=new Set,exports.toArray=RS.toReadonlyArray,exports.getEq=RS.getEq,exports.some=RS.some,exports.map=RS.map,exports.every=RS.every,exports.chain=RS.chain,exports.subset=RS.isSubset,exports.filter=function(predicate){return RS.filter(predicate)},exports.partition=function(predicate){return RS.partition(predicate)},exports.elem=RS.elem,exports.union=RS.union,exports.intersection=RS.intersection,exports.partitionMap=RS.partitionMap,exports.difference=RS.difference,exports.getUnionMonoid=RS.getUnionMonoid,exports.getIntersectionSemigroup=RS.getIntersectionSemigroup,exports.reduce=RS.reduce,exports.foldMap=RS.foldMap,exports.singleton=RS.singleton,exports.insert=RS.insert,exports.remove=RS.remove,exports.toggle=function(E){var elemE=exports.elem(E),removeE=exports.remove(E),insertE=exports.insert(E);return function(a){return function(set){return(elemE(a,set)?removeE:insertE)(a)(set)}}},exports.fromArray=RS.fromArray,exports.compact=RS.compact,exports.separate=RS.separate,exports.filterMap=RS.filterMap},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterMap=exports.separate=exports.compact=exports.fromArray=exports.remove=exports.insert=exports.singleton=exports.foldMap=exports.reduce=exports.getIntersectionSemigroup=exports.getUnionMonoid=exports.difference=exports.partitionMap=exports.intersection=exports.union=exports.elem=exports.partition=exports.filter=exports.isSubset=exports.chain=exports.every=exports.map=exports.some=exports.getEq=exports.toReadonlyArray=exports.empty=exports.getShow=exports.toSet=exports.fromSet=void 0;var Eq_1=__webpack_require__(101),function_1=__webpack_require__(48);function toReadonlyArray(O){return function(x){var r=[];return x.forEach((function(e){return r.push(e)})),r.sort(O.compare)}}function some(predicate){return function(set){for(var e,values=set.values(),found=!1;!found&&!(e=values.next()).done;)found=predicate(e.value);return found}}function every(predicate){return function_1.not(some(function_1.not(predicate)))}function isSubset(E){var elemE=elem(E);return function(me,that){if(void 0===that){var isSubsetE_1=isSubset(E);return function(that){return isSubsetE_1(that,me)}}return every((function(a){return elemE(a,that)}))(me)}}function filter(predicate){return function(set){for(var e,values=set.values(),r=new Set;!(e=values.next()).done;){var value=e.value;predicate(value)&&r.add(value)}return r}}function elem(E){return function(a,set){if(void 0===set){var elemE_1=elem(E);return function(set){return elemE_1(a,set)}}for(var e,values=set.values(),found=!1;!found&&!(e=values.next()).done;)found=E.equals(a,e.value);return found}}function union(E){var elemE=elem(E);return function(me,that){if(void 0===that){var unionE_1=union(E);return function(that){return unionE_1(me,that)}}if(me===exports.empty)return that;if(that===exports.empty)return me;var r=new Set(me);return that.forEach((function(e){elemE(e,r)||r.add(e)})),r}}function intersection(E){var elemE=elem(E);return function(me,that){if(void 0===that){var intersectionE_1=intersection(E);return function(that){return intersectionE_1(that,me)}}if(me===exports.empty||that===exports.empty)return exports.empty;var r=new Set;return me.forEach((function(e){elemE(e,that)&&r.add(e)})),r}}function filterMap(E){var elemE=elem(E);return function(f){return function(fa){var r=new Set;return fa.forEach((function(a){var ob=f(a);"Some"!==ob._tag||elemE(ob.value,r)||r.add(ob.value)})),r}}}exports.fromSet=function(s){return new Set(s)},exports.toSet=function(s){return new Set(s)},exports.getShow=function(S){return{show:function(s){var elements="";return s.forEach((function(a){elements+=S.show(a)+", "})),""!==elements&&(elements=elements.substring(0,elements.length-2)),"new Set(["+elements+"])"}}},exports.empty=new Set,exports.toReadonlyArray=toReadonlyArray,exports.getEq=function(E){var subsetE=isSubset(E);return Eq_1.fromEquals((function(x,y){return subsetE(x,y)&&subsetE(y,x)}))},exports.some=some,exports.map=function(E){var elemE=elem(E);return function(f){return function(set){var r=new Set;return set.forEach((function(e){var v=f(e);elemE(v,r)||r.add(v)})),r}}},exports.every=every,exports.chain=function(E){var elemE=elem(E);return function(f){return function(set){var r=new Set;return set.forEach((function(e){f(e).forEach((function(e){elemE(e,r)||r.add(e)}))})),r}}},exports.isSubset=isSubset,exports.filter=filter,exports.partition=function(predicate){return function(set){for(var e,values=set.values(),right=new Set,left=new Set;!(e=values.next()).done;){var value=e.value;predicate(value)?right.add(value):left.add(value)}return{left:left,right:right}}},exports.elem=elem,exports.union=union,exports.intersection=intersection,exports.partitionMap=function(EB,EC){return function(f){return function(set){for(var e,values=set.values(),left=new Set,right=new Set,hasB=elem(EB),hasC=elem(EC);!(e=values.next()).done;){var v=f(e.value);switch(v._tag){case"Left":hasB(v.left,left)||left.add(v.left);break;case"Right":hasC(v.right,right)||right.add(v.right)}}return{left:left,right:right}}}},exports.difference=function difference(E){var elemE=elem(E);return function(me,that){if(void 0===that){var differenceE_1=difference(E);return function(that){return differenceE_1(that,me)}}return filter((function(a){return!elemE(a,that)}))(me)}},exports.getUnionMonoid=function(E){return{concat:union(E),empty:exports.empty}},exports.getIntersectionSemigroup=function(E){return{concat:intersection(E)}},exports.reduce=function(O){var toArrayO=toReadonlyArray(O);return function(b,f){return function(fa){return toArrayO(fa).reduce(f,b)}}},exports.foldMap=function(O,M){var toArrayO=toReadonlyArray(O);return function(f){return function(fa){return toArrayO(fa).reduce((function(b,a){return M.concat(b,f(a))}),M.empty)}}},exports.singleton=function(a){return new Set([a])},exports.insert=function(E){var elemE=elem(E);return function(a){return function(set){if(elemE(a)(set))return set;var r=new Set(set);return r.add(a),r}}},exports.remove=function(E){return function(a){return function(set){return filter((function(ax){return!E.equals(a,ax)}))(set)}}},exports.fromArray=function(E){return function(as){for(var len=as.length,r=new Set,has=elem(E),i=0;i<len;i++){var a=as[i];has(a,r)||r.add(a)}return r}},exports.compact=function(E){return filterMap(E)(function_1.identity)},exports.separate=function(EE,EA){return function(fa){var elemEE=elem(EE),elemEA=elem(EA),left=new Set,right=new Set;return fa.forEach((function(e){switch(e._tag){case"Left":elemEE(e.left,left)||left.add(e.left);break;case"Right":elemEA(e.right,right)||right.add(e.right)}})),{left:left,right:right}}},exports.filterMap=filterMap},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.eq=exports.Contravariant=exports.getMonoid=exports.eqDate=exports.getTupleEq=exports.getStructEq=exports.eqBoolean=exports.eqNumber=exports.eqString=exports.strictEqual=exports.eqStrict=exports.URI=exports.contramap=exports.fromEquals=void 0;var function_1=__webpack_require__(48);function fromEquals(equals){return{equals:function(x,y){return x===y||equals(x,y)}}}exports.fromEquals=fromEquals;function strictEqual(a,b){return a===b}exports.contramap=function(f){return function(fa){return fromEquals((function(x,y){return fa.equals(f(x),f(y))}))}},exports.URI="Eq",exports.eqStrict={equals:strictEqual},exports.strictEqual=strictEqual,exports.eqString=exports.eqStrict,exports.eqNumber=exports.eqStrict,exports.eqBoolean=exports.eqStrict,exports.getStructEq=function(eqs){return fromEquals((function(x,y){for(var k in eqs)if(!eqs[k].equals(x[k],y[k]))return!1;return!0}))},exports.getTupleEq=function(){for(var eqs=[],_i=0;_i<arguments.length;_i++)eqs[_i]=arguments[_i];return fromEquals((function(x,y){return eqs.every((function(E,i){return E.equals(x[i],y[i])}))}))},exports.eqDate={equals:function(x,y){return x.valueOf()===y.valueOf()}};var empty={equals:function(){return!0}};exports.getMonoid=function(){return{concat:function(x,y){return fromEquals((function(a,b){return x.equals(a,b)&&y.equals(a,b)}))},empty:empty}},exports.Contravariant={URI:exports.URI,contramap:function(fa,f){return function_1.pipe(fa,exports.contramap(f))}},exports.eq=exports.Contravariant},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ord=exports.Contravariant=exports.ordDate=exports.URI=exports.contramap=exports.getDualOrd=exports.getTupleOrd=exports.getMonoid=exports.getSemigroup=exports.fromCompare=exports.between=exports.clamp=exports.max=exports.min=exports.geq=exports.leq=exports.gt=exports.lt=exports.ordBoolean=exports.ordNumber=exports.ordString=void 0;var Ordering_1=__webpack_require__(103),function_1=__webpack_require__(48);function compare(x,y){return x<y?-1:x>y?1:0}function strictEqual(a,b){return a===b}function lt(O){return function(x,y){return-1===O.compare(x,y)}}function gt(O){return function(x,y){return 1===O.compare(x,y)}}function min(O){return function(x,y){return 1===O.compare(x,y)?y:x}}function max(O){return function(x,y){return-1===O.compare(x,y)?y:x}}function fromCompare(compare){var optimizedCompare=function(x,y){return x===y?0:compare(x,y)};return{equals:function(x,y){return 0===optimizedCompare(x,y)},compare:optimizedCompare}}function getSemigroup(){return{concat:function(x,y){return fromCompare((function(a,b){return Ordering_1.monoidOrdering.concat(x.compare(a,b),y.compare(a,b))}))}}}exports.ordString={equals:strictEqual,compare:compare},exports.ordNumber={equals:strictEqual,compare:compare},exports.ordBoolean={equals:strictEqual,compare:compare},exports.lt=lt,exports.gt=gt,exports.leq=function(O){return function(x,y){return 1!==O.compare(x,y)}},exports.geq=function(O){return function(x,y){return-1!==O.compare(x,y)}},exports.min=min,exports.max=max,exports.clamp=function(O){var minO=min(O),maxO=max(O);return function(low,hi){return function(x){return maxO(minO(x,hi),low)}}},exports.between=function(O){var lessThanO=lt(O),greaterThanO=gt(O);return function(low,hi){return function(x){return!lessThanO(x,low)&&!greaterThanO(x,hi)}}},exports.fromCompare=fromCompare,exports.getSemigroup=getSemigroup,exports.getMonoid=function(){return{concat:getSemigroup().concat,empty:fromCompare((function(){return 0}))}},exports.getTupleOrd=function(){for(var ords=[],_i=0;_i<arguments.length;_i++)ords[_i]=arguments[_i];var len=ords.length;return fromCompare((function(x,y){for(var i=0;i<len-1;i++){var r=ords[i].compare(x[i],y[i]);if(0!==r)return r}return ords[i].compare(x[i],y[i])}))},exports.getDualOrd=function(O){return fromCompare((function(x,y){return O.compare(y,x)}))};exports.contramap=function(f){return function(fa){return fromCompare((function(x,y){return fa.compare(f(x),f(y))}))}},exports.URI="Ord",exports.ordDate=function_1.pipe(exports.ordNumber,exports.contramap((function(date){return date.valueOf()}))),exports.Contravariant={URI:exports.URI,contramap:function(fa,f){return function_1.pipe(fa,exports.contramap(f))}},exports.ord=exports.Contravariant},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.invert=exports.monoidOrdering=exports.semigroupOrdering=exports.eqOrdering=exports.sign=void 0,exports.sign=function(n){return n<=-1?-1:n>=1?1:0},exports.eqOrdering={equals:function(x,y){return x===y}},exports.semigroupOrdering={concat:function(x,y){return 0!==x?x:y}},exports.monoidOrdering={concat:exports.semigroupOrdering.concat,empty:0},exports.invert=function(O){switch(O){case-1:return 1;case 1:return-1;default:return 0}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(19),PropTypes=__webpack_require__(65),extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};var ALIGNMENT,DIRECTION,SCROLL_CHANGE_REASON,__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};!function(ALIGNMENT){ALIGNMENT.AUTO="auto",ALIGNMENT.START="start",ALIGNMENT.CENTER="center",ALIGNMENT.END="end"}(ALIGNMENT||(ALIGNMENT={})),(DIRECTION=exports.ScrollDirection||(exports.ScrollDirection={})).HORIZONTAL="horizontal",DIRECTION.VERTICAL="vertical",function(SCROLL_CHANGE_REASON){SCROLL_CHANGE_REASON.OBSERVED="observed",SCROLL_CHANGE_REASON.REQUESTED="requested"}(SCROLL_CHANGE_REASON||(SCROLL_CHANGE_REASON={}));var _a,_b,_c,_d,_e,scrollProp=((_a={})[exports.ScrollDirection.VERTICAL]="scrollTop",_a[exports.ScrollDirection.HORIZONTAL]="scrollLeft",_a),sizeProp=((_b={})[exports.ScrollDirection.VERTICAL]="height",_b[exports.ScrollDirection.HORIZONTAL]="width",_b),positionProp=((_c={})[exports.ScrollDirection.VERTICAL]="top",_c[exports.ScrollDirection.HORIZONTAL]="left",_c),marginProp=((_d={})[exports.ScrollDirection.VERTICAL]="marginTop",_d[exports.ScrollDirection.HORIZONTAL]="marginLeft",_d),oppositeMarginProp=((_e={})[exports.ScrollDirection.VERTICAL]="marginBottom",_e[exports.ScrollDirection.HORIZONTAL]="marginRight",_e),SizeAndPositionManager=function(){function SizeAndPositionManager(_a){var itemCount=_a.itemCount,itemSizeGetter=_a.itemSizeGetter,estimatedItemSize=_a.estimatedItemSize;this.itemSizeGetter=itemSizeGetter,this.itemCount=itemCount,this.estimatedItemSize=estimatedItemSize,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1}return SizeAndPositionManager.prototype.updateConfig=function(_a){var itemCount=_a.itemCount,itemSizeGetter=_a.itemSizeGetter,estimatedItemSize=_a.estimatedItemSize;null!=itemCount&&(this.itemCount=itemCount),null!=estimatedItemSize&&(this.estimatedItemSize=estimatedItemSize),null!=itemSizeGetter&&(this.itemSizeGetter=itemSizeGetter)},SizeAndPositionManager.prototype.getLastMeasuredIndex=function(){return this.lastMeasuredIndex},SizeAndPositionManager.prototype.getSizeAndPositionForIndex=function(index){if(index<0||index>=this.itemCount)throw Error("Requested index "+index+" is outside of range 0.."+this.itemCount);if(index>this.lastMeasuredIndex){for(var lastMeasuredSizeAndPosition=this.getSizeAndPositionOfLastMeasuredItem(),offset=lastMeasuredSizeAndPosition.offset+lastMeasuredSizeAndPosition.size,i=this.lastMeasuredIndex+1;i<=index;i++){var size=this.itemSizeGetter(i);if(null==size||isNaN(size))throw Error("Invalid size returned for index "+i+" of value "+size);this.itemSizeAndPositionData[i]={offset:offset,size:size},offset+=size}this.lastMeasuredIndex=index}return this.itemSizeAndPositionData[index]},SizeAndPositionManager.prototype.getSizeAndPositionOfLastMeasuredItem=function(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}},SizeAndPositionManager.prototype.getTotalSize=function(){var lastMeasuredSizeAndPosition=this.getSizeAndPositionOfLastMeasuredItem();return lastMeasuredSizeAndPosition.offset+lastMeasuredSizeAndPosition.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize},SizeAndPositionManager.prototype.getUpdatedOffsetForIndex=function(_a){var _b=_a.align,align=void 0===_b?ALIGNMENT.START:_b,containerSize=_a.containerSize,currentOffset=_a.currentOffset,targetIndex=_a.targetIndex;if(containerSize<=0)return 0;var idealOffset,datum=this.getSizeAndPositionForIndex(targetIndex),maxOffset=datum.offset,minOffset=maxOffset-containerSize+datum.size;switch(align){case ALIGNMENT.END:idealOffset=minOffset;break;case ALIGNMENT.CENTER:idealOffset=maxOffset-(containerSize-datum.size)/2;break;case ALIGNMENT.START:idealOffset=maxOffset;break;default:idealOffset=Math.max(minOffset,Math.min(maxOffset,currentOffset))}var totalSize=this.getTotalSize();return Math.max(0,Math.min(totalSize-containerSize,idealOffset))},SizeAndPositionManager.prototype.getVisibleRange=function(_a){var containerSize=_a.containerSize,offset=_a.offset,overscanCount=_a.overscanCount;if(0===this.getTotalSize())return{};var maxOffset=offset+containerSize,start=this.findNearestItem(offset);if(void 0===start)throw Error("Invalid offset "+offset+" specified");var datum=this.getSizeAndPositionForIndex(start);offset=datum.offset+datum.size;for(var stop=start;offset<maxOffset&&stop<this.itemCount-1;)stop++,offset+=this.getSizeAndPositionForIndex(stop).size;return overscanCount&&(start=Math.max(0,start-overscanCount),stop=Math.min(stop+overscanCount,this.itemCount-1)),{start:start,stop:stop}},SizeAndPositionManager.prototype.resetItem=function(index){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,index-1)},SizeAndPositionManager.prototype.findNearestItem=function(offset){if(isNaN(offset))throw Error("Invalid offset "+offset+" specified");offset=Math.max(0,offset);var lastMeasuredSizeAndPosition=this.getSizeAndPositionOfLastMeasuredItem(),lastMeasuredIndex=Math.max(0,this.lastMeasuredIndex);return lastMeasuredSizeAndPosition.offset>=offset?this.binarySearch({high:lastMeasuredIndex,low:0,offset:offset}):this.exponentialSearch({index:lastMeasuredIndex,offset:offset})},SizeAndPositionManager.prototype.binarySearch=function(_a){for(var low=_a.low,high=_a.high,offset=_a.offset,middle=0,currentOffset=0;low<=high;){if(middle=low+Math.floor((high-low)/2),(currentOffset=this.getSizeAndPositionForIndex(middle).offset)===offset)return middle;currentOffset<offset?low=middle+1:currentOffset>offset&&(high=middle-1)}return low>0?low-1:0},SizeAndPositionManager.prototype.exponentialSearch=function(_a){for(var index=_a.index,offset=_a.offset,interval=1;index<this.itemCount&&this.getSizeAndPositionForIndex(index).offset<offset;)index+=interval,interval*=2;return this.binarySearch({high:Math.min(index,this.itemCount-1),low:Math.floor(index/2),offset:offset})},SizeAndPositionManager}(),STYLE_WRAPPER={overflow:"auto",willChange:"transform",WebkitOverflowScrolling:"touch"},STYLE_INNER={position:"relative",width:"100%",minHeight:"100%"},STYLE_ITEM={position:"absolute",top:0,left:0,width:"100%"},STYLE_STICKY_ITEM=__assign({},STYLE_ITEM,{position:"sticky"}),VirtualList=function(_super){function VirtualList(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.itemSizeGetter=function(itemSize){return function(index){return _this.getSize(index,itemSize)}},_this.sizeAndPositionManager=new SizeAndPositionManager({itemCount:_this.props.itemCount,itemSizeGetter:_this.itemSizeGetter(_this.props.itemSize),estimatedItemSize:_this.getEstimatedItemSize()}),_this.state={offset:_this.props.scrollOffset||null!=_this.props.scrollToIndex&&_this.getOffsetForIndex(_this.props.scrollToIndex)||0,scrollChangeReason:SCROLL_CHANGE_REASON.REQUESTED},_this.styleCache={},_this.getRef=function(node){_this.rootNode=node},_this.handleScroll=function(event){var onScroll=_this.props.onScroll,offset=_this.getNodeOffset();offset<0||_this.state.offset===offset||event.target!==_this.rootNode||(_this.setState({offset:offset,scrollChangeReason:SCROLL_CHANGE_REASON.OBSERVED}),"function"==typeof onScroll&&onScroll(offset,event))},_this}return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}(VirtualList,_super),VirtualList.prototype.componentDidMount=function(){var _a=this.props,scrollOffset=_a.scrollOffset,scrollToIndex=_a.scrollToIndex;this.rootNode.addEventListener("scroll",this.handleScroll,{passive:!0}),null!=scrollOffset?this.scrollTo(scrollOffset):null!=scrollToIndex&&this.scrollTo(this.getOffsetForIndex(scrollToIndex))},VirtualList.prototype.componentWillReceiveProps=function(nextProps){var _a=this.props,estimatedItemSize=_a.estimatedItemSize,itemCount=_a.itemCount,itemSize=_a.itemSize,scrollOffset=_a.scrollOffset,scrollToAlignment=_a.scrollToAlignment,scrollToIndex=_a.scrollToIndex,scrollPropsHaveChanged=nextProps.scrollToIndex!==scrollToIndex||nextProps.scrollToAlignment!==scrollToAlignment,itemPropsHaveChanged=nextProps.itemCount!==itemCount||nextProps.itemSize!==itemSize||nextProps.estimatedItemSize!==estimatedItemSize;nextProps.itemSize!==itemSize&&this.sizeAndPositionManager.updateConfig({itemSizeGetter:this.itemSizeGetter(nextProps.itemSize)}),nextProps.itemCount===itemCount&&nextProps.estimatedItemSize===estimatedItemSize||this.sizeAndPositionManager.updateConfig({itemCount:nextProps.itemCount,estimatedItemSize:this.getEstimatedItemSize(nextProps)}),itemPropsHaveChanged&&this.recomputeSizes(),nextProps.scrollOffset!==scrollOffset?this.setState({offset:nextProps.scrollOffset||0,scrollChangeReason:SCROLL_CHANGE_REASON.REQUESTED}):"number"==typeof nextProps.scrollToIndex&&(scrollPropsHaveChanged||itemPropsHaveChanged)&&this.setState({offset:this.getOffsetForIndex(nextProps.scrollToIndex,nextProps.scrollToAlignment,nextProps.itemCount),scrollChangeReason:SCROLL_CHANGE_REASON.REQUESTED})},VirtualList.prototype.componentDidUpdate=function(_,prevState){var _a=this.state,offset=_a.offset,scrollChangeReason=_a.scrollChangeReason;prevState.offset!==offset&&scrollChangeReason===SCROLL_CHANGE_REASON.REQUESTED&&this.scrollTo(offset)},VirtualList.prototype.componentWillUnmount=function(){this.rootNode.removeEventListener("scroll",this.handleScroll)},VirtualList.prototype.scrollTo=function(value){var _a=this.props.scrollDirection,scrollDirection=void 0===_a?exports.ScrollDirection.VERTICAL:_a;this.rootNode[scrollProp[scrollDirection]]=value},VirtualList.prototype.getOffsetForIndex=function(index,scrollToAlignment,itemCount){void 0===scrollToAlignment&&(scrollToAlignment=this.props.scrollToAlignment),void 0===itemCount&&(itemCount=this.props.itemCount);var _a=this.props.scrollDirection,scrollDirection=void 0===_a?exports.ScrollDirection.VERTICAL:_a;return(index<0||index>=itemCount)&&(index=0),this.sizeAndPositionManager.getUpdatedOffsetForIndex({align:scrollToAlignment,containerSize:this.props[sizeProp[scrollDirection]],currentOffset:this.state&&this.state.offset||0,targetIndex:index})},VirtualList.prototype.recomputeSizes=function(startIndex){void 0===startIndex&&(startIndex=0),this.styleCache={},this.sizeAndPositionManager.resetItem(startIndex)},VirtualList.prototype.render=function(){var _e,_this=this,_a=this.props,height=(_a.estimatedItemSize,_a.height),_b=_a.overscanCount,overscanCount=void 0===_b?3:_b,renderItem=_a.renderItem,onItemsRendered=(_a.itemCount,_a.itemSize,_a.onItemsRendered),_c=(_a.onScroll,_a.scrollDirection),scrollDirection=void 0===_c?exports.ScrollDirection.VERTICAL:_c,stickyIndices=(_a.scrollOffset,_a.scrollToIndex,_a.scrollToAlignment,_a.stickyIndices),style=_a.style,width=_a.width,props=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&(t[p[i]]=s[p[i]])}return t}(_a,["estimatedItemSize","height","overscanCount","renderItem","itemCount","itemSize","onItemsRendered","onScroll","scrollDirection","scrollOffset","scrollToIndex","scrollToAlignment","stickyIndices","style","width"]),offset=this.state.offset,_d=this.sizeAndPositionManager.getVisibleRange({containerSize:this.props[sizeProp[scrollDirection]]||0,offset:offset,overscanCount:overscanCount}),start=_d.start,stop=_d.stop,items=[],wrapperStyle=__assign({},STYLE_WRAPPER,style,{height:height,width:width}),innerStyle=__assign({},STYLE_INNER,((_e={})[sizeProp[scrollDirection]]=this.sizeAndPositionManager.getTotalSize(),_e));if(null!=stickyIndices&&0!==stickyIndices.length&&(stickyIndices.forEach((function(index){return items.push(renderItem({index:index,style:_this.getStyle(index,!0)}))})),scrollDirection===exports.ScrollDirection.HORIZONTAL&&(innerStyle.display="flex")),void 0!==start&&void 0!==stop){for(var index=start;index<=stop;index++)null!=stickyIndices&&stickyIndices.includes(index)||items.push(renderItem({index:index,style:this.getStyle(index,!1)}));"function"==typeof onItemsRendered&&onItemsRendered({startIndex:start,stopIndex:stop})}return React.createElement("div",__assign({ref:this.getRef},props,{style:wrapperStyle}),React.createElement("div",{style:innerStyle},items))},VirtualList.prototype.getNodeOffset=function(){var _a=this.props.scrollDirection,scrollDirection=void 0===_a?exports.ScrollDirection.VERTICAL:_a;return this.rootNode[scrollProp[scrollDirection]]},VirtualList.prototype.getEstimatedItemSize=function(props){return void 0===props&&(props=this.props),props.estimatedItemSize||"number"==typeof props.itemSize&&props.itemSize||50},VirtualList.prototype.getSize=function(index,itemSize){return"function"==typeof itemSize?itemSize(index):Array.isArray(itemSize)?itemSize[index]:itemSize},VirtualList.prototype.getStyle=function(index,sticky){var style=this.styleCache[index];if(style)return style;var _c,_d,_a=this.props.scrollDirection,scrollDirection=void 0===_a?exports.ScrollDirection.VERTICAL:_a,_b=this.sizeAndPositionManager.getSizeAndPositionForIndex(index),size=_b.size,offset=_b.offset;return this.styleCache[index]=sticky?__assign({},STYLE_STICKY_ITEM,((_c={})[sizeProp[scrollDirection]]=size,_c[marginProp[scrollDirection]]=offset,_c[oppositeMarginProp[scrollDirection]]=-(offset+size),_c.zIndex=1,_c)):__assign({},STYLE_ITEM,((_d={})[sizeProp[scrollDirection]]=size,_d[positionProp[scrollDirection]]=offset,_d))},VirtualList.defaultProps={overscanCount:3,scrollDirection:exports.ScrollDirection.VERTICAL,width:"100%"},VirtualList.propTypes={estimatedItemSize:PropTypes.number,height:PropTypes.oneOfType([PropTypes.number,PropTypes.string]).isRequired,itemCount:PropTypes.number.isRequired,itemSize:PropTypes.oneOfType([PropTypes.number,PropTypes.array,PropTypes.func]).isRequired,onScroll:PropTypes.func,onItemsRendered:PropTypes.func,overscanCount:PropTypes.number,renderItem:PropTypes.func.isRequired,scrollOffset:PropTypes.number,scrollToIndex:PropTypes.number,scrollToAlignment:PropTypes.oneOf([ALIGNMENT.AUTO,ALIGNMENT.START,ALIGNMENT.CENTER,ALIGNMENT.END]),scrollDirection:PropTypes.oneOf([exports.ScrollDirection.HORIZONTAL,exports.ScrollDirection.VERTICAL]),stickyIndices:PropTypes.arrayOf(PropTypes.number),style:PropTypes.object,width:PropTypes.oneOfType([PropTypes.number,PropTypes.string])},VirtualList}(React.PureComponent);exports.default=VirtualList},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(106);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(37),_interopRequireWildcard=__webpack_require__(69);exports.__esModule=!0,exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(19)),_Context=(_interopRequireDefault(__webpack_require__(65)),__webpack_require__(41)),_Subscription=_interopRequireDefault(__webpack_require__(55));var _default=function(_ref){var store=_ref.store,context=_ref.context,children=_ref.children,contextValue=(0,_react.useMemo)((function(){var subscription=new _Subscription.default(store);return subscription.onStateChange=subscription.notifyNestedSubs,{store:store,subscription:subscription}}),[store]),previousState=(0,_react.useMemo)((function(){return store.getState()}),[store]);(0,_react.useEffect)((function(){var subscription=contextValue.subscription;return subscription.trySubscribe(),previousState!==store.getState()&&subscription.notifyNestedSubs(),function(){subscription.tryUnsubscribe(),subscription.onStateChange=null}}),[contextValue,previousState]);var Context=context||_Context.ReactReduxContext;return _react.default.createElement(Context.Provider,{value:contextValue},children)};exports.default=_default},function(module,exports){function _typeof(obj){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?module.exports=_typeof=function(obj){return typeof obj}:module.exports=_typeof=function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}module.exports=_typeof},function(module,exports,__webpack_require__){"use strict";var reactIs=__webpack_require__(72),REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};function getStatics(component){return reactIs.isMemo(component)?MEMO_STATICS:TYPE_STATICS[component.$$typeof]||REACT_STATICS}TYPE_STATICS[reactIs.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;module.exports=function hoistNonReactStatics(targetComponent,sourceComponent,blacklist){if("string"!=typeof sourceComponent){if(objectPrototype){var inheritedComponent=getPrototypeOf(sourceComponent);inheritedComponent&&inheritedComponent!==objectPrototype&&hoistNonReactStatics(targetComponent,inheritedComponent,blacklist)}var keys=getOwnPropertyNames(sourceComponent);getOwnPropertySymbols&&(keys=keys.concat(getOwnPropertySymbols(sourceComponent)));for(var targetStatics=getStatics(targetComponent),sourceStatics=getStatics(sourceComponent),i=0;i<keys.length;++i){var key=keys[i];if(!(KNOWN_STATICS[key]||blacklist&&blacklist[key]||sourceStatics&&sourceStatics[key]||targetStatics&&targetStatics[key])){var descriptor=getOwnPropertyDescriptor(sourceComponent,key);try{defineProperty(targetComponent,key,descriptor)}catch(e){}}}}return targetComponent}},function(module,exports,__webpack_require__){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b="function"==typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if("object"==typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l,exports.ConcurrentMode=m,exports.ContextConsumer=k,exports.ContextProvider=h,exports.Element=c,exports.ForwardRef=n,exports.Fragment=e,exports.Lazy=t,exports.Memo=r,exports.Portal=d,exports.Profiler=g,exports.StrictMode=f,exports.Suspense=p,exports.isAsyncMode=function(a){return A(a)||z(a)===l},exports.isConcurrentMode=A,exports.isContextConsumer=function(a){return z(a)===k},exports.isContextProvider=function(a){return z(a)===h},exports.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===c},exports.isForwardRef=function(a){return z(a)===n},exports.isFragment=function(a){return z(a)===e},exports.isLazy=function(a){return z(a)===t},exports.isMemo=function(a){return z(a)===r},exports.isPortal=function(a){return z(a)===d},exports.isProfiler=function(a){return z(a)===g},exports.isStrictMode=function(a){return z(a)===f},exports.isSuspense=function(a){return z(a)===p},exports.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"==typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)},exports.typeOf=z},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(37);exports.__esModule=!0,exports.createConnect=createConnect,exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(56)),_objectWithoutPropertiesLoose2=_interopRequireDefault(__webpack_require__(57)),_connectAdvanced=_interopRequireDefault(__webpack_require__(71)),_shallowEqual=_interopRequireDefault(__webpack_require__(74)),_mapDispatchToProps=_interopRequireDefault(__webpack_require__(112)),_mapStateToProps=_interopRequireDefault(__webpack_require__(118)),_mergeProps=_interopRequireDefault(__webpack_require__(119)),_selectorFactory=_interopRequireDefault(__webpack_require__(120));function match(arg,factories,name){for(var i=factories.length-1;i>=0;i--){var result=factories[i](arg);if(result)return result}return function(dispatch,options){throw new Error("Invalid value of type "+typeof arg+" for "+name+" argument when connecting component "+options.wrappedComponentName+".")}}function strictEqual(a,b){return a===b}function createConnect(_temp){var _ref=void 0===_temp?{}:_temp,_ref$connectHOC=_ref.connectHOC,connectHOC=void 0===_ref$connectHOC?_connectAdvanced.default:_ref$connectHOC,_ref$mapStateToPropsF=_ref.mapStateToPropsFactories,mapStateToPropsFactories=void 0===_ref$mapStateToPropsF?_mapStateToProps.default:_ref$mapStateToPropsF,_ref$mapDispatchToPro=_ref.mapDispatchToPropsFactories,mapDispatchToPropsFactories=void 0===_ref$mapDispatchToPro?_mapDispatchToProps.default:_ref$mapDispatchToPro,_ref$mergePropsFactor=_ref.mergePropsFactories,mergePropsFactories=void 0===_ref$mergePropsFactor?_mergeProps.default:_ref$mergePropsFactor,_ref$selectorFactory=_ref.selectorFactory,selectorFactory=void 0===_ref$selectorFactory?_selectorFactory.default:_ref$selectorFactory;return function(mapStateToProps,mapDispatchToProps,mergeProps,_ref2){void 0===_ref2&&(_ref2={});var _ref3=_ref2,_ref3$pure=_ref3.pure,pure=void 0===_ref3$pure||_ref3$pure,_ref3$areStatesEqual=_ref3.areStatesEqual,areStatesEqual=void 0===_ref3$areStatesEqual?strictEqual:_ref3$areStatesEqual,_ref3$areOwnPropsEqua=_ref3.areOwnPropsEqual,areOwnPropsEqual=void 0===_ref3$areOwnPropsEqua?_shallowEqual.default:_ref3$areOwnPropsEqua,_ref3$areStatePropsEq=_ref3.areStatePropsEqual,areStatePropsEqual=void 0===_ref3$areStatePropsEq?_shallowEqual.default:_ref3$areStatePropsEq,_ref3$areMergedPropsE=_ref3.areMergedPropsEqual,areMergedPropsEqual=void 0===_ref3$areMergedPropsE?_shallowEqual.default:_ref3$areMergedPropsE,extraOptions=(0,_objectWithoutPropertiesLoose2.default)(_ref3,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),initMapStateToProps=match(mapStateToProps,mapStateToPropsFactories,"mapStateToProps"),initMapDispatchToProps=match(mapDispatchToProps,mapDispatchToPropsFactories,"mapDispatchToProps"),initMergeProps=match(mergeProps,mergePropsFactories,"mergeProps");return connectHOC(selectorFactory,(0,_extends2.default)({methodName:"connect",getDisplayName:function(name){return"Connect("+name+")"},shouldHandleStateChanges:Boolean(mapStateToProps),initMapStateToProps:initMapStateToProps,initMapDispatchToProps:initMapDispatchToProps,initMergeProps:initMergeProps,pure:pure,areStatesEqual:areStatesEqual,areOwnPropsEqual:areOwnPropsEqual,areStatePropsEqual:areStatePropsEqual,areMergedPropsEqual:areMergedPropsEqual},extraOptions))}}var _default=createConnect();exports.default=_default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.whenMapDispatchToPropsIsFunction=whenMapDispatchToPropsIsFunction,exports.whenMapDispatchToPropsIsMissing=whenMapDispatchToPropsIsMissing,exports.whenMapDispatchToPropsIsObject=whenMapDispatchToPropsIsObject,exports.default=void 0;var _redux=__webpack_require__(49),_wrapMapToProps=__webpack_require__(75);function whenMapDispatchToPropsIsFunction(mapDispatchToProps){return"function"==typeof mapDispatchToProps?(0,_wrapMapToProps.wrapMapToPropsFunc)(mapDispatchToProps,"mapDispatchToProps"):void 0}function whenMapDispatchToPropsIsMissing(mapDispatchToProps){return mapDispatchToProps?void 0:(0,_wrapMapToProps.wrapMapToPropsConstant)((function(dispatch){return{dispatch:dispatch}}))}function whenMapDispatchToPropsIsObject(mapDispatchToProps){return mapDispatchToProps&&"object"==typeof mapDispatchToProps?(0,_wrapMapToProps.wrapMapToPropsConstant)((function(dispatch){return(0,_redux.bindActionCreators)(mapDispatchToProps,dispatch)})):void 0}var _default=[whenMapDispatchToPropsIsFunction,whenMapDispatchToPropsIsMissing,whenMapDispatchToPropsIsObject];exports.default=_default},function(module,exports,__webpack_require__){"use strict";(function(global,module){Object.defineProperty(exports,"__esModule",{value:!0});var obj,root,_ponyfill=__webpack_require__(116),_ponyfill2=(obj=_ponyfill)&&obj.__esModule?obj:{default:obj};root="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:module;var result=(0,_ponyfill2.default)(root);exports.default=result}).call(this,__webpack_require__(114),__webpack_require__(115)(module))},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(root){var result,_Symbol=root.Symbol;"function"==typeof _Symbol?_Symbol.observable?result=_Symbol.observable:(result=_Symbol("observable"),_Symbol.observable=result):result="@@observable";return result}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(obj){if("object"!=typeof obj||null===obj)return!1;var proto=Object.getPrototypeOf(obj);if(null===proto)return!0;var baseProto=proto;for(;null!==Object.getPrototypeOf(baseProto);)baseProto=Object.getPrototypeOf(baseProto);return proto===baseProto}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.whenMapStateToPropsIsFunction=whenMapStateToPropsIsFunction,exports.whenMapStateToPropsIsMissing=whenMapStateToPropsIsMissing,exports.default=void 0;var _wrapMapToProps=__webpack_require__(75);function whenMapStateToPropsIsFunction(mapStateToProps){return"function"==typeof mapStateToProps?(0,_wrapMapToProps.wrapMapToPropsFunc)(mapStateToProps,"mapStateToProps"):void 0}function whenMapStateToPropsIsMissing(mapStateToProps){return mapStateToProps?void 0:(0,_wrapMapToProps.wrapMapToPropsConstant)((function(){return{}}))}var _default=[whenMapStateToPropsIsFunction,whenMapStateToPropsIsMissing];exports.default=_default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(37);exports.__esModule=!0,exports.defaultMergeProps=defaultMergeProps,exports.wrapMergePropsFunc=wrapMergePropsFunc,exports.whenMergePropsIsFunction=whenMergePropsIsFunction,exports.whenMergePropsIsOmitted=whenMergePropsIsOmitted,exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(56));_interopRequireDefault(__webpack_require__(76));function defaultMergeProps(stateProps,dispatchProps,ownProps){return(0,_extends2.default)({},ownProps,{},stateProps,{},dispatchProps)}function wrapMergePropsFunc(mergeProps){return function(dispatch,_ref){_ref.displayName;var mergedProps,pure=_ref.pure,areMergedPropsEqual=_ref.areMergedPropsEqual,hasRunOnce=!1;return function(stateProps,dispatchProps,ownProps){var nextMergedProps=mergeProps(stateProps,dispatchProps,ownProps);return hasRunOnce?pure&&areMergedPropsEqual(nextMergedProps,mergedProps)||(mergedProps=nextMergedProps):(hasRunOnce=!0,mergedProps=nextMergedProps),mergedProps}}}function whenMergePropsIsFunction(mergeProps){return"function"==typeof mergeProps?wrapMergePropsFunc(mergeProps):void 0}function whenMergePropsIsOmitted(mergeProps){return mergeProps?void 0:function(){return defaultMergeProps}}var _default=[whenMergePropsIsFunction,whenMergePropsIsOmitted];exports.default=_default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(37);exports.__esModule=!0,exports.impureFinalPropsSelectorFactory=impureFinalPropsSelectorFactory,exports.pureFinalPropsSelectorFactory=pureFinalPropsSelectorFactory,exports.default=function(dispatch,_ref2){var initMapStateToProps=_ref2.initMapStateToProps,initMapDispatchToProps=_ref2.initMapDispatchToProps,initMergeProps=_ref2.initMergeProps,options=(0,_objectWithoutPropertiesLoose2.default)(_ref2,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),mapStateToProps=initMapStateToProps(dispatch,options),mapDispatchToProps=initMapDispatchToProps(dispatch,options),mergeProps=initMergeProps(dispatch,options);0;return(options.pure?pureFinalPropsSelectorFactory:impureFinalPropsSelectorFactory)(mapStateToProps,mapDispatchToProps,mergeProps,dispatch,options)};var _objectWithoutPropertiesLoose2=_interopRequireDefault(__webpack_require__(57));_interopRequireDefault(__webpack_require__(121));function impureFinalPropsSelectorFactory(mapStateToProps,mapDispatchToProps,mergeProps,dispatch){return function(state,ownProps){return mergeProps(mapStateToProps(state,ownProps),mapDispatchToProps(dispatch,ownProps),ownProps)}}function pureFinalPropsSelectorFactory(mapStateToProps,mapDispatchToProps,mergeProps,dispatch,_ref){var state,ownProps,stateProps,dispatchProps,mergedProps,areStatesEqual=_ref.areStatesEqual,areOwnPropsEqual=_ref.areOwnPropsEqual,areStatePropsEqual=_ref.areStatePropsEqual,hasRunAtLeastOnce=!1;function handleSubsequentCalls(nextState,nextOwnProps){var nextStateProps,statePropsChanged,propsChanged=!areOwnPropsEqual(nextOwnProps,ownProps),stateChanged=!areStatesEqual(nextState,state);return state=nextState,ownProps=nextOwnProps,propsChanged&&stateChanged?(stateProps=mapStateToProps(state,ownProps),mapDispatchToProps.dependsOnOwnProps&&(dispatchProps=mapDispatchToProps(dispatch,ownProps)),mergedProps=mergeProps(stateProps,dispatchProps,ownProps)):propsChanged?(mapStateToProps.dependsOnOwnProps&&(stateProps=mapStateToProps(state,ownProps)),mapDispatchToProps.dependsOnOwnProps&&(dispatchProps=mapDispatchToProps(dispatch,ownProps)),mergedProps=mergeProps(stateProps,dispatchProps,ownProps)):stateChanged?(nextStateProps=mapStateToProps(state,ownProps),statePropsChanged=!areStatePropsEqual(nextStateProps,stateProps),stateProps=nextStateProps,statePropsChanged&&(mergedProps=mergeProps(stateProps,dispatchProps,ownProps)),mergedProps):mergedProps}return function(nextState,nextOwnProps){return hasRunAtLeastOnce?handleSubsequentCalls(nextState,nextOwnProps):(stateProps=mapStateToProps(state=nextState,ownProps=nextOwnProps),dispatchProps=mapDispatchToProps(dispatch,ownProps),mergedProps=mergeProps(stateProps,dispatchProps,ownProps),hasRunAtLeastOnce=!0,mergedProps)}}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(37);exports.__esModule=!0,exports.default=function(mapStateToProps,mapDispatchToProps,mergeProps,displayName){verify(mapStateToProps,"mapStateToProps",displayName),verify(mapDispatchToProps,"mapDispatchToProps",displayName),verify(mergeProps,"mergeProps",displayName)};var _warning=_interopRequireDefault(__webpack_require__(77));function verify(selector,methodName,displayName){if(!selector)throw new Error("Unexpected value for "+methodName+" in "+displayName+".");"mapStateToProps"!==methodName&&"mapDispatchToProps"!==methodName||Object.prototype.hasOwnProperty.call(selector,"dependsOnOwnProps")||(0,_warning.default)("The selector for "+methodName+" of "+displayName+" did not specify a value for dependsOnOwnProps.")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.createDispatchHook=createDispatchHook,exports.useDispatch=void 0;var _Context=__webpack_require__(41),_useStore=__webpack_require__(78);function createDispatchHook(context){void 0===context&&(context=_Context.ReactReduxContext);var useStore=context===_Context.ReactReduxContext?_useStore.useStore:(0,_useStore.createStoreHook)(context);return function(){return useStore().dispatch}}var useDispatch=createDispatchHook();exports.useDispatch=useDispatch},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(37);exports.__esModule=!0,exports.createSelectorHook=createSelectorHook,exports.useSelector=void 0;var _react=__webpack_require__(19),_useReduxContext2=__webpack_require__(79),_Subscription=_interopRequireDefault(__webpack_require__(55)),_useIsomorphicLayoutEffect=__webpack_require__(73),_Context=__webpack_require__(41),refEquality=function(a,b){return a===b};function createSelectorHook(context){void 0===context&&(context=_Context.ReactReduxContext);var useReduxContext=context===_Context.ReactReduxContext?_useReduxContext2.useReduxContext:function(){return(0,_react.useContext)(context)};return function(selector,equalityFn){void 0===equalityFn&&(equalityFn=refEquality);var _useReduxContext=useReduxContext();return function(selector,equalityFn,store,contextSub){var selectedState,forceRender=(0,_react.useReducer)((function(s){return s+1}),0)[1],subscription=(0,_react.useMemo)((function(){return new _Subscription.default(store,contextSub)}),[store,contextSub]),latestSubscriptionCallbackError=(0,_react.useRef)(),latestSelector=(0,_react.useRef)(),latestSelectedState=(0,_react.useRef)();try{selectedState=selector!==latestSelector.current||latestSubscriptionCallbackError.current?selector(store.getState()):latestSelectedState.current}catch(err){throw latestSubscriptionCallbackError.current&&(err.message+="\nThe error may be correlated with this previous error:\n"+latestSubscriptionCallbackError.current.stack+"\n\n"),err}return(0,_useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)((function(){latestSelector.current=selector,latestSelectedState.current=selectedState,latestSubscriptionCallbackError.current=void 0})),(0,_useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)((function(){function checkForUpdates(){try{var newSelectedState=latestSelector.current(store.getState());if(equalityFn(newSelectedState,latestSelectedState.current))return;latestSelectedState.current=newSelectedState}catch(err){latestSubscriptionCallbackError.current=err}forceRender({})}return subscription.onStateChange=checkForUpdates,subscription.trySubscribe(),checkForUpdates(),function(){return subscription.tryUnsubscribe()}}),[store,subscription]),selectedState}(selector,equalityFn,_useReduxContext.store,_useReduxContext.subscription)}}var useSelector=createSelectorHook();exports.useSelector=useSelector},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.unstable_batchedUpdates=void 0;var _reactDom=__webpack_require__(33);exports.unstable_batchedUpdates=_reactDom.unstable_batchedUpdates},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(126);case"v7light":return __webpack_require__(128);case"v8dark":return __webpack_require__(130);case"v8light":return __webpack_require__(132)}},function(module,exports,__webpack_require__){var api=__webpack_require__(1),content=__webpack_require__(127);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(2)(!1)).push([module.i,".componentTemplatesListItem{background-color:#fff;padding:12px;border-bottom:1px solid #343741;position:relative;height:48px}.componentTemplatesListItem--selected::before{content:'';background-color:rgba(255,255,255,0.7);height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(1),content=__webpack_require__(129);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(2)(!1)).push([module.i,".componentTemplatesListItem{background-color:#fff;padding:12px;border-bottom:1px solid #D3DAE6;position:relative;height:48px}.componentTemplatesListItem--selected::before{content:'';background-color:rgba(255,255,255,0.7);height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(1),content=__webpack_require__(131);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(2)(!1)).push([module.i,".componentTemplatesListItem{background-color:#fff;padding:12px;border-bottom:1px solid #343741;position:relative;height:48px}.componentTemplatesListItem--selected::before{content:'';background-color:rgba(255,255,255,0.7);height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(1),content=__webpack_require__(133);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(2)(!1)).push([module.i,".componentTemplatesListItem{background-color:#fff;padding:12px;border-bottom:1px solid #D3DAE6;position:relative;height:48px}.componentTemplatesListItem--selected::before{content:'';background-color:rgba(255,255,255,0.7);height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(135);case"v7light":return __webpack_require__(137);case"v8dark":return __webpack_require__(139);case"v8light":return __webpack_require__(141)}},function(module,exports,__webpack_require__){var api=__webpack_require__(1),content=__webpack_require__(136);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(2)(!1)).push([module.i,".componentTemplates{border:1px solid #343741;border-radius:4px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:initial}.componentTemplates__searchBox{border-bottom:1px solid #343741;border-top:1px solid #343741;box-shadow:none;max-width:initial}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(1),content=__webpack_require__(138);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(2)(!1)).push([module.i,".componentTemplates{border:1px solid #D3DAE6;border-radius:4px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:initial}.componentTemplates__searchBox{border-bottom:1px solid #D3DAE6;border-top:1px solid #D3DAE6;box-shadow:none;max-width:initial}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(1),content=__webpack_require__(140);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(2)(!1)).push([module.i,".componentTemplates{border:1px solid #343741;border-radius:6px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:initial}.componentTemplates__searchBox{border-bottom:1px solid #343741;border-top:1px solid #343741;box-shadow:none;max-width:initial}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(1),content=__webpack_require__(142);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(2)(!1)).push([module.i,".componentTemplates{border:1px solid #D3DAE6;border-radius:6px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:initial}.componentTemplates__searchBox{border-bottom:1px solid #D3DAE6;border-top:1px solid #D3DAE6;box-shadow:none;max-width:initial}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(144);case"v7light":return __webpack_require__(146);case"v8dark":return __webpack_require__(148);case"v8light":return __webpack_require__(150)}},function(module,exports,__webpack_require__){var api=__webpack_require__(1),content=__webpack_require__(145);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(2)(!1)).push([module.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #343741;border-radius:4px;padding:0 16px 16px;color:#98A2B3}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#25262E;border-bottom:1px solid #343741;color:#000;height:40px;line-height:40px;font-size:12px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(1),content=__webpack_require__(147);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(2)(!1)).push([module.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #D3DAE6;border-radius:4px;padding:0 16px 16px;color:#69707D}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#F5F7FA;border-bottom:1px solid #D3DAE6;color:#000;height:40px;line-height:40px;font-size:12px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(1),content=__webpack_require__(149);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(2)(!1)).push([module.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #343741;border-radius:6px;padding:0 16px 16px;color:#98A2B3}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#25262E;border-bottom:1px solid #343741;color:#000;height:40px;line-height:40px;font-size:12px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(1),content=__webpack_require__(151);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(2)(!1)).push([module.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #D3DAE6;border-radius:6px;padding:0 16px 16px;color:#69707D}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#F5F7FA;border-bottom:1px solid #D3DAE6;color:#000;height:40px;line-height:40px;font-size:12px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(){for(var _len=arguments.length,actionsTypes=new Array(_len),_key=0;_key<_len;_key++)actionsTypes[_key]=arguments[_key];(0,_invariant.default)(isValidActionTypes(actionsTypes),"Expected action types to be strings, symbols, or action creators");var combinedActionType=actionsTypes.map(_toString.default).join(_constants.ACTION_TYPE_DELIMITER);return{toString:function(){return combinedActionType}}};var _invariant=_interopRequireDefault(__webpack_require__(44)),_isFunction=_interopRequireDefault(__webpack_require__(50)),_isSymbol=_interopRequireDefault(__webpack_require__(153)),_isEmpty=_interopRequireDefault(__webpack_require__(87)),_toString=_interopRequireDefault(__webpack_require__(88)),_isString=_interopRequireDefault(__webpack_require__(89)),_constants=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isValidActionType(type){return(0,_isString.default)(type)||(0,_isFunction.default)(type)||(0,_isSymbol.default)(type)}function isValidActionTypes(types){return!(0,_isEmpty.default)(types)&&types.every(isValidActionType)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(value){return"symbol"==typeof value||"object"==typeof value&&"[object Symbol]"===Object.prototype.toString.call(value)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(value){return null===value}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(actionMap){for(var _len=arguments.length,identityActions=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)identityActions[_key-1]=arguments[_key];var options=(0,_isPlainObject.default)((0,_getLastElement.default)(identityActions))?identityActions.pop():{};if((0,_invariant.default)(identityActions.every(_isString.default)&&((0,_isString.default)(actionMap)||(0,_isPlainObject.default)(actionMap)),"Expected optional object followed by string action types"),(0,_isString.default)(actionMap))return actionCreatorsFromIdentityActions([actionMap].concat(identityActions),options);return _objectSpread({},actionCreatorsFromActionMap(actionMap,options),actionCreatorsFromIdentityActions(identityActions,options))};var _invariant=_interopRequireDefault(__webpack_require__(44)),_isPlainObject=_interopRequireDefault(__webpack_require__(46)),_isFunction=_interopRequireDefault(__webpack_require__(50)),_identity=_interopRequireDefault(__webpack_require__(59)),_isArray=_interopRequireDefault(__webpack_require__(156)),_isString=_interopRequireDefault(__webpack_require__(89)),_isNil=_interopRequireDefault(__webpack_require__(90)),_getLastElement=_interopRequireDefault(__webpack_require__(157)),_camelCase=_interopRequireDefault(__webpack_require__(91)),_arrayToObject=_interopRequireDefault(__webpack_require__(161)),_flattenActionMap=_interopRequireDefault(__webpack_require__(162)),_unflattenActionCreators=_interopRequireDefault(__webpack_require__(163)),_createAction=_interopRequireDefault(__webpack_require__(58)),_constants=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function actionCreatorsFromActionMap(actionMap,options){var flatActionCreators=actionMapToActionCreators((0,_flattenActionMap.default)(actionMap,options));return(0,_unflattenActionCreators.default)(flatActionCreators,options)}function actionMapToActionCreators(actionMap,_temp){var _ref=void 0===_temp?{}:_temp,prefix=_ref.prefix,_ref$namespace=_ref.namespace,namespace=void 0===_ref$namespace?_constants.DEFAULT_NAMESPACE:_ref$namespace;return(0,_arrayToObject.default)(Object.keys(actionMap),(function(partialActionCreators,type){var _objectSpread2,actionMapValue=actionMap[type];(0,_invariant.default)(function(actionMapValue){if((0,_isFunction.default)(actionMapValue)||(0,_isNil.default)(actionMapValue))return!0;if((0,_isArray.default)(actionMapValue)){var _actionMapValue$=actionMapValue[0],payload=void 0===_actionMapValue$?_identity.default:_actionMapValue$,meta=actionMapValue[1];return(0,_isFunction.default)(payload)&&(0,_isFunction.default)(meta)}return!1}(actionMapValue),"Expected function, undefined, null, or array with payload and meta functions for "+type);var prefixedType=prefix?""+prefix+namespace+type:type,actionCreator=(0,_isArray.default)(actionMapValue)?_createAction.default.apply(void 0,[prefixedType].concat(actionMapValue)):(0,_createAction.default)(prefixedType,actionMapValue);return _objectSpread({},partialActionCreators,((_objectSpread2={})[type]=actionCreator,_objectSpread2))}))}function actionCreatorsFromIdentityActions(identityActions,options){var actionCreators=actionMapToActionCreators((0,_arrayToObject.default)(identityActions,(function(partialActionMap,type){var _objectSpread3;return _objectSpread({},partialActionMap,((_objectSpread3={})[type]=_identity.default,_objectSpread3))})),options);return(0,_arrayToObject.default)(Object.keys(actionCreators),(function(partialActionCreators,type){var _objectSpread4;return _objectSpread({},partialActionCreators,((_objectSpread4={})[(0,_camelCase.default)(type)]=actionCreators[type],_objectSpread4))}))}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(value){return Array.isArray(value)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(array){return array[array.length-1]}},function(module,exports,__webpack_require__){var space=__webpack_require__(159);module.exports=function(string){return space(string).replace(/\s(\w)/g,(function(matches,letter){return letter.toUpperCase()}))}},function(module,exports,__webpack_require__){var clean=__webpack_require__(160);module.exports=function(string){return clean(string).replace(/[\W_]+(.|$)/g,(function(matches,match){return match?" "+match:""})).trim()}},function(module,exports){module.exports=function(string){return hasSpace.test(string)?string.toLowerCase():hasSeparator.test(string)?(function(string){return string.replace(separatorSplitter,(function(m,next){return next?" "+next:""}))}(string)||string).toLowerCase():hasCamel.test(string)?function(string){return string.replace(camelSplitter,(function(m,previous,uppers){return previous+" "+uppers.toLowerCase().split("").join(" ")}))}(string).toLowerCase():string.toLowerCase()};var hasSpace=/\s/,hasSeparator=/(_|-|\.|:)/,hasCamel=/([a-z][A-Z]|[A-Z][a-z])/;var separatorSplitter=/[\W_]+(.|$)/g;var camelSplitter=/(.)([A-Z]+)/g},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(array,callback){return array.reduce((function(partialObject,element){return callback(partialObject,element)}),{})}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _isPlainObject=_interopRequireDefault(__webpack_require__(46));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=(0,_interopRequireDefault(__webpack_require__(92)).default)(_isPlainObject.default);exports.default=_default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(flatActionCreators,_temp){var _ref=void 0===_temp?{}:_temp,_ref$namespace=_ref.namespace,namespace=void 0===_ref$namespace?_constants.DEFAULT_NAMESPACE:_ref$namespace,prefix=_ref.prefix;var nestedActionCreators={};return Object.getOwnPropertyNames(flatActionCreators).forEach((function(type){var unprefixedType=prefix?type.replace(""+prefix+namespace,""):type;return function unflatten(flatActionType,partialNestedActionCreators,partialFlatActionTypePath){var nextNamespace=(0,_camelCase.default)(partialFlatActionTypePath.shift());(0,_isEmpty.default)(partialFlatActionTypePath)?partialNestedActionCreators[nextNamespace]=flatActionCreators[flatActionType]:(partialNestedActionCreators[nextNamespace]||(partialNestedActionCreators[nextNamespace]={}),unflatten(flatActionType,partialNestedActionCreators[nextNamespace],partialFlatActionTypePath))}(type,nestedActionCreators,unprefixedType.split(namespace))})),nestedActionCreators};var _constants=__webpack_require__(45),_isEmpty=_interopRequireDefault(__webpack_require__(87)),_camelCase=_interopRequireDefault(__webpack_require__(91));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _justCurryIt=_interopRequireDefault(__webpack_require__(165)),_createAction=_interopRequireDefault(__webpack_require__(58));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(type,payloadCreator){return(0,_justCurryIt.default)((0,_createAction.default)(type,payloadCreator),payloadCreator.length)}},function(module,exports){module.exports=function(fn,arity){return function curried(){null==arity&&(arity=fn.length);var args=[].slice.call(arguments);return args.length>=arity?fn.apply(this,args):function(){return curried.apply(this,args.concat([].slice.call(arguments)))}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;exports.default=function(value){return void 0===value}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(handlers,defaultState,options){void 0===options&&(options={});(0,_invariant.default)((0,_isPlainObject.default)(handlers)||(0,_isMap.default)(handlers),"Expected handlers to be a plain object.");var flattenedReducerMap=(0,_flattenReducerMap.default)(handlers,options),reducers=(0,_ownKeys.default)(flattenedReducerMap).map((function(type){return(0,_handleAction.default)(type,(0,_get.default)(type,flattenedReducerMap),defaultState)})),reducer=_reduceReducers.default.apply(void 0,reducers.concat([defaultState]));return function(state,action){return void 0===state&&(state=defaultState),reducer(state,action)}};var _reduceReducers=_interopRequireDefault(__webpack_require__(168)),_invariant=_interopRequireDefault(__webpack_require__(44)),_isPlainObject=_interopRequireDefault(__webpack_require__(46)),_isMap=_interopRequireDefault(__webpack_require__(51)),_ownKeys=_interopRequireDefault(__webpack_require__(60)),_flattenReducerMap=_interopRequireDefault(__webpack_require__(169)),_handleAction=_interopRequireDefault(__webpack_require__(94)),_get=_interopRequireDefault(__webpack_require__(93));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var initialState="function"!=typeof args[args.length-1]&&args.pop(),reducers=args;if(void 0===initialState)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(prevState,value){for(var _len2=arguments.length,args=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++)args[_key2-2]=arguments[_key2];var prevStateIsUndefined=void 0===prevState,valueIsUndefined=void 0===value;return prevStateIsUndefined&&valueIsUndefined&&initialState?initialState:reducers.reduce((function(newState,reducer){return reducer.apply(void 0,[newState,value].concat(args))}),prevStateIsUndefined&&!valueIsUndefined&&initialState?initialState:prevState)}},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _isPlainObject=_interopRequireDefault(__webpack_require__(46)),_isMap=_interopRequireDefault(__webpack_require__(51)),_hasGeneratorInterface=_interopRequireDefault(__webpack_require__(170));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=(0,_interopRequireDefault(__webpack_require__(92)).default)((function(node){return((0,_isPlainObject.default)(node)||(0,_isMap.default)(node))&&!(0,_hasGeneratorInterface.default)(node)}));exports.default=_default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(handler){var keys=(0,_ownKeys.default)(handler),hasOnlyInterfaceNames=keys.every((function(ownKey){return"next"===ownKey||"throw"===ownKey}));return keys.length&&keys.length<=2&&hasOnlyInterfaceNames};var obj,_ownKeys=(obj=__webpack_require__(60))&&obj.__esModule?obj:{default:obj}},function(module,exports,__webpack_require__){"use strict";function defaultEqualityCheck(a,b){return a===b}function areArgumentsShallowlyEqual(equalityCheck,prev,next){if(null===prev||null===next||prev.length!==next.length)return!1;for(var length=prev.length,i=0;i<length;i++)if(!equalityCheck(prev[i],next[i]))return!1;return!0}function defaultMemoize(func){var equalityCheck=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultEqualityCheck,lastArgs=null,lastResult=null;return function(){return areArgumentsShallowlyEqual(equalityCheck,lastArgs,arguments)||(lastResult=func.apply(null,arguments)),lastArgs=arguments,lastResult}}function getDependencies(funcs){var dependencies=Array.isArray(funcs[0])?funcs[0]:funcs;if(!dependencies.every((function(dep){return"function"==typeof dep}))){var dependencyTypes=dependencies.map((function(dep){return typeof dep})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+dependencyTypes+"]")}return dependencies}function createSelectorCreator(memoize){for(var _len=arguments.length,memoizeOptions=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)memoizeOptions[_key-1]=arguments[_key];return function(){for(var _len2=arguments.length,funcs=Array(_len2),_key2=0;_key2<_len2;_key2++)funcs[_key2]=arguments[_key2];var recomputations=0,resultFunc=funcs.pop(),dependencies=getDependencies(funcs),memoizedResultFunc=memoize.apply(void 0,[function(){return recomputations++,resultFunc.apply(null,arguments)}].concat(memoizeOptions)),selector=memoize((function(){for(var params=[],length=dependencies.length,i=0;i<length;i++)params.push(dependencies[i].apply(null,arguments));return memoizedResultFunc.apply(null,params)}));return selector.resultFunc=resultFunc,selector.dependencies=dependencies,selector.recomputations=function(){return recomputations},selector.resetRecomputations=function(){return recomputations=0},selector}}exports.__esModule=!0,exports.defaultMemoize=defaultMemoize,exports.createSelectorCreator=createSelectorCreator,exports.createStructuredSelector=function(selectors){var selectorCreator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:createSelector;if("object"!=typeof selectors)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof selectors);var objectKeys=Object.keys(selectors);return selectorCreator(objectKeys.map((function(key){return selectors[key]})),(function(){for(var _len3=arguments.length,values=Array(_len3),_key3=0;_key3<_len3;_key3++)values[_key3]=arguments[_key3];return values.reduce((function(composition,value,index){return composition[objectKeys[index]]=value,composition}),{})}))};var createSelector=exports.createSelector=createSelectorCreator(defaultMemoize)},function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>"%"+x.charCodeAt(0).toString(16).toUpperCase())},function(module,exports,__webpack_require__){"use strict";var singleMatcher=new RegExp("%[a-f0-9]{2}","gi"),multiMatcher=new RegExp("(%[a-f0-9]{2})+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(1===components.length)return components;split=split||1;var left=components.slice(0,split),right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){for(var tokens=input.match(singleMatcher),i=1;i<tokens.length;i++)tokens=(input=decodeComponents(tokens,i).join("")).match(singleMatcher);return input}}module.exports=function(encodedURI){if("string"!=typeof encodedURI)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`");try{return encodedURI=encodedURI.replace(/\+/g," "),decodeURIComponent(encodedURI)}catch(err){return function(input){for(var replaceMap={"%FE%FF":"","%FF%FE":""},match=multiMatcher.exec(input);match;){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);result!==match[0]&&(replaceMap[match[0]]=result)}match=multiMatcher.exec(input)}replaceMap["%C2"]="";for(var entries=Object.keys(replaceMap),i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}(encodedURI)}}},function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if("string"!=typeof string||"string"!=typeof separator)throw new TypeError("Expected the arguments to be of type `string`");if(""===separator)return[string];const separatorIndex=string.indexOf(separator);return-1===separatorIndex?[string]:[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},function(module,exports){ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(acequire,exports,module){"use strict";exports.isDark=!1,exports.cssClass="ace-tm",exports.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',acequire("../lib/dom").importCssString(exports.cssText,exports.cssClass)}))},function(module,exports,__webpack_require__){!function(){var global=function(){return this}();global||"undefined"==typeof window||(global=window);var define=function(module,deps,payload){"string"==typeof module?(2==arguments.length&&(payload=deps),define.modules[module]||(define.payloads[module]=payload,define.modules[module]=null)):define.original?define.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};define.modules={},define.payloads={};var ns,root,_acequire=function(parentId,module,callback){if("string"==typeof module){var payload=lookup(parentId,module);if(null!=payload)return callback&&callback(),payload}else if("[object Array]"===Object.prototype.toString.call(module)){for(var params=[],i=0,l=module.length;i<l;++i){var dep=lookup(parentId,module[i]);if(null==dep&&acequire.original)return;params.push(dep)}return callback&&callback.apply(null,params)||!0}},acequire=function(module,callback){var packagedModule=_acequire("",module,callback);return null==packagedModule&&acequire.original?acequire.original.apply(this,arguments):packagedModule},normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return normalizeModule(parentId,chunks[0])+"!"+normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0))for(moduleName=parentId.split("/").slice(0,-1).join("/")+"/"+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return moduleName},lookup=function(parentId,moduleName){moduleName=normalizeModule(parentId,moduleName);var module=define.modules[moduleName];if(!module){if("function"==typeof(module=define.payloads[moduleName])){var exports={},mod={id:moduleName,uri:"",exports:exports,packaged:!0};exports=module((function(module,callback){return _acequire(moduleName,module,callback)}),exports,mod)||mod.exports,define.modules[moduleName]=exports,delete define.payloads[moduleName]}module=define.modules[moduleName]=exports||module}return module};root=global,(ns="ace")&&(global[ns]||(global[ns]={}),root=global[ns]),root.define&&root.define.packaged||(define.original=root.define,root.define=define,root.define.packaged=!0),root.acequire&&root.acequire.packaged||(acequire.original=root.acequire,root.acequire=acequire,root.acequire.packaged=!0)}(),ace.define("ace/lib/regexp",["require","exports","module"],(function(acequire,exports,module){"use strict";var x,real={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},compliantExecNpcg=void 0===real.exec.call(/()??/,"")[1],compliantLastIndexIncrement=(x=/^/g,real.test.call(x,""),!x.lastIndex);function getNativeFlags(regex){return(regex.global?"g":"")+(regex.ignoreCase?"i":"")+(regex.multiline?"m":"")+(regex.extended?"x":"")+(regex.sticky?"y":"")}function indexOf(array,item,from){if(Array.prototype.indexOf)return array.indexOf(item,from);for(var i=from||0;i<array.length;i++)if(array[i]===item)return i;return-1}compliantLastIndexIncrement&&compliantExecNpcg||(RegExp.prototype.exec=function(str){var name,r2,match=real.exec.apply(this,arguments);if("string"==typeof str&&match){if(!compliantExecNpcg&&match.length>1&&indexOf(match,"")>-1&&(r2=RegExp(this.source,real.replace.call(getNativeFlags(this),"g","")),real.replace.call(str.slice(match.index),r2,(function(){for(var i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)}))),this._xregexp&&this._xregexp.captureNames)for(var i=1;i<match.length;i++)(name=this._xregexp.captureNames[i-1])&&(match[name]=match[i]);!compliantLastIndexIncrement&&this.global&&!match[0].length&&this.lastIndex>match.index&&this.lastIndex--}return match},compliantLastIndexIncrement||(RegExp.prototype.test=function(str){var match=real.exec.call(this,str);return match&&this.global&&!match[0].length&&this.lastIndex>match.index&&this.lastIndex--,!!match}))})),ace.define("ace/lib/es5-shim",["require","exports","module"],(function(acequire,exports,module){function Empty(){}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=new Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];if(array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),array.length,lengthBefore+1==array.length)return!0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):null==pos?pos=0:pos<0&&(pos=Math.max(length+pos,0)),pos+removeCount<length||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailNewPos<tailOldPos)for(var i=0;i<tailCount;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;i<add;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var createEmpty,freezeObject,boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;++i<length;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;i<length;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}do{i in this&&(result=fun.call(void 0,result,self[i],i,object))}while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);i<length;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+object);if(owns(object,property)){var descriptor;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),Object.create)||(createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != 'object'");var Type=function(){};Type.prototype=prototype,(object=new Type).__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object});function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.defineProperty called on non-object: "+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError("Property description must be an object: "+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError("getters & setters can not be defined on this javascript engine");owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze((function(){}))}catch(exception){Object.freeze=(freezeObject=Object.freeze,function(object){return"function"==typeof object?object:freezeObject(object)})}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(object){return!1}),Object.isFrozen||(Object.isFrozen=function(object){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;i<ii;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\n\v\f\r \u2028\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=new RegExp("^"+ws+ws+"*"),trimEndRegexp=new RegExp(ws+ws+"*$");String.prototype.trim=function(){return String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}function toInteger(n){return(n=+n)!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}var toObject=function(o){if(null==o)throw new TypeError("can't convert "+o+" to object");return Object(o)}})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],(function(acequire,exports,module){"use strict";acequire("./regexp"),acequire("./es5-shim")})),ace.define("ace/lib/dom",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.getDocumentHead=function(doc){return doc||(doc=document),doc.head||doc.getElementsByTagName("head")[0]||doc.documentElement},exports.createElement=function(tag,ns){return document.createElementNS?document.createElementNS(ns||"http://www.w3.org/1999/xhtml",tag):document.createElement(tag)},exports.hasCssClass=function(el,name){return-1!==(el.className+"").split(/\s+/g).indexOf(name)},exports.addCssClass=function(el,name){exports.hasCssClass(el,name)||(el.className+=" "+name)},exports.removeCssClass=function(el,name){for(var classes=el.className.split(/\s+/g);;){var index=classes.indexOf(name);if(-1==index)break;classes.splice(index,1)}el.className=classes.join(" ")},exports.toggleCssClass=function(el,name){for(var classes=el.className.split(/\s+/g),add=!0;;){var index=classes.indexOf(name);if(-1==index)break;add=!1,classes.splice(index,1)}return add&&classes.push(name),el.className=classes.join(" "),add},exports.setCssClass=function(node,className,include){include?exports.addCssClass(node,className):exports.removeCssClass(node,className)},exports.hasCssString=function(id,doc){var sheets,index=0;if((doc=doc||document).createStyleSheet&&(sheets=doc.styleSheets)){for(;index<sheets.length;)if(sheets[index++].owningElement.id===id)return!0}else if(sheets=doc.getElementsByTagName("style"))for(;index<sheets.length;)if(sheets[index++].id===id)return!0;return!1},exports.importCssString=function(cssText,id,doc){if(doc=doc||document,id&&exports.hasCssString(id,doc))return null;var style;id&&(cssText+="\n/*# sourceURL=ace/css/"+id+" */"),doc.createStyleSheet?((style=doc.createStyleSheet()).cssText=cssText,id&&(style.owningElement.id=id)):((style=exports.createElement("style")).appendChild(doc.createTextNode(cssText)),id&&(style.id=id),exports.getDocumentHead(doc).appendChild(style))},exports.importCssStylsheet=function(uri,doc){if(doc.createStyleSheet)doc.createStyleSheet(uri);else{var link=exports.createElement("link");link.rel="stylesheet",link.href=uri,exports.getDocumentHead(doc).appendChild(link)}},exports.getInnerWidth=function(element){return parseInt(exports.computedStyle(element,"paddingLeft"),10)+parseInt(exports.computedStyle(element,"paddingRight"),10)+element.clientWidth},exports.getInnerHeight=function(element){return parseInt(exports.computedStyle(element,"paddingTop"),10)+parseInt(exports.computedStyle(element,"paddingBottom"),10)+element.clientHeight},exports.scrollbarWidth=function(document){var inner=exports.createElement("ace_inner");inner.style.width="100%",inner.style.minWidth="0px",inner.style.height="200px",inner.style.display="block";var outer=exports.createElement("ace_outer"),style=outer.style;style.position="absolute",style.left="-10000px",style.overflow="hidden",style.width="200px",style.minWidth="0px",style.height="150px",style.display="block",outer.appendChild(inner);var body=document.documentElement;body.appendChild(outer);var noScrollbar=inner.offsetWidth;style.overflow="scroll";var withScrollbar=inner.offsetWidth;return noScrollbar==withScrollbar&&(withScrollbar=outer.clientWidth),body.removeChild(outer),noScrollbar-withScrollbar},"undefined"!=typeof document?(void 0!==window.pageYOffset?(exports.getPageScrollTop=function(){return window.pageYOffset},exports.getPageScrollLeft=function(){return window.pageXOffset}):(exports.getPageScrollTop=function(){return document.body.scrollTop},exports.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?exports.computedStyle=function(element,style){return style?(window.getComputedStyle(element,"")||{})[style]||"":window.getComputedStyle(element,"")||{}}:exports.computedStyle=function(element,style){return style?element.currentStyle[style]:element.currentStyle},exports.setInnerHtml=function(el,innerHtml){var element=el.cloneNode(!1);return element.innerHTML=innerHtml,el.parentNode.replaceChild(element,el),element},"textContent"in document.documentElement?(exports.setInnerText=function(el,innerText){el.textContent=innerText},exports.getInnerText=function(el){return el.textContent}):(exports.setInnerText=function(el,innerText){el.innerText=innerText},exports.getInnerText=function(el){return el.innerText}),exports.getParentWindow=function(document){return document.defaultView||document.parentWindow}):exports.importCssString=function(){}})),ace.define("ace/lib/oop",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],(function(acequire,exports,module){"use strict";acequire("./fixoldbrowsers");var oop=acequire("./oop"),Keys=function(){var name,i,ret={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(i in ret.FUNCTION_KEYS)name=ret.FUNCTION_KEYS[i].toLowerCase(),ret[name]=parseInt(i,10);for(i in ret.PRINTABLE_KEYS)name=ret.PRINTABLE_KEYS[i].toLowerCase(),ret[name]=parseInt(i,10);return oop.mixin(ret,ret.MODIFIER_KEYS),oop.mixin(ret,ret.PRINTABLE_KEYS),oop.mixin(ret,ret.FUNCTION_KEYS),ret.enter=ret.return,ret.escape=ret.esc,ret.del=ret.delete,ret[173]="-",function(){for(var mods=["cmd","ctrl","alt","shift"],i=Math.pow(2,mods.length);i--;)ret.KEY_MODS[i]=mods.filter((function(x){return i&ret.KEY_MODS[x]})).join("-")+"-"}(),ret.KEY_MODS[0]="",ret.KEY_MODS[-1]="input-",ret}();oop.mixin(exports,Keys),exports.keyCodeToString=function(keyCode){var keyString=Keys[keyCode];return"string"!=typeof keyString&&(keyString=String.fromCharCode(keyCode)),keyString.toLowerCase()}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(acequire,exports,module){"use strict";if(exports.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},exports.getOS=function(){return exports.isMac?exports.OS.MAC:exports.isLinux?exports.OS.LINUX:exports.OS.WINDOWS},"object"==typeof navigator){var os=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),ua=navigator.userAgent;exports.isWin="win"==os,exports.isMac="mac"==os,exports.isLinux="linux"==os,exports.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((ua.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((ua.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),exports.isOldIE=exports.isIE&&exports.isIE<9,exports.isGecko=exports.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,exports.isOldGecko=exports.isGecko&&parseInt((ua.match(/rv:(\d+)/)||[])[1],10)<4,exports.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),exports.isWebKit=parseFloat(ua.split("WebKit/")[1])||void 0,exports.isChrome=parseFloat(ua.split(" Chrome/")[1])||void 0,exports.isAIR=ua.indexOf("AdobeAIR")>=0,exports.isIPad=ua.indexOf("iPad")>=0,exports.isChromeOS=ua.indexOf(" CrOS ")>=0,exports.isIOS=/iPad|iPhone|iPod/.test(ua)&&!window.MSStream,exports.isIOS&&(exports.isMac=!0)}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(acequire,exports,module){"use strict";var keys=acequire("./keys"),useragent=acequire("./useragent"),pressedKeys=null,ts=0;exports.addListener=function(elem,type,callback){if(elem.addEventListener)return elem.addEventListener(type,callback,!1);if(elem.attachEvent){var wrapper=function(){callback.call(elem,window.event)};callback._wrapper=wrapper,elem.attachEvent("on"+type,wrapper)}},exports.removeListener=function(elem,type,callback){if(elem.removeEventListener)return elem.removeEventListener(type,callback,!1);elem.detachEvent&&elem.detachEvent("on"+type,callback._wrapper||callback)},exports.stopEvent=function(e){return exports.stopPropagation(e),exports.preventDefault(e),!1},exports.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},exports.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},exports.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||useragent.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},exports.capture=function(el,eventHandler,releaseCaptureHandler){function onMouseUp(e){eventHandler&&eventHandler(e),releaseCaptureHandler&&releaseCaptureHandler(e),exports.removeListener(document,"mousemove",eventHandler,!0),exports.removeListener(document,"mouseup",onMouseUp,!0),exports.removeListener(document,"dragstart",onMouseUp,!0)}return exports.addListener(document,"mousemove",eventHandler,!0),exports.addListener(document,"mouseup",onMouseUp,!0),exports.addListener(document,"dragstart",onMouseUp,!0),onMouseUp},exports.addTouchMoveListener=function(el,callback){var startx,starty;exports.addListener(el,"touchstart",(function(e){var touchObj=e.touches[0];startx=touchObj.clientX,starty=touchObj.clientY})),exports.addListener(el,"touchmove",(function(e){var touches=e.touches;if(!(touches.length>1)){var touchObj=touches[0];e.wheelX=startx-touchObj.clientX,e.wheelY=starty-touchObj.clientY,startx=touchObj.clientX,starty=touchObj.clientY,callback(e)}}))},exports.addMouseWheelListener=function(el,callback){"onmousewheel"in el?exports.addListener(el,"mousewheel",(function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),callback(e)})):"onwheel"in el?exports.addListener(el,"wheel",(function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}callback(e)})):exports.addListener(el,"DOMMouseScroll",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),callback(e)}))},exports.addMultiMouseDownListener=function(elements,timeouts,eventHandler,callbackName){var startX,startY,timer,clicks=0,eventNames={2:"dblclick",3:"tripleclick",4:"quadclick"};function onMousedown(e){if(0!==exports.getButton(e)?clicks=0:e.detail>1?++clicks>4&&(clicks=1):clicks=1,useragent.isIE){var isNewClick=Math.abs(e.clientX-startX)>5||Math.abs(e.clientY-startY)>5;timer&&!isNewClick||(clicks=1),timer&&clearTimeout(timer),timer=setTimeout((function(){timer=null}),timeouts[clicks-1]||600),1==clicks&&(startX=e.clientX,startY=e.clientY)}if(e._clicks=clicks,eventHandler[callbackName]("mousedown",e),clicks>4)clicks=0;else if(clicks>1)return eventHandler[callbackName](eventNames[clicks],e)}function onDblclick(e){clicks=2,timer&&clearTimeout(timer),timer=setTimeout((function(){timer=null}),timeouts[clicks-1]||600),eventHandler[callbackName]("mousedown",e),eventHandler[callbackName](eventNames[clicks],e)}Array.isArray(elements)||(elements=[elements]),elements.forEach((function(el){exports.addListener(el,"mousedown",onMousedown),useragent.isOldIE&&exports.addListener(el,"dblclick",onDblclick)}))};var getModifierHash=useragent.isMac&&useragent.isOpera&&!("KeyboardEvent"in window)?function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)}:function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function normalizeCommandKeys(callback,e,keyCode){var hashId=getModifierHash(e);if(!useragent.isMac&&pressedKeys){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win"))&&(hashId|=8),pressedKeys.altGr){if(3==(3&hashId))return;pressedKeys.altGr=0}if(18===keyCode||17===keyCode){var location="location"in e?e.location:e.keyLocation;if(17===keyCode&&1===location)1==pressedKeys[keyCode]&&(ts=e.timeStamp);else if(18===keyCode&&3===hashId&&2===location){e.timeStamp-ts<50&&(pressedKeys.altGr=!0)}}}if((keyCode in keys.MODIFIER_KEYS&&(keyCode=-1),8&hashId&&keyCode>=91&&keyCode<=93&&(keyCode=-1),!hashId&&13===keyCode)&&(3===(location="location"in e?e.location:e.keyLocation)&&(callback(e,hashId,-keyCode),e.defaultPrevented)))return;if(useragent.isChromeOS&&8&hashId){if(callback(e,hashId,keyCode),e.defaultPrevented)return;hashId&=-9}return!!(hashId||keyCode in keys.FUNCTION_KEYS||keyCode in keys.PRINTABLE_KEYS)&&callback(e,hashId,keyCode)}function resetPressedKeys(){pressedKeys=Object.create(null)}if(exports.getModifierString=function(e){return keys.KEY_MODS[getModifierHash(e)]},exports.addCommandKeyListener=function(el,callback){var addListener=exports.addListener;if(useragent.isOldGecko||useragent.isOpera&&!("KeyboardEvent"in window)){var lastKeyDownKeyCode=null;addListener(el,"keydown",(function(e){lastKeyDownKeyCode=e.keyCode})),addListener(el,"keypress",(function(e){return normalizeCommandKeys(callback,e,lastKeyDownKeyCode)}))}else{var lastDefaultPrevented=null;addListener(el,"keydown",(function(e){pressedKeys[e.keyCode]=(pressedKeys[e.keyCode]||0)+1;var result=normalizeCommandKeys(callback,e,e.keyCode);return lastDefaultPrevented=e.defaultPrevented,result})),addListener(el,"keypress",(function(e){lastDefaultPrevented&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(exports.stopEvent(e),lastDefaultPrevented=null)})),addListener(el,"keyup",(function(e){pressedKeys[e.keyCode]=null})),pressedKeys||(resetPressedKeys(),addListener(window,"focus",resetPressedKeys))}},"object"==typeof window&&window.postMessage&&!useragent.isOldIE){exports.nextTick=function(callback,win){win=win||window;exports.addListener(win,"message",(function listener(e){"zero-timeout-message-1"==e.data&&(exports.stopPropagation(e),exports.removeListener(win,"message",listener),callback())})),win.postMessage("zero-timeout-message-1","*")}}exports.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),exports.nextFrame?exports.nextFrame=exports.nextFrame.bind(window):exports.nextFrame=function(callback){setTimeout(callback,17)}})),ace.define("ace/lib/lang",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\s\s*/,trimEndRegexp=/\s\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;i<l;i++)array[i]&&"object"==typeof array[i]?copy[i]=this.copyObject(array[i]):copy[i]=array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;key<obj.length;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;for(var key in copy={},obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;i<arr.length;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;i<=array.length;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,(function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})})),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}})),ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],(function(acequire,exports,module){"use strict";var event=acequire("../lib/event"),useragent=acequire("../lib/useragent"),dom=acequire("../lib/dom"),lang=acequire("../lib/lang"),KEYS=acequire("../lib/keys"),MODS=KEYS.KEY_MODS,BROKEN_SETDATA=useragent.isChrome<18,USE_IE_MIME_TYPE=useragent.isIE;exports.TextInput=function(parentNode,host){var text=dom.createElement("textarea");text.className=useragent.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input",useragent.isTouchPad&&text.setAttribute("x-palm-disable-auto-cap",!0),text.setAttribute("wrap","off"),text.setAttribute("autocorrect","off"),text.setAttribute("autocapitalize","off"),text.setAttribute("spellcheck",!1),text.style.opacity="0",parentNode.insertBefore(text,parentNode.firstChild);var copied=!1,cut=!1,pasted=!1,inComposition=!1,tempStyle="",isSelectionEmpty=!0;try{var isFocused=document.activeElement===text}catch(e){}event.addListener(text,"blur",(function(e){host.onBlur(e),isFocused=!1})),event.addListener(text,"focus",(function(e){isFocused=!0,host.onFocus(e),resetSelection()})),this.focus=function(){if(tempStyle)return text.focus();text.style.position="fixed",text.focus()},this.blur=function(){text.blur()},this.isFocused=function(){return isFocused};var syncSelection=lang.delayedCall((function(){isFocused&&resetSelection(isSelectionEmpty)})),syncValue=lang.delayedCall((function(){inComposition||(text.value="\n aaaa a\n",isFocused&&resetSelection())}));function resetSelection(isEmpty){if(!inComposition){if(inComposition=!0,inputHandler)selectionStart=0,selectionEnd=isEmpty?0:text.value.length-1;else var selectionStart=4,selectionEnd=5;try{text.setSelectionRange(selectionStart,selectionEnd)}catch(e){}inComposition=!1}}function resetValue(){inComposition||(text.value="\n aaaa a\n",useragent.isWebKit&&syncValue.schedule())}useragent.isWebKit||host.addEventListener("changeSelection",(function(){host.selection.isEmpty()!=isSelectionEmpty&&(isSelectionEmpty=!isSelectionEmpty,syncSelection.schedule())})),resetValue(),isFocused&&host.onFocus();var inputHandler=null;this.setInputHandler=function(cb){inputHandler=cb},this.getInputHandler=function(){return inputHandler};var afterContextMenu=!1,sendText=function(data){4===text.selectionStart&&5===text.selectionEnd||(inputHandler&&(data=inputHandler(data),inputHandler=null),pasted?(resetSelection(),data&&host.onPaste(data),pasted=!1):data=="\n aaaa a\n".substr(0)&&4===text.selectionStart?afterContextMenu?host.execCommand("del",{source:"ace"}):host.execCommand("backspace",{source:"ace"}):copied||("\n aaaa a\n"==data.substring(0,9)&&data.length>"\n aaaa a\n".length?data=data.substr(9):data.substr(0,4)=="\n aaaa a\n".substr(0,4)?data=data.substr(4,data.length-"\n aaaa a\n".length+1):data.charAt(data.length-1)=="\n aaaa a\n".charAt(0)&&(data=data.slice(0,-1)),data=="\n aaaa a\n".charAt(0)||data.charAt(data.length-1)=="\n aaaa a\n".charAt(0)&&(data=data.slice(0,-1)),data&&host.onTextInput(data)),copied&&(copied=!1),afterContextMenu&&(afterContextMenu=!1))},onInput=function(e){if(!inComposition){var data=text.value;sendText(data),resetValue()}},handleClipboardData=function(e,data,forceIEMime){var clipboardData=e.clipboardData||window.clipboardData;if(clipboardData&&!BROKEN_SETDATA){var mime=USE_IE_MIME_TYPE||forceIEMime?"Text":"text/plain";try{return data?!1!==clipboardData.setData(mime,data):clipboardData.getData(mime)}catch(e){if(!forceIEMime)return handleClipboardData(e,data,!0)}}},doCopy=function(e,isCut){var data=host.getCopyText();if(!data)return event.preventDefault(e);handleClipboardData(e,data)?(useragent.isIOS&&(cut=isCut,text.value="\n aa"+data+"a a\n",text.setSelectionRange(4,4+data.length),copied={value:data}),isCut?host.onCut():host.onCopy(),useragent.isIOS||event.preventDefault(e)):(copied=!0,text.value=data,text.select(),setTimeout((function(){copied=!1,resetValue(),resetSelection(),isCut?host.onCut():host.onCopy()})))};event.addCommandKeyListener(text,host.onCommandKey.bind(host)),event.addListener(text,"select",(function(e){!function(text){return 0===text.selectionStart&&text.selectionEnd===text.value.length}(text)?inputHandler&&resetSelection(host.selection.isEmpty()):(host.selectAll(),resetSelection())})),event.addListener(text,"input",onInput),event.addListener(text,"cut",(function(e){doCopy(e,!0)})),event.addListener(text,"copy",(function(e){doCopy(e,!1)})),event.addListener(text,"paste",(function(e){var data=handleClipboardData(e);"string"==typeof data?(data&&host.onPaste(data,e),useragent.isIE&&setTimeout(resetSelection),event.preventDefault(e)):(text.value="",pasted=!0)}));var closeTimeout,onCompositionUpdate=function(){if(inComposition&&host.onCompositionUpdate&&!host.$readOnly){var val=text.value.replace(/\x01/g,"");if(inComposition.lastValue!==val&&(host.onCompositionUpdate(val),inComposition.lastValue&&host.undo(),inComposition.canUndo&&(inComposition.lastValue=val),inComposition.lastValue)){var r=host.selection.getRange();host.insert(inComposition.lastValue),host.session.markUndoGroup(),inComposition.range=host.selection.getRange(),host.selection.setRange(r),host.selection.clearSelection()}}},onCompositionEnd=function(e){if(host.onCompositionEnd&&!host.$readOnly){var c=inComposition;inComposition=!1;var timer=setTimeout((function(){timer=null;var str=text.value.replace(/\x01/g,"");inComposition||(str==c.lastValue?resetValue():!c.lastValue&&str&&(resetValue(),sendText(str)))}));inputHandler=function(str){return timer&&clearTimeout(timer),(str=str.replace(/\x01/g,""))==c.lastValue?"":(c.lastValue&&timer&&host.undo(),str)},host.onCompositionEnd(),host.removeListener("mousedown",onCompositionEnd),"compositionend"==e.type&&c.range&&host.selection.setRange(c.range),(!!useragent.isChrome&&useragent.isChrome>=53||!!useragent.isWebKit&&useragent.isWebKit>=603)&&onInput()}},syncComposition=lang.delayedCall(onCompositionUpdate,50);function onContextMenuClose(){clearTimeout(closeTimeout),closeTimeout=setTimeout((function(){tempStyle&&(text.style.cssText=tempStyle,tempStyle=""),null==host.renderer.$keepTextAreaAtCursor&&(host.renderer.$keepTextAreaAtCursor=!0,host.renderer.$moveTextAreaToCursor())}),0)}event.addListener(text,"compositionstart",(function(e){inComposition||!host.onCompositionStart||host.$readOnly||((inComposition={}).canUndo=host.session.$undoManager,host.onCompositionStart(),setTimeout(onCompositionUpdate,0),host.on("mousedown",onCompositionEnd),inComposition.canUndo&&!host.selection.isEmpty()&&(host.insert(""),host.session.markUndoGroup(),host.selection.clearSelection()),host.session.markUndoGroup())})),useragent.isGecko?event.addListener(text,"text",(function(){syncComposition.schedule()})):(event.addListener(text,"keyup",(function(){syncComposition.schedule()})),event.addListener(text,"keydown",(function(){syncComposition.schedule()}))),event.addListener(text,"compositionend",onCompositionEnd),this.getElement=function(){return text},this.setReadOnly=function(readOnly){text.readOnly=readOnly},this.onContextMenu=function(e){afterContextMenu=!0,resetSelection(host.selection.isEmpty()),host._emit("nativecontextmenu",{target:host,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,bringToFront){tempStyle||(tempStyle=text.style.cssText),text.style.cssText=(bringToFront?"z-index:100000;":"")+"height:"+text.style.height+";"+(useragent.isIE?"opacity:0.1;":"");var rect=host.container.getBoundingClientRect(),style=dom.computedStyle(host.container),top=rect.top+(parseInt(style.borderTopWidth)||0),left=rect.left+(parseInt(rect.borderLeftWidth)||0),maxTop=rect.bottom-top-text.clientHeight-2,move=function(e){text.style.left=e.clientX-left-2+"px",text.style.top=Math.min(e.clientY-top-2,maxTop)+"px"};move(e),"mousedown"==e.type&&(host.renderer.$keepTextAreaAtCursor&&(host.renderer.$keepTextAreaAtCursor=null),clearTimeout(closeTimeout),useragent.isWin&&event.capture(host.container,move,onContextMenuClose))},this.onContextMenuClose=onContextMenuClose;var onContextMenu=function(e){host.textInput.onContextMenu(e),onContextMenuClose()};if(event.addListener(text,"mouseup",onContextMenu),event.addListener(text,"mousedown",(function(e){e.preventDefault(),onContextMenuClose()})),event.addListener(host.renderer.scroller,"contextmenu",onContextMenu),event.addListener(text,"contextmenu",onContextMenu),useragent.isIOS){var typingResetTimeout=null,typing=!1;parentNode.addEventListener("keydown",(function(e){typingResetTimeout&&clearTimeout(typingResetTimeout),typing=!0})),parentNode.addEventListener("keyup",(function(e){typingResetTimeout=setTimeout((function(){typing=!1}),100)}));var detectArrowKeys=function(e){if(document.activeElement===text&&!typing){if(cut)return setTimeout((function(){cut=!1}),100);var selectionStart=text.selectionStart,selectionEnd=text.selectionEnd;if(text.setSelectionRange(4,5),selectionStart==selectionEnd)switch(selectionStart){case 0:host.onCommandKey(null,0,KEYS.up);break;case 1:host.onCommandKey(null,0,KEYS.home);break;case 2:host.onCommandKey(null,MODS.option,KEYS.left);break;case 4:host.onCommandKey(null,0,KEYS.left);break;case 5:host.onCommandKey(null,0,KEYS.right);break;case 7:host.onCommandKey(null,MODS.option,KEYS.right);break;case 8:host.onCommandKey(null,0,KEYS.end);break;case 9:host.onCommandKey(null,0,KEYS.down)}else{switch(selectionEnd){case 6:host.onCommandKey(null,MODS.shift,KEYS.right);break;case 7:host.onCommandKey(null,MODS.shift|MODS.option,KEYS.right);break;case 8:host.onCommandKey(null,MODS.shift,KEYS.end);break;case 9:host.onCommandKey(null,MODS.shift,KEYS.down)}switch(selectionStart){case 0:host.onCommandKey(null,MODS.shift,KEYS.up);break;case 1:host.onCommandKey(null,MODS.shift,KEYS.home);break;case 2:host.onCommandKey(null,MODS.shift|MODS.option,KEYS.left);break;case 3:host.onCommandKey(null,MODS.shift,KEYS.left)}}}};document.addEventListener("selectionchange",detectArrowKeys),host.on("destroy",(function(){document.removeEventListener("selectionchange",detectArrowKeys)}))}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],(function(acequire,exports,module){"use strict";var event=acequire("../lib/event"),useragent=acequire("../lib/useragent"),dom=acequire("../lib/dom"),lang=acequire("../lib/lang"),BROKEN_SETDATA=useragent.isChrome<18,USE_IE_MIME_TYPE=useragent.isIE,TextInputIOS=acequire("./textinput_ios").TextInput;exports.TextInput=function(parentNode,host){if(useragent.isIOS)return TextInputIOS.call(this,parentNode,host);var text=dom.createElement("textarea");text.className="ace_text-input",text.setAttribute("wrap","off"),text.setAttribute("autocorrect","off"),text.setAttribute("autocapitalize","off"),text.setAttribute("spellcheck",!1),text.style.opacity="0",parentNode.insertBefore(text,parentNode.firstChild);var copied=!1,pasted=!1,inComposition=!1,tempStyle="",isSelectionEmpty=!0;try{var isFocused=document.activeElement===text}catch(e){}event.addListener(text,"blur",(function(e){host.onBlur(e),isFocused=!1})),event.addListener(text,"focus",(function(e){isFocused=!0,host.onFocus(e),resetSelection()})),this.focus=function(){if(tempStyle)return text.focus();var top=text.style.top;text.style.position="fixed",text.style.top="0px",text.focus(),setTimeout((function(){text.style.position="","0px"==text.style.top&&(text.style.top=top)}),0)},this.blur=function(){text.blur()},this.isFocused=function(){return isFocused};var syncSelection=lang.delayedCall((function(){isFocused&&resetSelection(isSelectionEmpty)})),syncValue=lang.delayedCall((function(){inComposition||(text.value="\u2028\u2028",isFocused&&resetSelection())}));function resetSelection(isEmpty){if(!inComposition){if(inComposition=!0,inputHandler)var selectionStart=0,selectionEnd=isEmpty?0:text.value.length-1;else selectionStart=isEmpty?2:1,selectionEnd=2;try{text.setSelectionRange(selectionStart,selectionEnd)}catch(e){}inComposition=!1}}function resetValue(){inComposition||(text.value="\u2028\u2028",useragent.isWebKit&&syncValue.schedule())}useragent.isWebKit||host.addEventListener("changeSelection",(function(){host.selection.isEmpty()!=isSelectionEmpty&&(isSelectionEmpty=!isSelectionEmpty,syncSelection.schedule())})),resetValue(),isFocused&&host.onFocus();var inputHandler=null;this.setInputHandler=function(cb){inputHandler=cb},this.getInputHandler=function(){return inputHandler};var afterContextMenu=!1,sendText=function(data){inputHandler&&(data=inputHandler(data),inputHandler=null),pasted?(resetSelection(),data&&host.onPaste(data),pasted=!1):data=="\u2028\u2028".charAt(0)?afterContextMenu?host.execCommand("del",{source:"ace"}):host.execCommand("backspace",{source:"ace"}):("\u2028\u2028"==data.substring(0,2)?data=data.substr(2):data.charAt(0)=="\u2028\u2028".charAt(0)?data=data.substr(1):data.charAt(data.length-1)=="\u2028\u2028".charAt(0)&&(data=data.slice(0,-1)),data.charAt(data.length-1)=="\u2028\u2028".charAt(0)&&(data=data.slice(0,-1)),data&&host.onTextInput(data)),afterContextMenu&&(afterContextMenu=!1)},onInput=function(e){if(!inComposition){var data=text.value;sendText(data),resetValue()}},handleClipboardData=function(e,data,forceIEMime){var clipboardData=e.clipboardData||window.clipboardData;if(clipboardData&&!BROKEN_SETDATA){var mime=USE_IE_MIME_TYPE||forceIEMime?"Text":"text/plain";try{return data?!1!==clipboardData.setData(mime,data):clipboardData.getData(mime)}catch(e){if(!forceIEMime)return handleClipboardData(e,data,!0)}}},doCopy=function(e,isCut){var data=host.getCopyText();if(!data)return event.preventDefault(e);handleClipboardData(e,data)?(isCut?host.onCut():host.onCopy(),event.preventDefault(e)):(copied=!0,text.value=data,text.select(),setTimeout((function(){copied=!1,resetValue(),resetSelection(),isCut?host.onCut():host.onCopy()})))},onCut=function(e){doCopy(e,!0)},onCopy=function(e){doCopy(e,!1)},onPaste=function(e){var data=handleClipboardData(e);"string"==typeof data?(data&&host.onPaste(data,e),useragent.isIE&&setTimeout(resetSelection),event.preventDefault(e)):(text.value="",pasted=!0)};event.addCommandKeyListener(text,host.onCommandKey.bind(host)),event.addListener(text,"select",(function(e){copied?copied=!1:!function(text){return 0===text.selectionStart&&text.selectionEnd===text.value.length}(text)?inputHandler&&resetSelection(host.selection.isEmpty()):(host.selectAll(),resetSelection())})),event.addListener(text,"input",onInput),event.addListener(text,"cut",onCut),event.addListener(text,"copy",onCopy),event.addListener(text,"paste",onPaste),"oncut"in text&&"oncopy"in text&&"onpaste"in text||event.addListener(parentNode,"keydown",(function(e){if((!useragent.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:onCopy(e);break;case 86:onPaste(e);break;case 88:onCut(e)}}));var closeTimeout,onCompositionUpdate=function(){if(inComposition&&host.onCompositionUpdate&&!host.$readOnly){var val=text.value.replace(/\u2028/g,"");if(inComposition.lastValue!==val&&(host.onCompositionUpdate(val),inComposition.lastValue&&host.undo(),inComposition.canUndo&&(inComposition.lastValue=val),inComposition.lastValue)){var r=host.selection.getRange();host.insert(inComposition.lastValue),host.session.markUndoGroup(),inComposition.range=host.selection.getRange(),host.selection.setRange(r),host.selection.clearSelection()}}},onCompositionEnd=function(e){if(host.onCompositionEnd&&!host.$readOnly){var c=inComposition;inComposition=!1;var timer=setTimeout((function(){timer=null;var str=text.value.replace(/\u2028/g,"");inComposition||(str==c.lastValue?resetValue():!c.lastValue&&str&&(resetValue(),sendText(str)))}));inputHandler=function(str){return timer&&clearTimeout(timer),(str=str.replace(/\u2028/g,""))==c.lastValue?"":(c.lastValue&&timer&&host.undo(),str)},host.onCompositionEnd(),host.removeListener("mousedown",onCompositionEnd),"compositionend"==e.type&&c.range&&host.selection.setRange(c.range),(!!useragent.isChrome&&useragent.isChrome>=53||!!useragent.isWebKit&&useragent.isWebKit>=603)&&onInput()}},syncComposition=lang.delayedCall(onCompositionUpdate,50);function onContextMenuClose(){clearTimeout(closeTimeout),closeTimeout=setTimeout((function(){tempStyle&&(text.style.cssText=tempStyle,tempStyle=""),null==host.renderer.$keepTextAreaAtCursor&&(host.renderer.$keepTextAreaAtCursor=!0,host.renderer.$moveTextAreaToCursor())}),0)}event.addListener(text,"compositionstart",(function(e){inComposition||!host.onCompositionStart||host.$readOnly||((inComposition={}).canUndo=host.session.$undoManager,host.onCompositionStart(),setTimeout(onCompositionUpdate,0),host.on("mousedown",onCompositionEnd),inComposition.canUndo&&!host.selection.isEmpty()&&(host.insert(""),host.session.markUndoGroup(),host.selection.clearSelection()),host.session.markUndoGroup())})),useragent.isGecko?event.addListener(text,"text",(function(){syncComposition.schedule()})):(event.addListener(text,"keyup",(function(){syncComposition.schedule()})),event.addListener(text,"keydown",(function(){syncComposition.schedule()}))),event.addListener(text,"compositionend",onCompositionEnd),this.getElement=function(){return text},this.setReadOnly=function(readOnly){text.readOnly=readOnly},this.onContextMenu=function(e){afterContextMenu=!0,resetSelection(host.selection.isEmpty()),host._emit("nativecontextmenu",{target:host,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,bringToFront){tempStyle||(tempStyle=text.style.cssText),text.style.cssText=(bringToFront?"z-index:100000;":"")+"height:"+text.style.height+";"+(useragent.isIE?"opacity:0.1;":"");var rect=host.container.getBoundingClientRect(),style=dom.computedStyle(host.container),top=rect.top+(parseInt(style.borderTopWidth)||0),left=rect.left+(parseInt(rect.borderLeftWidth)||0),maxTop=rect.bottom-top-text.clientHeight-2,move=function(e){text.style.left=e.clientX-left-2+"px",text.style.top=Math.min(e.clientY-top-2,maxTop)+"px"};move(e),"mousedown"==e.type&&(host.renderer.$keepTextAreaAtCursor&&(host.renderer.$keepTextAreaAtCursor=null),clearTimeout(closeTimeout),useragent.isWin&&event.capture(host.container,move,onContextMenuClose))},this.onContextMenuClose=onContextMenuClose;var onContextMenu=function(e){host.textInput.onContextMenu(e),onContextMenuClose()};event.addListener(text,"mouseup",onContextMenu),event.addListener(text,"mousedown",(function(e){e.preventDefault(),onContextMenuClose()})),event.addListener(host.renderer.scroller,"contextmenu",onContextMenu),event.addListener(text,"contextmenu",onContextMenu)}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(acequire,exports,module){"use strict";acequire("../lib/dom"),acequire("../lib/event");var useragent=acequire("../lib/useragent");function DefaultHandlers(mouseHandler){mouseHandler.$clickSelection=null;var editor=mouseHandler.editor;editor.setDefaultHandler("mousedown",this.onMouseDown.bind(mouseHandler)),editor.setDefaultHandler("dblclick",this.onDoubleClick.bind(mouseHandler)),editor.setDefaultHandler("tripleclick",this.onTripleClick.bind(mouseHandler)),editor.setDefaultHandler("quadclick",this.onQuadClick.bind(mouseHandler)),editor.setDefaultHandler("mousewheel",this.onMouseWheel.bind(mouseHandler)),editor.setDefaultHandler("touchmove",this.onTouchMove.bind(mouseHandler));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(x){mouseHandler[x]=this[x]}),this),mouseHandler.selectByLines=this.extendSelectionBy.bind(mouseHandler,"getLineRange"),mouseHandler.selectByWords=this.extendSelectionBy.bind(mouseHandler,"getWordRange")}function calcRangeOrientation(range,cursor){if(range.start.row==range.end.row)var cmp=2*cursor.column-range.start.column-range.end.column;else if(range.start.row!=range.end.row-1||range.start.column||range.end.column)cmp=2*cursor.row-range.start.row-range.end.row;else var cmp=cursor.column-4;return cmp<0?{cursor:range.start,anchor:range.end}:{cursor:range.end,anchor:range.start}}(function(){this.onMouseDown=function(ev){var inSelection=ev.inSelection(),pos=ev.getDocumentPosition();this.mousedownEvent=ev;var editor=this.editor,button=ev.getButton();if(0!==button){var selectionEmpty=editor.getSelectionRange().isEmpty();return editor.$blockScrolling++,(selectionEmpty||1==button)&&editor.selection.moveToPosition(pos),editor.$blockScrolling--,void(2==button&&(editor.textInput.onContextMenu(ev.domEvent),useragent.isMozilla||ev.preventDefault()))}return this.mousedownEvent.time=Date.now(),!inSelection||editor.isFocused()||(editor.focus(),!this.$focusTimout||this.$clickSelection||editor.inMultiSelectMode)?(this.captureMouse(ev),this.startSelect(pos,ev.domEvent._clicks>1),ev.preventDefault()):(this.setState("focusWait"),void this.captureMouse(ev))},this.startSelect=function(pos,waitForClickSelection){pos=pos||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var editor=this.editor;editor.$blockScrolling++,this.mousedownEvent.getShiftKey()?editor.selection.selectToPosition(pos):waitForClickSelection||editor.selection.moveToPosition(pos),waitForClickSelection||this.select(),editor.renderer.scroller.setCapture&&editor.renderer.scroller.setCapture(),editor.setStyle("ace_selecting"),this.setState("select"),editor.$blockScrolling--},this.select=function(){var anchor,editor=this.editor,cursor=editor.renderer.screenToTextCoordinates(this.x,this.y);if(editor.$blockScrolling++,this.$clickSelection){var cmp=this.$clickSelection.comparePoint(cursor);if(-1==cmp)anchor=this.$clickSelection.end;else if(1==cmp)anchor=this.$clickSelection.start;else{var orientedRange=calcRangeOrientation(this.$clickSelection,cursor);cursor=orientedRange.cursor,anchor=orientedRange.anchor}editor.selection.setSelectionAnchor(anchor.row,anchor.column)}editor.selection.selectToPosition(cursor),editor.$blockScrolling--,editor.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(unitName){var anchor,editor=this.editor,cursor=editor.renderer.screenToTextCoordinates(this.x,this.y),range=editor.selection[unitName](cursor.row,cursor.column);if(editor.$blockScrolling++,this.$clickSelection){var cmpStart=this.$clickSelection.comparePoint(range.start),cmpEnd=this.$clickSelection.comparePoint(range.end);if(-1==cmpStart&&cmpEnd<=0)anchor=this.$clickSelection.end,range.end.row==cursor.row&&range.end.column==cursor.column||(cursor=range.start);else if(1==cmpEnd&&cmpStart>=0)anchor=this.$clickSelection.start,range.start.row==cursor.row&&range.start.column==cursor.column||(cursor=range.end);else if(-1==cmpStart&&1==cmpEnd)cursor=range.end,anchor=range.start;else{var orientedRange=calcRangeOrientation(this.$clickSelection,cursor);cursor=orientedRange.cursor,anchor=orientedRange.anchor}editor.selection.setSelectionAnchor(anchor.row,anchor.column)}editor.selection.selectToPosition(cursor),editor.$blockScrolling--,editor.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var ax,ay,bx,by,distance=(ax=this.mousedownEvent.x,ay=this.mousedownEvent.y,bx=this.x,by=this.y,Math.sqrt(Math.pow(bx-ax,2)+Math.pow(by-ay,2))),time=Date.now();(distance>0||time-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(ev){var pos=ev.getDocumentPosition(),editor=this.editor,range=editor.session.getBracketRange(pos);range?(range.isEmpty()&&(range.start.column--,range.end.column++),this.setState("select")):(range=editor.selection.getWordRange(pos.row,pos.column),this.setState("selectByWords")),this.$clickSelection=range,this.select()},this.onTripleClick=function(ev){var pos=ev.getDocumentPosition(),editor=this.editor;this.setState("selectByLines");var range=editor.getSelectionRange();range.isMultiLine()&&range.contains(pos.row,pos.column)?(this.$clickSelection=editor.selection.getLineRange(range.start.row),this.$clickSelection.end=editor.selection.getLineRange(range.end.row).end):this.$clickSelection=editor.selection.getLineRange(pos.row),this.select()},this.onQuadClick=function(ev){var editor=this.editor;editor.selectAll(),this.$clickSelection=editor.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(ev){if(!ev.getAccelKey()){ev.getShiftKey()&&ev.wheelY&&!ev.wheelX&&(ev.wheelX=ev.wheelY,ev.wheelY=0);var editor=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var prevScroll=this.$lastScroll,t=ev.domEvent.timeStamp,dt=t-prevScroll.t,vx=ev.wheelX/dt,vy=ev.wheelY/dt;dt<250&&(vx=(vx+prevScroll.vx)/2,vy=(vy+prevScroll.vy)/2);var direction=Math.abs(vx/vy),canScroll=!1;if(direction>=1&&editor.renderer.isScrollableBy(ev.wheelX*ev.speed,0)&&(canScroll=!0),direction<=1&&editor.renderer.isScrollableBy(0,ev.wheelY*ev.speed)&&(canScroll=!0),canScroll)prevScroll.allowed=t;else if(t-prevScroll.allowed<250){Math.abs(vx)<=1.1*Math.abs(prevScroll.vx)&&Math.abs(vy)<=1.1*Math.abs(prevScroll.vy)?(canScroll=!0,prevScroll.allowed=t):prevScroll.allowed=0}return prevScroll.t=t,prevScroll.vx=vx,prevScroll.vy=vy,canScroll?(editor.renderer.scrollBy(ev.wheelX*ev.speed,ev.wheelY*ev.speed),ev.stop()):void 0}},this.onTouchMove=function(ev){this.editor._emit("mousewheel",ev)}}).call(DefaultHandlers.prototype),exports.DefaultHandlers=DefaultHandlers})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(acequire,exports,module){"use strict";acequire("./lib/oop");var dom=acequire("./lib/dom");function Tooltip(parentNode){this.isOpen=!1,this.$element=null,this.$parentNode=parentNode}(function(){this.$init=function(){return this.$element=dom.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(text){dom.setInnerText(this.getElement(),text)},this.setHtml=function(html){this.getElement().innerHTML=html},this.setPosition=function(x,y){this.getElement().style.left=x+"px",this.getElement().style.top=y+"px"},this.setClassName=function(className){dom.addCssClass(this.getElement(),className)},this.show=function(text,x,y){null!=text&&this.setText(text),null!=x&&null!=y&&this.setPosition(x,y),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(Tooltip.prototype),exports.Tooltip=Tooltip})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(acequire,exports,module){"use strict";var dom=acequire("../lib/dom"),oop=acequire("../lib/oop"),event=acequire("../lib/event"),Tooltip=acequire("../tooltip").Tooltip;function GutterTooltip(parentNode){Tooltip.call(this,parentNode)}oop.inherits(GutterTooltip,Tooltip),function(){this.setPosition=function(x,y){var windowWidth=window.innerWidth||document.documentElement.clientWidth,windowHeight=window.innerHeight||document.documentElement.clientHeight,width=this.getWidth(),height=this.getHeight();(x+=15)+width>windowWidth&&(x-=x+width-windowWidth),(y+=15)+height>windowHeight&&(y-=20+height),Tooltip.prototype.setPosition.call(this,x,y)}}.call(GutterTooltip.prototype),exports.GutterHandler=function(mouseHandler){var tooltipTimeout,mouseEvent,tooltipAnnotation,editor=mouseHandler.editor,gutter=editor.renderer.$gutterLayer,tooltip=new GutterTooltip(editor.container);function hideTooltip(){tooltipTimeout&&(tooltipTimeout=clearTimeout(tooltipTimeout)),tooltipAnnotation&&(tooltip.hide(),tooltipAnnotation=null,editor._signal("hideGutterTooltip",tooltip),editor.removeEventListener("mousewheel",hideTooltip))}function moveTooltip(e){tooltip.setPosition(e.x,e.y)}mouseHandler.editor.setDefaultHandler("guttermousedown",(function(e){if(editor.isFocused()&&0==e.getButton()&&"foldWidgets"!=gutter.getRegion(e)){var row=e.getDocumentPosition().row,selection=editor.session.selection;if(e.getShiftKey())selection.selectTo(row,0);else{if(2==e.domEvent.detail)return editor.selectAll(),e.preventDefault();mouseHandler.$clickSelection=editor.selection.getLineRange(row)}return mouseHandler.setState("selectByLines"),mouseHandler.captureMouse(e),e.preventDefault()}})),mouseHandler.editor.setDefaultHandler("guttermousemove",(function(e){var target=e.domEvent.target||e.domEvent.srcElement;if(dom.hasCssClass(target,"ace_fold-widget"))return hideTooltip();tooltipAnnotation&&mouseHandler.$tooltipFollowsMouse&&moveTooltip(e),mouseEvent=e,tooltipTimeout||(tooltipTimeout=setTimeout((function(){tooltipTimeout=null,mouseEvent&&!mouseHandler.isMousePressed?function(){var row=mouseEvent.getDocumentPosition().row,annotation=gutter.$annotations[row];if(!annotation)return hideTooltip();if(row==editor.session.getLength()){var screenRow=editor.renderer.pixelToScreenCoordinates(0,mouseEvent.y).row,pos=mouseEvent.$pos;if(screenRow>editor.session.documentToScreenRow(pos.row,pos.column))return hideTooltip()}if(tooltipAnnotation!=annotation)if(tooltipAnnotation=annotation.text.join("<br/>"),tooltip.setHtml(tooltipAnnotation),tooltip.show(),editor._signal("showGutterTooltip",tooltip),editor.on("mousewheel",hideTooltip),mouseHandler.$tooltipFollowsMouse)moveTooltip(mouseEvent);else{var rect=mouseEvent.domEvent.target.getBoundingClientRect(),style=tooltip.getElement().style;style.left=rect.right+"px",style.top=rect.bottom+"px"}}():hideTooltip()}),50))})),event.addListener(editor.renderer.$gutter,"mouseout",(function(e){mouseEvent=null,tooltipAnnotation&&!tooltipTimeout&&(tooltipTimeout=setTimeout((function(){tooltipTimeout=null,hideTooltip()}),50))})),editor.on("changeSession",hideTooltip)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(acequire,exports,module){"use strict";var event=acequire("../lib/event"),useragent=acequire("../lib/useragent"),MouseEvent=exports.MouseEvent=function(domEvent,editor){this.domEvent=domEvent,this.editor=editor,this.x=this.clientX=domEvent.clientX,this.y=this.clientY=domEvent.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){event.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){event.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var selectionRange=this.editor.getSelectionRange();if(selectionRange.isEmpty())this.$inSelection=!1;else{var pos=this.getDocumentPosition();this.$inSelection=selectionRange.contains(pos.row,pos.column)}return this.$inSelection},this.getButton=function(){return event.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=useragent.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(MouseEvent.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(acequire,exports,module){"use strict";var dom=acequire("../lib/dom"),event=acequire("../lib/event"),useragent=acequire("../lib/useragent");function DragdropHandler(mouseHandler){var editor=mouseHandler.editor,blankImage=dom.createElement("img");blankImage.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",useragent.isOpera&&(blankImage.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(x){mouseHandler[x]=this[x]}),this),editor.addEventListener("mousedown",this.onMouseDown.bind(mouseHandler));var dragSelectionMarker,x,y,timerId,range,dragCursor,dragOperation,isInternal,autoScrollStartTime,cursorMovedTime,cursorPointOnCaretMoved,mouseTarget=editor.container,counter=0;function onDragInterval(){var prevCursor=dragCursor;(function(cursor,prevCursor){var now=Date.now(),vMovement=!prevCursor||cursor.row!=prevCursor.row,hMovement=!prevCursor||cursor.column!=prevCursor.column;!cursorMovedTime||vMovement||hMovement?(editor.$blockScrolling+=1,editor.moveCursorToPosition(cursor),editor.$blockScrolling-=1,cursorMovedTime=now,cursorPointOnCaretMoved={x:x,y:y}):calcDistance(cursorPointOnCaretMoved.x,cursorPointOnCaretMoved.y,x,y)>5?cursorMovedTime=null:now-cursorMovedTime>=200&&(editor.renderer.scrollCursorIntoView(),cursorMovedTime=null)})(dragCursor=editor.renderer.screenToTextCoordinates(x,y),prevCursor),function(cursor,prevCursor){var now=Date.now(),lineHeight=editor.renderer.layerConfig.lineHeight,characterWidth=editor.renderer.layerConfig.characterWidth,editorRect=editor.renderer.scroller.getBoundingClientRect(),offsets={x:{left:x-editorRect.left,right:editorRect.right-x},y:{top:y-editorRect.top,bottom:editorRect.bottom-y}},nearestXOffset=Math.min(offsets.x.left,offsets.x.right),nearestYOffset=Math.min(offsets.y.top,offsets.y.bottom),scrollCursor={row:cursor.row,column:cursor.column};nearestXOffset/characterWidth<=2&&(scrollCursor.column+=offsets.x.left<offsets.x.right?-3:2),nearestYOffset/lineHeight<=1&&(scrollCursor.row+=offsets.y.top<offsets.y.bottom?-1:1);var vScroll=cursor.row!=scrollCursor.row,hScroll=cursor.column!=scrollCursor.column,vMovement=!prevCursor||cursor.row!=prevCursor.row;vScroll||hScroll&&!vMovement?autoScrollStartTime?now-autoScrollStartTime>=200&&editor.renderer.scrollCursorIntoView(scrollCursor):autoScrollStartTime=now:autoScrollStartTime=null}(dragCursor,prevCursor)}function addDragMarker(){range=editor.selection.toOrientedRange(),dragSelectionMarker=editor.session.addMarker(range,"ace_selection",editor.getSelectionStyle()),editor.clearSelection(),editor.isFocused()&&editor.renderer.$cursorLayer.setBlinking(!1),clearInterval(timerId),onDragInterval(),timerId=setInterval(onDragInterval,20),counter=0,event.addListener(document,"mousemove",onMouseMove)}function clearDragMarker(){clearInterval(timerId),editor.session.removeMarker(dragSelectionMarker),dragSelectionMarker=null,editor.$blockScrolling+=1,editor.selection.fromOrientedRange(range),editor.$blockScrolling-=1,editor.isFocused()&&!isInternal&&editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly()),range=null,dragCursor=null,counter=0,autoScrollStartTime=null,cursorMovedTime=null,event.removeListener(document,"mousemove",onMouseMove)}this.onDragStart=function(e){if(this.cancelDrag||!mouseTarget.draggable){var self=this;return setTimeout((function(){self.startSelect(),self.captureMouse(e)}),0),e.preventDefault()}range=editor.getSelectionRange();var dataTransfer=e.dataTransfer;dataTransfer.effectAllowed=editor.getReadOnly()?"copy":"copyMove",useragent.isOpera&&(editor.container.appendChild(blankImage),blankImage.scrollTop=0),dataTransfer.setDragImage&&dataTransfer.setDragImage(blankImage,0,0),useragent.isOpera&&editor.container.removeChild(blankImage),dataTransfer.clearData(),dataTransfer.setData("Text",editor.session.getTextRange()),isInternal=!0,this.setState("drag")},this.onDragEnd=function(e){if(mouseTarget.draggable=!1,isInternal=!1,this.setState(null),!editor.getReadOnly()){var dropEffect=e.dataTransfer.dropEffect;dragOperation||"move"!=dropEffect||editor.session.remove(editor.getSelectionRange()),editor.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!editor.getReadOnly()&&canAccept(e.dataTransfer))return x=e.clientX,y=e.clientY,dragSelectionMarker||addDragMarker(),counter++,e.dataTransfer.dropEffect=dragOperation=getDropEffect(e),event.preventDefault(e)},this.onDragOver=function(e){if(!editor.getReadOnly()&&canAccept(e.dataTransfer))return x=e.clientX,y=e.clientY,dragSelectionMarker||(addDragMarker(),counter++),null!==onMouseMoveTimer&&(onMouseMoveTimer=null),e.dataTransfer.dropEffect=dragOperation=getDropEffect(e),event.preventDefault(e)},this.onDragLeave=function(e){if(--counter<=0&&dragSelectionMarker)return clearDragMarker(),dragOperation=null,event.preventDefault(e)},this.onDrop=function(e){if(dragCursor){var dataTransfer=e.dataTransfer;if(isInternal)switch(dragOperation){case"move":range=range.contains(dragCursor.row,dragCursor.column)?{start:dragCursor,end:dragCursor}:editor.moveText(range,dragCursor);break;case"copy":range=editor.moveText(range,dragCursor,!0)}else{var dropData=dataTransfer.getData("Text");range={start:dragCursor,end:editor.session.insert(dragCursor,dropData)},editor.focus(),dragOperation=null}return clearDragMarker(),event.preventDefault(e)}},event.addListener(mouseTarget,"dragstart",this.onDragStart.bind(mouseHandler)),event.addListener(mouseTarget,"dragend",this.onDragEnd.bind(mouseHandler)),event.addListener(mouseTarget,"dragenter",this.onDragEnter.bind(mouseHandler)),event.addListener(mouseTarget,"dragover",this.onDragOver.bind(mouseHandler)),event.addListener(mouseTarget,"dragleave",this.onDragLeave.bind(mouseHandler)),event.addListener(mouseTarget,"drop",this.onDrop.bind(mouseHandler));var onMouseMoveTimer=null;function onMouseMove(){null==onMouseMoveTimer&&(onMouseMoveTimer=setTimeout((function(){null!=onMouseMoveTimer&&dragSelectionMarker&&clearDragMarker()}),20))}function canAccept(dataTransfer){var types=dataTransfer.types;return!types||Array.prototype.some.call(types,(function(type){return"text/plain"==type||"Text"==type}))}function getDropEffect(e){var copyAllowed=["copy","copymove","all","uninitialized"],copyModifierState=useragent.isMac?e.altKey:e.ctrlKey,effectAllowed="uninitialized";try{effectAllowed=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var dropEffect="none";return copyModifierState&&copyAllowed.indexOf(effectAllowed)>=0?dropEffect="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(effectAllowed)>=0?dropEffect="move":copyAllowed.indexOf(effectAllowed)>=0&&(dropEffect="copy"),dropEffect}}function calcDistance(ax,ay,bx,by){return Math.sqrt(Math.pow(bx-ax,2)+Math.pow(by-ay,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var editor=this.editor;editor.container.draggable=!0,editor.renderer.$cursorLayer.setBlinking(!1),editor.setStyle("ace_dragging");var cursorStyle=useragent.isWin?"default":"move";editor.renderer.setCursorStyle(cursorStyle),this.setState("dragReady")},this.onMouseDrag=function(e){var target=this.editor.container;useragent.isIE&&"dragReady"==this.state&&(calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&target.dragDrop());"dragWait"===this.state&&(calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(target.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var editor=this.editor,inSelection=e.inSelection(),button=e.getButton();if(1===(e.domEvent.detail||1)&&0===button&&inSelection){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var eventTarget=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in eventTarget&&(eventTarget.unselectable="on"),editor.getDragDelay()){if(useragent.isWebKit)this.cancelDrag=!0,editor.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(DragdropHandler.prototype),exports.DragdropHandler=DragdropHandler})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(acequire,exports,module){"use strict";var dom=acequire("./dom");exports.get=function(url,callback){var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.onreadystatechange=function(){4===xhr.readyState&&callback(xhr.responseText)},xhr.send(null)},exports.loadScript=function(path,callback){var head=dom.getDocumentHead(),s=document.createElement("script");s.src=path,head.appendChild(s),s.onload=s.onreadystatechange=function(_,isAbort){!isAbort&&s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(s=s.onload=s.onreadystatechange=null,isAbort||callback())}},exports.qualifyURL=function(url){var a=document.createElement("a");return a.href=url,a.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(acequire,exports,module){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;i<listeners.length&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;i<listeners.length;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,(function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)}))},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback){handlers[eventName];disabled&&this.setDefaultHandler(eventName,disabled.pop())}else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(acequire,exports,module){var oop=acequire("./oop"),EventEmitter=acequire("./event_emitter").EventEmitter,optionsProvider={setOptions:function(optList){Object.keys(optList).forEach((function(key){this.setOption(key,optList[key])}),this)},getOptions:function(optionNames){var result={};return optionNames?Array.isArray(optionNames)||(result=optionNames,optionNames=Object.keys(result)):optionNames=Object.keys(this.$options),optionNames.forEach((function(key){result[key]=this.getOption(key)}),this),result},setOption:function(name,value){if(this["$"+name]!==value){var opt=this.$options[name];if(!opt)return warn('misspelled option "'+name+'"');if(opt.forwardTo)return this[opt.forwardTo]&&this[opt.forwardTo].setOption(name,value);opt.handlesSet||(this["$"+name]=value),opt&&opt.set&&opt.set.call(this,value)}},getOption:function(name){var opt=this.$options[name];return opt?opt.forwardTo?this[opt.forwardTo]&&this[opt.forwardTo].getOption(name):opt&&opt.get?opt.get.call(this):this["$"+name]:warn('misspelled option "'+name+'"')}};function warn(message){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function reportError(msg,data){var e=new Error(msg);e.data=data,"object"==typeof console&&console.error&&console.error(e),setTimeout((function(){throw e}))}var AppConfig=function(){this.$defaultOptions={}};(function(){oop.implement(this,EventEmitter),this.defineOptions=function(obj,path,options){return obj.$options||(this.$defaultOptions[path]=obj.$options={}),Object.keys(options).forEach((function(key){var opt=options[key];"string"==typeof opt&&(opt={forwardTo:opt}),opt.name||(opt.name=key),obj.$options[opt.name]=opt,"initialValue"in opt&&(obj["$"+opt.name]=opt.initialValue)})),oop.implement(obj,optionsProvider),this},this.resetOptions=function(obj){Object.keys(obj.$options).forEach((function(key){var opt=obj.$options[key];"value"in opt&&obj.setOption(key,opt.value)}))},this.setDefaultValue=function(path,name,value){var opts=this.$defaultOptions[path]||(this.$defaultOptions[path]={});opts[name]&&(opts.forwardTo?this.setDefaultValue(opts.forwardTo,name,value):opts[name].value=value)},this.setDefaultValues=function(path,optionHash){Object.keys(optionHash).forEach((function(key){this.setDefaultValue(path,key,optionHash[key])}),this)},this.warn=warn,this.reportError=reportError}).call(AppConfig.prototype),exports.AppConfig=AppConfig})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(acequire,exports,module){var lang=acequire("./lib/lang"),net=(acequire("./lib/oop"),acequire("./lib/net")),AppConfig=acequire("./lib/app_config").AppConfig;module.exports=exports=new AppConfig;var global=function(){return this||"undefined"!=typeof window&&window}(),options={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};function init(packaged){if(global&&global.document){options.packaged=packaged||acequire.packaged||module.packaged||global.define&&__webpack_require__(95).packaged;for(var str,scriptOptions={},scriptUrl="",currentScript=document.currentScript||document._currentScript,scripts=(currentScript&&currentScript.ownerDocument||document).getElementsByTagName("script"),i=0;i<scripts.length;i++){var script=scripts[i],src=script.src||script.getAttribute("src");if(src){for(var attributes=script.attributes,j=0,l=attributes.length;j<l;j++){var attr=attributes[j];0===attr.name.indexOf("data-ace-")&&(scriptOptions[(str=attr.name.replace(/^data-ace-/,""),str.replace(/-(.)/g,(function(m,m1){return m1.toUpperCase()})))]=attr.value)}var m=src.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);m&&(scriptUrl=m[1])}}for(var key in scriptUrl&&(scriptOptions.base=scriptOptions.base||scriptUrl,scriptOptions.packaged=!0),scriptOptions.basePath=scriptOptions.base,scriptOptions.workerPath=scriptOptions.workerPath||scriptOptions.base,scriptOptions.modePath=scriptOptions.modePath||scriptOptions.base,scriptOptions.themePath=scriptOptions.themePath||scriptOptions.base,delete scriptOptions.base,scriptOptions)void 0!==scriptOptions[key]&&exports.set(key,scriptOptions[key])}}exports.get=function(key){if(!options.hasOwnProperty(key))throw new Error("Unknown config key: "+key);return options[key]},exports.set=function(key,value){if(!options.hasOwnProperty(key))throw new Error("Unknown config key: "+key);options[key]=value},exports.all=function(){return lang.copyObject(options)},exports.moduleUrl=function(name,component){if(options.$moduleUrls[name])return options.$moduleUrls[name];var parts=name.split("/"),sep="snippets"==(component=component||parts[parts.length-2]||"")?"/":"-",base=parts[parts.length-1];if("worker"==component&&"-"==sep){var re=new RegExp("^"+component+"[\\-_]|[\\-_]"+component+"$","g");base=base.replace(re,"")}(!base||base==component)&&parts.length>1&&(base=parts[parts.length-2]);var path=options[component+"Path"];return null==path?path=options.basePath:"/"==sep&&(component=sep=""),path&&"/"!=path.slice(-1)&&(path+="/"),path+component+sep+base+this.get("suffix")},exports.setModuleUrl=function(name,subst){return options.$moduleUrls[name]=subst},exports.$loading={},exports.loadModule=function(moduleName,onLoad){var module,moduleType;Array.isArray(moduleName)&&(moduleType=moduleName[0],moduleName=moduleName[1]);try{module=acequire(moduleName)}catch(e){}if(module&&!exports.$loading[moduleName])return onLoad&&onLoad(module);if(exports.$loading[moduleName]||(exports.$loading[moduleName]=[]),exports.$loading[moduleName].push(onLoad),!(exports.$loading[moduleName].length>1)){var afterLoad=function(){acequire([moduleName],(function(module){exports._emit("load.module",{name:moduleName,module:module});var listeners=exports.$loading[moduleName];exports.$loading[moduleName]=null,listeners.forEach((function(onLoad){onLoad&&onLoad(module)}))}))};if(!exports.get("packaged"))return afterLoad();net.loadScript(exports.moduleUrl(moduleName,moduleType),afterLoad)}},init(!0),exports.init=init})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],(function(acequire,exports,module){"use strict";var event=acequire("../lib/event"),useragent=acequire("../lib/useragent"),DefaultHandlers=acequire("./default_handlers").DefaultHandlers,DefaultGutterHandler=acequire("./default_gutter_handler").GutterHandler,MouseEvent=acequire("./mouse_event").MouseEvent,DragdropHandler=acequire("./dragdrop_handler").DragdropHandler,config=acequire("../config"),MouseHandler=function(editor){var _self=this;this.editor=editor,new DefaultHandlers(this),new DefaultGutterHandler(this),new DragdropHandler(this);var focusEditor=function(e){(!document.hasFocus||!document.hasFocus()||!editor.isFocused()&&document.activeElement==(editor.textInput&&editor.textInput.getElement()))&&window.focus(),editor.focus()},mouseTarget=editor.renderer.getMouseEventTarget();event.addListener(mouseTarget,"click",this.onMouseEvent.bind(this,"click")),event.addListener(mouseTarget,"mousemove",this.onMouseMove.bind(this,"mousemove")),event.addMultiMouseDownListener([mouseTarget,editor.renderer.scrollBarV&&editor.renderer.scrollBarV.inner,editor.renderer.scrollBarH&&editor.renderer.scrollBarH.inner,editor.textInput&&editor.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),event.addMouseWheelListener(editor.container,this.onMouseWheel.bind(this,"mousewheel")),event.addTouchMoveListener(editor.container,this.onTouchMove.bind(this,"touchmove"));var gutterEl=editor.renderer.$gutter;event.addListener(gutterEl,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),event.addListener(gutterEl,"click",this.onMouseEvent.bind(this,"gutterclick")),event.addListener(gutterEl,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),event.addListener(gutterEl,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),event.addListener(mouseTarget,"mousedown",focusEditor),event.addListener(gutterEl,"mousedown",focusEditor),useragent.isIE&&editor.renderer.scrollBarV&&(event.addListener(editor.renderer.scrollBarV.element,"mousedown",focusEditor),event.addListener(editor.renderer.scrollBarH.element,"mousedown",focusEditor)),editor.on("mousemove",(function(e){if(!_self.state&&!_self.$dragDelay&&_self.$dragEnabled){var character=editor.renderer.screenToTextCoordinates(e.x,e.y),range=editor.session.selection.getRange(),renderer=editor.renderer;!range.isEmpty()&&range.insideStart(character.row,character.column)?renderer.setCursorStyle("default"):renderer.setCursorStyle("")}}))};(function(){this.onMouseEvent=function(name,e){this.editor._emit(name,new MouseEvent(e,this.editor))},this.onMouseMove=function(name,e){var listeners=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;listeners&&listeners.length&&this.editor._emit(name,new MouseEvent(e,this.editor))},this.onMouseWheel=function(name,e){var mouseEvent=new MouseEvent(e,this.editor);mouseEvent.speed=2*this.$scrollSpeed,mouseEvent.wheelX=e.wheelX,mouseEvent.wheelY=e.wheelY,this.editor._emit(name,mouseEvent)},this.onTouchMove=function(name,e){var mouseEvent=new MouseEvent(e,this.editor);mouseEvent.speed=1,mouseEvent.wheelX=e.wheelX,mouseEvent.wheelY=e.wheelY,this.editor._emit(name,mouseEvent)},this.setState=function(state){this.state=state},this.captureMouse=function(ev,mouseMoveHandler){this.x=ev.x,this.y=ev.y,this.isMousePressed=!0;var renderer=this.editor.renderer;renderer.$keepTextAreaAtCursor&&(renderer.$keepTextAreaAtCursor=null);var self=this,onMouseMove=function(e){if(e){if(useragent.isWebKit&&!e.which&&self.releaseMouse)return self.releaseMouse();self.x=e.clientX,self.y=e.clientY,mouseMoveHandler&&mouseMoveHandler(e),self.mouseEvent=new MouseEvent(e,self.editor),self.$mouseMoved=!0}},onCaptureEnd=function(e){clearInterval(timerId),onCaptureInterval(),self[self.state+"End"]&&self[self.state+"End"](e),self.state="",null==renderer.$keepTextAreaAtCursor&&(renderer.$keepTextAreaAtCursor=!0,renderer.$moveTextAreaToCursor()),self.isMousePressed=!1,self.$onCaptureMouseMove=self.releaseMouse=null,e&&self.onMouseEvent("mouseup",e)},onCaptureInterval=function(){self[self.state]&&self[self.state](),self.$mouseMoved=!1};if(useragent.isOldIE&&"dblclick"==ev.domEvent.type)return setTimeout((function(){onCaptureEnd(ev)}));self.$onCaptureMouseMove=onMouseMove,self.releaseMouse=event.capture(this.editor.container,onMouseMove,onCaptureEnd);var timerId=setInterval(onCaptureInterval,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var stop=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",stop),e&&e.domEvent&&event.stopEvent(e.domEvent))}.bind(this);setTimeout(stop,10),this.editor.on("nativecontextmenu",stop)}}).call(MouseHandler.prototype),config.defineOptions(MouseHandler.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:useragent.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),exports.MouseHandler=MouseHandler})),ace.define("ace/mouse/fold_handler",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.FoldHandler=function(editor){editor.on("click",(function(e){var position=e.getDocumentPosition(),session=editor.session,fold=session.getFoldAt(position.row,position.column,1);fold&&(e.getAccelKey()?session.removeFold(fold):session.expandFold(fold),e.stop())})),editor.on("gutterclick",(function(e){if("foldWidgets"==editor.renderer.$gutterLayer.getRegion(e)){var row=e.getDocumentPosition().row,session=editor.session;session.foldWidgets&&session.foldWidgets[row]&&editor.session.onFoldWidgetClick(row,e),editor.isFocused()||editor.focus(),e.stop()}})),editor.on("gutterdblclick",(function(e){if("foldWidgets"==editor.renderer.$gutterLayer.getRegion(e)){var row=e.getDocumentPosition().row,session=editor.session,data=session.getParentFoldRangeData(row,!0),range=data.range||data.firstRange;if(range){row=range.start.row;var fold=session.getFoldAt(row,session.getLine(row).length,1);fold?session.removeFold(fold):(session.addFold("...",range),editor.renderer.scrollCursorIntoView({row:range.start.row,column:0}))}e.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(acequire,exports,module){"use strict";var keyUtil=acequire("../lib/keys"),event=acequire("../lib/event"),KeyBinding=function(editor){this.$editor=editor,this.$data={editor:editor},this.$handlers=[],this.setDefaultHandler(editor.commands)};(function(){this.setDefaultHandler=function(kb){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=kb,this.addKeyboardHandler(kb,0)},this.setKeyboardHandler=function(kb){var h=this.$handlers;if(h[h.length-1]!=kb){for(;h[h.length-1]&&h[h.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(h[h.length-1]);this.addKeyboardHandler(kb,1)}},this.addKeyboardHandler=function(kb,pos){if(kb){"function"!=typeof kb||kb.handleKeyboard||(kb.handleKeyboard=kb);var i=this.$handlers.indexOf(kb);-1!=i&&this.$handlers.splice(i,1),null==pos?this.$handlers.push(kb):this.$handlers.splice(pos,0,kb),-1==i&&kb.attach&&kb.attach(this.$editor)}},this.removeKeyboardHandler=function(kb){var i=this.$handlers.indexOf(kb);return-1!=i&&(this.$handlers.splice(i,1),kb.detach&&kb.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var data=this.$data,editor=data.editor;return this.$handlers.map((function(h){return h.getStatusText&&h.getStatusText(editor,data)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(hashId,keyString,keyCode,e){for(var toExecute,success=!1,commands=this.$editor.commands,i=this.$handlers.length;i--&&!((toExecute=this.$handlers[i].handleKeyboard(this.$data,hashId,keyString,keyCode,e))&&toExecute.command&&((success="null"==toExecute.command||commands.exec(toExecute.command,this.$editor,toExecute.args,e))&&e&&-1!=hashId&&1!=toExecute.passEvent&&1!=toExecute.command.passEvent&&event.stopEvent(e),success)););return success||-1!=hashId||(toExecute={command:"insertstring"},success=commands.exec("insertstring",this.$editor,keyString)),success&&this.$editor._signal&&this.$editor._signal("keyboardActivity",toExecute),success},this.onCommandKey=function(e,hashId,keyCode){var keyString=keyUtil.keyCodeToString(keyCode);this.$callKeyboardHandlers(hashId,keyString,keyCode,e)},this.onTextInput=function(text){this.$callKeyboardHandlers(-1,text)}}).call(KeyBinding.prototype),exports.KeyBinding=KeyBinding})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(acequire,exports,module){"use strict";var dir=0,hiLevel=0,lastArabic=!1,hasUBAT_B=!1,hasUBAT_S=!1,impTab_LTR=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],impTab_RTL=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],UnicodeTBL00=[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4],UnicodeTBL20=[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function _invertLevel(lev,levels,_array){if(!(hiLevel<lev))if(1!=lev||1!=dir||hasUBAT_B)for(var end,lo,hi,tmp,len=_array.length,start=0;start<len;){if(levels[start]>=lev){for(end=start+1;end<len&&levels[end]>=lev;)end++;for(lo=start,hi=end-1;lo<hi;lo++,hi--)tmp=_array[lo],_array[lo]=_array[hi],_array[hi]=tmp;start=end}start++}else _array.reverse()}function _getCharClass(chars,types,classes,ix){var wType,nType,len,i,cType=types[ix];switch(cType){case 0:case 1:lastArabic=!1;case 4:case 3:return cType;case 2:return lastArabic?3:2;case 7:return lastArabic=!0,!0,1;case 8:return 4;case 9:return ix<1||ix+1>=types.length||2!=(wType=classes[ix-1])&&3!=wType||2!=(nType=types[ix+1])&&3!=nType?4:(lastArabic&&(nType=3),nType==wType?nType:4);case 10:return 2==(wType=ix>0?classes[ix-1]:5)&&ix+1<types.length&&2==types[ix+1]?2:4;case 11:if(ix>0&&2==classes[ix-1])return 2;if(lastArabic)return 4;for(i=ix+1,len=types.length;i<len&&11==types[i];)i++;return i<len&&2==types[i]?2:4;case 12:for(len=types.length,i=ix+1;i<len&&12==types[i];)i++;if(i<len){var c=chars[ix],rtlCandidate=c>=1425&&c<=2303||64286==c;if(wType=types[i],rtlCandidate&&(1==wType||7==wType))return 1}return ix<1||5==(wType=types[ix-1])?4:classes[ix-1];case 5:return lastArabic=!1,hasUBAT_B=!0,dir;case 6:return hasUBAT_S=!0,4;case 13:case 14:case 16:case 17:case 15:lastArabic=!1;case 18:return 4}}function _getCharacterType(ch){var uc=ch.charCodeAt(0),hi=uc>>8;return 0==hi?uc>191?0:UnicodeTBL00[uc]:5==hi?/[\u0591-\u05f4]/.test(ch)?1:0:6==hi?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ch)?12:/[\u0660-\u0669\u066b-\u066c]/.test(ch)?3:1642==uc?11:/[\u06f0-\u06f9]/.test(ch)?2:7:32==hi&&uc<=8287?UnicodeTBL20[255&uc]:254==hi&&uc>=65136?7:4}exports.L=0,exports.R=1,exports.EN=2,exports.ON_R=3,exports.AN=4,exports.R_H=5,exports.B=6,exports.DOT="",exports.doBidiReorder=function(text,textCharTypes,isRtl){if(text.length<2)return{};var chars=text.split(""),logicalFromVisual=new Array(chars.length),bidiLevels=new Array(chars.length),levels=[];dir=isRtl?1:0,function(chars,levels,len,charTypes){var impTab=dir?impTab_RTL:impTab_LTR,prevState=null,newClass=null,newLevel=null,newState=0,action=null,condPos=-1,i=null,ix=null,classes=[];if(!charTypes)for(i=0,charTypes=[];i<len;i++)charTypes[i]=_getCharacterType(chars[i]);for(hiLevel=dir,lastArabic=!1,!1,hasUBAT_B=!1,hasUBAT_S=!1,ix=0;ix<len;ix++){if(prevState=newState,classes[ix]=newClass=_getCharClass(chars,charTypes,classes,ix),action=240&(newState=impTab[prevState][newClass]),newState&=15,levels[ix]=newLevel=impTab[newState][5],action>0)if(16==action){for(i=condPos;i<ix;i++)levels[i]=1;condPos=-1}else condPos=-1;if(impTab[newState][6])-1==condPos&&(condPos=ix);else if(condPos>-1){for(i=condPos;i<ix;i++)levels[i]=newLevel;condPos=-1}5==charTypes[ix]&&(levels[ix]=0),hiLevel|=newLevel}if(hasUBAT_S)for(i=0;i<len;i++)if(6==charTypes[i]){levels[i]=dir;for(var j=i-1;j>=0&&8==charTypes[j];j--)levels[j]=dir}}(chars,levels,chars.length,textCharTypes);for(var i=0;i<logicalFromVisual.length;logicalFromVisual[i]=i,i++);_invertLevel(2,levels,logicalFromVisual),_invertLevel(1,levels,logicalFromVisual);for(i=0;i<logicalFromVisual.length-1;i++)3===textCharTypes[i]?levels[i]=exports.AN:1===levels[i]&&(textCharTypes[i]>7&&textCharTypes[i]<13||4===textCharTypes[i]||18===textCharTypes[i])?levels[i]=exports.ON_R:i>0&&""===chars[i-1]&&/\u0622|\u0623|\u0625|\u0627/.test(chars[i])&&(levels[i-1]=levels[i]=exports.R_H,i++);chars[chars.length-1]===exports.DOT&&(levels[chars.length-1]=exports.B);for(i=0;i<logicalFromVisual.length;i++)bidiLevels[i]=levels[logicalFromVisual[i]];return{logicalFromVisual:logicalFromVisual,bidiLevels:bidiLevels}},exports.hasBidiCharacters=function(text,textCharTypes){for(var ret=!1,i=0;i<text.length;i++)textCharTypes[i]=_getCharacterType(text.charAt(i)),ret||1!=textCharTypes[i]&&7!=textCharTypes[i]||(ret=!0);return ret},exports.getVisualFromLogicalIdx=function(logIdx,rowMap){for(var i=0;i<rowMap.logicalFromVisual.length;i++)if(rowMap.logicalFromVisual[i]==logIdx)return i;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],(function(acequire,exports,module){"use strict";var bidiUtil=acequire("./lib/bidiutil"),lang=acequire("./lib/lang"),useragent=acequire("./lib/useragent"),bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,BidiHandler=function(session){this.session=session,this.bidiMap={},this.currentRow=null,this.bidiUtil=bidiUtil,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.isLastRow=!1,this.EOF="",this.seenBidi=!1};(function(){this.isBidiRow=function(screenRow,docRow,splitIndex){return!!this.seenBidi&&(screenRow!==this.currentRow&&(this.currentRow=screenRow,this.updateRowLine(docRow,splitIndex),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(delta){this.seenBidi?this.currentRow=null:"insert"==delta.action&&bidiRE.test(delta.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var docRow=0,rowCache=this.session.$screenRowCache;if(rowCache.length){var index=this.session.$getRowCacheIndex(rowCache,this.currentRow);index>=0&&(docRow=this.session.$docRowCache[index])}return docRow},this.getSplitIndex=function(){var splitIndex=0,rowCache=this.session.$screenRowCache;if(rowCache.length)for(var currentIndex,prevIndex=this.session.$getRowCacheIndex(rowCache,this.currentRow);this.currentRow-splitIndex>0&&(currentIndex=this.session.$getRowCacheIndex(rowCache,this.currentRow-splitIndex-1))===prevIndex;)prevIndex=currentIndex,splitIndex++;return splitIndex},this.updateRowLine=function(docRow,splitIndex){if(void 0===docRow&&(docRow=this.getDocumentRow()),this.wrapIndent=0,this.isLastRow=docRow===this.session.getLength()-1,this.line=this.session.getLine(docRow),this.session.$useWrapMode){var splits=this.session.$wrapData[docRow];splits&&(void 0===splitIndex&&(splitIndex=this.getSplitIndex()),splitIndex>0&&splits.length?(this.wrapIndent=splits.indent,this.line=splitIndex<splits.length?this.line.substring(splits[splitIndex-1],splits[splits.length-1]):this.line.substring(splits[splits.length-1])):this.line=this.line.substring(0,splits[splitIndex]))}var size,session=this.session,shift=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(ch,i){return"\t"===ch||session.isFullWidth(ch.charCodeAt(0))?(size="\t"===ch?session.getScreenTabSize(i+shift):2,shift+=size-1,lang.stringRepeat(bidiUtil.DOT,size)):ch}))},this.updateBidiMap=function(){var textCharTypes=[],endOfLine=this.isLastRow?this.EOF:this.EOL,line=this.line+(this.showInvisibles?endOfLine:bidiUtil.DOT);bidiUtil.hasBidiCharacters(line,textCharTypes)?this.bidiMap=bidiUtil.doBidiReorder(line,textCharTypes,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(fontMetrics){if(this.seenBidi&&this.characterWidth!==fontMetrics.$characterSize.width){var characterWidth=this.characterWidth=fontMetrics.$characterSize.width,bidiCharWidth=fontMetrics.$measureCharWidth("");this.charWidths[bidiUtil.L]=this.charWidths[bidiUtil.EN]=this.charWidths[bidiUtil.ON_R]=characterWidth,this.charWidths[bidiUtil.R]=this.charWidths[bidiUtil.AN]=bidiCharWidth,this.charWidths[bidiUtil.R_H]=useragent.isChrome?bidiCharWidth:.45*bidiCharWidth,this.charWidths[bidiUtil.B]=0,this.currentRow=null}},this.getShowInvisibles=function(){return this.showInvisibles},this.setShowInvisibles=function(showInvisibles){this.showInvisibles=showInvisibles,this.currentRow=null},this.setEolChar=function(eolChar){this.EOL=eolChar},this.setTextDir=function(isRtlDir){this.isRtlDir=isRtlDir},this.getPosLeft=function(col){col-=this.wrapIndent;var visualIdx=bidiUtil.getVisualFromLogicalIdx(col>0?col-1:0,this.bidiMap),levels=this.bidiMap.bidiLevels,left=0;0===col&&levels[visualIdx]%2!=0&&visualIdx++;for(var i=0;i<visualIdx;i++)left+=this.charWidths[levels[i]];return 0!==col&&levels[visualIdx]%2==0&&(left+=this.charWidths[levels[visualIdx]]),this.wrapIndent&&(left+=this.wrapIndent*this.charWidths[bidiUtil.L]),left},this.getSelections=function(startCol,endCol){for(var level,logIdx,map=this.bidiMap,levels=map.bidiLevels,offset=this.wrapIndent*this.charWidths[bidiUtil.L],selections=[],selColMin=Math.min(startCol,endCol)-this.wrapIndent,selColMax=Math.max(startCol,endCol)-this.wrapIndent,isSelected=!1,isSelectedPrev=!1,selectionStart=0,visIdx=0;visIdx<levels.length;visIdx++)logIdx=map.logicalFromVisual[visIdx],level=levels[visIdx],(isSelected=logIdx>=selColMin&&logIdx<selColMax)&&!isSelectedPrev?selectionStart=offset:!isSelected&&isSelectedPrev&&selections.push({left:selectionStart,width:offset-selectionStart}),offset+=this.charWidths[level],isSelectedPrev=isSelected;return isSelected&&visIdx===levels.length&&selections.push({left:selectionStart,width:offset-selectionStart}),selections},this.offsetToCol=function(posX){var logicalIdx=0,offset=(posX=Math.max(posX,0),0),visualIdx=0,levels=this.bidiMap.bidiLevels,charWidth=this.charWidths[levels[visualIdx]];for(this.wrapIndent&&(posX-=this.wrapIndent*this.charWidths[bidiUtil.L]);posX>offset+charWidth/2;){if(offset+=charWidth,visualIdx===levels.length-1){charWidth=0;break}charWidth=this.charWidths[levels[++visualIdx]]}return visualIdx>0&&levels[visualIdx-1]%2!=0&&levels[visualIdx]%2==0?(posX<offset&&visualIdx--,logicalIdx=this.bidiMap.logicalFromVisual[visualIdx]):visualIdx>0&&levels[visualIdx-1]%2==0&&levels[visualIdx]%2!=0?logicalIdx=1+(posX>offset?this.bidiMap.logicalFromVisual[visualIdx]:this.bidiMap.logicalFromVisual[visualIdx-1]):this.isRtlDir&&visualIdx===levels.length-1&&0===charWidth&&levels[visualIdx-1]%2==0||!this.isRtlDir&&0===visualIdx&&levels[visualIdx]%2!=0?logicalIdx=1+this.bidiMap.logicalFromVisual[visualIdx]:(visualIdx>0&&levels[visualIdx-1]%2!=0&&0!==charWidth&&visualIdx--,logicalIdx=this.bidiMap.logicalFromVisual[visualIdx]),logicalIdx+this.wrapIndent}}).call(BidiHandler.prototype),exports.BidiHandler=BidiHandler})),ace.define("ace/range",["require","exports","module"],(function(acequire,exports,module){"use strict";var Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return 1==(cmp=this.compare(end.row,end.column))?1==(cmp=this.compare(start.row,start.column))?2:0==cmp?1:0:-1==cmp?-2:-1==(cmp=this.compare(start.row,start.column))?-1:1==cmp?42:0},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)&&(!this.isEnd(row,column)&&!this.isStart(row,column))},this.insideStart=function(row,column){return 0==this.compare(row,column)&&!this.isEnd(row,column)},this.insideEnd=function(row,column){return 0==this.compare(row,column)&&!this.isStart(row,column)},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?row<this.start.row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?column<=this.end.column?0:1:0:column<this.start.column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(this.end.row<firstRow)end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(this.start.row<firstRow)start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),lang=acequire("./lib/lang"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Selection=function(session){this.session=session,this.doc=session.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var self=this;this.lead.on("change",(function(e){self._emit("changeCursor"),self.$isEmpty||self._emit("changeSelection"),self.$keepDesiredColumnOnChange||e.old.column==e.value.column||(self.$desiredColumn=null)})),this.selectionAnchor.on("change",(function(){self.$isEmpty||self._emit("changeSelection")}))};(function(){oop.implement(this,EventEmitter),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(row,column){this.anchor.setPosition(row,column),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(columns){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+columns);else{var anchor=this.getSelectionAnchor(),lead=this.getSelectionLead(),isBackwards=this.isBackwards();isBackwards&&0===anchor.column||this.setSelectionAnchor(anchor.row,anchor.column+columns),(isBackwards||0!==lead.column)&&this.$moveSelection((function(){this.moveCursorTo(lead.row,lead.column+columns)}))}},this.isBackwards=function(){var anchor=this.anchor,lead=this.lead;return anchor.row>lead.row||anchor.row==lead.row&&anchor.column>lead.column},this.getRange=function(){var anchor=this.anchor,lead=this.lead;return this.isEmpty()?Range.fromPoints(lead,lead):this.isBackwards()?Range.fromPoints(lead,anchor):Range.fromPoints(anchor,lead)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var lastRow=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(lastRow,this.doc.getLine(lastRow).length)},this.setRange=this.setSelectionRange=function(range,reverse){reverse?(this.setSelectionAnchor(range.end.row,range.end.column),this.selectTo(range.start.row,range.start.column)):(this.setSelectionAnchor(range.start.row,range.start.column),this.selectTo(range.end.row,range.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(mover){var lead=this.lead;this.$isEmpty&&this.setSelectionAnchor(lead.row,lead.column),mover.call(this)},this.selectTo=function(row,column){this.$moveSelection((function(){this.moveCursorTo(row,column)}))},this.selectToPosition=function(pos){this.$moveSelection((function(){this.moveCursorToPosition(pos)}))},this.moveTo=function(row,column){this.clearSelection(),this.moveCursorTo(row,column)},this.moveToPosition=function(pos){this.clearSelection(),this.moveCursorToPosition(pos)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(row,column){if(void 0===column){var cursor=row||this.lead;row=cursor.row,column=cursor.column}return this.session.getWordRange(row,column)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var cursor=this.getCursor(),range=this.session.getAWordRange(cursor.row,cursor.column);this.setSelectionRange(range)},this.getLineRange=function(row,excludeLastChar){var rowEnd,rowStart="number"==typeof row?row:this.lead.row,foldLine=this.session.getFoldLine(rowStart);return foldLine?(rowStart=foldLine.start.row,rowEnd=foldLine.end.row):rowEnd=rowStart,!0===excludeLastChar?new Range(rowStart,0,rowEnd,this.session.getLine(rowEnd).length):new Range(rowStart,0,rowEnd+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(cursor,tabSize,direction){var start=cursor.column,end=cursor.column+tabSize;return direction<0&&(start=cursor.column-tabSize,end=cursor.column),this.session.isTabStop(cursor)&&this.doc.getLine(cursor.row).slice(start,end).split(" ").length-1==tabSize},this.moveCursorLeft=function(){var fold,cursor=this.lead.getPosition();if(fold=this.session.getFoldAt(cursor.row,cursor.column,-1))this.moveCursorTo(fold.start.row,fold.start.column);else if(0===cursor.column)cursor.row>0&&this.moveCursorTo(cursor.row-1,this.doc.getLine(cursor.row-1).length);else{var tabSize=this.session.getTabSize();this.wouldMoveIntoSoftTab(cursor,tabSize,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-tabSize):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var fold,cursor=this.lead.getPosition();if(fold=this.session.getFoldAt(cursor.row,cursor.column,1))this.moveCursorTo(fold.end.row,fold.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var tabSize=this.session.getTabSize();cursor=this.lead;this.wouldMoveIntoSoftTab(cursor,tabSize,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,tabSize):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var row=this.lead.row,column=this.lead.column,screenRow=this.session.documentToScreenRow(row,column),firstColumnPosition=this.session.screenToDocumentPosition(screenRow,0),leadingSpace=this.session.getDisplayLine(row,null,firstColumnPosition.row,firstColumnPosition.column).match(/^\s*/);leadingSpace[0].length==column||this.session.$useEmacsStyleLineStart||(firstColumnPosition.column+=leadingSpace[0].length),this.moveCursorToPosition(firstColumnPosition)},this.moveCursorLineEnd=function(){var lead=this.lead,lineEnd=this.session.getDocumentLastRowColumnPosition(lead.row,lead.column);if(this.lead.column==lineEnd.column){var line=this.session.getLine(lineEnd.row);if(lineEnd.column==line.length){var textEnd=line.search(/\s+$/);textEnd>0&&(lineEnd.column=textEnd)}}this.moveCursorTo(lineEnd.row,lineEnd.column)},this.moveCursorFileEnd=function(){var row=this.doc.getLength()-1,column=this.doc.getLine(row).length;this.moveCursorTo(row,column)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var row=this.lead.row,column=this.lead.column,line=this.doc.getLine(row),rightOfCursor=line.substring(column);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var fold=this.session.getFoldAt(row,column,1);if(fold)this.moveCursorTo(fold.end.row,fold.end.column);else{if(this.session.nonTokenRe.exec(rightOfCursor)&&(column+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,rightOfCursor=line.substring(column)),column>=line.length)return this.moveCursorTo(row,line.length),this.moveCursorRight(),void(row<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(rightOfCursor)&&(column+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(row,column)}},this.moveCursorLongWordLeft=function(){var fold,row=this.lead.row,column=this.lead.column;if(fold=this.session.getFoldAt(row,column,-1))this.moveCursorTo(fold.start.row,fold.start.column);else{var str=this.session.getFoldStringAt(row,column,-1);null==str&&(str=this.doc.getLine(row).substring(0,column));var leftOfCursor=lang.stringReverse(str);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(leftOfCursor)&&(column-=this.session.nonTokenRe.lastIndex,leftOfCursor=leftOfCursor.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),column<=0)return this.moveCursorTo(row,0),this.moveCursorLeft(),void(row>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(leftOfCursor)&&(column-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(row,column)}},this.$shortWordEndIndex=function(rightOfCursor){var ch,index=0,whitespaceRe=/\s/,tokenRe=this.session.tokenRe;if(tokenRe.lastIndex=0,this.session.tokenRe.exec(rightOfCursor))index=this.session.tokenRe.lastIndex;else{for(;(ch=rightOfCursor[index])&&whitespaceRe.test(ch);)index++;if(index<1)for(tokenRe.lastIndex=0;(ch=rightOfCursor[index])&&!tokenRe.test(ch);)if(tokenRe.lastIndex=0,index++,whitespaceRe.test(ch)){if(index>2){index--;break}for(;(ch=rightOfCursor[index])&&whitespaceRe.test(ch);)index++;if(index>2)break}}return tokenRe.lastIndex=0,index},this.moveCursorShortWordRight=function(){var row=this.lead.row,column=this.lead.column,line=this.doc.getLine(row),rightOfCursor=line.substring(column),fold=this.session.getFoldAt(row,column,1);if(fold)return this.moveCursorTo(fold.end.row,fold.end.column);if(column==line.length){var l=this.doc.getLength();do{row++,rightOfCursor=this.doc.getLine(row)}while(row<l&&/^\s*$/.test(rightOfCursor));/^\s+/.test(rightOfCursor)||(rightOfCursor=""),column=0}var index=this.$shortWordEndIndex(rightOfCursor);this.moveCursorTo(row,column+index)},this.moveCursorShortWordLeft=function(){var fold,row=this.lead.row,column=this.lead.column;if(fold=this.session.getFoldAt(row,column,-1))return this.moveCursorTo(fold.start.row,fold.start.column);var line=this.session.getLine(row).substring(0,column);if(0===column){do{row--,line=this.doc.getLine(row)}while(row>0&&/^\s*$/.test(line));column=line.length,/\s+$/.test(line)||(line="")}var leftOfCursor=lang.stringReverse(line),index=this.$shortWordEndIndex(leftOfCursor);return this.moveCursorTo(row,column-index)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(rows,chars){var offsetX,screenPos=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===chars&&(0!==rows&&(this.session.$bidiHandler.isBidiRow(screenPos.row,this.lead.row)?(offsetX=this.session.$bidiHandler.getPosLeft(screenPos.column),screenPos.column=Math.round(offsetX/this.session.$bidiHandler.charWidths[0])):offsetX=screenPos.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?screenPos.column=this.$desiredColumn:this.$desiredColumn=screenPos.column);var docPos=this.session.screenToDocumentPosition(screenPos.row+rows,screenPos.column,offsetX);0!==rows&&0===chars&&docPos.row===this.lead.row&&docPos.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[docPos.row]&&(docPos.row>0||rows>0)&&docPos.row++,this.moveCursorTo(docPos.row,docPos.column+chars,0===chars)},this.moveCursorToPosition=function(position){this.moveCursorTo(position.row,position.column)},this.moveCursorTo=function(row,column,keepDesiredColumn){var fold=this.session.getFoldAt(row,column,1);fold&&(row=fold.start.row,column=fold.start.column),this.$keepDesiredColumnOnChange=!0;var line=this.session.getLine(row);/[\uDC00-\uDFFF]/.test(line.charAt(column))&&line.charAt(column-1)&&(this.lead.row==row&&this.lead.column==column+1?column-=1:column+=1),this.lead.setPosition(row,column),this.$keepDesiredColumnOnChange=!1,keepDesiredColumn||(this.$desiredColumn=null)},this.moveCursorToScreen=function(row,column,keepDesiredColumn){var pos=this.session.screenToDocumentPosition(row,column);this.moveCursorTo(pos.row,pos.column,keepDesiredColumn)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(range){this.setSelectionRange(range,range.cursor==range.start),this.$desiredColumn=range.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(range){var r=this.getRange();return range?(range.start.column=r.start.column,range.start.row=r.start.row,range.end.column=r.end.column,range.end.row=r.end.row):range=r,range.cursor=this.isBackwards()?range.start:range.end,range.desiredColumn=this.$desiredColumn,range},this.getRangeOfMovements=function(func){var start=this.getCursor();try{func(this);var end=this.getCursor();return Range.fromPoints(start,end)}catch(e){return Range.fromPoints(start,start)}finally{this.moveCursorToPosition(start)}},this.toJSON=function(){if(this.rangeCount)var data=this.ranges.map((function(r){var r1=r.clone();return r1.isBackwards=r.cursor==r.start,r1}));else(data=this.getRange()).isBackwards=this.isBackwards();return data},this.fromJSON=function(data){if(null==data.start){if(this.rangeList){this.toSingleRange(data[0]);for(var i=data.length;i--;){var r=Range.fromPoints(data[i].start,data[i].end);data[i].isBackwards&&(r.cursor=r.start),this.addRange(r,!0)}return}data=data[0]}this.rangeList&&this.toSingleRange(data),this.setSelectionRange(data,data.isBackwards)},this.isEqual=function(data){if((data.length||this.rangeCount)&&data.length!=this.rangeCount)return!1;if(!data.length||!this.ranges)return this.getRange().isEqual(data);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(data[i]))return!1;return!0}}).call(Selection.prototype),exports.Selection=Selection})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(acequire,exports,module){"use strict";var config=acequire("./config"),MAX_TOKEN_COUNT=2e3,Tokenizer=function(rules){for(var key in this.states=rules,this.regExps={},this.matchMappings={},this.states){for(var state=this.states[key],ruleRegExps=[],matchTotal=0,mapping=this.matchMappings[key]={defaultToken:"text"},flag="g",splitterRurles=[],i=0;i<state.length;i++){var rule=state[i];if(rule.defaultToken&&(mapping.defaultToken=rule.defaultToken),rule.caseInsensitive&&(flag="gi"),null!=rule.regex){rule.regex instanceof RegExp&&(rule.regex=rule.regex.toString().slice(1,-1));var adjustedregex=rule.regex,matchcount=new RegExp("(?:("+adjustedregex+")|(.))").exec("a").length-2;Array.isArray(rule.token)?1==rule.token.length||1==matchcount?rule.token=rule.token[0]:matchcount-1!=rule.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:rule,groupCount:matchcount-1}),rule.token=rule.token[0]):(rule.tokenArray=rule.token,rule.token=null,rule.onMatch=this.$arrayTokens):"function"!=typeof rule.token||rule.onMatch||(rule.onMatch=matchcount>1?this.$applyToken:rule.token),matchcount>1&&(/\\\d/.test(rule.regex)?adjustedregex=rule.regex.replace(/\\([0-9]+)/g,(function(match,digit){return"\\"+(parseInt(digit,10)+matchTotal+1)})):(matchcount=1,adjustedregex=this.removeCapturingGroups(rule.regex)),rule.splitRegex||"string"==typeof rule.token||splitterRurles.push(rule)),mapping[matchTotal]=i,matchTotal+=matchcount,ruleRegExps.push(adjustedregex),rule.onMatch||(rule.onMatch=null)}}ruleRegExps.length||(mapping[0]=0,ruleRegExps.push("$")),splitterRurles.forEach((function(rule){rule.splitRegex=this.createSplitterRegexp(rule.regex,flag)}),this),this.regExps[key]=new RegExp("("+ruleRegExps.join(")|(")+")|($)",flag)}};(function(){this.$setMaxTokenCount=function(m){MAX_TOKEN_COUNT=0|m},this.$applyToken=function(str){var values=this.splitRegex.exec(str).slice(1),types=this.token.apply(this,values);if("string"==typeof types)return[{type:types,value:str}];for(var tokens=[],i=0,l=types.length;i<l;i++)values[i]&&(tokens[tokens.length]={type:types[i],value:values[i]});return tokens},this.$arrayTokens=function(str){if(!str)return[];var values=this.splitRegex.exec(str);if(!values)return"text";for(var tokens=[],types=this.tokenArray,i=0,l=types.length;i<l;i++)values[i+1]&&(tokens[tokens.length]={type:types[i],value:values[i+1]});return tokens},this.removeCapturingGroups=function(src){return src.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,(function(x,y){return y?"(?:":x}))},this.createSplitterRegexp=function(src,flag){if(-1!=src.indexOf("(?=")){var stack=0,inChClass=!1,lastCapture={};src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(m,esc,parenOpen,parenClose,square,index){return inChClass?inChClass="]"!=square:square?inChClass=!0:parenClose?(stack==lastCapture.stack&&(lastCapture.end=index+1,lastCapture.stack=-1),stack--):parenOpen&&(stack++,1!=parenOpen.length&&(lastCapture.stack=stack,lastCapture.start=index)),m})),null!=lastCapture.end&&/^\)*$/.test(src.substr(lastCapture.end))&&(src=src.substring(0,lastCapture.start)+src.substr(lastCapture.end))}return"^"!=src.charAt(0)&&(src="^"+src),"$"!=src.charAt(src.length-1)&&(src+="$"),new RegExp(src,(flag||"").replace("g",""))},this.getLineTokens=function(line,startState){if(startState&&"string"!=typeof startState){var stack=startState.slice(0);"#tmp"===(startState=stack[0])&&(stack.shift(),startState=stack.shift())}else stack=[];var currentState=startState||"start",state=this.states[currentState];state||(currentState="start",state=this.states[currentState]);var mapping=this.matchMappings[currentState],re=this.regExps[currentState];re.lastIndex=0;for(var match,tokens=[],lastIndex=0,matchAttempts=0,token={type:null,value:""};match=re.exec(line);){var type=mapping.defaultToken,rule=null,value=match[0],index=re.lastIndex;if(index-value.length>lastIndex){var skipped=line.substring(lastIndex,index-value.length);token.type==type?token.value+=skipped:(token.type&&tokens.push(token),token={type:type,value:skipped})}for(var i=0;i<match.length-2;i++)if(void 0!==match[i+1]){type=(rule=state[mapping[i]]).onMatch?rule.onMatch(value,currentState,stack,line):rule.token,rule.next&&(currentState="string"==typeof rule.next?rule.next:rule.next(currentState,stack),(state=this.states[currentState])||(this.reportError("state doesn't exist",currentState),currentState="start",state=this.states[currentState]),mapping=this.matchMappings[currentState],lastIndex=index,(re=this.regExps[currentState]).lastIndex=index),rule.consumeLineEnd&&(lastIndex=index);break}if(value)if("string"==typeof type)rule&&!1===rule.merge||token.type!==type?(token.type&&tokens.push(token),token={type:type,value:value}):token.value+=value;else if(type){token.type&&tokens.push(token),token={type:null,value:""};for(i=0;i<type.length;i++)tokens.push(type[i])}if(lastIndex==line.length)break;if(lastIndex=index,matchAttempts++>MAX_TOKEN_COUNT){for(matchAttempts>2*line.length&&this.reportError("infinite loop with in ace tokenizer",{startState:startState,line:line});lastIndex<line.length;)token.type&&tokens.push(token),token={value:line.substring(lastIndex,lastIndex+=2e3),type:"overflow"};currentState="start",stack=[];break}}return token.type&&tokens.push(token),stack.length>1&&stack[0]!==currentState&&stack.unshift("#tmp",currentState),{tokens:tokens,state:stack.length?stack:currentState}},this.reportError=config.reportError}).call(Tokenizer.prototype),exports.Tokenizer=Tokenizer})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(acequire,exports,module){"use strict";var lang=acequire("../lib/lang"),TextHighlightRules=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(rules,prefix){if(prefix)for(var key in rules){for(var state=rules[key],i=0;i<state.length;i++){var rule=state[i];(rule.next||rule.onMatch)&&("string"==typeof rule.next&&0!==rule.next.indexOf(prefix)&&(rule.next=prefix+rule.next),rule.nextState&&0!==rule.nextState.indexOf(prefix)&&(rule.nextState=prefix+rule.nextState))}this.$rules[prefix+key]=state}else for(var key in rules)this.$rules[key]=rules[key]},this.getRules=function(){return this.$rules},this.embedRules=function(HighlightRules,prefix,escapeRules,states,append){var embedRules="function"==typeof HighlightRules?(new HighlightRules).getRules():HighlightRules;if(states)for(var i=0;i<states.length;i++)states[i]=prefix+states[i];else for(var key in states=[],embedRules)states.push(prefix+key);if(this.addRules(embedRules,prefix),escapeRules){var addRules=Array.prototype[append?"push":"unshift"];for(i=0;i<states.length;i++)addRules.apply(this.$rules[states[i]],lang.deepCopy(escapeRules))}this.$embeds||(this.$embeds=[]),this.$embeds.push(prefix)},this.getEmbeds=function(){return this.$embeds};var pushState=function(currentState,stack){return("start"!=currentState||stack.length)&&stack.unshift(this.nextState,currentState),this.nextState},popState=function(currentState,stack){return stack.shift(),stack.shift()||"start"};this.normalizeRules=function(){var id=0,rules=this.$rules;Object.keys(rules).forEach((function processState(key){var state=rules[key];state.processed=!0;for(var i=0;i<state.length;i++){var rule=state[i],toInsert=null;Array.isArray(rule)&&(toInsert=rule,rule={}),!rule.regex&&rule.start&&(rule.regex=rule.start,rule.next||(rule.next=[]),rule.next.push({defaultToken:rule.token},{token:rule.token+".end",regex:rule.end||rule.start,next:"pop"}),rule.token=rule.token+".start",rule.push=!0);var next=rule.next||rule.push;if(next&&Array.isArray(next)){var stateName=rule.stateName;stateName||("string"!=typeof(stateName=rule.token)&&(stateName=stateName[0]||""),rules[stateName]&&(stateName+=id++)),rules[stateName]=next,rule.next=stateName,processState(stateName)}else"pop"==next&&(rule.next=popState);if(rule.push&&(rule.nextState=rule.next||rule.push,rule.next=pushState,delete rule.push),rule.rules)for(var r in rule.rules)rules[r]?rules[r].push&&rules[r].push.apply(rules[r],rule.rules[r]):rules[r]=rule.rules[r];var includeName="string"==typeof rule?rule:rule.include;if(includeName&&(toInsert=Array.isArray(includeName)?includeName.map((function(x){return rules[x]})):rules[includeName]),toInsert){var args=[i,1].concat(toInsert);rule.noEscape&&(args=args.filter((function(x){return!x.next}))),state.splice.apply(state,args),i--}rule.keywordMap&&(rule.token=this.createKeywordMapper(rule.keywordMap,rule.defaultToken||"text",rule.caseInsensitive),delete rule.defaultToken)}}),this)},this.createKeywordMapper=function(map,defaultToken,ignoreCase,splitChar){var keywords=Object.create(null);return Object.keys(map).forEach((function(className){var a=map[className];ignoreCase&&(a=a.toLowerCase());for(var list=a.split(splitChar||"|"),i=list.length;i--;)keywords[list[i]]=className})),Object.getPrototypeOf(keywords)&&(keywords.__proto__=null),this.$keywordList=Object.keys(keywords),map=null,ignoreCase?function(value){return keywords[value.toLowerCase()]||defaultToken}:function(value){return keywords[value]||defaultToken}},this.getKeywords=function(){return this.$keywords}}).call(TextHighlightRules.prototype),exports.TextHighlightRules=TextHighlightRules})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(acequire,exports,module){"use strict";var Behaviour=function(){this.$behaviours={}};(function(){this.add=function(name,action,callback){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[name]:this.$behaviours[name]={}}this.$behaviours[name][action]=callback},this.addBehaviours=function(behaviours){for(var key in behaviours)for(var action in behaviours[key])this.add(key,action,behaviours[key][action])},this.remove=function(name){this.$behaviours&&this.$behaviours[name]&&delete this.$behaviours[name]},this.inherit=function(mode,filter){if("function"==typeof mode)var behaviours=(new mode).getBehaviours(filter);else behaviours=mode.getBehaviours(filter);this.addBehaviours(behaviours)},this.getBehaviours=function(filter){if(filter){for(var ret={},i=0;i<filter.length;i++)this.$behaviours[filter[i]]&&(ret[filter[i]]=this.$behaviours[filter[i]]);return ret}return this.$behaviours}}).call(Behaviour.prototype),exports.Behaviour=Behaviour})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(acequire,exports,module){"use strict";var Range=acequire("./range").Range,TokenIterator=function(session,initialRow,initialColumn){this.$session=session,this.$row=initialRow,this.$rowTokens=session.getTokens(initialRow);var token=session.getTokenAt(initialRow,initialColumn);this.$tokenIndex=token?token.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var rowCount;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,rowCount||(rowCount=this.$session.getLength()),this.$row>=rowCount)return this.$row=rowCount-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var rowTokens=this.$rowTokens,tokenIndex=this.$tokenIndex,column=rowTokens[tokenIndex].start;if(void 0!==column)return column;for(column=0;tokenIndex>0;)column+=rowTokens[tokenIndex-=1].value.length;return column},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var token=this.$rowTokens[this.$tokenIndex],column=this.getCurrentTokenColumn();return new Range(this.$row,column,this.$row,column+token.value.length)}}).call(TokenIterator.prototype),exports.TokenIterator=TokenIterator})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(acequire,exports,module){"use strict";var context,oop=acequire("../../lib/oop"),Behaviour=acequire("../behaviour").Behaviour,TokenIterator=acequire("../../token_iterator").TokenIterator,lang=acequire("../../lib/lang"),SAFE_INSERT_IN_TOKENS=["text","paren.rparen","punctuation.operator"],SAFE_INSERT_BEFORE_TOKENS=["text","paren.rparen","punctuation.operator","comment"],contextCache={},defaultQuotes={'"':'"',"'":"'"},initContext=function(editor){var id=-1;if(editor.multiSelect&&(id=editor.selection.index,contextCache.rangeCount!=editor.multiSelect.rangeCount&&(contextCache={rangeCount:editor.multiSelect.rangeCount})),contextCache[id])return context=contextCache[id];context=contextCache[id]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},getWrapped=function(selection,selected,opening,closing){var rowDiff=selection.end.row-selection.start.row;return{text:opening+selected+closing,selection:[0,selection.start.column+1,rowDiff,selection.end.column+(rowDiff?0:1)]}},CstyleBehaviour=function(options){this.add("braces","insertion",(function(state,action,editor,session,text){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if("{"==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&"{"!==selected&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,"{","}");if(CstyleBehaviour.isSaneInsertion(editor,session))return/[\]\}\)]/.test(line[cursor.column])||editor.inMultiSelectMode||options&&options.braces?(CstyleBehaviour.recordAutoInsert(editor,session,"}"),{text:"{}",selection:[1,1]}):(CstyleBehaviour.recordMaybeInsert(editor,session,"{"),{text:"{",selection:[1,1]})}else if("}"==text){if(initContext(editor),"}"==line.substring(cursor.column,cursor.column+1))if(null!==session.$findOpeningBracket("}",{column:cursor.column+1,row:cursor.row})&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text))return CstyleBehaviour.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==text||"\r\n"==text){initContext(editor);var closing="";if(CstyleBehaviour.isMaybeInsertedClosing(cursor,line)&&(closing=lang.stringRepeat("}",context.maybeInsertedBrackets),CstyleBehaviour.clearMaybeInsertedClosing()),"}"===line.substring(cursor.column,cursor.column+1)){var openBracePos=session.findMatchingBracket({row:cursor.row,column:cursor.column+1},"}");if(!openBracePos)return null;var next_indent=this.$getIndent(session.getLine(openBracePos.row))}else{if(!closing)return void CstyleBehaviour.clearMaybeInsertedClosing();next_indent=this.$getIndent(line)}var indent=next_indent+session.getTabString();return{text:"\n"+indent+"\n"+next_indent+closing,selection:[1,indent.length,1,indent.length]}}CstyleBehaviour.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"{"==selected){if(initContext(editor),"}"==session.doc.getLine(range.start.row).substring(range.end.column,range.end.column+1))return range.end.column++,range;context.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(state,action,editor,session,text){if("("==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,"(",")");if(CstyleBehaviour.isSaneInsertion(editor,session))return CstyleBehaviour.recordAutoInsert(editor,session,")"),{text:"()",selection:[1,1]}}else if(")"==text){initContext(editor);var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if(")"==line.substring(cursor.column,cursor.column+1))if(null!==session.$findOpeningBracket(")",{column:cursor.column+1,row:cursor.row})&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text))return CstyleBehaviour.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"("==selected&&(initContext(editor),")"==session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2)))return range.end.column++,range})),this.add("brackets","insertion",(function(state,action,editor,session,text){if("["==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,"[","]");if(CstyleBehaviour.isSaneInsertion(editor,session))return CstyleBehaviour.recordAutoInsert(editor,session,"]"),{text:"[]",selection:[1,1]}}else if("]"==text){initContext(editor);var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if("]"==line.substring(cursor.column,cursor.column+1))if(null!==session.$findOpeningBracket("]",{column:cursor.column+1,row:cursor.row})&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text))return CstyleBehaviour.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"["==selected&&(initContext(editor),"]"==session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2)))return range.end.column++,range})),this.add("string_dquotes","insertion",(function(state,action,editor,session,text){var quotes=session.$mode.$quotes||defaultQuotes;if(1==text.length&&quotes[text]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(text))return;initContext(editor);var quote=text,selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(!(""===selected||1==selected.length&&quotes[selected])&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,quote,quote);if(!selected){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row),leftChar=line.substring(cursor.column-1,cursor.column),rightChar=line.substring(cursor.column,cursor.column+1),token=session.getTokenAt(cursor.row,cursor.column),rightToken=session.getTokenAt(cursor.row,cursor.column+1);if("\\"==leftChar&&token&&/escape/.test(token.type))return null;var pair,stringBefore=token&&/string|escape/.test(token.type),stringAfter=!rightToken||/string|escape/.test(rightToken.type);if(rightChar==quote)(pair=stringBefore!==stringAfter)&&/string\.end/.test(rightToken.type)&&(pair=!1);else{if(stringBefore&&!stringAfter)return null;if(stringBefore&&stringAfter)return null;var wordRe=session.$mode.tokenRe;wordRe.lastIndex=0;var isWordBefore=wordRe.test(leftChar);wordRe.lastIndex=0;var isWordAfter=wordRe.test(leftChar);if(isWordBefore||isWordAfter)return null;if(rightChar&&!/[\s;,.})\]\\]/.test(rightChar))return null;pair=!0}return{text:pair?quote+quote:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&('"'==selected||"'"==selected)&&(initContext(editor),session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2)==selected))return range.end.column++,range}))};CstyleBehaviour.isSaneInsertion=function(editor,session){var cursor=editor.getCursorPosition(),iterator=new TokenIterator(session,cursor.row,cursor.column);if(!this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS)){var iterator2=new TokenIterator(session,cursor.row,cursor.column+1);if(!this.$matchTokenType(iterator2.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS))return!1}return iterator.stepForward(),iterator.getCurrentTokenRow()!==cursor.row||this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_BEFORE_TOKENS)},CstyleBehaviour.$matchTokenType=function(token,types){return types.indexOf(token.type||token)>-1},CstyleBehaviour.recordAutoInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);this.isAutoInsertedClosing(cursor,line,context.autoInsertedLineEnd[0])||(context.autoInsertedBrackets=0),context.autoInsertedRow=cursor.row,context.autoInsertedLineEnd=bracket+line.substr(cursor.column),context.autoInsertedBrackets++},CstyleBehaviour.recordMaybeInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);this.isMaybeInsertedClosing(cursor,line)||(context.maybeInsertedBrackets=0),context.maybeInsertedRow=cursor.row,context.maybeInsertedLineStart=line.substr(0,cursor.column)+bracket,context.maybeInsertedLineEnd=line.substr(cursor.column),context.maybeInsertedBrackets++},CstyleBehaviour.isAutoInsertedClosing=function(cursor,line,bracket){return context.autoInsertedBrackets>0&&cursor.row===context.autoInsertedRow&&bracket===context.autoInsertedLineEnd[0]&&line.substr(cursor.column)===context.autoInsertedLineEnd},CstyleBehaviour.isMaybeInsertedClosing=function(cursor,line){return context.maybeInsertedBrackets>0&&cursor.row===context.maybeInsertedRow&&line.substr(cursor.column)===context.maybeInsertedLineEnd&&line.substr(0,cursor.column)==context.maybeInsertedLineStart},CstyleBehaviour.popAutoInsertedClosing=function(){context.autoInsertedLineEnd=context.autoInsertedLineEnd.substr(1),context.autoInsertedBrackets--},CstyleBehaviour.clearMaybeInsertedClosing=function(){context&&(context.maybeInsertedBrackets=0,context.maybeInsertedRow=-1)},oop.inherits(CstyleBehaviour,Behaviour),exports.CstyleBehaviour=CstyleBehaviour})),ace.define("ace/unicode",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.packages={},function(pack){var codePoint=/\w{4}/g;for(var name in pack)exports.packages[name]=pack[name].replace(codePoint,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})})),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(acequire,exports,module){"use strict";var Tokenizer=acequire("../tokenizer").Tokenizer,TextHighlightRules=acequire("./text_highlight_rules").TextHighlightRules,CstyleBehaviour=acequire("./behaviour/cstyle").CstyleBehaviour,unicode=acequire("../unicode"),lang=acequire("../lib/lang"),TokenIterator=acequire("../token_iterator").TokenIterator,Range=acequire("../range").Range,Mode=function(){this.HighlightRules=TextHighlightRules};(function(){this.$defaultBehaviour=new CstyleBehaviour,this.tokenRe=new RegExp("^["+unicode.packages.L+unicode.packages.Mn+unicode.packages.Mc+unicode.packages.Nd+unicode.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+unicode.packages.L+unicode.packages.Mn+unicode.packages.Mc+unicode.packages.Nd+unicode.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new Tokenizer(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(state,session,startRow,endRow){var doc=session.doc,ignoreBlankLines=!0,shouldRemove=!0,minIndent=1/0,tabSize=session.getTabSize(),insertAtTabStop=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))regexpStart=this.lineCommentStart.map(lang.escapeRegExp).join("|"),lineCommentStart=this.lineCommentStart[0];else regexpStart=lang.escapeRegExp(this.lineCommentStart),lineCommentStart=this.lineCommentStart;regexpStart=new RegExp("^(\\s*)(?:"+regexpStart+") ?"),insertAtTabStop=session.getUseSoftTabs();uncomment=function(line,i){var m=line.match(regexpStart);if(m){var start=m[1].length,end=m[0].length;shouldInsertSpace(line,start,end)||" "!=m[0][end-1]||end--,doc.removeInLine(i,start,end)}};var commentWithSpace=lineCommentStart+" ",shouldInsertSpace=(comment=function(line,i){ignoreBlankLines&&!/\S/.test(line)||(shouldInsertSpace(line,minIndent,minIndent)?doc.insertInLine({row:i,column:minIndent},commentWithSpace):doc.insertInLine({row:i,column:minIndent},lineCommentStart))},testRemove=function(line,i){return regexpStart.test(line)},function(line,before,after){for(var spaces=0;before--&&" "==line.charAt(before);)spaces++;if(spaces%tabSize!=0)return!1;for(spaces=0;" "==line.charAt(after++);)spaces++;return tabSize>2?spaces%tabSize!=tabSize-1:spaces%tabSize==0})}else{if(!this.blockComment)return!1;var lineCommentStart=this.blockComment.start,lineCommentEnd=this.blockComment.end,regexpStart=new RegExp("^(\\s*)(?:"+lang.escapeRegExp(lineCommentStart)+")"),regexpEnd=new RegExp("(?:"+lang.escapeRegExp(lineCommentEnd)+")\\s*$"),comment=function(line,i){testRemove(line,i)||ignoreBlankLines&&!/\S/.test(line)||(doc.insertInLine({row:i,column:line.length},lineCommentEnd),doc.insertInLine({row:i,column:minIndent},lineCommentStart))},uncomment=function(line,i){var m;(m=line.match(regexpEnd))&&doc.removeInLine(i,line.length-m[0].length,line.length),(m=line.match(regexpStart))&&doc.removeInLine(i,m[1].length,m[0].length)},testRemove=function(line,row){if(regexpStart.test(line))return!0;for(var tokens=session.getTokens(row),i=0;i<tokens.length;i++)if("comment"===tokens[i].type)return!0}}function iter(fun){for(var i=startRow;i<=endRow;i++)fun(doc.getLine(i),i)}var minEmptyLength=1/0;iter((function(line,i){var indent=line.search(/\S/);-1!==indent?(indent<minIndent&&(minIndent=indent),shouldRemove&&!testRemove(line,i)&&(shouldRemove=!1)):minEmptyLength>line.length&&(minEmptyLength=line.length)})),minIndent==1/0&&(minIndent=minEmptyLength,ignoreBlankLines=!1,shouldRemove=!1),insertAtTabStop&&minIndent%tabSize!=0&&(minIndent=Math.floor(minIndent/tabSize)*tabSize),iter(shouldRemove?uncomment:comment)},this.toggleBlockComment=function(state,session,range,cursor){var comment=this.blockComment;if(comment){!comment.start&&comment[0]&&(comment=comment[0]);var startRow,colDiff,token=(iterator=new TokenIterator(session,cursor.row,cursor.column)).getCurrentToken(),initialRange=(session.selection,session.selection.toOrientedRange());if(token&&/comment/.test(token.type)){for(var startRange,endRange;token&&/comment/.test(token.type);){if(-1!=(i=token.value.indexOf(comment.start))){var row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn()+i;startRange=new Range(row,column,row,column+comment.start.length);break}token=iterator.stepBackward()}var iterator;for(token=(iterator=new TokenIterator(session,cursor.row,cursor.column)).getCurrentToken();token&&/comment/.test(token.type);){var i;if(-1!=(i=token.value.indexOf(comment.end))){row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn()+i;endRange=new Range(row,column,row,column+comment.end.length);break}token=iterator.stepForward()}endRange&&session.remove(endRange),startRange&&(session.remove(startRange),startRow=startRange.start.row,colDiff=-comment.start.length)}else colDiff=comment.start.length,startRow=range.start.row,session.insert(range.end,comment.end),session.insert(range.start,comment.start);initialRange.start.row==startRow&&(initialRange.start.column+=colDiff),initialRange.end.row==startRow&&(initialRange.end.column+=colDiff),session.selection.fromOrientedRange(initialRange)}},this.getNextLineIndent=function(state,line,tab){return this.$getIndent(line)},this.checkOutdent=function(state,line,input){return!1},this.autoOutdent=function(state,doc,row){},this.$getIndent=function(line){return line.match(/^\s*/)[0]},this.createWorker=function(session){return null},this.createModeDelegates=function(mapping){for(var i in this.$embeds=[],this.$modes={},mapping)mapping[i]&&(this.$embeds.push(i),this.$modes[i]=new mapping[i]);var delegations=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(i=0;i<delegations.length;i++)!function(scope){var functionName=delegations[i],defaultHandler=scope[functionName];scope[delegations[i]]=function(){return this.$delegator(functionName,arguments,defaultHandler)}}(this)},this.$delegator=function(method,args,defaultHandler){var state=args[0];"string"!=typeof state&&(state=state[0]);for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var split=state.split(this.$embeds[i]);if(!split[0]&&split[1]){args[0]=split[1];var mode=this.$modes[this.$embeds[i]];return mode[method].apply(mode,args)}}var ret=defaultHandler.apply(this,args);return defaultHandler?ret:void 0},this.transformAction=function(state,action,editor,session,param){if(this.$behaviour){var behaviours=this.$behaviour.getBehaviours();for(var key in behaviours)if(behaviours[key][action]){var ret=behaviours[key][action].apply(this,arguments);if(ret)return ret}}},this.getKeywords=function(append){if(!this.completionKeywords){var rules=this.$tokenizer.rules,completionKeywords=[];for(var rule in rules)for(var ruleItr=rules[rule],r=0,l=ruleItr.length;r<l;r++)if("string"==typeof ruleItr[r].token)/keyword|support|storage/.test(ruleItr[r].token)&&completionKeywords.push(ruleItr[r].regex);else if("object"==typeof ruleItr[r].token)for(var a=0,aLength=ruleItr[r].token.length;a<aLength;a++)if(/keyword|support|storage/.test(ruleItr[r].token[a])){rule=ruleItr[r].regex.match(/\(.+?\)/g)[a];completionKeywords.push(rule.substr(1,rule.length-2))}this.completionKeywords=completionKeywords}return append?completionKeywords.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(state,session,pos,prefix){return(this.$keywordList||this.$createKeywordList()).map((function(word){return{name:word,value:word,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(Mode.prototype),exports.Mode=Mode})),ace.define("ace/apply_delta",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.applyDelta=function(docLines,delta,doNotValidate){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":if(1===delta.lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),void 0===column?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=function(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;if($pointsInOrder(point,deltaStart,moveIfEqual))return{row:point.row,column:point.column};if($pointsInOrder(deltaEnd,point,!moveIfEqual))return{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)};return{row:deltaStart.row,column:deltaStart.column}}(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):row<0?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),column<0&&(pos.column=0),pos}}).call(Anchor.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},0==="aaa".split(/a/).length?this.$split=function(text){return text.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(text){return text.split(/\r\n|\r|\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=match?match[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\r\n"==text||"\r"==text||"\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{(lines=this.getLines(range.start.row,range.end.row))[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return this.getLength()<=1&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:row<0?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return null==column&&(column=line.length),{row:row,column:column=Math.min(Math.max(column,0),line.length)}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){var column=0;(row=Math.min(Math.max(row,0),this.getLength()))<this.getLength()?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1);var deleteFirstNewLine=(lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1))==this.getLength()-1&&firstRow>0,deleteLastNewLine=lastRow<this.getLength()-1,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){row<this.getLength()-1&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){return range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty()?range.start:text==this.getTextRange(range)?range.end:(this.remove(range),text?this.insert(range.start,text):range.start)},this.applyDeltas=function(deltas){for(var i=0;i<deltas.length;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?delta.lines.length<=1&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;i<l;i++)if((index-=lines[i].length+newlineLength)<0)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;i<row;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,BackgroundTokenizer=function(tokenizer,editor){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=tokenizer;var self=this;this.$worker=function(){if(self.running){for(var workerStart=new Date,currentLine=self.currentLine,endLine=-1,doc=self.doc,startLine=currentLine;self.lines[currentLine];)currentLine++;var len=doc.getLength(),processedLines=0;for(self.running=!1;currentLine<len;){self.$tokenizeRow(currentLine),endLine=currentLine;do{currentLine++}while(self.lines[currentLine]);if(++processedLines%5==0&&new Date-workerStart>20){self.running=setTimeout(self.$worker,20);break}}self.currentLine=currentLine,-1==endLine&&(endLine=currentLine),startLine<=endLine&&self.fireUpdateEvent(startLine,endLine)}}};(function(){oop.implement(this,EventEmitter),this.setTokenizer=function(tokenizer){this.tokenizer=tokenizer,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(doc){this.doc=doc,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(firstRow,lastRow){var data={first:firstRow,last:lastRow};this._signal("update",{data:data})},this.start=function(startRow){this.currentLine=Math.min(startRow||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(delta){var startRow=delta.start.row,len=delta.end.row-startRow;if(0===len)this.lines[startRow]=null;else if("remove"==delta.action)this.lines.splice(startRow,len+1,null),this.states.splice(startRow,len+1,null);else{var args=Array(len+1);args.unshift(startRow,1),this.lines.splice.apply(this.lines,args),this.states.splice.apply(this.states,args)}this.currentLine=Math.min(startRow,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(row){return this.lines[row]||this.$tokenizeRow(row)},this.getState=function(row){return this.currentLine==row&&this.$tokenizeRow(row),this.states[row]||"start"},this.$tokenizeRow=function(row){var line=this.doc.getLine(row),state=this.states[row-1],data=this.tokenizer.getLineTokens(line,state,row);return this.states[row]+""!=data.state+""?(this.states[row]=data.state,this.lines[row+1]=null,this.currentLine>row+1&&(this.currentLine=row+1)):this.currentLine==row&&(this.currentLine=row+1),this.lines[row]=data.tokens}}).call(BackgroundTokenizer.prototype),exports.BackgroundTokenizer=BackgroundTokenizer})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(acequire,exports,module){"use strict";var lang=acequire("./lib/lang"),Range=(acequire("./lib/oop"),acequire("./range").Range),SearchHighlight=function(regExp,clazz,type){this.setRegexp(regExp),this.clazz=clazz,this.type=type||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(regExp){this.regExp+""!=regExp+""&&(this.regExp=regExp,this.cache=[])},this.update=function(html,markerLayer,session,config){if(this.regExp)for(var start=config.firstRow,end=config.lastRow,i=start;i<=end;i++){var ranges=this.cache[i];null==ranges&&((ranges=lang.getMatchOffsets(session.getLine(i),this.regExp)).length>this.MAX_RANGES&&(ranges=ranges.slice(0,this.MAX_RANGES)),ranges=ranges.map((function(match){return new Range(i,match.offset,i,match.offset+match.length)})),this.cache[i]=ranges.length?ranges:"");for(var j=ranges.length;j--;)markerLayer.drawSingleLineMarker(html,ranges[j].toScreenRange(session),this.clazz,config)}}}).call(SearchHighlight.prototype),exports.SearchHighlight=SearchHighlight})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(acequire,exports,module){"use strict";var Range=acequire("../range").Range;function FoldLine(foldData,folds){this.foldData=foldData,Array.isArray(folds)?this.folds=folds:folds=this.folds=[folds];var last=folds[folds.length-1];this.range=new Range(folds[0].start.row,folds[0].start.column,last.end.row,last.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(fold){fold.setFoldLine(this)}),this)}(function(){this.shiftRow=function(shift){this.start.row+=shift,this.end.row+=shift,this.folds.forEach((function(fold){fold.start.row+=shift,fold.end.row+=shift}))},this.addFold=function(fold){if(fold.sameRow){if(fold.start.row<this.startRow||fold.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(fold),this.folds.sort((function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)})),this.range.compareEnd(fold.start.row,fold.start.column)>0?(this.end.row=fold.end.row,this.end.column=fold.end.column):this.range.compareStart(fold.end.row,fold.end.column)<0&&(this.start.row=fold.start.row,this.start.column=fold.start.column)}else if(fold.start.row==this.end.row)this.folds.push(fold),this.end.row=fold.end.row,this.end.column=fold.end.column;else{if(fold.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(fold),this.start.row=fold.start.row,this.start.column=fold.start.column}fold.foldLine=this},this.containsRow=function(row){return row>=this.start.row&&row<=this.end.row},this.walk=function(callback,endRow,endColumn){var fold,cmp,lastEnd=0,folds=this.folds,isNewRow=!0;null==endRow&&(endRow=this.end.row,endColumn=this.end.column);for(var i=0;i<folds.length;i++){if(-1==(cmp=(fold=folds[i]).range.compareStart(endRow,endColumn)))return void callback(null,endRow,endColumn,lastEnd,isNewRow);if(!callback(null,fold.start.row,fold.start.column,lastEnd,isNewRow)&&callback(fold.placeholder,fold.start.row,fold.start.column,lastEnd)||0===cmp)return;isNewRow=!fold.sameRow,lastEnd=fold.end.column}callback(null,endRow,endColumn,lastEnd,isNewRow)},this.getNextFoldTo=function(row,column){for(var fold,cmp,i=0;i<this.folds.length;i++){if(-1==(cmp=(fold=this.folds[i]).range.compareEnd(row,column)))return{fold:fold,kind:"after"};if(0===cmp)return{fold:fold,kind:"inside"}}return null},this.addRemoveChars=function(row,column,len){var fold,folds,ret=this.getNextFoldTo(row,column);if(ret)if(fold=ret.fold,"inside"==ret.kind&&fold.start.column!=column&&fold.start.row!=row)window.console&&window.console.log(row,column,fold);else if(fold.start.row==row){var i=(folds=this.folds).indexOf(fold);for(0===i&&(this.start.column+=len);i<folds.length;i++){if((fold=folds[i]).start.column+=len,!fold.sameRow)return;fold.end.column+=len}this.end.column+=len}},this.split=function(row,column){var pos=this.getNextFoldTo(row,column);if(!pos||"inside"==pos.kind)return null;var fold=pos.fold,folds=this.folds,foldData=this.foldData,i=folds.indexOf(fold),foldBefore=folds[i-1];this.end.row=foldBefore.end.row,this.end.column=foldBefore.end.column;var newFoldLine=new FoldLine(foldData,folds=folds.splice(i,folds.length-i));return foldData.splice(foldData.indexOf(this)+1,0,newFoldLine),newFoldLine},this.merge=function(foldLineNext){for(var folds=foldLineNext.folds,i=0;i<folds.length;i++)this.addFold(folds[i]);var foldData=this.foldData;foldData.splice(foldData.indexOf(foldLineNext),1)},this.toString=function(){var ret=[this.range.toString()+": ["];return this.folds.forEach((function(fold){ret.push("  "+fold.toString())})),ret.push("]"),ret.join("\n")},this.idxToPosition=function(idx){for(var lastFoldEndColumn=0,i=0;i<this.folds.length;i++){var fold=this.folds[i];if((idx-=fold.start.column-lastFoldEndColumn)<0)return{row:fold.start.row,column:fold.start.column+idx};if((idx-=fold.placeholder.length)<0)return fold.start;lastFoldEndColumn=fold.end.column}return{row:this.end.row,column:this.end.column+idx}}}).call(FoldLine.prototype),exports.FoldLine=FoldLine})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(acequire,exports,module){"use strict";var comparePoints=acequire("./range").Range.comparePoints,RangeList=function(){this.ranges=[]};(function(){this.comparePoints=comparePoints,this.pointIndex=function(pos,excludeEdges,startIndex){for(var list=this.ranges,i=startIndex||0;i<list.length;i++){var range=list[i],cmpEnd=comparePoints(pos,range.end);if(!(cmpEnd>0)){var cmpStart=comparePoints(pos,range.start);return 0===cmpEnd?excludeEdges&&0!==cmpStart?-i-2:i:cmpStart>0||0===cmpStart&&!excludeEdges?i:-i-1}}return-i-1},this.add=function(range){var excludeEdges=!range.isEmpty(),startIndex=this.pointIndex(range.start,excludeEdges);startIndex<0&&(startIndex=-startIndex-1);var endIndex=this.pointIndex(range.end,excludeEdges,startIndex);return endIndex<0?endIndex=-endIndex-1:endIndex++,this.ranges.splice(startIndex,endIndex-startIndex,range)},this.addList=function(list){for(var removed=[],i=list.length;i--;)removed.push.apply(removed,this.add(list[i]));return removed},this.substractPoint=function(pos){var i=this.pointIndex(pos);if(i>=0)return this.ranges.splice(i,1)},this.merge=function(){for(var range,removed=[],list=this.ranges,next=(list=list.sort((function(a,b){return comparePoints(a.start,b.start)})))[0],i=1;i<list.length;i++){range=next,next=list[i];var cmp=comparePoints(range.end,next.start);cmp<0||(0!=cmp||range.isEmpty()||next.isEmpty())&&(comparePoints(range.end,next.end)<0&&(range.end.row=next.end.row,range.end.column=next.end.column),list.splice(i,1),removed.push(next),next=range,i--)}return this.ranges=list,removed},this.contains=function(row,column){return this.pointIndex({row:row,column:column})>=0},this.containsPoint=function(pos){return this.pointIndex(pos)>=0},this.rangeAtPoint=function(pos){var i=this.pointIndex(pos);if(i>=0)return this.ranges[i]},this.clipRows=function(startRow,endRow){var list=this.ranges;if(list[0].start.row>endRow||list[list.length-1].start.row<startRow)return[];var startIndex=this.pointIndex({row:startRow,column:0});startIndex<0&&(startIndex=-startIndex-1);var endIndex=this.pointIndex({row:endRow,column:0},startIndex);endIndex<0&&(endIndex=-endIndex-1);for(var clipped=[],i=startIndex;i<endIndex;i++)clipped.push(list[i]);return clipped},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(session){this.session&&this.detach(),this.session=session,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(delta){if("insert"==delta.action)var start=delta.start,end=delta.end;else end=delta.start,start=delta.end;for(var startRow=start.row,lineDif=end.row-startRow,colDiff=-start.column+end.column,ranges=this.ranges,i=0,n=ranges.length;i<n;i++){if(!((r=ranges[i]).end.row<startRow)){if(r.start.row>startRow)break;if(r.start.row==startRow&&r.start.column>=start.column&&(r.start.column==start.column&&this.$insertRight||(r.start.column+=colDiff,r.start.row+=lineDif)),r.end.row==startRow&&r.end.column>=start.column){if(r.end.column==start.column&&this.$insertRight)continue;r.end.column==start.column&&colDiff>0&&i<n-1&&r.end.column>r.start.column&&r.end.column==ranges[i+1].start.column&&(r.end.column-=colDiff),r.end.column+=colDiff,r.end.row+=lineDif}}}if(0!=lineDif&&i<n)for(;i<n;i++){var r;(r=ranges[i]).start.row+=lineDif,r.end.row+=lineDif}}}).call(RangeList.prototype),exports.RangeList=RangeList})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],(function(acequire,exports,module){"use strict";acequire("../range").Range;var RangeList=acequire("../range_list").RangeList,oop=acequire("../lib/oop"),Fold=exports.Fold=function(range,placeholder){this.foldLine=null,this.placeholder=placeholder,this.range=range,this.start=range.start,this.end=range.end,this.sameRow=range.start.row==range.end.row,this.subFolds=this.ranges=[]};function consumePoint(point,anchor){point.row-=anchor.row,0==point.row&&(point.column-=anchor.column)}function restorePoint(point,anchor){0==point.row&&(point.column+=anchor.column),point.row+=anchor.row}oop.inherits(Fold,RangeList),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(foldLine){this.foldLine=foldLine,this.subFolds.forEach((function(fold){fold.setFoldLine(foldLine)}))},this.clone=function(){var range=this.range.clone(),fold=new Fold(range,this.placeholder);return this.subFolds.forEach((function(subFold){fold.subFolds.push(subFold.clone())})),fold.collapseChildren=this.collapseChildren,fold},this.addSubFold=function(fold){if(!this.range.isEqual(fold)){if(!this.range.containsRange(fold))throw new Error("A fold can't intersect already existing fold"+fold.range+this.range);var range,anchor;range=fold,anchor=this.start,consumePoint(range.start,anchor),consumePoint(range.end,anchor);for(var row=fold.start.row,column=fold.start.column,i=0,cmp=-1;i<this.subFolds.length&&1==(cmp=this.subFolds[i].range.compare(row,column));i++);var afterStart=this.subFolds[i];if(0==cmp)return afterStart.addSubFold(fold);row=fold.range.end.row,column=fold.range.end.column;var j=i;for(cmp=-1;j<this.subFolds.length&&1==(cmp=this.subFolds[j].range.compare(row,column));j++);this.subFolds[j];if(0==cmp)throw new Error("A fold can't intersect already existing fold"+fold.range+this.range);this.subFolds.splice(i,j-i,fold);return fold.setFoldLine(this.foldLine),fold}},this.restoreRange=function(range){return function(range,anchor){restorePoint(range.start,anchor),restorePoint(range.end,anchor)}(range,this.start)}}.call(Fold.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(acequire,exports,module){"use strict";var Range=acequire("../range").Range,FoldLine=acequire("./fold_line").FoldLine,Fold=acequire("./fold").Fold,TokenIterator=acequire("../token_iterator").TokenIterator;exports.Folding=function(){this.getFoldAt=function(row,column,side){var foldLine=this.getFoldLine(row);if(!foldLine)return null;for(var folds=foldLine.folds,i=0;i<folds.length;i++){var fold=folds[i];if(fold.range.contains(row,column)){if(1==side&&fold.range.isEnd(row,column))continue;if(-1==side&&fold.range.isStart(row,column))continue;return fold}}},this.getFoldsInRange=function(range){var start=range.start,end=range.end,foldLines=this.$foldData,foundFolds=[];start.column+=1,end.column-=1;for(var i=0;i<foldLines.length;i++){var cmp=foldLines[i].range.compareRange(range);if(2!=cmp){if(-2==cmp)break;for(var folds=foldLines[i].folds,j=0;j<folds.length;j++){var fold=folds[j];if(-2==(cmp=fold.range.compareRange(range)))break;if(2!=cmp){if(42==cmp)break;foundFolds.push(fold)}}}}return start.column-=1,end.column+=1,foundFolds},this.getFoldsInRangeList=function(ranges){if(Array.isArray(ranges)){var folds=[];ranges.forEach((function(range){folds=folds.concat(this.getFoldsInRange(range))}),this)}else folds=this.getFoldsInRange(ranges);return folds},this.getAllFolds=function(){for(var folds=[],foldLines=this.$foldData,i=0;i<foldLines.length;i++)for(var j=0;j<foldLines[i].folds.length;j++)folds.push(foldLines[i].folds[j]);return folds},this.getFoldStringAt=function(row,column,trim,foldLine){if(!(foldLine=foldLine||this.getFoldLine(row)))return null;for(var str,fold,lastFold={end:{column:0}},i=0;i<foldLine.folds.length;i++){var cmp=(fold=foldLine.folds[i]).range.compareEnd(row,column);if(-1==cmp){str=this.getLine(fold.start.row).substring(lastFold.end.column,fold.start.column);break}if(0===cmp)return null;lastFold=fold}return str||(str=this.getLine(fold.start.row).substring(lastFold.end.column)),-1==trim?str.substring(0,column-lastFold.end.column):1==trim?str.substring(column-lastFold.end.column):str},this.getFoldLine=function(docRow,startFoldLine){var foldData=this.$foldData,i=0;for(startFoldLine&&(i=foldData.indexOf(startFoldLine)),-1==i&&(i=0);i<foldData.length;i++){var foldLine=foldData[i];if(foldLine.start.row<=docRow&&foldLine.end.row>=docRow)return foldLine;if(foldLine.end.row>docRow)return null}return null},this.getNextFoldLine=function(docRow,startFoldLine){var foldData=this.$foldData,i=0;for(startFoldLine&&(i=foldData.indexOf(startFoldLine)),-1==i&&(i=0);i<foldData.length;i++){var foldLine=foldData[i];if(foldLine.end.row>=docRow)return foldLine}return null},this.getFoldedRowCount=function(first,last){for(var foldData=this.$foldData,rowCount=last-first+1,i=0;i<foldData.length;i++){var foldLine=foldData[i],end=foldLine.end.row,start=foldLine.start.row;if(end>=last){start<last&&(start>=first?rowCount-=last-start:rowCount=0);break}end>=first&&(rowCount-=start>=first?end-start:end-first+1)}return rowCount},this.$addFoldLine=function(foldLine){return this.$foldData.push(foldLine),this.$foldData.sort((function(a,b){return a.start.row-b.start.row})),foldLine},this.addFold=function(placeholder,range){var fold,foldData=this.$foldData,added=!1;placeholder instanceof Fold?fold=placeholder:(fold=new Fold(range,placeholder)).collapseChildren=range.collapseChildren,this.$clipRangeToDocument(fold.range);var startRow=fold.start.row,startColumn=fold.start.column,endRow=fold.end.row,endColumn=fold.end.column;if(!(startRow<endRow||startRow==endRow&&startColumn<=endColumn-2))throw new Error("The range has to be at least 2 characters width");var startFold=this.getFoldAt(startRow,startColumn,1),endFold=this.getFoldAt(endRow,endColumn,-1);if(startFold&&endFold==startFold)return startFold.addSubFold(fold);startFold&&!startFold.range.isStart(startRow,startColumn)&&this.removeFold(startFold),endFold&&!endFold.range.isEnd(endRow,endColumn)&&this.removeFold(endFold);var folds=this.getFoldsInRange(fold.range);folds.length>0&&(this.removeFolds(folds),folds.forEach((function(subFold){fold.addSubFold(subFold)})));for(var i=0;i<foldData.length;i++){var foldLine=foldData[i];if(endRow==foldLine.start.row){foldLine.addFold(fold),added=!0;break}if(startRow==foldLine.end.row){if(foldLine.addFold(fold),added=!0,!fold.sameRow){var foldLineNext=foldData[i+1];if(foldLineNext&&foldLineNext.start.row==endRow){foldLine.merge(foldLineNext);break}}break}if(endRow<=foldLine.start.row)break}return added||(foldLine=this.$addFoldLine(new FoldLine(this.$foldData,fold))),this.$useWrapMode?this.$updateWrapData(foldLine.start.row,foldLine.start.row):this.$updateRowLengthCache(foldLine.start.row,foldLine.start.row),this.$modified=!0,this._signal("changeFold",{data:fold,action:"add"}),fold},this.addFolds=function(folds){folds.forEach((function(fold){this.addFold(fold)}),this)},this.removeFold=function(fold){var foldLine=fold.foldLine,startRow=foldLine.start.row,endRow=foldLine.end.row,foldLines=this.$foldData,folds=foldLine.folds;if(1==folds.length)foldLines.splice(foldLines.indexOf(foldLine),1);else if(foldLine.range.isEnd(fold.end.row,fold.end.column))folds.pop(),foldLine.end.row=folds[folds.length-1].end.row,foldLine.end.column=folds[folds.length-1].end.column;else if(foldLine.range.isStart(fold.start.row,fold.start.column))folds.shift(),foldLine.start.row=folds[0].start.row,foldLine.start.column=folds[0].start.column;else if(fold.sameRow)folds.splice(folds.indexOf(fold),1);else{var newFoldLine=foldLine.split(fold.start.row,fold.start.column);(folds=newFoldLine.folds).shift(),newFoldLine.start.row=folds[0].start.row,newFoldLine.start.column=folds[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(startRow,endRow):this.$updateRowLengthCache(startRow,endRow)),this.$modified=!0,this._signal("changeFold",{data:fold,action:"remove"})},this.removeFolds=function(folds){for(var cloneFolds=[],i=0;i<folds.length;i++)cloneFolds.push(folds[i]);cloneFolds.forEach((function(fold){this.removeFold(fold)}),this),this.$modified=!0},this.expandFold=function(fold){this.removeFold(fold),fold.subFolds.forEach((function(subFold){fold.restoreRange(subFold),this.addFold(subFold)}),this),fold.collapseChildren>0&&this.foldAll(fold.start.row+1,fold.end.row,fold.collapseChildren-1),fold.subFolds=[]},this.expandFolds=function(folds){folds.forEach((function(fold){this.expandFold(fold)}),this)},this.unfold=function(location,expandInner){var range,folds;if(null==location?(range=new Range(0,0,this.getLength(),0),expandInner=!0):range="number"==typeof location?new Range(location,0,location,this.getLine(location).length):"row"in location?Range.fromPoints(location,location):location,folds=this.getFoldsInRangeList(range),expandInner)this.removeFolds(folds);else for(var subFolds=folds;subFolds.length;)this.expandFolds(subFolds),subFolds=this.getFoldsInRangeList(range);if(folds.length)return folds},this.isRowFolded=function(docRow,startFoldRow){return!!this.getFoldLine(docRow,startFoldRow)},this.getRowFoldEnd=function(docRow,startFoldRow){var foldLine=this.getFoldLine(docRow,startFoldRow);return foldLine?foldLine.end.row:docRow},this.getRowFoldStart=function(docRow,startFoldRow){var foldLine=this.getFoldLine(docRow,startFoldRow);return foldLine?foldLine.start.row:docRow},this.getFoldDisplayLine=function(foldLine,endRow,endColumn,startRow,startColumn){null==startRow&&(startRow=foldLine.start.row),null==startColumn&&(startColumn=0),null==endRow&&(endRow=foldLine.end.row),null==endColumn&&(endColumn=this.getLine(endRow).length);var doc=this.doc,textLine="";return foldLine.walk((function(placeholder,row,column,lastColumn){if(!(row<startRow)){if(row==startRow){if(column<startColumn)return;lastColumn=Math.max(startColumn,lastColumn)}textLine+=null!=placeholder?placeholder:doc.getLine(row).substring(lastColumn,column)}}),endRow,endColumn),textLine},this.getDisplayLine=function(row,endColumn,startRow,startColumn){var line,foldLine=this.getFoldLine(row);return foldLine?this.getFoldDisplayLine(foldLine,row,endColumn,startRow,startColumn):(line=this.doc.getLine(row)).substring(startColumn||0,endColumn||line.length)},this.$cloneFoldData=function(){var fd=[];return fd=this.$foldData.map((function(foldLine){var folds=foldLine.folds.map((function(fold){return fold.clone()}));return new FoldLine(fd,folds)}))},this.toggleFold=function(tryToUnfold){var fold,bracketPos,range=this.selection.getRange();if(range.isEmpty()){var cursor=range.start;if(fold=this.getFoldAt(cursor.row,cursor.column))return void this.expandFold(fold);(bracketPos=this.findMatchingBracket(cursor))?1==range.comparePoint(bracketPos)?range.end=bracketPos:(range.start=bracketPos,range.start.column++,range.end.column--):(bracketPos=this.findMatchingBracket({row:cursor.row,column:cursor.column+1}))?(1==range.comparePoint(bracketPos)?range.end=bracketPos:range.start=bracketPos,range.start.column++):range=this.getCommentFoldRange(cursor.row,cursor.column)||range}else{var folds=this.getFoldsInRange(range);if(tryToUnfold&&folds.length)return void this.expandFolds(folds);1==folds.length&&(fold=folds[0])}if(fold||(fold=this.getFoldAt(range.start.row,range.start.column)),fold&&fold.range.toString()==range.toString())this.expandFold(fold);else{var placeholder="...";if(!range.isMultiLine()){if((placeholder=this.getTextRange(range)).length<4)return;placeholder=placeholder.trim().substring(0,2)+".."}this.addFold(placeholder,range)}},this.getCommentFoldRange=function(row,column,dir){var iterator=new TokenIterator(this,row,column),token=iterator.getCurrentToken(),type=token.type;if(token&&/^comment|string/.test(type)){"comment"==(type=type.match(/comment|string/)[0])&&(type+="|doc-start");var re=new RegExp(type),range=new Range;if(1!=dir){do{token=iterator.stepBackward()}while(token&&re.test(token.type));iterator.stepForward()}if(range.start.row=iterator.getCurrentTokenRow(),range.start.column=iterator.getCurrentTokenColumn()+2,iterator=new TokenIterator(this,row,column),-1!=dir){var lastRow=-1;do{if(token=iterator.stepForward(),-1==lastRow){var state=this.getState(iterator.$row);re.test(state)||(lastRow=iterator.$row)}else if(iterator.$row>lastRow)break}while(token&&re.test(token.type));token=iterator.stepBackward()}else token=iterator.getCurrentToken();return range.end.row=iterator.getCurrentTokenRow(),range.end.column=iterator.getCurrentTokenColumn()+token.value.length-2,range}},this.foldAll=function(startRow,endRow,depth){null==depth&&(depth=1e5);var foldWidgets=this.foldWidgets;if(foldWidgets){endRow=endRow||this.getLength();for(var row=startRow=startRow||0;row<endRow;row++)if(null==foldWidgets[row]&&(foldWidgets[row]=this.getFoldWidget(row)),"start"==foldWidgets[row]){var range=this.getFoldWidgetRange(row);if(range&&range.isMultiLine()&&range.end.row<=endRow&&range.start.row>=startRow){row=range.end.row;try{var fold=this.addFold("...",range);fold&&(fold.collapseChildren=depth)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(style){if(!this.$foldStyles[style])throw new Error("invalid fold style: "+style+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=style){this.$foldStyle=style,"manual"==style&&this.unfold();var mode=this.$foldMode;this.$setFolding(null),this.$setFolding(mode)}},this.$setFolding=function(foldMode){this.$foldMode!=foldMode&&(this.$foldMode=foldMode,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),foldMode&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=foldMode.getFoldWidget.bind(foldMode,this,this.$foldStyle),this.getFoldWidgetRange=foldMode.getFoldWidgetRange.bind(foldMode,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(row,ignoreCurrent){var fw=this.foldWidgets;if(!fw||ignoreCurrent&&fw[row])return{};for(var firstRange,i=row-1;i>=0;){var c=fw[i];if(null==c&&(c=fw[i]=this.getFoldWidget(i)),"start"==c){var range=this.getFoldWidgetRange(i);if(firstRange||(firstRange=range),range&&range.end.row>=row)break}i--}return{range:-1!==i&&range,firstRange:firstRange}},this.onFoldWidgetClick=function(row,e){var options={children:(e=e.domEvent).shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey};if(!this.$toggleFoldWidget(row,options)){var el=e.target||e.srcElement;el&&/ace_fold-widget/.test(el.className)&&(el.className+=" ace_invalid")}},this.$toggleFoldWidget=function(row,options){if(this.getFoldWidget){var type=this.getFoldWidget(row),line=this.getLine(row),dir="end"===type?-1:1,fold=this.getFoldAt(row,-1===dir?0:line.length,dir);if(fold)return options.children||options.all?this.removeFold(fold):this.expandFold(fold),fold;var range=this.getFoldWidgetRange(row,!0);if(range&&!range.isMultiLine()&&(fold=this.getFoldAt(range.start.row,range.start.column,1))&&range.isEqual(fold.range))return this.removeFold(fold),fold;if(options.siblings){var data=this.getParentFoldRangeData(row);if(data.range)var startRow=data.range.start.row+1,endRow=data.range.end.row;this.foldAll(startRow,endRow,options.all?1e4:0)}else options.children?(endRow=range?range.end.row:this.getLength(),this.foldAll(row+1,endRow,options.all?1e4:0)):range&&(options.all&&(range.collapseChildren=1e4),this.addFold("...",range));return range}},this.toggleFoldWidget=function(toggleParent){var row=this.selection.getCursor().row;row=this.getRowFoldStart(row);var range=this.$toggleFoldWidget(row,{});if(!range){var data=this.getParentFoldRangeData(row,!0);if(range=data.range||data.firstRange){row=range.start.row;var fold=this.getFoldAt(row,this.getLine(row).length,1);fold?this.removeFold(fold):this.addFold("...",range)}}},this.updateFoldWidgets=function(delta){var firstRow=delta.start.row,len=delta.end.row-firstRow;if(0===len)this.foldWidgets[firstRow]=null;else if("remove"==delta.action)this.foldWidgets.splice(firstRow,len+1,null);else{var args=Array(len+1);args.unshift(firstRow,1),this.foldWidgets.splice.apply(this.foldWidgets,args)}},this.tokenizerUpdateFoldWidgets=function(e){var rows=e.data;rows.first!=rows.last&&this.foldWidgets.length>rows.first&&this.foldWidgets.splice(rows.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(acequire,exports,module){"use strict";var TokenIterator=acequire("../token_iterator").TokenIterator,Range=acequire("../range").Range;exports.BracketMatch=function(){this.findMatchingBracket=function(position,chr){if(0==position.column)return null;var charBeforeCursor=chr||this.getLine(position.row).charAt(position.column-1);if(""==charBeforeCursor)return null;var match=charBeforeCursor.match(/([\(\[\{])|([\)\]\}])/);return match?match[1]?this.$findClosingBracket(match[1],position):this.$findOpeningBracket(match[2],position):null},this.getBracketRange=function(pos){var range,line=this.getLine(pos.row),before=!0,chr=line.charAt(pos.column-1),match=chr&&chr.match(/([\(\[\{])|([\)\]\}])/);if(match||(chr=line.charAt(pos.column),pos={row:pos.row,column:pos.column+1},match=chr&&chr.match(/([\(\[\{])|([\)\]\}])/),before=!1),!match)return null;if(match[1]){if(!(bracketPos=this.$findClosingBracket(match[1],pos)))return null;range=Range.fromPoints(pos,bracketPos),before||(range.end.column++,range.start.column--),range.cursor=range.end}else{var bracketPos;if(!(bracketPos=this.$findOpeningBracket(match[2],pos)))return null;range=Range.fromPoints(bracketPos,pos),before||(range.start.column++,range.end.column--),range.cursor=range.start}return range},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(bracket,position,typeRe){var openBracket=this.$brackets[bracket],depth=1,iterator=new TokenIterator(this,position.row,position.column),token=iterator.getCurrentToken();if(token||(token=iterator.stepForward()),token){typeRe||(typeRe=new RegExp("(\\.?"+token.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var valueIndex=position.column-iterator.getCurrentTokenColumn()-2,value=token.value;;){for(;valueIndex>=0;){var chr=value.charAt(valueIndex);if(chr==openBracket){if(0==(depth-=1))return{row:iterator.getCurrentTokenRow(),column:valueIndex+iterator.getCurrentTokenColumn()}}else chr==bracket&&(depth+=1);valueIndex-=1}do{token=iterator.stepBackward()}while(token&&!typeRe.test(token.type));if(null==token)break;valueIndex=(value=token.value).length-1}return null}},this.$findClosingBracket=function(bracket,position,typeRe){var closingBracket=this.$brackets[bracket],depth=1,iterator=new TokenIterator(this,position.row,position.column),token=iterator.getCurrentToken();if(token||(token=iterator.stepForward()),token){typeRe||(typeRe=new RegExp("(\\.?"+token.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var valueIndex=position.column-iterator.getCurrentTokenColumn();;){for(var value=token.value,valueLength=value.length;valueIndex<valueLength;){var chr=value.charAt(valueIndex);if(chr==closingBracket){if(0==(depth-=1))return{row:iterator.getCurrentTokenRow(),column:valueIndex+iterator.getCurrentTokenColumn()}}else chr==bracket&&(depth+=1);valueIndex+=1}do{token=iterator.stepForward()}while(token&&!typeRe.test(token.type));if(null==token)break;valueIndex=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),lang=acequire("./lib/lang"),BidiHandler=acequire("./bidihandler").BidiHandler,config=acequire("./config"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Selection=acequire("./selection").Selection,TextMode=acequire("./mode/text").Mode,Range=acequire("./range").Range,Document=acequire("./document").Document,BackgroundTokenizer=acequire("./background_tokenizer").BackgroundTokenizer,SearchHighlight=acequire("./search_highlight").SearchHighlight,EditSession=function(text,mode){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++EditSession.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof text&&text.getLine||(text=new Document(text)),this.$bidiHandler=new BidiHandler(this),this.setDocument(text),this.selection=new Selection(this),config.resetOptions(this),this.setMode(mode),config._signal("session",this)};EditSession.$uid=0,function(){oop.implement(this,EventEmitter),this.setDocument=function(doc){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=doc,doc.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(docRow){if(!docRow)return this.$docRowCache=[],void(this.$screenRowCache=[]);var l=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,docRow)+1;l>i&&(this.$docRowCache.splice(i,l),this.$screenRowCache.splice(i,l))},this.$getRowCacheIndex=function(cacheArray,val){for(var low=0,hi=cacheArray.length-1;low<=hi;){var mid=low+hi>>1,c=cacheArray[mid];if(val>c)low=mid+1;else{if(!(val<c))return mid;hi=mid-1}}return low-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var fold=e.data;this.$resetRowCache(fold.start.row)},this.onChange=function(delta){this.$modified=!0,this.$bidiHandler.onChange(delta),this.$resetRowCache(delta.start.row);var removedFolds=this.$updateInternalDataOnChange(delta);this.$fromUndo||!this.$undoManager||delta.ignore||(this.$deltasDoc.push(delta),removedFolds&&0!=removedFolds.length&&this.$deltasFold.push({action:"removeFolds",folds:removedFolds}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(delta),this._signal("change",delta)},this.setValue=function(text){this.doc.setValue(text),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(row){return this.bgTokenizer.getState(row)},this.getTokens=function(row){return this.bgTokenizer.getTokens(row)},this.getTokenAt=function(row,column){var token,tokens=this.bgTokenizer.getTokens(row),c=0;if(null==column){var i=tokens.length-1;c=this.getLine(row).length}else for(i=0;i<tokens.length&&!((c+=tokens[i].value.length)>=column);i++);return(token=tokens[i])?(token.index=i,token.start=c-token.value.length,token):null},this.setUndoManager=function(undoManager){if(this.$undoManager=undoManager,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),undoManager){var self=this;this.$syncInformUndoManager=function(){self.$informUndoManager.cancel(),self.$deltasFold.length&&(self.$deltas.push({group:"fold",deltas:self.$deltasFold}),self.$deltasFold=[]),self.$deltasDoc.length&&(self.$deltas.push({group:"doc",deltas:self.$deltasDoc}),self.$deltasDoc=[]),self.$deltas.length>0&&undoManager.execute({action:"aceupdate",args:[self.$deltas,self],merge:self.mergeUndoDeltas}),self.mergeUndoDeltas=!1,self.$deltas=[]},this.$informUndoManager=lang.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?lang.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(val){this.setOption("useSoftTabs",val)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(tabSize){this.setOption("tabSize",tabSize)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(position){return this.$useSoftTabs&&position.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(navigateWithinSoftTabs){this.setOption("navigateWithinSoftTabs",navigateWithinSoftTabs)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(overwrite){this.setOption("overwrite",overwrite)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(row,className){this.$decorations[row]||(this.$decorations[row]=""),this.$decorations[row]+=" "+className,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(row,className){this.$decorations[row]=(this.$decorations[row]||"").replace(" "+className,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(rows){this.$breakpoints=[];for(var i=0;i<rows.length;i++)this.$breakpoints[rows[i]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(row,className){void 0===className&&(className="ace_breakpoint"),className?this.$breakpoints[row]=className:delete this.$breakpoints[row],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(row){delete this.$breakpoints[row],this._signal("changeBreakpoint",{})},this.addMarker=function(range,clazz,type,inFront){var id=this.$markerId++,marker={range:range,type:type||"line",renderer:"function"==typeof type?type:null,clazz:clazz,inFront:!!inFront,id:id};return inFront?(this.$frontMarkers[id]=marker,this._signal("changeFrontMarker")):(this.$backMarkers[id]=marker,this._signal("changeBackMarker")),id},this.addDynamicMarker=function(marker,inFront){if(marker.update){var id=this.$markerId++;return marker.id=id,marker.inFront=!!inFront,inFront?(this.$frontMarkers[id]=marker,this._signal("changeFrontMarker")):(this.$backMarkers[id]=marker,this._signal("changeBackMarker")),marker}},this.removeMarker=function(markerId){var marker=this.$frontMarkers[markerId]||this.$backMarkers[markerId];if(marker){var markers=marker.inFront?this.$frontMarkers:this.$backMarkers;marker&&(delete markers[markerId],this._signal(marker.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(inFront){return inFront?this.$frontMarkers:this.$backMarkers},this.highlight=function(re){if(!this.$searchHighlight){var highlight=new SearchHighlight(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(highlight)}this.$searchHighlight.setRegexp(re)},this.highlightLines=function(startRow,endRow,clazz,inFront){"number"!=typeof endRow&&(clazz=endRow,endRow=startRow),clazz||(clazz="ace_step");var range=new Range(startRow,0,endRow,1/0);return range.id=this.addMarker(range,clazz,"fullLine",inFront),range},this.setAnnotations=function(annotations){this.$annotations=annotations,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(text){var match=text.match(/^.*?(\r?\n)/m);this.$autoNewLine=match?match[1]:"\n"},this.getWordRange=function(row,column){var line=this.getLine(row),inToken=!1;if(column>0&&(inToken=!!line.charAt(column-1).match(this.tokenRe)),inToken||(inToken=!!line.charAt(column).match(this.tokenRe)),inToken)var re=this.tokenRe;else if(/^\s+$/.test(line.slice(column-1,column+1)))re=/\s/;else re=this.nonTokenRe;var start=column;if(start>0){do{start--}while(start>=0&&line.charAt(start).match(re));start++}for(var end=column;end<line.length&&line.charAt(end).match(re);)end++;return new Range(row,start,row,end)},this.getAWordRange=function(row,column){for(var wordRange=this.getWordRange(row,column),line=this.getLine(wordRange.end.row);line.charAt(wordRange.end.column).match(/[ \t]/);)wordRange.end.column+=1;return wordRange},this.setNewLineMode=function(newLineMode){this.doc.setNewLineMode(newLineMode)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(useWorker){this.setOption("useWorker",useWorker)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var rows=e.data;this.bgTokenizer.start(rows.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(mode,cb){if(mode&&"object"==typeof mode){if(mode.getTokenizer)return this.$onChangeMode(mode);var options=mode,path=options.path}else path=mode||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new TextMode),this.$modes[path]&&!options)return this.$onChangeMode(this.$modes[path]),void(cb&&cb());this.$modeId=path,config.loadModule(["mode",path],function(m){if(this.$modeId!==path)return cb&&cb();this.$modes[path]&&!options?this.$onChangeMode(this.$modes[path]):m&&m.Mode&&(m=new m.Mode(options),options||(this.$modes[path]=m,m.$id=path),this.$onChangeMode(m)),cb&&cb()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(mode,$isPlaceholder){if($isPlaceholder||(this.$modeId=mode.$id),this.$mode!==mode){this.$mode=mode,this.$stopWorker(),this.$useWorker&&this.$startWorker();var tokenizer=mode.getTokenizer();if(void 0!==tokenizer.addEventListener){var onReloadTokenizer=this.onReloadTokenizer.bind(this);tokenizer.addEventListener("update",onReloadTokenizer)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(tokenizer);else{this.bgTokenizer=new BackgroundTokenizer(tokenizer);var _self=this;this.bgTokenizer.addEventListener("update",(function(e){_self._signal("tokenizerUpdate",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=mode.tokenRe,this.nonTokenRe=mode.nonTokenRe,$isPlaceholder||(mode.attachToSession&&mode.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(mode.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){config.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(scrollTop){this.$scrollTop===scrollTop||isNaN(scrollTop)||(this.$scrollTop=scrollTop,this._signal("changeScrollTop",scrollTop))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(scrollLeft){this.$scrollLeft===scrollLeft||isNaN(scrollLeft)||(this.$scrollLeft=scrollLeft,this._signal("changeScrollLeft",scrollLeft))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var width=0;return this.lineWidgets.forEach((function(w){w&&w.screenWidth>width&&(width=w.screenWidth)})),this.lineWidgetWidth=width},this.$computeWidth=function(force){if(this.$modified||force){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var lines=this.doc.getAllLines(),cache=this.$rowLengthCache,longestScreenLine=0,foldIndex=0,foldLine=this.$foldData[foldIndex],foldStart=foldLine?foldLine.start.row:1/0,len=lines.length,i=0;i<len;i++){if(i>foldStart){if((i=foldLine.end.row+1)>=len)break;foldStart=(foldLine=this.$foldData[foldIndex++])?foldLine.start.row:1/0}null==cache[i]&&(cache[i]=this.$getStringScreenWidth(lines[i])[0]),cache[i]>longestScreenLine&&(longestScreenLine=cache[i])}this.screenWidth=longestScreenLine}},this.getLine=function(row){return this.doc.getLine(row)},this.getLines=function(firstRow,lastRow){return this.doc.getLines(firstRow,lastRow)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(range){return this.doc.getTextRange(range||this.selection.getRange())},this.insert=function(position,text){return this.doc.insert(position,text)},this.remove=function(range){return this.doc.remove(range)},this.removeFullLines=function(firstRow,lastRow){return this.doc.removeFullLines(firstRow,lastRow)},this.undoChanges=function(deltas,dontSelect){if(deltas.length){this.$fromUndo=!0;for(var lastUndoRange=null,i=deltas.length-1;-1!=i;i--){var delta=deltas[i];"doc"==delta.group?(this.doc.revertDeltas(delta.deltas),lastUndoRange=this.$getUndoSelection(delta.deltas,!0,lastUndoRange)):delta.deltas.forEach((function(foldDelta){this.addFolds(foldDelta.folds)}),this)}return this.$fromUndo=!1,lastUndoRange&&this.$undoSelect&&!dontSelect&&this.selection.setSelectionRange(lastUndoRange),lastUndoRange}},this.redoChanges=function(deltas,dontSelect){if(deltas.length){this.$fromUndo=!0;for(var lastUndoRange=null,i=0;i<deltas.length;i++){var delta=deltas[i];"doc"==delta.group&&(this.doc.applyDeltas(delta.deltas),lastUndoRange=this.$getUndoSelection(delta.deltas,!1,lastUndoRange))}return this.$fromUndo=!1,lastUndoRange&&this.$undoSelect&&!dontSelect&&this.selection.setSelectionRange(lastUndoRange),lastUndoRange}},this.setUndoSelect=function(enable){this.$undoSelect=enable},this.$getUndoSelection=function(deltas,isUndo,lastUndoRange){function isInsert(delta){return isUndo?"insert"!==delta.action:"insert"===delta.action}var range,point,delta=deltas[0];isInsert(delta)?range=Range.fromPoints(delta.start,delta.end):range=Range.fromPoints(delta.start,delta.start);for(var i=1;i<deltas.length;i++)isInsert(delta=deltas[i])?(point=delta.start,-1==range.compare(point.row,point.column)&&range.setStart(point),point=delta.end,1==range.compare(point.row,point.column)&&range.setEnd(point),!0):(point=delta.start,-1==range.compare(point.row,point.column)&&(range=Range.fromPoints(delta.start,delta.start)),!1);if(null!=lastUndoRange){0===Range.comparePoints(lastUndoRange.start,range.start)&&(lastUndoRange.start.column+=range.end.column-range.start.column,lastUndoRange.end.column+=range.end.column-range.start.column);var cmp=lastUndoRange.compareRange(range);1==cmp?range.setStart(lastUndoRange.start):-1==cmp&&range.setEnd(lastUndoRange.end)}return range},this.replace=function(range,text){return this.doc.replace(range,text)},this.moveText=function(fromRange,toPosition,copy){var text=this.getTextRange(fromRange),folds=this.getFoldsInRange(fromRange),toRange=Range.fromPoints(toPosition,toPosition);if(!copy){this.remove(fromRange);var rowDiff=fromRange.start.row-fromRange.end.row;(collDiff=rowDiff?-fromRange.end.column:fromRange.start.column-fromRange.end.column)&&(toRange.start.row==fromRange.end.row&&toRange.start.column>fromRange.end.column&&(toRange.start.column+=collDiff),toRange.end.row==fromRange.end.row&&toRange.end.column>fromRange.end.column&&(toRange.end.column+=collDiff)),rowDiff&&toRange.start.row>=fromRange.end.row&&(toRange.start.row+=rowDiff,toRange.end.row+=rowDiff)}if(toRange.end=this.insert(toRange.start,text),folds.length){var oldStart=fromRange.start,newStart=toRange.start,collDiff=(rowDiff=newStart.row-oldStart.row,newStart.column-oldStart.column);this.addFolds(folds.map((function(x){return(x=x.clone()).start.row==oldStart.row&&(x.start.column+=collDiff),x.end.row==oldStart.row&&(x.end.column+=collDiff),x.start.row+=rowDiff,x.end.row+=rowDiff,x})))}return toRange},this.indentRows=function(startRow,endRow,indentString){indentString=indentString.replace(/\t/g,this.getTabString());for(var row=startRow;row<=endRow;row++)this.doc.insertInLine({row:row,column:0},indentString)},this.outdentRows=function(range){for(var rowRange=range.collapseRows(),deleteRange=new Range(0,0,0,0),size=this.getTabSize(),i=rowRange.start.row;i<=rowRange.end.row;++i){var line=this.getLine(i);deleteRange.start.row=i,deleteRange.end.row=i;for(var j=0;j<size&&" "==line.charAt(j);++j);j<size&&"\t"==line.charAt(j)?(deleteRange.start.column=j,deleteRange.end.column=j+1):(deleteRange.start.column=0,deleteRange.end.column=j),this.remove(deleteRange)}},this.$moveLines=function(firstRow,lastRow,dir){if(firstRow=this.getRowFoldStart(firstRow),lastRow=this.getRowFoldEnd(lastRow),dir<0){if((row=this.getRowFoldStart(firstRow+dir))<0)return 0;var diff=row-firstRow}else if(dir>0){var row;if((row=this.getRowFoldEnd(lastRow+dir))>this.doc.getLength()-1)return 0;diff=row-lastRow}else{firstRow=this.$clipRowToDocument(firstRow);diff=(lastRow=this.$clipRowToDocument(lastRow))-firstRow+1}var range=new Range(firstRow,0,lastRow,Number.MAX_VALUE),folds=this.getFoldsInRange(range).map((function(x){return(x=x.clone()).start.row+=diff,x.end.row+=diff,x})),lines=0==dir?this.doc.getLines(firstRow,lastRow):this.doc.removeFullLines(firstRow,lastRow);return this.doc.insertFullLines(firstRow+diff,lines),folds.length&&this.addFolds(folds),diff},this.moveLinesUp=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,-1)},this.moveLinesDown=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,1)},this.duplicateLines=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,0)},this.$clipRowToDocument=function(row){return Math.max(0,Math.min(row,this.doc.getLength()-1))},this.$clipColumnToRow=function(row,column){return column<0?0:Math.min(this.doc.getLine(row).length,column)},this.$clipPositionToDocument=function(row,column){if(column=Math.max(0,column),row<0)row=0,column=0;else{var len=this.doc.getLength();row>=len?(row=len-1,column=this.doc.getLine(len-1).length):column=Math.min(this.doc.getLine(row).length,column)}return{row:row,column:column}},this.$clipRangeToDocument=function(range){range.start.row<0?(range.start.row=0,range.start.column=0):range.start.column=this.$clipColumnToRow(range.start.row,range.start.column);var len=this.doc.getLength()-1;return range.end.row>len?(range.end.row=len,range.end.column=this.doc.getLine(len).length):range.end.column=this.$clipColumnToRow(range.end.row,range.end.column),range},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(useWrapMode){if(useWrapMode!=this.$useWrapMode){if(this.$useWrapMode=useWrapMode,this.$modified=!0,this.$resetRowCache(0),useWrapMode){var len=this.getLength();this.$wrapData=Array(len),this.$updateWrapData(0,len-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(min,max){this.$wrapLimitRange.min===min&&this.$wrapLimitRange.max===max||(this.$wrapLimitRange={min:min,max:max},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(desiredLimit,$printMargin){var limits=this.$wrapLimitRange;limits.max<0&&(limits={min:$printMargin,max:$printMargin});var wrapLimit=this.$constrainWrapLimit(desiredLimit,limits.min,limits.max);return wrapLimit!=this.$wrapLimit&&wrapLimit>1&&(this.$wrapLimit=wrapLimit,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(wrapLimit,min,max){return min&&(wrapLimit=Math.max(min,wrapLimit)),max&&(wrapLimit=Math.min(max,wrapLimit)),wrapLimit},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(limit){this.setWrapLimitRange(limit,limit)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(delta){var useWrapMode=this.$useWrapMode,action=delta.action,start=delta.start,end=delta.end,firstRow=start.row,lastRow=end.row,len=lastRow-firstRow,removedFolds=null;if(this.$updating=!0,0!=len)if("remove"===action){this[useWrapMode?"$wrapData":"$rowLengthCache"].splice(firstRow,len);var foldLines=this.$foldData;removedFolds=this.getFoldsInRange(delta),this.removeFolds(removedFolds);var idx=0;if(foldLine=this.getFoldLine(end.row)){foldLine.addRemoveChars(end.row,end.column,start.column-end.column),foldLine.shiftRow(-len);var foldLineBefore=this.getFoldLine(firstRow);foldLineBefore&&foldLineBefore!==foldLine&&(foldLineBefore.merge(foldLine),foldLine=foldLineBefore),idx=foldLines.indexOf(foldLine)+1}for(;idx<foldLines.length;idx++){(foldLine=foldLines[idx]).start.row>=end.row&&foldLine.shiftRow(-len)}lastRow=firstRow}else{var args=Array(len);args.unshift(firstRow,0);var arr=useWrapMode?this.$wrapData:this.$rowLengthCache;arr.splice.apply(arr,args);foldLines=this.$foldData,idx=0;if(foldLine=this.getFoldLine(firstRow)){var cmp=foldLine.range.compareInside(start.row,start.column);0==cmp?(foldLine=foldLine.split(start.row,start.column))&&(foldLine.shiftRow(len),foldLine.addRemoveChars(lastRow,0,end.column-start.column)):-1==cmp&&(foldLine.addRemoveChars(firstRow,0,end.column-start.column),foldLine.shiftRow(len)),idx=foldLines.indexOf(foldLine)+1}for(;idx<foldLines.length;idx++){var foldLine;(foldLine=foldLines[idx]).start.row>=firstRow&&foldLine.shiftRow(len)}}else len=Math.abs(delta.start.column-delta.end.column),"remove"===action&&(removedFolds=this.getFoldsInRange(delta),this.removeFolds(removedFolds),len=-len),(foldLine=this.getFoldLine(firstRow))&&foldLine.addRemoveChars(firstRow,start.column,len);return useWrapMode&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,useWrapMode?this.$updateWrapData(firstRow,lastRow):this.$updateRowLengthCache(firstRow,lastRow),removedFolds},this.$updateRowLengthCache=function(firstRow,lastRow,b){this.$rowLengthCache[firstRow]=null,this.$rowLengthCache[lastRow]=null},this.$updateWrapData=function(firstRow,lastRow){var tokens,foldLine,lines=this.doc.getAllLines(),tabSize=this.getTabSize(),wrapData=this.$wrapData,wrapLimit=this.$wrapLimit,row=firstRow;for(lastRow=Math.min(lastRow,lines.length-1);row<=lastRow;)(foldLine=this.getFoldLine(row,foldLine))?(tokens=[],foldLine.walk(function(placeholder,row,column,lastColumn){var walkTokens;if(null!=placeholder){(walkTokens=this.$getDisplayTokens(placeholder,tokens.length))[0]=PLACEHOLDER_START;for(var i=1;i<walkTokens.length;i++)walkTokens[i]=PLACEHOLDER_BODY}else walkTokens=this.$getDisplayTokens(lines[row].substring(lastColumn,column),tokens.length);tokens=tokens.concat(walkTokens)}.bind(this),foldLine.end.row,lines[foldLine.end.row].length+1),wrapData[foldLine.start.row]=this.$computeWrapSplits(tokens,wrapLimit,tabSize),row=foldLine.end.row+1):(tokens=this.$getDisplayTokens(lines[row]),wrapData[row]=this.$computeWrapSplits(tokens,wrapLimit,tabSize),row++)};var PLACEHOLDER_START=3,PLACEHOLDER_BODY=4;function isFullWidth(c){return!(c<4352)&&(c>=4352&&c<=4447||c>=4515&&c<=4519||c>=4602&&c<=4607||c>=9001&&c<=9002||c>=11904&&c<=11929||c>=11931&&c<=12019||c>=12032&&c<=12245||c>=12272&&c<=12283||c>=12288&&c<=12350||c>=12353&&c<=12438||c>=12441&&c<=12543||c>=12549&&c<=12589||c>=12593&&c<=12686||c>=12688&&c<=12730||c>=12736&&c<=12771||c>=12784&&c<=12830||c>=12832&&c<=12871||c>=12880&&c<=13054||c>=13056&&c<=19903||c>=19968&&c<=42124||c>=42128&&c<=42182||c>=43360&&c<=43388||c>=44032&&c<=55203||c>=55216&&c<=55238||c>=55243&&c<=55291||c>=63744&&c<=64255||c>=65040&&c<=65049||c>=65072&&c<=65106||c>=65108&&c<=65126||c>=65128&&c<=65131||c>=65281&&c<=65376||c>=65504&&c<=65510)}this.$computeWrapSplits=function(tokens,wrapLimit,tabSize){if(0==tokens.length)return[];var splits=[],displayLength=tokens.length,lastSplit=0,lastDocSplit=0,isCode=this.$wrapAsCode,indentedSoftWrap=this.$indentedSoftWrap,maxIndent=wrapLimit<=Math.max(2*tabSize,8)||!1===indentedSoftWrap?0:Math.floor(wrapLimit/2);function addSplit(screenPos){var displayed=tokens.slice(lastSplit,screenPos),len=displayed.length;displayed.join("").replace(/12/g,(function(){len-=1})).replace(/2/g,(function(){len-=1})),splits.length||(indent=function(){var indentation=0;if(0===maxIndent)return indentation;if(indentedSoftWrap)for(var i=0;i<tokens.length;i++){var token=tokens[i];if(10==token)indentation+=1;else{if(11!=token){if(12==token)continue;break}indentation+=tabSize}}return isCode&&!1!==indentedSoftWrap&&(indentation+=tabSize),Math.min(indentation,maxIndent)}(),splits.indent=indent),lastDocSplit+=len,splits.push(lastDocSplit),lastSplit=screenPos}for(var indent=0;displayLength-lastSplit>wrapLimit-indent;){var split=lastSplit+wrapLimit-indent;if(tokens[split-1]>=10&&tokens[split]>=10)addSplit(split);else if(tokens[split]!=PLACEHOLDER_START&&tokens[split]!=PLACEHOLDER_BODY){for(var minSplit=Math.max(split-(wrapLimit-(wrapLimit>>2)),lastSplit-1);split>minSplit&&tokens[split]<PLACEHOLDER_START;)split--;if(isCode){for(;split>minSplit&&tokens[split]<PLACEHOLDER_START;)split--;for(;split>minSplit&&9==tokens[split];)split--}else for(;split>minSplit&&tokens[split]<10;)split--;split>minSplit?addSplit(++split):(2==tokens[split=lastSplit+wrapLimit]&&split--,addSplit(split-indent))}else{for(;split!=lastSplit-1&&tokens[split]!=PLACEHOLDER_START;split--);if(split>lastSplit){addSplit(split);continue}for(split=lastSplit+wrapLimit;split<tokens.length&&tokens[split]==PLACEHOLDER_BODY;split++);if(split==tokens.length)break;addSplit(split)}}return splits},this.$getDisplayTokens=function(str,offset){var tabSize,arr=[];offset=offset||0;for(var i=0;i<str.length;i++){var c=str.charCodeAt(i);if(9==c){tabSize=this.getScreenTabSize(arr.length+offset),arr.push(11);for(var n=1;n<tabSize;n++)arr.push(12)}else 32==c?arr.push(10):c>39&&c<48||c>57&&c<64?arr.push(9):c>=4352&&isFullWidth(c)?arr.push(1,2):arr.push(1)}return arr},this.$getStringScreenWidth=function(str,maxScreenColumn,screenColumn){if(0==maxScreenColumn)return[0,0];var c,column;for(null==maxScreenColumn&&(maxScreenColumn=1/0),screenColumn=screenColumn||0,column=0;column<str.length&&(9==(c=str.charCodeAt(column))?screenColumn+=this.getScreenTabSize(screenColumn):c>=4352&&isFullWidth(c)?screenColumn+=2:screenColumn+=1,!(screenColumn>maxScreenColumn));column++);return[screenColumn,column]},this.lineWidgets=null,this.getRowLength=function(row){if(this.lineWidgets)var h=this.lineWidgets[row]&&this.lineWidgets[row].rowCount||0;else h=0;return this.$useWrapMode&&this.$wrapData[row]?this.$wrapData[row].length+1+h:1+h},this.getRowLineCount=function(row){return this.$useWrapMode&&this.$wrapData[row]?this.$wrapData[row].length+1:1},this.getRowWrapIndent=function(screenRow){if(this.$useWrapMode){var pos=this.screenToDocumentPosition(screenRow,Number.MAX_VALUE),splits=this.$wrapData[pos.row];return splits.length&&splits[0]<pos.column?splits.indent:0}return 0},this.getScreenLastRowColumn=function(screenRow){var pos=this.screenToDocumentPosition(screenRow,Number.MAX_VALUE);return this.documentToScreenColumn(pos.row,pos.column)},this.getDocumentLastRowColumn=function(docRow,docColumn){var screenRow=this.documentToScreenRow(docRow,docColumn);return this.getScreenLastRowColumn(screenRow)},this.getDocumentLastRowColumnPosition=function(docRow,docColumn){var screenRow=this.documentToScreenRow(docRow,docColumn);return this.screenToDocumentPosition(screenRow,Number.MAX_VALUE/10)},this.getRowSplitData=function(row){return this.$useWrapMode?this.$wrapData[row]:void 0},this.getScreenTabSize=function(screenColumn){return this.$tabSize-screenColumn%this.$tabSize},this.screenToDocumentRow=function(screenRow,screenColumn){return this.screenToDocumentPosition(screenRow,screenColumn).row},this.screenToDocumentColumn=function(screenRow,screenColumn){return this.screenToDocumentPosition(screenRow,screenColumn).column},this.screenToDocumentPosition=function(screenRow,screenColumn,offsetX){if(screenRow<0)return{row:0,column:0};var line,column,docRow=0,docColumn=0,row=0,rowLength=0,rowCache=this.$screenRowCache,i=this.$getRowCacheIndex(rowCache,screenRow),l=rowCache.length;if(l&&i>=0){row=rowCache[i],docRow=this.$docRowCache[i];var doCache=screenRow>rowCache[l-1]}else doCache=!l;for(var maxRow=this.getLength()-1,foldLine=this.getNextFoldLine(docRow),foldStart=foldLine?foldLine.start.row:1/0;row<=screenRow&&!(row+(rowLength=this.getRowLength(docRow))>screenRow||docRow>=maxRow);)row+=rowLength,++docRow>foldStart&&(docRow=foldLine.end.row+1,foldStart=(foldLine=this.getNextFoldLine(docRow,foldLine))?foldLine.start.row:1/0),doCache&&(this.$docRowCache.push(docRow),this.$screenRowCache.push(row));if(foldLine&&foldLine.start.row<=docRow)line=this.getFoldDisplayLine(foldLine),docRow=foldLine.start.row;else{if(row+rowLength<=screenRow||docRow>maxRow)return{row:maxRow,column:this.getLine(maxRow).length};line=this.getLine(docRow),foldLine=null}var wrapIndent=0,splitIndex=Math.floor(screenRow-row);if(this.$useWrapMode){var splits=this.$wrapData[docRow];splits&&(column=splits[splitIndex],splitIndex>0&&splits.length&&(wrapIndent=splits.indent,docColumn=splits[splitIndex-1]||splits[splits.length-1],line=line.substring(docColumn)))}return void 0!==offsetX&&this.$bidiHandler.isBidiRow(row+splitIndex,docRow,splitIndex)&&(screenColumn=this.$bidiHandler.offsetToCol(offsetX)),docColumn+=this.$getStringScreenWidth(line,screenColumn-wrapIndent)[1],this.$useWrapMode&&docColumn>=column&&(docColumn=column-1),foldLine?foldLine.idxToPosition(docColumn):{row:docRow,column:docColumn}},this.documentToScreenPosition=function(docRow,docColumn){if(void 0===docColumn)var pos=this.$clipPositionToDocument(docRow.row,docRow.column);else pos=this.$clipPositionToDocument(docRow,docColumn);docRow=pos.row,docColumn=pos.column;var fold,screenRow=0,foldStartRow=null;(fold=this.getFoldAt(docRow,docColumn,1))&&(docRow=fold.start.row,docColumn=fold.start.column);var rowEnd,row=0,rowCache=this.$docRowCache,i=this.$getRowCacheIndex(rowCache,docRow),l=rowCache.length;if(l&&i>=0){row=rowCache[i],screenRow=this.$screenRowCache[i];var doCache=docRow>rowCache[l-1]}else doCache=!l;for(var foldLine=this.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;row<docRow;){if(row>=foldStart){if((rowEnd=foldLine.end.row+1)>docRow)break;foldStart=(foldLine=this.getNextFoldLine(rowEnd,foldLine))?foldLine.start.row:1/0}else rowEnd=row+1;screenRow+=this.getRowLength(row),row=rowEnd,doCache&&(this.$docRowCache.push(row),this.$screenRowCache.push(screenRow))}var textLine="";foldLine&&row>=foldStart?(textLine=this.getFoldDisplayLine(foldLine,docRow,docColumn),foldStartRow=foldLine.start.row):(textLine=this.getLine(docRow).substring(0,docColumn),foldStartRow=docRow);var wrapIndent=0;if(this.$useWrapMode){var wrapRow=this.$wrapData[foldStartRow];if(wrapRow){for(var screenRowOffset=0;textLine.length>=wrapRow[screenRowOffset];)screenRow++,screenRowOffset++;textLine=textLine.substring(wrapRow[screenRowOffset-1]||0,textLine.length),wrapIndent=screenRowOffset>0?wrapRow.indent:0}}return{row:screenRow,column:wrapIndent+this.$getStringScreenWidth(textLine)[0]}},this.documentToScreenColumn=function(row,docColumn){return this.documentToScreenPosition(row,docColumn).column},this.documentToScreenRow=function(docRow,docColumn){return this.documentToScreenPosition(docRow,docColumn).row},this.getScreenLength=function(){var screenRows=0,fold=null;if(this.$useWrapMode)for(var lastRow=this.$wrapData.length,row=0,foldStart=(i=0,(fold=this.$foldData[i++])?fold.start.row:1/0);row<lastRow;){var splits=this.$wrapData[row];screenRows+=splits?splits.length+1:1,++row>foldStart&&(row=fold.end.row+1,foldStart=(fold=this.$foldData[i++])?fold.start.row:1/0)}else{screenRows=this.getLength();for(var foldData=this.$foldData,i=0;i<foldData.length;i++)screenRows-=(fold=foldData[i]).end.row-fold.start.row}return this.lineWidgets&&(screenRows+=this.$getWidgetScreenLength()),screenRows},this.$setFontMetrics=function(fm){this.$enableVarChar&&(this.$getStringScreenWidth=function(str,maxScreenColumn,screenColumn){if(0===maxScreenColumn)return[0,0];var c,column;for(maxScreenColumn||(maxScreenColumn=1/0),screenColumn=screenColumn||0,column=0;column<str.length&&!((screenColumn+="\t"===(c=str.charAt(column))?this.getScreenTabSize(screenColumn):fm.getCharacterWidth(c))>maxScreenColumn);column++);return[screenColumn,column]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=isFullWidth}.call(EditSession.prototype),acequire("./edit_session/folding").Folding.call(EditSession.prototype),acequire("./edit_session/bracket_match").BracketMatch.call(EditSession.prototype),config.defineOptions(EditSession.prototype,"session",{wrap:{set:function(value){if(value&&"off"!=value?"free"==value?value=!0:"printMargin"==value?value=-1:"string"==typeof value&&(value=parseInt(value,10)||!1):value=!1,this.$wrap!=value)if(this.$wrap=value,value){var col="number"==typeof value?value:null;this.setWrapLimitRange(col,col),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(val){(val="auto"==val?"text"!=this.$mode.type:"text"!=val)!=this.$wrapAsCode&&(this.$wrapAsCode=val,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(useWorker){this.$useWorker=useWorker,this.$stopWorker(),useWorker&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(tabSize){isNaN(tabSize)||this.$tabSize===tabSize||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=tabSize,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(val){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(val){this.doc.setNewLineMode(val)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(val){this.setMode(val)},get:function(){return this.$modeId}}}),exports.EditSession=EditSession})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(acequire,exports,module){"use strict";var lang=acequire("./lib/lang"),oop=acequire("./lib/oop"),Range=acequire("./range").Range,Search=function(){this.$options={}};(function(){this.set=function(options){return oop.mixin(this.$options,options),this},this.getOptions=function(){return lang.copyObject(this.$options)},this.setOptions=function(options){this.$options=options},this.find=function(session){var options=this.$options,iterator=this.$matchIterator(session,options);if(!iterator)return!1;var firstRange=null;return iterator.forEach((function(sr,sc,er,ec){return firstRange=new Range(sr,sc,er,ec),!(sc==ec&&options.start&&options.start.start&&0!=options.skipCurrent&&firstRange.isEqual(options.start))||(firstRange=null,!1)})),firstRange},this.findAll=function(session){var options=this.$options;if(!options.needle)return[];this.$assembleRegExp(options);var range=options.range,lines=range?session.getLines(range.start.row,range.end.row):session.doc.getAllLines(),ranges=[],re=options.re;if(options.$isMultiLine){var prevRange,len=re.length,maxRow=lines.length-len;outer:for(var row=re.offset||0;row<=maxRow;row++){for(var j=0;j<len;j++)if(-1==lines[row+j].search(re[j]))continue outer;var startLine=lines[row],line=lines[row+len-1],startIndex=startLine.length-startLine.match(re[0])[0].length,endIndex=line.match(re[len-1])[0].length;prevRange&&prevRange.end.row===row&&prevRange.end.column>startIndex||(ranges.push(prevRange=new Range(row,startIndex,row+len-1,endIndex)),len>2&&(row=row+len-2))}}else for(var i=0;i<lines.length;i++){var matches=lang.getMatchOffsets(lines[i],re);for(j=0;j<matches.length;j++){var match=matches[j];ranges.push(new Range(i,match.offset,i,match.offset+match.length))}}if(range){var startColumn=range.start.column,endColumn=range.start.column;for(i=0,j=ranges.length-1;i<j&&ranges[i].start.column<startColumn&&ranges[i].start.row==range.start.row;)i++;for(;i<j&&ranges[j].end.column>endColumn&&ranges[j].end.row==range.end.row;)j--;for(ranges=ranges.slice(i,j+1),i=0,j=ranges.length;i<j;i++)ranges[i].start.row+=range.start.row,ranges[i].end.row+=range.start.row}return ranges},this.replace=function(input,replacement){var options=this.$options,re=this.$assembleRegExp(options);if(options.$isMultiLine)return replacement;if(re){var match=re.exec(input);if(!match||match[0].length!=input.length)return null;if(replacement=input.replace(re,replacement),options.preserveCase){replacement=replacement.split("");for(var i=Math.min(input.length,input.length);i--;){var ch=input[i];ch&&ch.toLowerCase()!=ch?replacement[i]=replacement[i].toUpperCase():replacement[i]=replacement[i].toLowerCase()}replacement=replacement.join("")}return replacement}},this.$assembleRegExp=function(options,$disableFakeMultiline){if(options.needle instanceof RegExp)return options.re=options.needle;var needle=options.needle;if(!options.needle)return options.re=!1;options.regExp||(needle=lang.escapeRegExp(needle)),options.wholeWord&&(needle=function(needle,options){function wordBoundary(c){return/\w/.test(c)||options.regExp?"\\b":""}return wordBoundary(needle[0])+needle+wordBoundary(needle[needle.length-1])}(needle,options));var modifier=options.caseSensitive?"gm":"gmi";if(options.$isMultiLine=!$disableFakeMultiline&&/[\n\r]/.test(needle),options.$isMultiLine)return options.re=this.$assembleMultilineRegExp(needle,modifier);try{var re=new RegExp(needle,modifier)}catch(e){re=!1}return options.re=re},this.$assembleMultilineRegExp=function(needle,modifier){for(var parts=needle.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),re=[],i=0;i<parts.length;i++)try{re.push(new RegExp(parts[i],modifier))}catch(e){return!1}return re},this.$matchIterator=function(session,options){var re=this.$assembleRegExp(options);if(!re)return!1;var backwards=1==options.backwards,skipCurrent=0!=options.skipCurrent,range=options.range,start=options.start;start||(start=range?range[backwards?"end":"start"]:session.selection.getRange()),start.start&&(start=start[skipCurrent!=backwards?"end":"start"]);var firstRow=range?range.start.row:0,lastRow=range?range.end.row:session.getLength()-1;if(backwards)var forEach=function(callback){var row=start.row;if(!forEachInLine(row,start.column,callback)){for(row--;row>=firstRow;row--)if(forEachInLine(row,Number.MAX_VALUE,callback))return;if(0!=options.wrap)for(row=lastRow,firstRow=start.row;row>=firstRow;row--)if(forEachInLine(row,Number.MAX_VALUE,callback))return}};else forEach=function(callback){var row=start.row;if(!forEachInLine(row,start.column,callback)){for(row+=1;row<=lastRow;row++)if(forEachInLine(row,0,callback))return;if(0!=options.wrap)for(row=firstRow,lastRow=start.row;row<=lastRow;row++)if(forEachInLine(row,0,callback))return}};if(options.$isMultiLine)var len=re.length,forEachInLine=function(row,offset,callback){var startRow=backwards?row-len+1:row;if(!(startRow<0)){var line=session.getLine(startRow),startIndex=line.search(re[0]);if(!(!backwards&&startIndex<offset||-1===startIndex)){for(var i=1;i<len;i++)if(-1==(line=session.getLine(startRow+i)).search(re[i]))return;var endIndex=line.match(re[len-1])[0].length;if(!(backwards&&endIndex>offset))return!!callback(startRow,startIndex,startRow+len-1,endIndex)||void 0}}};else if(backwards)forEachInLine=function(row,endIndex,callback){var m,line=session.getLine(row),matches=[],last=0;for(re.lastIndex=0;m=re.exec(line);){var length=m[0].length;if(last=m.index,!length){if(last>=line.length)break;re.lastIndex=last+=1}if(m.index+length>endIndex)break;matches.push(m.index,length)}for(var i=matches.length-1;i>=0;i-=2){var column=matches[i-1];if(callback(row,column,row,column+(length=matches[i])))return!0}};else forEachInLine=function(row,startIndex,callback){var m,line=session.getLine(row),last=startIndex;for(re.lastIndex=startIndex;m=re.exec(line);){var length=m[0].length;if(callback(row,last=m.index,row,last+length))return!0;if(!length&&(re.lastIndex=last+=1,last>=line.length))return!1}};return{forEach:forEach}}}).call(Search.prototype),exports.Search=Search})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(acequire,exports,module){"use strict";var keyUtil=acequire("../lib/keys"),useragent=acequire("../lib/useragent"),KEY_MODS=keyUtil.KEY_MODS;function HashHandler(config,platform){this.platform=platform||(useragent.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(config),this.$singleCommand=!0}function MultiHashHandler(config,platform){HashHandler.call(this,config,platform),this.$singleCommand=!1}MultiHashHandler.prototype=HashHandler.prototype,function(){function getPosition(command){return"object"==typeof command&&command.bindKey&&command.bindKey.position||(command.isDefault?-100:0)}this.addCommand=function(command){this.commands[command.name]&&this.removeCommand(command),this.commands[command.name]=command,command.bindKey&&this._buildKeyHash(command)},this.removeCommand=function(command,keepCommand){var name=command&&("string"==typeof command?command:command.name);command=this.commands[name],keepCommand||delete this.commands[name];var ckb=this.commandKeyBinding;for(var keyId in ckb){var cmdGroup=ckb[keyId];if(cmdGroup==command)delete ckb[keyId];else if(Array.isArray(cmdGroup)){var i=cmdGroup.indexOf(command);-1!=i&&(cmdGroup.splice(i,1),1==cmdGroup.length&&(ckb[keyId]=cmdGroup[0]))}}},this.bindKey=function(key,command,position){if("object"==typeof key&&key&&(null==position&&(position=key.position),key=key[this.platform]),key)return"function"==typeof command?this.addCommand({exec:command,bindKey:key,name:command.name||key}):void key.split("|").forEach((function(keyPart){var chain="";if(-1!=keyPart.indexOf(" ")){var parts=keyPart.split(/\s+/);keyPart=parts.pop(),parts.forEach((function(keyPart){var binding=this.parseKeys(keyPart),id=KEY_MODS[binding.hashId]+binding.key;chain+=(chain?" ":"")+id,this._addCommandToBinding(chain,"chainKeys")}),this),chain+=" "}var binding=this.parseKeys(keyPart),id=KEY_MODS[binding.hashId]+binding.key;this._addCommandToBinding(chain+id,command,position)}),this)},this._addCommandToBinding=function(keyId,command,position){var i,ckb=this.commandKeyBinding;if(command)if(!ckb[keyId]||this.$singleCommand)ckb[keyId]=command;else{Array.isArray(ckb[keyId])?-1!=(i=ckb[keyId].indexOf(command))&&ckb[keyId].splice(i,1):ckb[keyId]=[ckb[keyId]],"number"!=typeof position&&(position=getPosition(command));var commands=ckb[keyId];for(i=0;i<commands.length;i++){if(getPosition(commands[i])>position)break}commands.splice(i,0,command)}else delete ckb[keyId]},this.addCommands=function(commands){commands&&Object.keys(commands).forEach((function(name){var command=commands[name];if(command){if("string"==typeof command)return this.bindKey(command,name);"function"==typeof command&&(command={exec:command}),"object"==typeof command&&(command.name||(command.name=name),this.addCommand(command))}}),this)},this.removeCommands=function(commands){Object.keys(commands).forEach((function(name){this.removeCommand(commands[name])}),this)},this.bindKeys=function(keyList){Object.keys(keyList).forEach((function(key){this.bindKey(key,keyList[key])}),this)},this._buildKeyHash=function(command){this.bindKey(command.bindKey,command)},this.parseKeys=function(keys){var parts=keys.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(x){return x})),key=parts.pop(),keyCode=keyUtil[key];if(keyUtil.FUNCTION_KEYS[keyCode])key=keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();else{if(!parts.length)return{key:key,hashId:-1};if(1==parts.length&&"shift"==parts[0])return{key:key.toUpperCase(),hashId:-1}}for(var hashId=0,i=parts.length;i--;){var modifier=keyUtil.KEY_MODS[parts[i]];if(null==modifier)return"undefined"!=typeof console&&console.error("invalid modifier "+parts[i]+" in "+keys),!1;hashId|=modifier}return{key:key,hashId:hashId}},this.findKeyCommand=function(hashId,keyString){var key=KEY_MODS[hashId]+keyString;return this.commandKeyBinding[key]},this.handleKeyboard=function(data,hashId,keyString,keyCode){if(!(keyCode<0)){var key=KEY_MODS[hashId]+keyString,command=this.commandKeyBinding[key];return data.$keyChain&&(data.$keyChain+=" "+key,command=this.commandKeyBinding[data.$keyChain]||command),!command||"chainKeys"!=command&&"chainKeys"!=command[command.length-1]?(data.$keyChain&&(hashId&&4!=hashId||1!=keyString.length?(-1==hashId||keyCode>0)&&(data.$keyChain=""):data.$keyChain=data.$keyChain.slice(0,-key.length-1)),{command:command}):(data.$keyChain=data.$keyChain||key,{command:"null"})}},this.getStatusText=function(editor,data){return data.$keyChain||""}}.call(HashHandler.prototype),exports.HashHandler=HashHandler,exports.MultiHashHandler=MultiHashHandler})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop"),MultiHashHandler=acequire("../keyboard/hash_handler").MultiHashHandler,EventEmitter=acequire("../lib/event_emitter").EventEmitter,CommandManager=function(platform,commands){MultiHashHandler.call(this,commands,platform),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))};oop.inherits(CommandManager,MultiHashHandler),function(){oop.implement(this,EventEmitter),this.exec=function(command,editor,args){if(Array.isArray(command)){for(var i=command.length;i--;)if(this.exec(command[i],editor,args))return!0;return!1}if("string"==typeof command&&(command=this.commands[command]),!command)return!1;if(editor&&editor.$readOnly&&!command.readOnly)return!1;if(command.isAvailable&&!command.isAvailable(editor))return!1;var e={editor:editor,command:command,args:args};return e.returnValue=this._emit("exec",e),this._signal("afterExec",e),!1!==e.returnValue},this.toggleRecording=function(editor){if(!this.$inReplay)return editor&&editor._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(editor){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(editor);try{this.$inReplay=!0,this.macro.forEach((function(x){"string"==typeof x?this.exec(x,editor):this.exec(x[0],editor,x[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(m){return m.map((function(x){return"string"!=typeof x[0]&&(x[0]=x[0].name),x[1]||(x=x[0]),x}))}}.call(CommandManager.prototype),exports.CommandManager=CommandManager})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(acequire,exports,module){"use strict";var lang=acequire("../lib/lang"),config=acequire("../config"),Range=acequire("../range").Range;function bindKey(win,mac){return{win:win,mac:mac}}exports.commands=[{name:"showSettingsMenu",bindKey:bindKey("Ctrl-,","Command-,"),exec:function(editor){config.loadModule("ace/ext/settings_menu",(function(module){module.init(editor),editor.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:bindKey("Alt-E","F4"),exec:function(editor){config.loadModule("ace/ext/error_marker",(function(module){module.showErrorMarker(editor,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:bindKey("Alt-Shift-E","Shift-F4"),exec:function(editor){config.loadModule("ace/ext/error_marker",(function(module){module.showErrorMarker(editor,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:bindKey("Ctrl-A","Command-A"),exec:function(editor){editor.selectAll()},readOnly:!0},{name:"centerselection",bindKey:bindKey(null,"Ctrl-L"),exec:function(editor){editor.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:bindKey("Ctrl-L","Command-L"),exec:function(editor){var line=parseInt(prompt("Enter line number:"),10);isNaN(line)||editor.gotoLine(line)},readOnly:!0},{name:"fold",bindKey:bindKey("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(editor){editor.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:bindKey("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(editor){editor.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:bindKey("F2","F2"),exec:function(editor){editor.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:bindKey("Alt-F2","Alt-F2"),exec:function(editor){editor.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:bindKey(null,"Ctrl-Command-Option-0"),exec:function(editor){editor.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:bindKey("Alt-0","Command-Option-0"),exec:function(editor){editor.session.foldAll(),editor.session.unfold(editor.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:bindKey("Alt-Shift-0","Command-Option-Shift-0"),exec:function(editor){editor.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:bindKey("Ctrl-K","Command-G"),exec:function(editor){editor.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:bindKey("Ctrl-Shift-K","Command-Shift-G"),exec:function(editor){editor.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:bindKey("Alt-K","Ctrl-G"),exec:function(editor){editor.selection.isEmpty()?editor.selection.selectWord():editor.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:bindKey("Alt-Shift-K","Ctrl-Shift-G"),exec:function(editor){editor.selection.isEmpty()?editor.selection.selectWord():editor.findPrevious()},readOnly:!0},{name:"find",bindKey:bindKey("Ctrl-F","Command-F"),exec:function(editor){config.loadModule("ace/ext/searchbox",(function(e){e.Search(editor)}))},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(editor){editor.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:bindKey("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(editor){editor.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:bindKey("Ctrl-Home","Command-Home|Command-Up"),exec:function(editor){editor.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:bindKey("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(editor){editor.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:bindKey("Up","Up|Ctrl-P"),exec:function(editor,args){editor.navigateUp(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:bindKey("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(editor){editor.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:bindKey("Ctrl-End","Command-End|Command-Down"),exec:function(editor){editor.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:bindKey("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(editor){editor.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:bindKey("Down","Down|Ctrl-N"),exec:function(editor,args){editor.navigateDown(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:bindKey("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(editor){editor.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:bindKey("Ctrl-Left","Option-Left"),exec:function(editor){editor.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:bindKey("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(editor){editor.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:bindKey("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(editor){editor.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:bindKey("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(editor){editor.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:bindKey("Left","Left|Ctrl-B"),exec:function(editor,args){editor.navigateLeft(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:bindKey("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(editor){editor.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:bindKey("Ctrl-Right","Option-Right"),exec:function(editor){editor.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:bindKey("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(editor){editor.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:bindKey("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(editor){editor.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:bindKey("Shift-Right","Shift-Right"),exec:function(editor){editor.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:bindKey("Right","Right|Ctrl-F"),exec:function(editor,args){editor.navigateRight(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(editor){editor.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:bindKey(null,"Option-PageDown"),exec:function(editor){editor.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:bindKey("PageDown","PageDown|Ctrl-V"),exec:function(editor){editor.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(editor){editor.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:bindKey(null,"Option-PageUp"),exec:function(editor){editor.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(editor){editor.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:bindKey("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:bindKey("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(editor){editor.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(editor){editor.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:bindKey("Ctrl-Alt-E","Command-Option-E"),exec:function(editor){editor.commands.toggleRecording(editor)},readOnly:!0},{name:"replaymacro",bindKey:bindKey("Ctrl-Shift-E","Command-Shift-E"),exec:function(editor){editor.commands.replay(editor)},readOnly:!0},{name:"jumptomatching",bindKey:bindKey("Ctrl-P","Ctrl-P"),exec:function(editor){editor.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:bindKey("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(editor){editor.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:bindKey("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(editor){editor.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:bindKey(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(editor){},readOnly:!0},{name:"cut",exec:function(editor){var range=editor.getSelectionRange();editor._emit("cut",range),editor.selection.isEmpty()||(editor.session.remove(range),editor.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(editor,args){editor.$handlePaste(args)},scrollIntoView:"cursor"},{name:"removeline",bindKey:bindKey("Ctrl-D","Command-D"),exec:function(editor){editor.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:bindKey("Ctrl-Shift-D","Command-Shift-D"),exec:function(editor){editor.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:bindKey("Ctrl-Alt-S","Command-Alt-S"),exec:function(editor){editor.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:bindKey("Ctrl-/","Command-/"),exec:function(editor){editor.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:bindKey("Ctrl-Shift-/","Command-Shift-/"),exec:function(editor){editor.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:bindKey("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(editor){editor.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:bindKey("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(editor){editor.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:bindKey("Ctrl-H","Command-Option-F"),exec:function(editor){config.loadModule("ace/ext/searchbox",(function(e){e.Search(editor,!0)}))}},{name:"undo",bindKey:bindKey("Ctrl-Z","Command-Z"),exec:function(editor){editor.undo()}},{name:"redo",bindKey:bindKey("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(editor){editor.redo()}},{name:"copylinesup",bindKey:bindKey("Alt-Shift-Up","Command-Option-Up"),exec:function(editor){editor.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:bindKey("Alt-Up","Option-Up"),exec:function(editor){editor.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:bindKey("Alt-Shift-Down","Command-Option-Down"),exec:function(editor){editor.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:bindKey("Alt-Down","Option-Down"),exec:function(editor){editor.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:bindKey("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(editor){editor.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:bindKey("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(editor){editor.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:bindKey("Shift-Delete",null),exec:function(editor){if(!editor.selection.isEmpty())return!1;editor.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:bindKey("Alt-Backspace","Command-Backspace"),exec:function(editor){editor.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:bindKey("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(editor){editor.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:bindKey("Ctrl-Shift-Backspace",null),exec:function(editor){var range=editor.selection.getRange();range.start.column=0,editor.session.remove(range)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:bindKey("Ctrl-Shift-Delete",null),exec:function(editor){var range=editor.selection.getRange();range.end.column=Number.MAX_VALUE,editor.session.remove(range)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:bindKey("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(editor){editor.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:bindKey("Ctrl-Delete","Alt-Delete"),exec:function(editor){editor.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:bindKey("Shift-Tab","Shift-Tab"),exec:function(editor){editor.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:bindKey("Tab","Tab"),exec:function(editor){editor.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:bindKey("Ctrl-[","Ctrl-["),exec:function(editor){editor.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:bindKey("Ctrl-]","Ctrl-]"),exec:function(editor){editor.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(editor,str){editor.insert(str)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(editor,args){editor.insert(lang.stringRepeat(args.text||"",args.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:bindKey(null,"Ctrl-O"),exec:function(editor){editor.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:bindKey("Alt-Shift-X","Ctrl-T"),exec:function(editor){editor.transposeLetters()},multiSelectAction:function(editor){editor.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:bindKey("Ctrl-U","Ctrl-U"),exec:function(editor){editor.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:bindKey("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(editor){editor.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:bindKey("Ctrl-Shift-L","Command-Shift-L"),exec:function(editor){var range=editor.selection.getRange();range.start.column=range.end.column=0,range.end.row++,editor.selection.setRange(range,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:bindKey(null,null),exec:function(editor){for(var isBackwards=editor.selection.isBackwards(),selectionStart=isBackwards?editor.selection.getSelectionLead():editor.selection.getSelectionAnchor(),selectionEnd=isBackwards?editor.selection.getSelectionAnchor():editor.selection.getSelectionLead(),firstLineEndCol=editor.session.doc.getLine(selectionStart.row).length,selectedCount=editor.session.doc.getTextRange(editor.selection.getRange()).replace(/\n\s*/," ").length,insertLine=editor.session.doc.getLine(selectionStart.row),i=selectionStart.row+1;i<=selectionEnd.row+1;i++){var curLine=lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));0!==curLine.length&&(curLine=" "+curLine),insertLine+=curLine}selectionEnd.row+1<editor.session.doc.getLength()-1&&(insertLine+=editor.session.doc.getNewLineCharacter()),editor.clearSelection(),editor.session.doc.replace(new Range(selectionStart.row,0,selectionEnd.row+2,0),insertLine),selectedCount>0?(editor.selection.moveCursorTo(selectionStart.row,selectionStart.column),editor.selection.selectTo(selectionStart.row,selectionStart.column+selectedCount)):(firstLineEndCol=editor.session.doc.getLine(selectionStart.row).length>firstLineEndCol?firstLineEndCol+1:firstLineEndCol,editor.selection.moveCursorTo(selectionStart.row,firstLineEndCol))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:bindKey(null,null),exec:function(editor){var endRow=editor.session.doc.getLength()-1,endCol=editor.session.doc.getLine(endRow).length,ranges=editor.selection.rangeList.ranges,newRanges=[];ranges.length<1&&(ranges=[editor.selection.getRange()]);for(var i=0;i<ranges.length;i++)i==ranges.length-1&&(ranges[i].end.row===endRow&&ranges[i].end.column===endCol||newRanges.push(new Range(ranges[i].end.row,ranges[i].end.column,endRow,endCol))),0===i?0===ranges[i].start.row&&0===ranges[i].start.column||newRanges.push(new Range(0,0,ranges[i].start.row,ranges[i].start.column)):newRanges.push(new Range(ranges[i-1].end.row,ranges[i-1].end.column,ranges[i].start.row,ranges[i].start.column));editor.exitMultiSelectMode(),editor.clearSelection();for(i=0;i<newRanges.length;i++)editor.selection.addRange(newRanges[i],!1)},readOnly:!0,scrollIntoView:"none"}]})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],(function(acequire,exports,module){"use strict";acequire("./lib/fixoldbrowsers");var oop=acequire("./lib/oop"),dom=acequire("./lib/dom"),lang=acequire("./lib/lang"),useragent=acequire("./lib/useragent"),TextInput=acequire("./keyboard/textinput").TextInput,MouseHandler=acequire("./mouse/mouse_handler").MouseHandler,FoldHandler=acequire("./mouse/fold_handler").FoldHandler,KeyBinding=acequire("./keyboard/keybinding").KeyBinding,EditSession=acequire("./edit_session").EditSession,Search=acequire("./search").Search,Range=acequire("./range").Range,EventEmitter=acequire("./lib/event_emitter").EventEmitter,CommandManager=acequire("./commands/command_manager").CommandManager,defaultCommands=acequire("./commands/default_commands").commands,config=acequire("./config"),TokenIterator=acequire("./token_iterator").TokenIterator,Editor=function(renderer,session){var container=renderer.getContainerElement();this.container=container,this.renderer=renderer,this.id="editor"+ ++Editor.$uid,this.commands=new CommandManager(useragent.isMac?"mac":"win",defaultCommands),"object"==typeof document&&(this.textInput=new TextInput(renderer.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new MouseHandler(this),new FoldHandler(this)),this.keyBinding=new KeyBinding(this),this.$blockScrolling=0,this.$search=(new Search).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=lang.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(_,_self){_self._$emitInputEvent.schedule(31)})),this.setSession(session||new EditSession("")),config.resetOptions(this),config._signal("editor",this)};Editor.$uid=0,function(){oop.implement(this,EventEmitter),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=lang.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(commadEvent){if(this.curOp){if(!commadEvent||this.curOp.command)return;this.prevOp=this.curOp}commadEvent||(this.previousCommand=null,commadEvent={}),this.$opResetTimer.schedule(),this.curOp={command:commadEvent.command||{},args:commadEvent.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var command=this.curOp.command;command.name&&this.$blockScrolling>0&&this.$blockScrolling--;var scrollIntoView=command&&command.scrollIntoView;if(scrollIntoView){switch(scrollIntoView){case"center-animate":scrollIntoView="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var range=this.selection.getRange(),config=this.renderer.layerConfig;(range.start.row>=config.lastRow||range.end.row<=config.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==scrollIntoView&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var prev=this.prevOp,mergeableCommands=this.$mergeableCommands,shouldMerge=prev.command&&e.command.name==prev.command.name;if("insertstring"==e.command.name){var text=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),shouldMerge=shouldMerge&&this.mergeNextCommand&&(!/\s/.test(text)||/\s/.test(prev.args)),this.mergeNextCommand=!0}else shouldMerge=shouldMerge&&-1!==mergeableCommands.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(shouldMerge=!1),shouldMerge?this.session.mergeUndoDeltas=!0:-1!==mergeableCommands.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(keyboardHandler,cb){if(keyboardHandler&&"string"==typeof keyboardHandler){this.$keybindingId=keyboardHandler;var _self=this;config.loadModule(["keybinding",keyboardHandler],(function(module){_self.$keybindingId==keyboardHandler&&_self.keyBinding.setKeyboardHandler(module&&module.handler),cb&&cb()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(keyboardHandler),cb&&cb()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(session){if(this.session!=session){this.curOp&&this.endOperation(),this.curOp={};var oldSession=this.session;if(oldSession){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var selection=this.session.getSelection();selection.off("changeCursor",this.$onCursorChange),selection.off("changeSelection",this.$onSelectionChange)}this.session=session,session?(this.$onDocumentChange=this.onDocumentChange.bind(this),session.on("change",this.$onDocumentChange),this.renderer.setSession(session),this.$onChangeMode=this.onChangeMode.bind(this),session.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),session.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),session.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),session.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),session.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),session.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=session.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(session)),this._signal("changeSession",{session:session,oldSession:oldSession}),this.curOp=null,oldSession&&oldSession._signal("changeEditor",{oldEditor:this}),session&&session._signal("changeEditor",{editor:this}),session&&session.bgTokenizer&&session.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(val,cursorPos){return this.session.doc.setValue(val),cursorPos?1==cursorPos?this.navigateFileEnd():-1==cursorPos&&this.navigateFileStart():this.selectAll(),val},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(force){this.renderer.onResize(force)},this.setTheme=function(theme,cb){this.renderer.setTheme(theme,cb)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(style){this.renderer.setStyle(style)},this.unsetStyle=function(style){this.renderer.unsetStyle(style)},this.getFontSize=function(){return this.getOption("fontSize")||dom.computedStyle(this.container,"fontSize")},this.setFontSize=function(size){this.setOption("fontSize",size)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var self=this;this.$highlightPending=!0,setTimeout((function(){self.$highlightPending=!1;var session=self.session;if(session&&session.bgTokenizer){var pos=session.findMatchingBracket(self.getCursorPosition());if(pos)var range=new Range(pos.row,pos.column,pos.row,pos.column+1);else if(session.$mode.getMatching)range=session.$mode.getMatching(self.session);range&&(session.$bracketHighlight=session.addMarker(range,"ace_bracket","text"))}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var self=this;this.$highlightTagPending=!0,setTimeout((function(){self.$highlightTagPending=!1;var session=self.session;if(session&&session.bgTokenizer){var pos=self.getCursorPosition(),iterator=new TokenIterator(self.session,pos.row,pos.column),token=iterator.getCurrentToken();if(!token||!/\b(?:tag-open|tag-name)/.test(token.type))return session.removeMarker(session.$tagHighlight),void(session.$tagHighlight=null);if(-1==token.type.indexOf("tag-open")||(token=iterator.stepForward())){var tag=token.value,depth=0,prevToken=iterator.stepBackward();if("<"==prevToken.value)do{prevToken=token,(token=iterator.stepForward())&&token.value===tag&&-1!==token.type.indexOf("tag-name")&&("<"===prevToken.value?depth++:"</"===prevToken.value&&depth--)}while(token&&depth>=0);else{do{token=prevToken,prevToken=iterator.stepBackward(),token&&token.value===tag&&-1!==token.type.indexOf("tag-name")&&("<"===prevToken.value?depth++:"</"===prevToken.value&&depth--)}while(prevToken&&depth<=0);iterator.stepForward()}if(!token)return session.removeMarker(session.$tagHighlight),void(session.$tagHighlight=null);var row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn(),range=new Range(row,column,row,column+token.value.length),sbm=session.$backMarkers[session.$tagHighlight];session.$tagHighlight&&null!=sbm&&0!==range.compareRange(sbm.range)&&(session.removeMarker(session.$tagHighlight),session.$tagHighlight=null),range&&!session.$tagHighlight&&(session.$tagHighlight=session.addMarker(range,"ace_bracket","text"))}}}),50)}},this.focus=function(){var _self=this;setTimeout((function(){_self.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(delta){var wrap=this.session.$useWrapMode,lastRow=delta.start.row==delta.end.row?delta.end.row:1/0;this.renderer.updateLines(delta.start.row,lastRow,wrap),this._signal("change",delta),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var rows=e.data;this.renderer.updateLines(rows.first,rows.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(config.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var highlight,session=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(highlight=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(highlight=!1)),session.$highlightLineMarker&&!highlight)session.removeMarker(session.$highlightLineMarker.id),session.$highlightLineMarker=null;else if(!session.$highlightLineMarker&&highlight){var range=new Range(highlight.row,highlight.column,highlight.row,1/0);range.id=session.addMarker(range,"ace_active-line","screenLine"),session.$highlightLineMarker=range}else highlight&&(session.$highlightLineMarker.start.row=highlight.row,session.$highlightLineMarker.end.row=highlight.row,session.$highlightLineMarker.start.column=highlight.column,session._signal("changeBackMarker"))},this.onSelectionChange=function(e){var session=this.session;if(session.$selectionMarker&&session.removeMarker(session.$selectionMarker),session.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var range=this.selection.getRange(),style=this.getSelectionStyle();session.$selectionMarker=session.addMarker(range,"ace_selection",style)}var re=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(re),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var session=this.session,selection=this.getSelectionRange();if(!selection.isEmpty()&&!selection.isMultiLine()){var startOuter=selection.start.column-1,endOuter=selection.end.column+1,line=session.getLine(selection.start.row),lineCols=line.length,needle=line.substring(Math.max(startOuter,0),Math.min(endOuter,lineCols));if(!(startOuter>=0&&/^[\w\d]/.test(needle)||endOuter<=lineCols&&/[\w\d]$/.test(needle)))if(needle=line.substring(selection.start.column,selection.end.column),/^[\w\d]+$/.test(needle))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:needle})}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var text=this.getSelectedText();return this._signal("copy",text),text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(text,event){var e={text:text,event:event};this.commands.exec("paste",this,e)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var text=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(text);else{var lines=text.split(/\r\n|\r|\n/),ranges=this.selection.rangeList.ranges;if(lines.length>ranges.length||lines.length<2||!lines[1])return this.commands.exec("insertstring",this,text);for(var i=ranges.length;i--;){var range=ranges[i];range.isEmpty()||this.session.remove(range),this.session.insert(range.start,lines[i])}}},this.execCommand=function(command,args){return this.commands.exec(command,this,args)},this.insert=function(text,pasted){var session=this.session,mode=session.getMode(),cursor=this.getCursorPosition();if(this.getBehavioursEnabled()&&!pasted){var transform=mode.transformAction(session.getState(cursor.row),"insertion",this,session,text);transform&&(text!==transform.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),text=transform.text)}if("\t"==text&&(text=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==text.indexOf("\n")){(range=new Range.fromPoints(cursor,cursor)).end.column+=text.length,this.session.remove(range)}}else{var range=this.getSelectionRange();cursor=this.session.remove(range),this.clearSelection()}if("\n"==text||"\r\n"==text){var line=session.getLine(cursor.row);if(cursor.column>line.search(/\S|$/)){var d=line.substr(cursor.column).search(/\S|$/);session.doc.removeInLine(cursor.row,cursor.column,cursor.column+d)}}this.clearSelection();var start=cursor.column,lineState=session.getState(cursor.row),shouldOutdent=(line=session.getLine(cursor.row),mode.checkOutdent(lineState,line,text));session.insert(cursor,text);if(transform&&transform.selection&&(2==transform.selection.length?this.selection.setSelectionRange(new Range(cursor.row,start+transform.selection[0],cursor.row,start+transform.selection[1])):this.selection.setSelectionRange(new Range(cursor.row+transform.selection[0],transform.selection[1],cursor.row+transform.selection[2],transform.selection[3]))),session.getDocument().isNewLine(text)){var lineIndent=mode.getNextLineIndent(lineState,line.slice(0,cursor.column),session.getTabString());session.insert({row:cursor.row+1,column:0},lineIndent)}shouldOutdent&&mode.autoOutdent(lineState,session,cursor.row)},this.onTextInput=function(text){this.keyBinding.onTextInput(text)},this.onCommandKey=function(e,hashId,keyCode){this.keyBinding.onCommandKey(e,hashId,keyCode)},this.setOverwrite=function(overwrite){this.session.setOverwrite(overwrite)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(speed){this.setOption("scrollSpeed",speed)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(dragDelay){this.setOption("dragDelay",dragDelay)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(val){this.setOption("selectionStyle",val)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(shouldHighlight){this.setOption("highlightActiveLine",shouldHighlight)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(shouldHighlight){this.setOption("highlightGutterLine",shouldHighlight)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(shouldHighlight){this.setOption("highlightSelectedWord",shouldHighlight)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(shouldAnimate){this.renderer.setAnimatedScroll(shouldAnimate)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(showInvisibles){this.renderer.setShowInvisibles(showInvisibles)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(display){this.renderer.setDisplayIndentGuides(display)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(showPrintMargin){this.renderer.setShowPrintMargin(showPrintMargin)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(showPrintMargin){this.renderer.setPrintMarginColumn(showPrintMargin)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(readOnly){this.setOption("readOnly",readOnly)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(enabled){this.setOption("behavioursEnabled",enabled)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(enabled){this.setOption("wrapBehavioursEnabled",enabled)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(show){this.setOption("showFoldWidgets",show)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(fade){this.setOption("fadeFoldWidgets",fade)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(dir){this.selection.isEmpty()&&("left"==dir?this.selection.selectLeft():this.selection.selectRight());var range=this.getSelectionRange();if(this.getBehavioursEnabled()){var session=this.session,state=session.getState(range.start.row),new_range=session.getMode().transformAction(state,"deletion",this,session,range);if(0===range.end.column){var text=session.getTextRange(range);if("\n"==text[text.length-1]){var line=session.getLine(range.end.row);/^\s+$/.test(line)&&(range.end.column=line.length)}}new_range&&(range=new_range)}this.session.remove(range),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var range=this.getSelectionRange();range.start.column==range.end.column&&range.start.row==range.end.row&&(range.end.column=0,range.end.row++),this.session.remove(range),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var cursor=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(cursor)},this.transposeLetters=function(){if(this.selection.isEmpty()){var cursor=this.getCursorPosition(),column=cursor.column;if(0!==column){var swap,range,line=this.session.getLine(cursor.row);column<line.length?(swap=line.charAt(column)+line.charAt(column-1),range=new Range(cursor.row,column-1,cursor.row,column+1)):(swap=line.charAt(column-1)+line.charAt(column-2),range=new Range(cursor.row,column-2,cursor.row,column)),this.session.replace(range,swap),this.session.selection.moveToPosition(range.end)}}},this.toLowerCase=function(){var originalRange=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var range=this.getSelectionRange(),text=this.session.getTextRange(range);this.session.replace(range,text.toLowerCase()),this.selection.setSelectionRange(originalRange)},this.toUpperCase=function(){var originalRange=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var range=this.getSelectionRange(),text=this.session.getTextRange(range);this.session.replace(range,text.toUpperCase()),this.selection.setSelectionRange(originalRange)},this.indent=function(){var session=this.session,range=this.getSelectionRange();if(!(range.start.row<range.end.row)){if(range.start.column<range.end.column){var text=session.getTextRange(range);if(!/^\s+$/.test(text)){rows=this.$getSelectedRows();return void session.indentRows(rows.first,rows.last,"\t")}}var line=session.getLine(range.start.row),position=range.start,size=session.getTabSize(),column=session.documentToScreenColumn(position.row,position.column);if(this.session.getUseSoftTabs())var count=size-column%size,indentString=lang.stringRepeat(" ",count);else{for(count=column%size;" "==line[range.start.column-1]&&count;)range.start.column--,count--;this.selection.setSelectionRange(range),indentString="\t"}return this.insert(indentString)}var rows=this.$getSelectedRows();session.indentRows(rows.first,rows.last,"\t")},this.blockIndent=function(){var rows=this.$getSelectedRows();this.session.indentRows(rows.first,rows.last,"\t")},this.blockOutdent=function(){var selection=this.session.getSelection();this.session.outdentRows(selection.getRange())},this.sortLines=function(){for(var rows=this.$getSelectedRows(),session=this.session,lines=[],i=rows.first;i<=rows.last;i++)lines.push(session.getLine(i));lines.sort((function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:a.toLowerCase()>b.toLowerCase()?1:0}));var deleteRange=new Range(0,0,0,0);for(i=rows.first;i<=rows.last;i++){var line=session.getLine(i);deleteRange.start.row=i,deleteRange.end.row=i,deleteRange.end.column=line.length,session.replace(deleteRange,lines[i-rows.first])}},this.toggleCommentLines=function(){var state=this.session.getState(this.getCursorPosition().row),rows=this.$getSelectedRows();this.session.getMode().toggleCommentLines(state,this.session,rows.first,rows.last)},this.toggleBlockComment=function(){var cursor=this.getCursorPosition(),state=this.session.getState(cursor.row),range=this.getSelectionRange();this.session.getMode().toggleBlockComment(state,this.session,range,cursor)},this.getNumberAt=function(row,column){var _numberRx=/[\-]?[0-9]+(?:\.[0-9]+)?/g;_numberRx.lastIndex=0;for(var s=this.session.getLine(row);_numberRx.lastIndex<column;){var m=_numberRx.exec(s);if(m.index<=column&&m.index+m[0].length>=column)return{value:m[0],start:m.index,end:m.index+m[0].length}}return null},this.modifyNumber=function(amount){var row=this.selection.getCursor().row,column=this.selection.getCursor().column,charRange=new Range(row,column-1,row,column),c=this.session.getTextRange(charRange);if(!isNaN(parseFloat(c))&&isFinite(c)){var nr=this.getNumberAt(row,column);if(nr){var fp=nr.value.indexOf(".")>=0?nr.start+nr.value.indexOf(".")+1:nr.end,decimals=nr.start+nr.value.length-fp,t=parseFloat(nr.value);t*=Math.pow(10,decimals),fp!==nr.end&&column<fp?amount*=Math.pow(10,nr.end-column-1):amount*=Math.pow(10,nr.end-column),t+=amount;var nnr=(t/=Math.pow(10,decimals)).toFixed(decimals),replaceRange=new Range(row,nr.start,row,nr.end);this.session.replace(replaceRange,nnr),this.moveCursorTo(row,Math.max(nr.start+1,column+nnr.length-nr.value.length))}}},this.removeLines=function(){var rows=this.$getSelectedRows();this.session.removeFullLines(rows.first,rows.last),this.clearSelection()},this.duplicateSelection=function(){var sel=this.selection,doc=this.session,range=sel.getRange(),reverse=sel.isBackwards();if(range.isEmpty()){var row=range.start.row;doc.duplicateLines(row,row)}else{var point=reverse?range.start:range.end,endPoint=doc.insert(point,doc.getTextRange(range),!1);range.start=point,range.end=endPoint,sel.setSelectionRange(range,reverse)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(range,toPosition,copy){return this.session.moveText(range,toPosition,copy)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(dir,copy){var rows,moved,selection=this.selection;if(!selection.inMultiSelectMode||this.inVirtualSelectionMode){var range=selection.toOrientedRange();rows=this.$getSelectedRows(range),moved=this.session.$moveLines(rows.first,rows.last,copy?0:dir),copy&&-1==dir&&(moved=0),range.moveBy(moved,0),selection.fromOrientedRange(range)}else{var ranges=selection.rangeList.ranges;selection.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var diff=0,totalDiff=0,l=ranges.length,i=0;i<l;i++){var rangeIndex=i;ranges[i].moveBy(diff,0);for(var first=(rows=this.$getSelectedRows(ranges[i])).first,last=rows.last;++i<l;){totalDiff&&ranges[i].moveBy(totalDiff,0);var subRows=this.$getSelectedRows(ranges[i]);if(copy&&subRows.first!=last)break;if(!copy&&subRows.first>last+1)break;last=subRows.last}for(i--,diff=this.session.$moveLines(first,last,copy?0:dir),copy&&-1==dir&&(rangeIndex=i+1);rangeIndex<=i;)ranges[rangeIndex].moveBy(diff,0),rangeIndex++;copy||(diff=0),totalDiff+=diff}selection.fromOrientedRange(selection.ranges[0]),selection.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(range){return range=(range||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(range.start.row),last:this.session.getRowFoldEnd(range.end.row)}},this.onCompositionStart=function(text){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(text){this.renderer.setCompositionText(text)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(row){return row>=this.getFirstVisibleRow()&&row<=this.getLastVisibleRow()},this.isRowFullyVisible=function(row){return row>=this.renderer.getFirstFullyVisibleRow()&&row<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(dir,select){var renderer=this.renderer,config=this.renderer.layerConfig,rows=dir*Math.floor(config.height/config.lineHeight);this.$blockScrolling++,!0===select?this.selection.$moveSelection((function(){this.moveCursorBy(rows,0)})):!1===select&&(this.selection.moveCursorBy(rows,0),this.selection.clearSelection()),this.$blockScrolling--;var scrollTop=renderer.scrollTop;renderer.scrollBy(0,rows*config.lineHeight),null!=select&&renderer.scrollCursorIntoView(null,.5),renderer.animateScrolling(scrollTop)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(row){this.renderer.scrollToRow(row)},this.scrollToLine=function(line,center,animate,callback){this.renderer.scrollToLine(line,center,animate,callback)},this.centerSelection=function(){var range=this.getSelectionRange(),pos={row:Math.floor(range.start.row+(range.end.row-range.start.row)/2),column:Math.floor(range.start.column+(range.end.column-range.start.column)/2)};this.renderer.alignCursor(pos,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(row,column){this.selection.moveCursorTo(row,column)},this.moveCursorToPosition=function(pos){this.selection.moveCursorToPosition(pos)},this.jumpToMatching=function(select,expand){var cursor=this.getCursorPosition(),iterator=new TokenIterator(this.session,cursor.row,cursor.column),prevToken=iterator.getCurrentToken(),token=prevToken||iterator.stepForward();if(token){var matchType,bracketType,found=!1,depth={},i=cursor.column-token.start,brackets={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(token.value.match(/[{}()\[\]]/g)){for(;i<token.value.length&&!found;i++)if(brackets[token.value[i]])switch(bracketType=brackets[token.value[i]]+"."+token.type.replace("rparen","lparen"),isNaN(depth[bracketType])&&(depth[bracketType]=0),token.value[i]){case"(":case"[":case"{":depth[bracketType]++;break;case")":case"]":case"}":depth[bracketType]--,-1===depth[bracketType]&&(matchType="bracket",found=!0)}}else token&&-1!==token.type.indexOf("tag-name")&&(isNaN(depth[token.value])&&(depth[token.value]=0),"<"===prevToken.value?depth[token.value]++:"</"===prevToken.value&&depth[token.value]--,-1===depth[token.value]&&(matchType="tag",found=!0));found||(prevToken=token,token=iterator.stepForward(),i=0)}while(token&&!found);if(matchType){var range,pos;if("bracket"===matchType)(range=this.session.getBracketRange(cursor))||(pos=(range=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+i-1,iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+i-1)).start,(expand||pos.row===cursor.row&&Math.abs(pos.column-cursor.column)<2)&&(range=this.session.getBracketRange(pos)));else if("tag"===matchType){if(!token||-1===token.type.indexOf("tag-name"))return;var tag=token.value;if(0===(range=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()-2,iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()-2)).compare(cursor.row,cursor.column)){found=!1;do{token=prevToken,(prevToken=iterator.stepBackward())&&(-1!==prevToken.type.indexOf("tag-close")&&range.setEnd(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+1),token.value===tag&&-1!==token.type.indexOf("tag-name")&&("<"===prevToken.value?depth[tag]++:"</"===prevToken.value&&depth[tag]--,0===depth[tag]&&(found=!0)))}while(prevToken&&!found)}token&&token.type.indexOf("tag-name")&&(pos=range.start).row==cursor.row&&Math.abs(pos.column-cursor.column)<2&&(pos=range.end)}(pos=range&&range.cursor||pos)&&(select?range&&expand?this.selection.setRange(range):range&&range.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(pos.row,pos.column):this.selection.moveTo(pos.row,pos.column))}}},this.gotoLine=function(lineNumber,column,animate){this.selection.clearSelection(),this.session.unfold({row:lineNumber-1,column:column||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(lineNumber-1,column||0),this.$blockScrolling-=1,this.isRowFullyVisible(lineNumber-1)||this.scrollToLine(lineNumber-1,!0,animate)},this.navigateTo=function(row,column){this.selection.moveTo(row,column)},this.navigateUp=function(times){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var selectionStart=this.selection.anchor.getPosition();return this.moveCursorToPosition(selectionStart)}this.selection.clearSelection(),this.selection.moveCursorBy(-times||-1,0)},this.navigateDown=function(times){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var selectionEnd=this.selection.anchor.getPosition();return this.moveCursorToPosition(selectionEnd)}this.selection.clearSelection(),this.selection.moveCursorBy(times||1,0)},this.navigateLeft=function(times){if(this.selection.isEmpty())for(times=times||1;times--;)this.selection.moveCursorLeft();else{var selectionStart=this.getSelectionRange().start;this.moveCursorToPosition(selectionStart)}this.clearSelection()},this.navigateRight=function(times){if(this.selection.isEmpty())for(times=times||1;times--;)this.selection.moveCursorRight();else{var selectionEnd=this.getSelectionRange().end;this.moveCursorToPosition(selectionEnd)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(replacement,options){options&&this.$search.set(options);var range=this.$search.find(this.session),replaced=0;return range?(this.$tryReplace(range,replacement)&&(replaced=1),null!==range&&(this.selection.setSelectionRange(range),this.renderer.scrollSelectionIntoView(range.start,range.end)),replaced):replaced},this.replaceAll=function(replacement,options){options&&this.$search.set(options);var ranges=this.$search.findAll(this.session),replaced=0;if(!ranges.length)return replaced;this.$blockScrolling+=1;var selection=this.getSelectionRange();this.selection.moveTo(0,0);for(var i=ranges.length-1;i>=0;--i)this.$tryReplace(ranges[i],replacement)&&replaced++;return this.selection.setSelectionRange(selection),this.$blockScrolling-=1,replaced},this.$tryReplace=function(range,replacement){var input=this.session.getTextRange(range);return null!==(replacement=this.$search.replace(input,replacement))?(range.end=this.session.replace(range,replacement),range):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(needle,options,animate){options||(options={}),"string"==typeof needle||needle instanceof RegExp?options.needle=needle:"object"==typeof needle&&oop.mixin(options,needle);var range=this.selection.getRange();null==options.needle&&((needle=this.session.getTextRange(range)||this.$search.$options.needle)||(range=this.session.getWordRange(range.start.row,range.start.column),needle=this.session.getTextRange(range)),this.$search.set({needle:needle})),this.$search.set(options),options.start||this.$search.set({start:range});var newRange=this.$search.find(this.session);return options.preventScroll?newRange:newRange?(this.revealRange(newRange,animate),newRange):(options.backwards?range.start=range.end:range.end=range.start,void this.selection.setRange(range))},this.findNext=function(options,animate){this.find({skipCurrent:!0,backwards:!1},options,animate)},this.findPrevious=function(options,animate){this.find(options,{skipCurrent:!0,backwards:!0},animate)},this.revealRange=function(range,animate){this.$blockScrolling+=1,this.session.unfold(range),this.selection.setSelectionRange(range),this.$blockScrolling-=1;var scrollTop=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(range.start,range.end,.5),!1!==animate&&this.renderer.animateScrolling(scrollTop)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(enable){if(enable){var rect,self=this,shouldScroll=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var scrollAnchor=this.$scrollAnchor;scrollAnchor.style.cssText="position:absolute",this.container.insertBefore(scrollAnchor,this.container.firstChild);var onChangeSelection=this.on("changeSelection",(function(){shouldScroll=!0})),onBeforeRender=this.renderer.on("beforeRender",(function(){shouldScroll&&(rect=self.renderer.container.getBoundingClientRect())})),onAfterRender=this.renderer.on("afterRender",(function(){if(shouldScroll&&rect&&(self.isFocused()||self.searchBox&&self.searchBox.isFocused())){var renderer=self.renderer,pos=renderer.$cursorLayer.$pixelPos,config=renderer.layerConfig,top=pos.top-config.offset;null!=(shouldScroll=pos.top>=0&&top+rect.top<0||!(pos.top<config.height&&pos.top+rect.top+config.lineHeight>window.innerHeight)&&null)&&(scrollAnchor.style.top=top+"px",scrollAnchor.style.left=pos.left+"px",scrollAnchor.style.height=config.lineHeight+"px",scrollAnchor.scrollIntoView(shouldScroll)),shouldScroll=rect=null}}));this.setAutoScrollEditorIntoView=function(enable){enable||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",onChangeSelection),this.renderer.off("afterRender",onAfterRender),this.renderer.off("beforeRender",onBeforeRender))}}},this.$resetCursorStyle=function(){var style=this.$cursorStyle||"ace",cursorLayer=this.renderer.$cursorLayer;cursorLayer&&(cursorLayer.setSmoothBlinking(/smooth/.test(style)),cursorLayer.isBlinking=!this.$readOnly&&"wide"!=style,dom.setCssClass(cursorLayer.element,"ace_slim-cursors",/slim/.test(style)))}}.call(Editor.prototype),config.defineOptions(Editor.prototype,"editor",{selectionStyle:{set:function(style){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:style})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(shouldHighlight){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(readOnly){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(val){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(val){this.setAutoScrollEditorIntoView(val)}},keyboardHandler:{set:function(val){this.setKeyboardHandler(val)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),exports.Editor=Editor})),ace.define("ace/undomanager",["require","exports","module"],(function(acequire,exports,module){"use strict";var UndoManager=function(){this.reset()};(function(){function $serializeDelta(delta){return{action:delta.action,start:delta.start,end:delta.end,lines:1==delta.lines.length?null:delta.lines,text:1==delta.lines.length?delta.lines[0]:null}}function $deserializeDelta(delta){return{action:delta.action,start:delta.start,end:delta.end,lines:delta.lines||[delta.text]}}function cloneDeltaSetsObj(deltaSets_old,fnGetModifiedDelta){for(var deltaSets_new=new Array(deltaSets_old.length),i=0;i<deltaSets_old.length;i++){for(var deltaSet_old=deltaSets_old[i],deltaSet_new={group:deltaSet_old.group,deltas:new Array(deltaSet_old.length)},j=0;j<deltaSet_old.deltas.length;j++){var delta_old=deltaSet_old.deltas[j];deltaSet_new.deltas[j]=fnGetModifiedDelta(delta_old)}deltaSets_new[i]=deltaSet_new}return deltaSets_new}this.execute=function(options){var deltaSets=options.args[0];this.$doc=options.args[1],options.merge&&this.hasUndo()&&(this.dirtyCounter--,deltaSets=this.$undoStack.pop().concat(deltaSets)),this.$undoStack.push(deltaSets),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(dontSelect){var deltaSets=this.$undoStack.pop(),undoSelectionRange=null;return deltaSets&&(undoSelectionRange=this.$doc.undoChanges(deltaSets,dontSelect),this.$redoStack.push(deltaSets),this.dirtyCounter--),undoSelectionRange},this.redo=function(dontSelect){var deltaSets=this.$redoStack.pop(),redoSelectionRange=null;return deltaSets&&(redoSelectionRange=this.$doc.redoChanges(this.$deserializeDeltas(deltaSets),dontSelect),this.$undoStack.push(deltaSets),this.dirtyCounter++),redoSelectionRange},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(deltaSets){return cloneDeltaSetsObj(deltaSets,$serializeDelta)},this.$deserializeDeltas=function(deltaSets){return cloneDeltaSetsObj(deltaSets,$deserializeDelta)}}).call(UndoManager.prototype),exports.UndoManager=UndoManager})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var dom=acequire("../lib/dom"),oop=acequire("../lib/oop"),lang=acequire("../lib/lang"),EventEmitter=acequire("../lib/event_emitter").EventEmitter,Gutter=function(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_gutter-layer",parentEl.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){oop.implement(this,EventEmitter),this.setSession=function(session){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=session,session&&session.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(row,className){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(row,className)},this.removeGutterDecoration=function(row,className){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(row,className)},this.setAnnotations=function(annotations){this.$annotations=[];for(var i=0;i<annotations.length;i++){var annotation=annotations[i],row=annotation.row,rowInfo=this.$annotations[row];rowInfo||(rowInfo=this.$annotations[row]={text:[]});var annoText=annotation.text;annoText=annoText?lang.escapeHTML(annoText):annotation.html||"",-1===rowInfo.text.indexOf(annoText)&&rowInfo.text.push(annoText);var type=annotation.type;"error"==type?rowInfo.className=" ace_error":"warning"==type&&" ace_error"!=rowInfo.className?rowInfo.className=" ace_warning":"info"!=type||rowInfo.className||(rowInfo.className=" ace_info")}},this.$updateAnnotations=function(delta){if(this.$annotations.length){var firstRow=delta.start.row,len=delta.end.row-firstRow;if(0===len);else if("remove"==delta.action)this.$annotations.splice(firstRow,len+1,null);else{var args=new Array(len+1);args.unshift(firstRow,1),this.$annotations.splice.apply(this.$annotations,args)}}},this.update=function(config){for(var session=this.session,firstRow=config.firstRow,lastRow=Math.min(config.lastRow+config.gutterOffset,session.getLength()-1),fold=session.getNextFoldLine(firstRow),foldStart=fold?fold.start.row:1/0,foldWidgets=this.$showFoldWidgets&&session.foldWidgets,breakpoints=session.$breakpoints,decorations=session.$decorations,firstLineNumber=session.$firstLineNumber,lastLineNumber=0,gutterRenderer=session.gutterRenderer||this.$renderer,cell=null,index=-1,row=firstRow;;){if(row>foldStart&&(row=fold.end.row+1,foldStart=(fold=session.getNextFoldLine(row,fold))?fold.start.row:1/0),row>lastRow){for(;this.$cells.length>index+1;)cell=this.$cells.pop(),this.element.removeChild(cell.element);break}(cell=this.$cells[++index])||((cell={element:null,textNode:null,foldWidget:null}).element=dom.createElement("div"),cell.textNode=document.createTextNode(""),cell.element.appendChild(cell.textNode),this.element.appendChild(cell.element),this.$cells[index]=cell);var className="ace_gutter-cell ";if(breakpoints[row]&&(className+=breakpoints[row]),decorations[row]&&(className+=decorations[row]),this.$annotations[row]&&(className+=this.$annotations[row].className),cell.element.className!=className&&(cell.element.className=className),(height=session.getRowLength(row)*config.lineHeight+"px")!=cell.element.style.height&&(cell.element.style.height=height),foldWidgets){var c=foldWidgets[row];null==c&&(c=foldWidgets[row]=session.getFoldWidget(row))}if(c){cell.foldWidget||(cell.foldWidget=dom.createElement("span"),cell.element.appendChild(cell.foldWidget));className="ace_fold-widget ace_"+c;"start"==c&&row==foldStart&&row<fold.end.row?className+=" ace_closed":className+=" ace_open",cell.foldWidget.className!=className&&(cell.foldWidget.className=className);var height=config.lineHeight+"px";cell.foldWidget.style.height!=height&&(cell.foldWidget.style.height=height)}else cell.foldWidget&&(cell.element.removeChild(cell.foldWidget),cell.foldWidget=null);var text=lastLineNumber=gutterRenderer?gutterRenderer.getText(session,row):row+firstLineNumber;text!==cell.textNode.data&&(cell.textNode.data=text),row++}this.element.style.height=config.minHeight+"px",(this.$fixedWidth||session.$useWrapMode)&&(lastLineNumber=session.getLength()+firstLineNumber);var gutterWidth=gutterRenderer?gutterRenderer.getWidth(session,lastLineNumber,config):lastLineNumber.toString().length*config.characterWidth,padding=this.$padding||this.$computePadding();(gutterWidth+=padding.left+padding.right)===this.gutterWidth||isNaN(gutterWidth)||(this.gutterWidth=gutterWidth,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",gutterWidth))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(show){this.$renderer=!show&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(show){show?dom.addCssClass(this.element,"ace_folding-enabled"):dom.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=show,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var style=dom.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(style.paddingLeft)+1||0,this.$padding.right=parseInt(style.paddingRight)||0,this.$padding},this.getRegion=function(point){var padding=this.$padding||this.$computePadding(),rect=this.element.getBoundingClientRect();return point.x<padding.left+rect.left?"markers":this.$showFoldWidgets&&point.x>rect.right-padding.right?"foldWidgets":void 0}}).call(Gutter.prototype),exports.Gutter=Gutter})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(acequire,exports,module){"use strict";var Range=acequire("../range").Range,dom=acequire("../lib/dom"),Marker=function(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_marker-layer",parentEl.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(padding){this.$padding=padding},this.setSession=function(session){this.session=session},this.setMarkers=function(markers){this.markers=markers},this.update=function(config){if(config){this.config=config;var html=[];for(var key in this.markers){var marker=this.markers[key];if(marker.range){var range=marker.range.clipRows(config.firstRow,config.lastRow);if(!range.isEmpty())if(range=range.toScreenRange(this.session),marker.renderer){var top=this.$getTop(range.start.row,config),left=this.$padding+(this.session.$bidiHandler.isBidiRow(range.start.row)?this.session.$bidiHandler.getPosLeft(range.start.column):range.start.column*config.characterWidth);marker.renderer(html,range,left,top,config)}else"fullLine"==marker.type?this.drawFullLineMarker(html,range,marker.clazz,config):"screenLine"==marker.type?this.drawScreenLineMarker(html,range,marker.clazz,config):range.isMultiLine()?"text"==marker.type?this.drawTextMarker(html,range,marker.clazz,config):this.drawMultiLineMarker(html,range,marker.clazz,config):this.session.$bidiHandler.isBidiRow(range.start.row)?this.drawBidiSingleLineMarker(html,range,marker.clazz+" ace_start ace_br15",config):this.drawSingleLineMarker(html,range,marker.clazz+" ace_start ace_br15",config)}else marker.update(html,this,this.session,config)}this.element.innerHTML=html.join("")}},this.$getTop=function(row,layerConfig){return(row-layerConfig.firstRowScreen)*layerConfig.lineHeight},this.drawTextMarker=function(stringBuilder,range,clazz,layerConfig,extraStyle){for(var session=this.session,start=range.start.row,end=range.end.row,row=start,prev=0,curr=0,next=session.getScreenLastRowColumn(row),clazzModified=null,lineRange=new Range(row,range.start.column,row,curr);row<=end;row++)lineRange.start.row=lineRange.end.row=row,lineRange.start.column=row==start?range.start.column:session.getRowWrapIndent(row),lineRange.end.column=next,prev=curr,curr=next,next=row+1<end?session.getScreenLastRowColumn(row+1):row==end?0:range.end.column,clazzModified=clazz+(row==start?" ace_start":"")+" ace_br"+((row==start||row==start+1&&range.start.column?1:0)|(prev<curr?2:0)|(curr>next?4:0)|(row==end?8:0)),this.session.$bidiHandler.isBidiRow(row)?this.drawBidiSingleLineMarker(stringBuilder,lineRange,clazzModified,layerConfig,row==end?0:1,extraStyle):this.drawSingleLineMarker(stringBuilder,lineRange,clazzModified,layerConfig,row==end?0:1,extraStyle)},this.drawMultiLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var height,top,left,padding=this.$padding;(extraStyle=extraStyle||"",this.session.$bidiHandler.isBidiRow(range.start.row))?((range1=range.clone()).end.row=range1.start.row,range1.end.column=this.session.getLine(range1.start.row).length,this.drawBidiSingleLineMarker(stringBuilder,range1,clazz+" ace_br1 ace_start",config,null,extraStyle)):(height=config.lineHeight,top=this.$getTop(range.start.row,config),left=padding+range.start.column*config.characterWidth,stringBuilder.push("<div class='",clazz," ace_br1 ace_start' style='","height:",height,"px;","right:0;","top:",top,"px;","left:",left,"px;",extraStyle,"'></div>"));if(this.session.$bidiHandler.isBidiRow(range.end.row)){var range1;(range1=range.clone()).start.row=range1.end.row,range1.start.column=0,this.drawBidiSingleLineMarker(stringBuilder,range1,clazz+" ace_br12",config,null,extraStyle)}else{var width=range.end.column*config.characterWidth;height=config.lineHeight,top=this.$getTop(range.end.row,config),stringBuilder.push("<div class='",clazz," ace_br12' style='","height:",height,"px;","width:",width,"px;","top:",top,"px;","left:",padding,"px;",extraStyle,"'></div>")}if(!((height=(range.end.row-range.start.row-1)*config.lineHeight)<=0)){top=this.$getTop(range.start.row+1,config);var radiusClass=(range.start.column?1:0)|(range.end.column?0:8);stringBuilder.push("<div class='",clazz,radiusClass?" ace_br"+radiusClass:"","' style='","height:",height,"px;","right:0;","top:",top,"px;","left:",padding,"px;",extraStyle,"'></div>")}},this.drawSingleLineMarker=function(stringBuilder,range,clazz,config,extraLength,extraStyle){var height=config.lineHeight,width=(range.end.column+(extraLength||0)-range.start.column)*config.characterWidth,top=this.$getTop(range.start.row,config),left=this.$padding+range.start.column*config.characterWidth;stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","width:",width,"px;","top:",top,"px;","left:",left,"px;",extraStyle||"","'></div>")},this.drawBidiSingleLineMarker=function(stringBuilder,range,clazz,config,extraLength,extraStyle){var height=config.lineHeight,top=this.$getTop(range.start.row,config),padding=this.$padding;this.session.$bidiHandler.getSelections(range.start.column,range.end.column).forEach((function(selection){stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","width:",selection.width+(extraLength||0),"px;","top:",top,"px;","left:",padding+selection.left,"px;",extraStyle||"","'></div>")}))},this.drawFullLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var top=this.$getTop(range.start.row,config),height=config.lineHeight;range.start.row!=range.end.row&&(height+=this.$getTop(range.end.row,config)-top),stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","top:",top,"px;","left:0;right:0;",extraStyle||"","'></div>")},this.drawScreenLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var top=this.$getTop(range.start.row,config),height=config.lineHeight;stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","top:",top,"px;","left:0;right:0;",extraStyle||"","'></div>")}}).call(Marker.prototype),exports.Marker=Marker})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop"),dom=acequire("../lib/dom"),lang=acequire("../lib/lang"),EventEmitter=(acequire("../lib/useragent"),acequire("../lib/event_emitter").EventEmitter),Text=function(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_text-layer",parentEl.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){oop.implement(this,EventEmitter),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.$updateEolChar=function(){var EOL_CHAR="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=EOL_CHAR)return this.EOL_CHAR=EOL_CHAR,!0},this.setPadding=function(padding){this.$padding=padding,this.element.style.padding="0 "+padding+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(measure){this.$fontMetrics=measure,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(session){this.session=session,session&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(showInvisibles){return this.showInvisibles!=showInvisibles&&(this.showInvisibles=showInvisibles,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(display){return this.displayIndentGuides!=display&&(this.displayIndentGuides=display,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var tabSize=this.session.getTabSize();this.tabSize=tabSize;for(var tabStr=this.$tabStrings=[0],i=1;i<tabSize+1;i++)this.showInvisibles?tabStr.push("<span class='ace_invisible ace_invisible_tab'>"+lang.stringRepeat(this.TAB_CHAR,i)+"</span>"):tabStr.push(lang.stringRepeat(" ",i));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var className="ace_indent-guide",spaceClass="",tabClass="";if(this.showInvisibles){className+=" ace_invisible",spaceClass=" ace_invisible_space",tabClass=" ace_invisible_tab";var spaceContent=lang.stringRepeat(this.SPACE_CHAR,this.tabSize),tabContent=lang.stringRepeat(this.TAB_CHAR,this.tabSize)}else tabContent=spaceContent=lang.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+className+spaceClass+"'>"+spaceContent+"</span>",this.$tabStrings["\t"]="<span class='"+className+tabClass+"'>"+tabContent+"</span>"}},this.updateLines=function(config,firstRow,lastRow){this.config.lastRow==config.lastRow&&this.config.firstRow==config.firstRow||this.scrollLines(config),this.config=config;for(var first=Math.max(firstRow,config.firstRow),last=Math.min(lastRow,config.lastRow),lineElements=this.element.childNodes,lineElementsIdx=0,row=config.firstRow;row<first;row++){if(foldLine=this.session.getFoldLine(row)){if(foldLine.containsRow(first)){first=foldLine.start.row;break}row=foldLine.end.row}lineElementsIdx++}row=first;for(var foldLine,foldStart=(foldLine=this.session.getNextFoldLine(row))?foldLine.start.row:1/0;row>foldStart&&(row=foldLine.end.row+1,foldStart=(foldLine=this.session.getNextFoldLine(row,foldLine))?foldLine.start.row:1/0),!(row>last);){var lineElement=lineElements[lineElementsIdx++];if(lineElement){var html=[];this.$renderLine(html,row,!this.$useLineGroups(),row==foldStart&&foldLine),lineElement.style.height=config.lineHeight*this.session.getRowLength(row)+"px",lineElement.innerHTML=html.join("")}row++}},this.scrollLines=function(config){var oldConfig=this.config;if(this.config=config,!oldConfig||oldConfig.lastRow<config.firstRow)return this.update(config);if(config.lastRow<oldConfig.firstRow)return this.update(config);var el=this.element;if(oldConfig.firstRow<config.firstRow)for(var row=this.session.getFoldedRowCount(oldConfig.firstRow,config.firstRow-1);row>0;row--)el.removeChild(el.firstChild);if(oldConfig.lastRow>config.lastRow)for(row=this.session.getFoldedRowCount(config.lastRow+1,oldConfig.lastRow);row>0;row--)el.removeChild(el.lastChild);if(config.firstRow<oldConfig.firstRow){var fragment=this.$renderLinesFragment(config,config.firstRow,oldConfig.firstRow-1);el.firstChild?el.insertBefore(fragment,el.firstChild):el.appendChild(fragment)}if(config.lastRow>oldConfig.lastRow){fragment=this.$renderLinesFragment(config,oldConfig.lastRow+1,config.lastRow);el.appendChild(fragment)}},this.$renderLinesFragment=function(config,firstRow,lastRow){for(var fragment=this.element.ownerDocument.createDocumentFragment(),row=firstRow,foldLine=this.session.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;row>foldStart&&(row=foldLine.end.row+1,foldStart=(foldLine=this.session.getNextFoldLine(row,foldLine))?foldLine.start.row:1/0),!(row>lastRow);){var container=dom.createElement("div"),html=[];if(this.$renderLine(html,row,!1,row==foldStart&&foldLine),container.innerHTML=html.join(""),this.$useLineGroups())container.className="ace_line_group",fragment.appendChild(container),container.style.height=config.lineHeight*this.session.getRowLength(row)+"px";else for(;container.firstChild;)fragment.appendChild(container.firstChild);row++}return fragment},this.update=function(config){this.config=config;for(var html=[],firstRow=config.firstRow,lastRow=config.lastRow,row=firstRow,foldLine=this.session.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;row>foldStart&&(row=foldLine.end.row+1,foldStart=(foldLine=this.session.getNextFoldLine(row,foldLine))?foldLine.start.row:1/0),!(row>lastRow);)this.$useLineGroups()&&html.push("<div class='ace_line_group' style='height:",config.lineHeight*this.session.getRowLength(row),"px'>"),this.$renderLine(html,row,!1,row==foldStart&&foldLine),this.$useLineGroups()&&html.push("</div>"),row++;this.element.innerHTML=html.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(stringBuilder,screenColumn,token,value){var self=this,output=value.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,(function(c,a,b,tabIdx,idx4){if(a)return self.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+lang.stringRepeat(self.SPACE_CHAR,c.length)+"</span>":c;if("&"==c)return"&#38;";if("<"==c)return"&#60;";if(">"==c)return"&#62;";if("\t"==c){var tabSize=self.session.getScreenTabSize(screenColumn+tabIdx);return screenColumn+=tabSize-1,self.$tabStrings[tabSize]}if(""==c){var classToUse=self.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",space=self.showInvisibles?self.SPACE_CHAR:"";return screenColumn+=1,"<span class='"+classToUse+"' style='width:"+2*self.config.characterWidth+"px'>"+space+"</span>"}return b?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+self.SPACE_CHAR+"</span>":(screenColumn+=1,"<span class='ace_cjk' style='width:"+2*self.config.characterWidth+"px'>"+c+"</span>")}));if(this.$textToken[token.type])stringBuilder.push(output);else{var classes="ace_"+token.type.replace(/\./g," ace_"),style="";"fold"==token.type&&(style=" style='width:"+token.value.length*this.config.characterWidth+"px;' "),stringBuilder.push("<span class='",classes,"'",style,">",output,"</span>")}return screenColumn+value.length},this.renderIndentGuide=function(stringBuilder,value,max){var cols=value.search(this.$indentGuideRe);return cols<=0||cols>=max?value:" "==value[0]?(cols-=cols%this.tabSize,stringBuilder.push(lang.stringRepeat(this.$tabStrings[" "],cols/this.tabSize)),value.substr(cols)):"\t"==value[0]?(stringBuilder.push(lang.stringRepeat(this.$tabStrings["\t"],cols)),value.substr(cols)):value},this.$renderWrappedLine=function(stringBuilder,tokens,splits,onlyContents){for(var chars=0,split=0,splitChars=splits[0],screenColumn=0,i=0;i<tokens.length;i++){var token=tokens[i],value=token.value;if(0==i&&this.displayIndentGuides){if(chars=value.length,!(value=this.renderIndentGuide(stringBuilder,value,splitChars)))continue;chars-=value.length}if(chars+value.length<splitChars)screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value),chars+=value.length;else{for(;chars+value.length>=splitChars;)screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value.substring(0,splitChars-chars)),value=value.substring(splitChars-chars),chars=splitChars,onlyContents||stringBuilder.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),stringBuilder.push(lang.stringRepeat("",splits.indent)),screenColumn=0,splitChars=splits[++split]||Number.MAX_VALUE;0!=value.length&&(chars+=value.length,screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value))}}},this.$renderSimpleLine=function(stringBuilder,tokens){var screenColumn=0,token=tokens[0],value=token.value;this.displayIndentGuides&&(value=this.renderIndentGuide(stringBuilder,value)),value&&(screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value));for(var i=1;i<tokens.length;i++)value=(token=tokens[i]).value,screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value)},this.$renderLine=function(stringBuilder,row,onlyContents,foldLine){if(foldLine||0==foldLine||(foldLine=this.session.getFoldLine(row)),foldLine)var tokens=this.$getFoldLineTokens(row,foldLine);else tokens=this.session.getTokens(row);if(onlyContents||stringBuilder.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(row)),"px'>"),tokens.length){var splits=this.session.getRowSplitData(row);splits&&splits.length?this.$renderWrappedLine(stringBuilder,tokens,splits,onlyContents):this.$renderSimpleLine(stringBuilder,tokens)}this.showInvisibles&&(foldLine&&(row=foldLine.end.row),stringBuilder.push("<span class='ace_invisible ace_invisible_eol'>",row==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),onlyContents||stringBuilder.push("</div>")},this.$getFoldLineTokens=function(row,foldLine){var session=this.session,renderTokens=[];var tokens=session.getTokens(row);return foldLine.walk((function(placeholder,row,column,lastColumn,isNewRow){null!=placeholder?renderTokens.push({type:"fold",value:placeholder}):(isNewRow&&(tokens=session.getTokens(row)),tokens.length&&function(tokens,from,to){for(var idx=0,col=0;col+tokens[idx].value.length<from;)if(col+=tokens[idx].value.length,++idx==tokens.length)return;for(col!=from&&((value=tokens[idx].value.substring(from-col)).length>to-from&&(value=value.substring(0,to-from)),renderTokens.push({type:tokens[idx].type,value:value}),col=from+value.length,idx+=1);col<to&&idx<tokens.length;){var value;(value=tokens[idx].value).length+col>to?renderTokens.push({type:tokens[idx].type,value:value.substring(0,to-col)}):renderTokens.push(tokens[idx]),col+=value.length,idx+=1}}(tokens,lastColumn,column))}),foldLine.end.row,this.session.getLine(foldLine.end.row).length),renderTokens},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(Text.prototype),exports.Text=Text})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(acequire,exports,module){"use strict";var isIE8,dom=acequire("../lib/dom"),Cursor=function(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_cursor-layer",parentEl.appendChild(this.element),void 0===isIE8&&(isIE8=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),dom.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(isIE8?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(val){for(var cursors=this.cursors,i=cursors.length;i--;)cursors[i].style.visibility=val?"":"hidden"},this.$updateOpacity=function(val){for(var cursors=this.cursors,i=cursors.length;i--;)cursors[i].style.opacity=val?"":"0"},this.$padding=0,this.setPadding=function(padding){this.$padding=padding},this.setSession=function(session){this.session=session},this.setBlinking=function(blinking){blinking!=this.isBlinking&&(this.isBlinking=blinking,this.restartTimer())},this.setBlinkInterval=function(blinkInterval){blinkInterval!=this.blinkInterval&&(this.blinkInterval=blinkInterval,this.restartTimer())},this.setSmoothBlinking=function(smoothBlinking){smoothBlinking==this.smoothBlinking||isIE8||(this.smoothBlinking=smoothBlinking,dom.setCssClass(this.element,"ace_smooth-blinking",smoothBlinking),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var el=dom.createElement("div");return el.className="ace_cursor",this.element.appendChild(el),this.cursors.push(el),el},this.removeCursor=function(){if(this.cursors.length>1){var el=this.cursors.pop();return el.parentNode.removeChild(el),el}},this.hideCursor=function(){this.isVisible=!1,dom.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,dom.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var update=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&dom.removeCssClass(this.element,"ace_smooth-blinking"),update(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){dom.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var blink=function(){this.timeoutId=setTimeout((function(){update(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){update(!0),blink()}),this.blinkInterval),blink()}},this.getPixelPosition=function(position,onScreen){if(!this.config||!this.session)return{left:0,top:0};position||(position=this.session.selection.getCursor());var pos=this.session.documentToScreenPosition(position);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(pos.row,position.row)?this.session.$bidiHandler.getPosLeft(pos.column):pos.column*this.config.characterWidth),top:(pos.row-(onScreen?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(config){this.config=config;var selections=this.session.$selectionMarkers,i=0,cursorIndex=0;void 0!==selections&&0!==selections.length||(selections=[{cursor:null}]);i=0;for(var n=selections.length;i<n;i++){var pixelPos=this.getPixelPosition(selections[i].cursor,!0);if(!((pixelPos.top>config.height+config.offset||pixelPos.top<0)&&i>1)){var style=(this.cursors[cursorIndex++]||this.addCursor()).style;this.drawCursor?this.drawCursor(style,pixelPos,config,selections[i],this.session):(style.left=pixelPos.left+"px",style.top=pixelPos.top+"px",style.width=config.characterWidth+"px",style.height=config.lineHeight+"px")}}for(;this.cursors.length>cursorIndex;)this.removeCursor();var overwrite=this.session.getOverwrite();this.$setOverwrite(overwrite),this.$pixelPos=pixelPos,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(overwrite){overwrite!=this.overwrite&&(this.overwrite=overwrite,overwrite?dom.addCssClass(this.element,"ace_overwrite-cursors"):dom.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(Cursor.prototype),exports.Cursor=Cursor})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),dom=acequire("./lib/dom"),event=acequire("./lib/event"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,ScrollBar=function(parent){this.element=dom.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=dom.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),parent.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,event.addListener(this.element,"scroll",this.onScroll.bind(this)),event.addListener(this.element,"mousedown",event.preventDefault)};(function(){oop.implement(this,EventEmitter),this.setVisible=function(isVisible){this.element.style.display=isVisible?"":"none",this.isVisible=isVisible,this.coeff=1}}).call(ScrollBar.prototype);var VScrollBar=function(parent,renderer){ScrollBar.call(this,parent),this.scrollTop=0,this.scrollHeight=0,renderer.$scrollbarWidth=this.width=dom.scrollbarWidth(parent.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};oop.inherits(VScrollBar,ScrollBar),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var h=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-h)/(this.coeff-h)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(height){this.element.style.height=height+"px"},this.setInnerHeight=this.setScrollHeight=function(height){this.scrollHeight=height,height>32768?(this.coeff=32768/height,height=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=height+"px"},this.setScrollTop=function(scrollTop){this.scrollTop!=scrollTop&&(this.skipEvent=!0,this.scrollTop=scrollTop,this.element.scrollTop=scrollTop*this.coeff)}}.call(VScrollBar.prototype);var HScrollBar=function(parent,renderer){ScrollBar.call(this,parent),this.scrollLeft=0,this.height=renderer.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};oop.inherits(HScrollBar,ScrollBar),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(width){this.element.style.width=width+"px"},this.setInnerWidth=function(width){this.inner.style.width=width+"px"},this.setScrollWidth=function(width){this.inner.style.width=width+"px"},this.setScrollLeft=function(scrollLeft){this.scrollLeft!=scrollLeft&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=scrollLeft)}}.call(HScrollBar.prototype),exports.ScrollBar=VScrollBar,exports.ScrollBarV=VScrollBar,exports.ScrollBarH=HScrollBar,exports.VScrollBar=VScrollBar,exports.HScrollBar=HScrollBar})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(acequire,exports,module){"use strict";var event=acequire("./lib/event"),RenderLoop=function(onRender,win){this.onRender=onRender,this.pending=!1,this.changes=0,this.window=win||window};(function(){this.schedule=function(change){if(this.changes=this.changes|change,!this.pending&&this.changes){this.pending=!0;var _self=this;event.nextFrame((function(){var changes;for(_self.pending=!1;changes=_self.changes;)_self.changes=0,_self.onRender(changes)}),this.window)}}}).call(RenderLoop.prototype),exports.RenderLoop=RenderLoop})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(acequire,exports,module){var oop=acequire("../lib/oop"),dom=acequire("../lib/dom"),lang=acequire("../lib/lang"),useragent=acequire("../lib/useragent"),EventEmitter=acequire("../lib/event_emitter").EventEmitter,CHAR_COUNT=0,FontMetrics=exports.FontMetrics=function(parentEl){this.el=dom.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=dom.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=dom.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),parentEl.appendChild(this.el),CHAR_COUNT||this.$testFractionalRect(),this.$measureNode.innerHTML=lang.stringRepeat("X",CHAR_COUNT),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){oop.implement(this,EventEmitter),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var el=dom.createElement("div");this.$setMeasureNodeStyles(el.style),el.style.width="0.2px",document.documentElement.appendChild(el);var w=el.getBoundingClientRect().width;CHAR_COUNT=w>0&&w<1?50:100,el.parentNode.removeChild(el)},this.$setMeasureNodeStyles=function(style,isRoot){style.width=style.height="auto",style.left=style.top="0px",style.visibility="hidden",style.position="absolute",style.whiteSpace="pre",useragent.isIE<8?style["font-family"]="inherit":style.font="inherit",style.overflow=isRoot?"hidden":"visible"},this.checkForSizeChanges=function(){var size=this.$measureSizes();if(size&&(this.$characterSize.width!==size.width||this.$characterSize.height!==size.height)){this.$measureNode.style.fontWeight="bold";var boldSize=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=size,this.charSizes=Object.create(null),this.allowBoldFonts=boldSize&&boldSize.width===size.width&&boldSize.height===size.height,this._emit("changeCharacterSize",{data:size})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var self=this;return this.$pollSizeChangesTimer=setInterval((function(){self.checkForSizeChanges()}),500)},this.setPolling=function(val){val?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===CHAR_COUNT){var rect=null;try{rect=this.$measureNode.getBoundingClientRect()}catch(e){rect={width:0,height:0}}var size={height:rect.height,width:rect.width/CHAR_COUNT}}else size={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/CHAR_COUNT};return 0===size.width||0===size.height?null:size},this.$measureCharWidth=function(ch){return this.$main.innerHTML=lang.stringRepeat(ch,CHAR_COUNT),this.$main.getBoundingClientRect().width/CHAR_COUNT},this.getCharacterWidth=function(ch){var w=this.charSizes[ch];return void 0===w&&(w=this.charSizes[ch]=this.$measureCharWidth(ch)/this.$characterSize.width),w},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(FontMetrics.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),dom=acequire("./lib/dom"),config=acequire("./config"),useragent=acequire("./lib/useragent"),GutterLayer=acequire("./layer/gutter").Gutter,MarkerLayer=acequire("./layer/marker").Marker,TextLayer=acequire("./layer/text").Text,CursorLayer=acequire("./layer/cursor").Cursor,HScrollBar=acequire("./scrollbar").HScrollBar,VScrollBar=acequire("./scrollbar").VScrollBar,RenderLoop=acequire("./renderloop").RenderLoop,FontMetrics=acequire("./layer/font_metrics").FontMetrics,EventEmitter=acequire("./lib/event_emitter").EventEmitter;dom.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',"ace_editor.css");var VirtualRenderer=function(container,theme){var _self=this;this.container=container||dom.createElement("div"),this.$keepTextAreaAtCursor=!useragent.isOldIE,dom.addCssClass(this.container,"ace_editor"),this.setTheme(theme),this.$gutter=dom.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=dom.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=dom.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new GutterLayer(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new MarkerLayer(this.content);var textLayer=this.$textLayer=new TextLayer(this.content);this.canvas=textLayer.element,this.$markerFront=new MarkerLayer(this.content),this.$cursorLayer=new CursorLayer(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new VScrollBar(this.container,this),this.scrollBarH=new HScrollBar(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){_self.$scrollAnimation||_self.session.setScrollTop(e.data-_self.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){_self.$scrollAnimation||_self.session.setScrollLeft(e.data-_self.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new FontMetrics(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",(function(e){_self.updateCharacterSize(),_self.onResize(!0,_self.gutterWidth,_self.$size.width,_self.$size.height),_self._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new RenderLoop(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),config.resetOptions(this),config._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,oop.implement(this,EventEmitter),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(session){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=session,session&&this.scrollMargin.top&&session.getScrollTop()<=0&&session.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(session),this.$markerBack.setSession(session),this.$markerFront.setSession(session),this.$gutterLayer.setSession(session),this.$textLayer.setSession(session),session&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(firstRow,lastRow,force){if(void 0===lastRow&&(lastRow=1/0),this.$changedLines?(this.$changedLines.firstRow>firstRow&&(this.$changedLines.firstRow=firstRow),this.$changedLines.lastRow<lastRow&&(this.$changedLines.lastRow=lastRow)):this.$changedLines={firstRow:firstRow,lastRow:lastRow},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!force)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(force){force?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(force,gutterWidth,width,height){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=force?1:0;var el=this.container;height||(height=el.clientHeight||el.scrollHeight),width||(width=el.clientWidth||el.scrollWidth);var changes=this.$updateCachedSize(force,gutterWidth,width,height);if(!this.$size.scrollerHeight||!width&&!height)return this.resizing=0;force&&(this.$gutterLayer.$padding=null),force?this.$renderChanges(changes|this.$changes,!0):this.$loop.schedule(changes|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(force,gutterWidth,width,height){height-=this.$extraHeight||0;var changes=0,size=this.$size,oldSize={width:size.width,height:size.height,scrollerHeight:size.scrollerHeight,scrollerWidth:size.scrollerWidth};return height&&(force||size.height!=height)&&(size.height=height,changes|=this.CHANGE_SIZE,size.scrollerHeight=size.height,this.$horizScroll&&(size.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",changes|=this.CHANGE_SCROLL),width&&(force||size.width!=width)&&(changes|=this.CHANGE_SIZE,size.width=width,null==gutterWidth&&(gutterWidth=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=gutterWidth,this.scrollBarH.element.style.left=this.scroller.style.left=gutterWidth+"px",size.scrollerWidth=Math.max(0,width-gutterWidth-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||force)&&(changes|=this.CHANGE_FULL)),size.$dirty=!width||!height,changes&&this._signal("resize",oldSize),changes},this.onGutterResize=function(){var gutterWidth=this.$showGutter?this.$gutter.offsetWidth:0;gutterWidth!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,gutterWidth,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var availableWidth=this.$size.scrollerWidth-2*this.$padding,limit=Math.floor(availableWidth/this.characterWidth);return this.session.adjustWrapLimit(limit,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(shouldAnimate){this.setOption("animatedScroll",shouldAnimate)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(showInvisibles){this.setOption("showInvisibles",showInvisibles),this.session.$bidiHandler.setShowInvisibles(showInvisibles)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(display){this.setOption("displayIndentGuides",display)},this.setShowPrintMargin=function(showPrintMargin){this.setOption("showPrintMargin",showPrintMargin)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(showPrintMargin){this.setOption("printMarginColumn",showPrintMargin)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(show){return this.setOption("showGutter",show)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(show){this.setOption("fadeFoldWidgets",show)},this.setHighlightGutterLine=function(shouldHighlight){this.setOption("highlightGutterLine",shouldHighlight)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var pos=this.$cursorLayer.$pixelPos,height=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var cursor=this.session.selection.getCursor();cursor.column=0,pos=this.$cursorLayer.getPixelPosition(cursor,!0),height*=this.session.getRowLength(cursor.row)}this.$gutterLineHighlight.style.top=pos.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=height+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var containerEl=dom.createElement("div");containerEl.className="ace_layer ace_print-margin-layer",this.$printMarginEl=dom.createElement("div"),this.$printMarginEl.className="ace_print-margin",containerEl.appendChild(this.$printMarginEl),this.content.insertBefore(containerEl,this.content.firstChild)}var style=this.$printMarginEl.style;style.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",style.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var config=this.layerConfig,posTop=this.$cursorLayer.$pixelPos.top,posLeft=this.$cursorLayer.$pixelPos.left;posTop-=config.offset;var style=this.textarea.style,h=this.lineHeight;if(posTop<0||posTop>config.height-h)style.top=style.left="0";else{var w=this.characterWidth;if(this.$composition){var val=this.textarea.value.replace(/^\x01+/,"");w*=this.session.$getStringScreenWidth(val)[0]+2,h+=2}(posLeft-=this.scrollLeft)>this.$size.scrollerWidth-w&&(posLeft=this.$size.scrollerWidth-w),posLeft+=this.gutterWidth,style.height=h+"px",style.width=w+"px",style.left=Math.min(posLeft,this.$size.scrollerWidth-w)+"px",style.top=Math.min(posTop,this.$size.height-h)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var config=this.layerConfig,lastRow=config.lastRow;return this.session.documentToScreenRow(lastRow,0)*config.lineHeight-this.session.getScrollTop()>config.height-config.lineHeight?lastRow-1:lastRow},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(padding){this.$padding=padding,this.$textLayer.setPadding(padding),this.$cursorLayer.setPadding(padding),this.$markerFront.setPadding(padding),this.$markerBack.setPadding(padding),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(top,bottom,left,right){var sm=this.scrollMargin;sm.top=0|top,sm.bottom=0|bottom,sm.right=0|right,sm.left=0|left,sm.v=sm.top+sm.bottom,sm.h=sm.left+sm.right,sm.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-sm.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(alwaysVisible){this.setOption("hScrollBarAlwaysVisible",alwaysVisible)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(alwaysVisible){this.setOption("vScrollBarAlwaysVisible",alwaysVisible)},this.$updateScrollBarV=function(){var scrollHeight=this.layerConfig.maxHeight,scrollerHeight=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(scrollHeight-=(scrollerHeight-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>scrollHeight-scrollerHeight&&(scrollHeight=this.scrollTop+scrollerHeight,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(scrollHeight+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(changes,force){if(this.$changes&&(changes|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(changes||force)){if(this.$size.$dirty)return this.$changes|=changes,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var config=this.layerConfig;if(changes&this.CHANGE_FULL||changes&this.CHANGE_SIZE||changes&this.CHANGE_TEXT||changes&this.CHANGE_LINES||changes&this.CHANGE_SCROLL||changes&this.CHANGE_H_SCROLL){if(changes|=this.$computeLayerConfig(),config.firstRow!=this.layerConfig.firstRow&&config.firstRowScreen==this.layerConfig.firstRowScreen){var st=this.scrollTop+(config.firstRow-this.layerConfig.firstRow)*this.lineHeight;st>0&&(this.scrollTop=st,changes|=this.CHANGE_SCROLL,changes|=this.$computeLayerConfig())}config=this.layerConfig,this.$updateScrollBarV(),changes&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-config.offset+"px",this.content.style.marginTop=-config.offset+"px",this.content.style.width=config.width+2*this.$padding+"px",this.content.style.height=config.minHeight+"px"}if(changes&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),changes&this.CHANGE_FULL)return this.$textLayer.update(config),this.$showGutter&&this.$gutterLayer.update(config),this.$markerBack.update(config),this.$markerFront.update(config),this.$cursorLayer.update(config),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender");if(changes&this.CHANGE_SCROLL)return changes&this.CHANGE_TEXT||changes&this.CHANGE_LINES?this.$textLayer.update(config):this.$textLayer.scrollLines(config),this.$showGutter&&this.$gutterLayer.update(config),this.$markerBack.update(config),this.$markerFront.update(config),this.$cursorLayer.update(config),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender");changes&this.CHANGE_TEXT?(this.$textLayer.update(config),this.$showGutter&&this.$gutterLayer.update(config)):changes&this.CHANGE_LINES?(this.$updateLines()||changes&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(config):(changes&this.CHANGE_TEXT||changes&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(config),changes&this.CHANGE_CURSOR&&(this.$cursorLayer.update(config),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),changes&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(config),changes&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(config),this._signal("afterRender")}else this.$changes|=changes},this.$autosize=function(){var height=this.session.getScreenLength()*this.lineHeight,maxHeight=this.$maxLines*this.lineHeight,desiredHeight=Math.min(maxHeight,Math.max((this.$minLines||1)*this.lineHeight,height))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(desiredHeight+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&desiredHeight>this.$maxPixelHeight&&(desiredHeight=this.$maxPixelHeight);var vScroll=height>maxHeight;if(desiredHeight!=this.desiredHeight||this.$size.height!=this.desiredHeight||vScroll!=this.$vScroll){vScroll!=this.$vScroll&&(this.$vScroll=vScroll,this.scrollBarV.setVisible(vScroll));var w=this.container.clientWidth;this.container.style.height=desiredHeight+"px",this.$updateCachedSize(!0,this.$gutterWidth,w,desiredHeight),this.desiredHeight=desiredHeight,this._signal("autosize")}},this.$computeLayerConfig=function(){var session=this.session,size=this.$size,hideScrollbars=size.height<=2*this.lineHeight,maxHeight=this.session.getScreenLength()*this.lineHeight,longestLine=this.$getLongestLine(),horizScroll=!hideScrollbars&&(this.$hScrollBarAlwaysVisible||size.scrollerWidth-longestLine-2*this.$padding<0),hScrollChanged=this.$horizScroll!==horizScroll;hScrollChanged&&(this.$horizScroll=horizScroll,this.scrollBarH.setVisible(horizScroll));var vScrollBefore=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var offset=this.scrollTop%this.lineHeight,minHeight=size.scrollerHeight+this.lineHeight,scrollPastEnd=!this.$maxLines&&this.$scrollPastEnd?(size.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;maxHeight+=scrollPastEnd;var sm=this.scrollMargin;this.session.setScrollTop(Math.max(-sm.top,Math.min(this.scrollTop,maxHeight-size.scrollerHeight+sm.bottom))),this.session.setScrollLeft(Math.max(-sm.left,Math.min(this.scrollLeft,longestLine+2*this.$padding-size.scrollerWidth+sm.right)));var vScroll=!hideScrollbars&&(this.$vScrollBarAlwaysVisible||size.scrollerHeight-maxHeight+scrollPastEnd<0||this.scrollTop>sm.top),vScrollChanged=vScrollBefore!==vScroll;vScrollChanged&&(this.$vScroll=vScroll,this.scrollBarV.setVisible(vScroll));var firstRowScreen,firstRowHeight,lineCount=Math.ceil(minHeight/this.lineHeight)-1,firstRow=Math.max(0,Math.round((this.scrollTop-offset)/this.lineHeight)),lastRow=firstRow+lineCount,lineHeight=this.lineHeight;firstRow=session.screenToDocumentRow(firstRow,0);var foldLine=session.getFoldLine(firstRow);foldLine&&(firstRow=foldLine.start.row),firstRowScreen=session.documentToScreenRow(firstRow,0),firstRowHeight=session.getRowLength(firstRow)*lineHeight,lastRow=Math.min(session.screenToDocumentRow(lastRow,0),session.getLength()-1),minHeight=size.scrollerHeight+session.getRowLength(lastRow)*lineHeight+firstRowHeight,offset=this.scrollTop-firstRowScreen*lineHeight;var changes=0;return this.layerConfig.width!=longestLine&&(changes=this.CHANGE_H_SCROLL),(hScrollChanged||vScrollChanged)&&(changes=this.$updateCachedSize(!0,this.gutterWidth,size.width,size.height),this._signal("scrollbarVisibilityChanged"),vScrollChanged&&(longestLine=this.$getLongestLine())),this.layerConfig={width:longestLine,padding:this.$padding,firstRow:firstRow,firstRowScreen:firstRowScreen,lastRow:lastRow,lineHeight:lineHeight,characterWidth:this.characterWidth,minHeight:minHeight,maxHeight:maxHeight,offset:offset,gutterOffset:lineHeight?Math.max(0,Math.ceil((offset+size.height-size.scrollerHeight)/lineHeight)):0,height:this.$size.scrollerHeight},changes},this.$updateLines=function(){if(this.$changedLines){var firstRow=this.$changedLines.firstRow,lastRow=this.$changedLines.lastRow;this.$changedLines=null;var layerConfig=this.layerConfig;if(!(firstRow>layerConfig.lastRow+1||lastRow<layerConfig.firstRow))return lastRow===1/0?(this.$showGutter&&this.$gutterLayer.update(layerConfig),void this.$textLayer.update(layerConfig)):(this.$textLayer.updateLines(layerConfig,firstRow,lastRow),!0)}},this.$getLongestLine=function(){var charCount=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(charCount+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(charCount*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(row,className){this.$gutterLayer.addGutterDecoration(row,className)},this.removeGutterDecoration=function(row,className){this.$gutterLayer.removeGutterDecoration(row,className)},this.updateBreakpoints=function(rows){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(annotations){this.$gutterLayer.setAnnotations(annotations),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(anchor,lead,offset){this.scrollCursorIntoView(anchor,offset),this.scrollCursorIntoView(lead,offset)},this.scrollCursorIntoView=function(cursor,offset,$viewMargin){if(0!==this.$size.scrollerHeight){var pos=this.$cursorLayer.getPixelPosition(cursor),left=pos.left,top=pos.top,topMargin=$viewMargin&&$viewMargin.top||0,bottomMargin=$viewMargin&&$viewMargin.bottom||0,scrollTop=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;scrollTop+topMargin>top?(offset&&scrollTop+topMargin>top+this.lineHeight&&(top-=offset*this.$size.scrollerHeight),0===top&&(top=-this.scrollMargin.top),this.session.setScrollTop(top)):scrollTop+this.$size.scrollerHeight-bottomMargin<top+this.lineHeight&&(offset&&scrollTop+this.$size.scrollerHeight-bottomMargin<top-this.lineHeight&&(top+=offset*this.$size.scrollerHeight),this.session.setScrollTop(top+this.lineHeight-this.$size.scrollerHeight));var scrollLeft=this.scrollLeft;scrollLeft>left?(left<this.$padding+2*this.layerConfig.characterWidth&&(left=-this.scrollMargin.left),this.session.setScrollLeft(left)):scrollLeft+this.$size.scrollerWidth<left+this.characterWidth?this.session.setScrollLeft(Math.round(left+this.characterWidth-this.$size.scrollerWidth)):scrollLeft<=this.$padding&&left-scrollLeft<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(row){this.session.setScrollTop(row*this.lineHeight)},this.alignCursor=function(cursor,alignment){"number"==typeof cursor&&(cursor={row:cursor,column:0});var pos=this.$cursorLayer.getPixelPosition(cursor),h=this.$size.scrollerHeight-this.lineHeight,offset=pos.top-h*(alignment||0);return this.session.setScrollTop(offset),offset},this.STEPS=8,this.$calcSteps=function(fromValue,toValue){var t,x_min,i=0,l=this.STEPS,steps=[];for(i=0;i<l;++i)steps.push((t=i/this.STEPS,x_min=fromValue,(toValue-fromValue)*(Math.pow(t-1,3)+1)+x_min));return steps},this.scrollToLine=function(line,center,animate,callback){var offset=this.$cursorLayer.getPixelPosition({row:line,column:0}).top;center&&(offset-=this.$size.scrollerHeight/2);var initialScroll=this.scrollTop;this.session.setScrollTop(offset),!1!==animate&&this.animateScrolling(initialScroll,callback)},this.animateScrolling=function(fromValue,callback){var toValue=this.scrollTop;if(this.$animatedScroll){var _self=this;if(fromValue!=toValue){if(this.$scrollAnimation){var oldSteps=this.$scrollAnimation.steps;if(oldSteps.length&&(fromValue=oldSteps[0])==toValue)return}var steps=_self.$calcSteps(fromValue,toValue);this.$scrollAnimation={from:fromValue,to:toValue,steps:steps},clearInterval(this.$timer),_self.session.setScrollTop(steps.shift()),_self.session.$scrollTop=toValue,this.$timer=setInterval((function(){steps.length?(_self.session.setScrollTop(steps.shift()),_self.session.$scrollTop=toValue):null!=toValue?(_self.session.$scrollTop=-1,_self.session.setScrollTop(toValue),toValue=null):(_self.$timer=clearInterval(_self.$timer),_self.$scrollAnimation=null,callback&&callback())}),10)}}},this.scrollToY=function(scrollTop){this.scrollTop!==scrollTop&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=scrollTop)},this.scrollToX=function(scrollLeft){this.scrollLeft!==scrollLeft&&(this.scrollLeft=scrollLeft),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(x,y){this.session.setScrollTop(y),this.session.setScrollLeft(y)},this.scrollBy=function(deltaX,deltaY){deltaY&&this.session.setScrollTop(this.session.getScrollTop()+deltaY),deltaX&&this.session.setScrollLeft(this.session.getScrollLeft()+deltaX)},this.isScrollableBy=function(deltaX,deltaY){return deltaY<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(deltaY>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(deltaX<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(deltaX>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(x,y){var canvasPos=this.scroller.getBoundingClientRect(),offsetX=x+this.scrollLeft-canvasPos.left-this.$padding,offset=offsetX/this.characterWidth,row=Math.floor((y+this.scrollTop-canvasPos.top)/this.lineHeight),col=Math.round(offset);return{row:row,column:col,side:offset-col>0?1:-1,offsetX:offsetX}},this.screenToTextCoordinates=function(x,y){var canvasPos=this.scroller.getBoundingClientRect(),offsetX=x+this.scrollLeft-canvasPos.left-this.$padding,col=Math.round(offsetX/this.characterWidth),row=(y+this.scrollTop-canvasPos.top)/this.lineHeight;return this.session.screenToDocumentPosition(row,Math.max(col,0),offsetX)},this.textToScreenCoordinates=function(row,column){var canvasPos=this.scroller.getBoundingClientRect(),pos=this.session.documentToScreenPosition(row,column),x=this.$padding+(this.session.$bidiHandler.isBidiRow(pos.row,row)?this.session.$bidiHandler.getPosLeft(pos.column):Math.round(pos.column*this.characterWidth)),y=pos.row*this.lineHeight;return{pageX:canvasPos.left+x-this.scrollLeft,pageY:canvasPos.top+y-this.scrollTop}},this.visualizeFocus=function(){dom.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){dom.removeCssClass(this.container,"ace_focus")},this.showComposition=function(position){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,dom.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(text){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(dom.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(theme,cb){var _self=this;if(this.$themeId=theme,_self._dispatchEvent("themeChange",{theme:theme}),theme&&"string"!=typeof theme)afterLoad(theme);else{var moduleName=theme||this.$options.theme.initialValue;config.loadModule(["theme",moduleName],afterLoad)}function afterLoad(module){if(_self.$themeId!=theme)return cb&&cb();if(!module||!module.cssClass)throw new Error("couldn't load module "+theme+" or it didn't call define");dom.importCssString(module.cssText,module.cssClass,_self.container.ownerDocument),_self.theme&&dom.removeCssClass(_self.container,_self.theme.cssClass);var padding="padding"in module?module.padding:"padding"in(_self.theme||{})?4:_self.$padding;_self.$padding&&padding!=_self.$padding&&_self.setPadding(padding),_self.$theme=module.cssClass,_self.theme=module,dom.addCssClass(_self.container,module.cssClass),dom.setCssClass(_self.container,"ace_dark",module.isDark),_self.$size&&(_self.$size.width=0,_self.$updateSizeAsync()),_self._dispatchEvent("themeLoaded",{theme:module}),cb&&cb()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(style,include){dom.setCssClass(this.container,style,!1!==include)},this.unsetStyle=function(style){dom.removeCssClass(this.container,style)},this.setCursorStyle=function(style){this.scroller.style.cursor!=style&&(this.scroller.style.cursor=style)},this.setMouseCursor=function(cursorStyle){this.scroller.style.cursor=cursorStyle},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(VirtualRenderer.prototype),config.defineOptions(VirtualRenderer.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(value){this.$textLayer.setShowInvisibles(value)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(val){"number"==typeof val&&(this.$printMarginColumn=val),this.$showPrintMargin=!!val,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(show){this.$gutter.style.display=show?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(show){dom.setCssClass(this.$gutter,"ace_fade-fold-widgets",show)},initialValue:!1},showFoldWidgets:{set:function(show){this.$gutterLayer.setShowFoldWidgets(show)},initialValue:!0},showLineNumbers:{set:function(show){this.$gutterLayer.setShowLineNumbers(show),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(show){this.$textLayer.setDisplayIndentGuides(show)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(shouldHighlight){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=dom.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=shouldHighlight?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(val){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(val){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(size){"number"==typeof size&&(size+="px"),this.container.style.fontSize=size,this.updateFontSize()},initialValue:12},fontFamily:{set:function(name){this.container.style.fontFamily=name,this.updateFontSize()}},maxLines:{set:function(val){this.updateFull()}},minLines:{set:function(val){this.updateFull()}},maxPixelHeight:{set:function(val){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(val){val=+val||0,this.$scrollPastEnd!=val&&(this.$scrollPastEnd=val,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(val){this.$gutterLayer.$fixedWidth=!!val,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(val){this.setTheme(val)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),exports.VirtualRenderer=VirtualRenderer})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop"),net=acequire("../lib/net"),EventEmitter=acequire("../lib/event_emitter").EventEmitter,config=acequire("../config");function createWorker(workerUrl,mod){var blob=function(workerUrl,mod){var script=mod.src;net.qualifyURL(workerUrl);try{return new Blob([script],{type:"application/javascript"})}catch(e){var blobBuilder=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return blobBuilder.append(script),blobBuilder.getBlob("application/javascript")}}(workerUrl,mod),blobURL=(window.URL||window.webkitURL).createObjectURL(blob);return new Worker(blobURL)}var WorkerClient=function(topLevelNamespaces,mod,classname,workerUrl,importScripts){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),acequire.nameToUrl&&!acequire.toUrl&&(acequire.toUrl=acequire.nameToUrl),config.get("packaged")||!acequire.toUrl)workerUrl=workerUrl||config.moduleUrl(mod.id,"worker");else{var normalizePath=this.$normalizePath;workerUrl=workerUrl||normalizePath(acequire.toUrl("ace/worker/worker.js",null,"_"));var tlns={};topLevelNamespaces.forEach((function(ns){tlns[ns]=normalizePath(acequire.toUrl(ns,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}this.$worker=createWorker(workerUrl,mod),importScripts&&this.send("importScripts",importScripts),this.$worker.postMessage({init:!0,tlns:tlns,module:mod.id,classname:classname}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){oop.implement(this,EventEmitter),this.onMessage=function(e){var msg=e.data;switch(msg.type){case"event":this._signal(msg.name,{data:msg.data});break;case"call":var callback=this.callbacks[msg.id];callback&&(callback(msg.data),delete this.callbacks[msg.id]);break;case"error":this.reportError(msg.data);break;case"log":window.console&&console.log&&console.log.apply(console,msg.data)}},this.reportError=function(err){window.console&&console.error&&console.error(err)},this.$normalizePath=function(path){return net.qualifyURL(path)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(cmd,args){this.$worker.postMessage({command:cmd,args:args})},this.call=function(cmd,args,callback){if(callback){var id=this.callbackId++;this.callbacks[id]=callback,args.push(id)}this.send(cmd,args)},this.emit=function(event,data){try{this.$worker.postMessage({event:event,data:{data:data.data}})}catch(ex){console.error(ex.stack)}},this.attachToDocument=function(doc){this.$doc&&this.terminate(),this.$doc=doc,this.call("setValue",[doc.getValue()]),doc.on("change",this.changeListener)},this.changeListener=function(delta){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==delta.action?this.deltaQueue.push(delta.start,delta.lines):this.deltaQueue.push(delta.start,delta.end)},this.$sendDeltaQueue=function(){var q=this.deltaQueue;q&&(this.deltaQueue=null,q.length>50&&q.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:q}))}}).call(WorkerClient.prototype);var UIWorkerClient=function(topLevelNamespaces,mod,classname){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var main=null,emitSync=!1,sender=Object.create(EventEmitter),_self=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){_self.messageBuffer.push(e),main&&(emitSync?setTimeout(processNext):processNext())},this.setEmitSync=function(val){emitSync=val};var processNext=function(){var msg=_self.messageBuffer.shift();msg.command?main[msg.command].apply(main,msg.args):msg.event&&sender._signal(msg.event,msg.data)};sender.postMessage=function(msg){_self.onMessage({data:msg})},sender.callback=function(data,callbackId){this.postMessage({type:"call",id:callbackId,data:data})},sender.emit=function(name,data){this.postMessage({type:"event",name:name,data:data})},config.loadModule(["worker",mod],(function(Main){for(main=new Main[classname](sender);_self.messageBuffer.length;)processNext()}))};UIWorkerClient.prototype=WorkerClient.prototype,exports.UIWorkerClient=UIWorkerClient,exports.WorkerClient=WorkerClient,exports.createWorker=createWorker})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(acequire,exports,module){"use strict";var Range=acequire("./range").Range,EventEmitter=acequire("./lib/event_emitter").EventEmitter,oop=acequire("./lib/oop"),PlaceHolder=function(session,length,pos,others,mainClass,othersClass){var _self=this;this.length=length,this.session=session,this.doc=session.getDocument(),this.mainClass=mainClass,this.othersClass=othersClass,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=others,this.$onCursorChange=function(){setTimeout((function(){_self.onCursorChange()}))},this.$pos=pos;var undoStack=session.getUndoManager().$undoStack||session.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=undoStack.length,this.setup(),session.selection.on("changeCursor",this.$onCursorChange)};(function(){oop.implement(this,EventEmitter),this.setup=function(){var _self=this,doc=this.doc,session=this.session;this.selectionBefore=session.selection.toJSON(),session.selection.inMultiSelectMode&&session.selection.toSingleRange(),this.pos=doc.createAnchor(this.$pos.row,this.$pos.column);var pos=this.pos;pos.$insertRight=!0,pos.detach(),pos.markerId=session.addMarker(new Range(pos.row,pos.column,pos.row,pos.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(other){var anchor=doc.createAnchor(other.row,other.column);anchor.$insertRight=!0,anchor.detach(),_self.others.push(anchor)})),session.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var session=this.session,_self=this;this.othersActive=!0,this.others.forEach((function(anchor){anchor.markerId=session.addMarker(new Range(anchor.row,anchor.column,anchor.row,anchor.column+_self.length),_self.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var i=0;i<this.others.length;i++)this.session.removeMarker(this.others[i].markerId)}},this.onUpdate=function(delta){if(this.$updating)return this.updateAnchors(delta);var range=delta;if(range.start.row===range.end.row&&range.start.row===this.pos.row){this.$updating=!0;var lengthDiff="insert"===delta.action?range.end.column-range.start.column:range.start.column-range.end.column,inMainRange=range.start.column>=this.pos.column&&range.start.column<=this.pos.column+this.length+1,distanceFromStart=range.start.column-this.pos.column;if(this.updateAnchors(delta),inMainRange&&(this.length+=lengthDiff),inMainRange&&!this.session.$fromUndo)if("insert"===delta.action)for(var i=this.others.length-1;i>=0;i--){var newPos={row:(otherPos=this.others[i]).row,column:otherPos.column+distanceFromStart};this.doc.insertMergedLines(newPos,delta.lines)}else if("remove"===delta.action)for(i=this.others.length-1;i>=0;i--){var otherPos;newPos={row:(otherPos=this.others[i]).row,column:otherPos.column+distanceFromStart};this.doc.remove(new Range(newPos.row,newPos.column,newPos.row,newPos.column-lengthDiff))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(delta){this.pos.onChange(delta);for(var i=this.others.length;i--;)this.others[i].onChange(delta);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var _self=this,session=this.session,updateMarker=function(pos,className){session.removeMarker(pos.markerId),pos.markerId=session.addMarker(new Range(pos.row,pos.column,pos.row,pos.column+_self.length),className,null,!1)};updateMarker(this.pos,this.mainClass);for(var i=this.others.length;i--;)updateMarker(this.others[i],this.othersClass)}},this.onCursorChange=function(event){if(!this.$updating&&this.session){var pos=this.session.selection.getCursor();pos.row===this.pos.row&&pos.column>=this.pos.column&&pos.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",event)):(this.hideOtherMarkers(),this._emit("cursorLeave",event))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var undoManager=this.session.getUndoManager(),undosRequired=(undoManager.$undoStack||undoManager.$undostack).length-this.$undoStackDepth,i=0;i<undosRequired;i++)undoManager.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(PlaceHolder.prototype),exports.PlaceHolder=PlaceHolder})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(acequire,exports,module){var event=acequire("../lib/event"),useragent=acequire("../lib/useragent");function isSamePoint(p1,p2){return p1.row==p2.row&&p1.column==p2.column}exports.onMouseDown=function(e){var ev=e.domEvent,alt=ev.altKey,shift=ev.shiftKey,ctrl=ev.ctrlKey,accel=e.getAccelKey(),button=e.getButton();if(ctrl&&useragent.isMac&&(button=ev.button),e.editor.inMultiSelectMode&&2==button)e.editor.textInput.onContextMenu(e.domEvent);else if(ctrl||alt||accel){if(0===button){var selectionMode,editor=e.editor,selection=editor.selection,isMultiSelect=editor.inMultiSelectMode,pos=e.getDocumentPosition(),cursor=selection.getCursor(),inSelection=e.inSelection()||selection.isEmpty()&&isSamePoint(pos,cursor),mouseX=e.x,mouseY=e.y,session=editor.session,screenAnchor=editor.renderer.pixelToScreenCoordinates(mouseX,mouseY),screenCursor=screenAnchor;if(editor.$mouseHandler.$enableJumpToDef)ctrl&&alt||accel&&alt?selectionMode=shift?"block":"add":alt&&editor.$blockSelectEnabled&&(selectionMode="block");else if(accel&&!alt){if(selectionMode="add",!isMultiSelect&&shift)return}else alt&&editor.$blockSelectEnabled&&(selectionMode="block");if(selectionMode&&useragent.isMac&&ev.ctrlKey&&editor.$mouseHandler.cancelContextMenu(),"add"==selectionMode){if(!isMultiSelect&&inSelection)return;if(!isMultiSelect){var range=selection.toOrientedRange();editor.addSelectionMarker(range)}var oldRange=selection.rangeList.rangeAtPoint(pos);editor.$blockScrolling++,editor.inVirtualSelectionMode=!0,shift&&(oldRange=null,range=selection.ranges[0]||range,editor.removeSelectionMarker(range)),editor.once("mouseup",(function(){var tmpSel=selection.toOrientedRange();oldRange&&tmpSel.isEmpty()&&isSamePoint(oldRange.cursor,tmpSel.cursor)?selection.substractPoint(tmpSel.cursor):(shift?selection.substractPoint(range.cursor):range&&(editor.removeSelectionMarker(range),selection.addRange(range)),selection.addRange(tmpSel)),editor.$blockScrolling--,editor.inVirtualSelectionMode=!1}))}else if("block"==selectionMode){var initialRange;e.stop(),editor.inVirtualSelectionMode=!0;var rectSel=[];editor.$blockScrolling++,isMultiSelect&&!accel?selection.toSingleRange():!isMultiSelect&&accel&&(initialRange=selection.toOrientedRange(),editor.addSelectionMarker(initialRange)),shift?screenAnchor=session.documentToScreenPosition(selection.lead):selection.moveToPosition(pos),editor.$blockScrolling--,screenCursor={row:-1,column:-1};var onSelectionInterval=function(){var newCursor=editor.renderer.pixelToScreenCoordinates(mouseX,mouseY),cursor=session.screenToDocumentPosition(newCursor.row,newCursor.column,newCursor.offsetX);isSamePoint(screenCursor,newCursor)&&isSamePoint(cursor,selection.lead)||(screenCursor=newCursor,editor.$blockScrolling++,editor.selection.moveToPosition(cursor),editor.renderer.scrollCursorIntoView(),editor.removeSelectionMarkers(rectSel),rectSel=selection.rectangularRangeBlock(screenCursor,screenAnchor),editor.$mouseHandler.$clickSelection&&1==rectSel.length&&rectSel[0].isEmpty()&&(rectSel[0]=editor.$mouseHandler.$clickSelection.clone()),rectSel.forEach(editor.addSelectionMarker,editor),editor.updateSelectionMarkers(),editor.$blockScrolling--)};event.capture(editor.container,(function(e){mouseX=e.clientX,mouseY=e.clientY}),(function(e){clearInterval(timerId),editor.removeSelectionMarkers(rectSel),rectSel.length||(rectSel=[selection.toOrientedRange()]),editor.$blockScrolling++,initialRange&&(editor.removeSelectionMarker(initialRange),selection.toSingleRange(initialRange));for(var i=0;i<rectSel.length;i++)selection.addRange(rectSel[i]);editor.inVirtualSelectionMode=!1,editor.$mouseHandler.$clickSelection=null,editor.$blockScrolling--}));var timerId=setInterval((function(){onSelectionInterval()}),20);return e.preventDefault()}}}else 0===button&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(acequire,exports,module){exports.defaultCommands=[{name:"addCursorAbove",exec:function(editor){editor.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(editor){editor.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(editor){editor.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(editor){editor.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(editor){editor.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(editor){editor.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(editor){editor.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(editor){editor.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(editor){editor.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(editor){editor.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(editor){editor.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],exports.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(editor){editor.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(editor){return editor&&editor.inMultiSelectMode}}];var HashHandler=acequire("../keyboard/hash_handler").HashHandler;exports.keyboardHandler=new HashHandler(exports.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(acequire,exports,module){var RangeList=acequire("./range_list").RangeList,Range=acequire("./range").Range,Selection=acequire("./selection").Selection,onMouseDown=acequire("./mouse/multi_select_handler").onMouseDown,event=acequire("./lib/event"),lang=acequire("./lib/lang"),commands=acequire("./commands/multi_select_commands");exports.commands=commands.defaultCommands.concat(commands.multiSelectCommands);var search=new(0,acequire("./search").Search);var EditSession=acequire("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(EditSession.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(range,$blockChangeEvents){if(range){if(!this.inMultiSelectMode&&0===this.rangeCount){var oldRange=this.toOrientedRange();if(this.rangeList.add(oldRange),this.rangeList.add(range),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),$blockChangeEvents||this.fromOrientedRange(range);this.rangeList.removeAll(),this.rangeList.add(oldRange),this.$onAddRange(oldRange)}range.cursor||(range.cursor=range.end);var removed=this.rangeList.add(range);return this.$onAddRange(range),removed.length&&this.$onRemoveRange(removed),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),$blockChangeEvents||this.fromOrientedRange(range)}},this.toSingleRange=function(range){range=range||this.ranges[0];var removed=this.rangeList.removeAll();removed.length&&this.$onRemoveRange(removed),range&&this.fromOrientedRange(range)},this.substractPoint=function(pos){var removed=this.rangeList.substractPoint(pos);if(removed)return this.$onRemoveRange(removed),removed[0]},this.mergeOverlappingRanges=function(){var removed=this.rangeList.merge();removed.length?this.$onRemoveRange(removed):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(range){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(range),this._signal("addRange",{range:range})},this.$onRemoveRange=function(removed){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var lastRange=this.rangeList.ranges.pop();removed.push(lastRange),this.rangeCount=0}for(var i=removed.length;i--;){var index=this.ranges.indexOf(removed[i]);this.ranges.splice(index,1)}this._signal("removeRange",{ranges:removed}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(lastRange=lastRange||this.ranges[0])&&!lastRange.isEqual(this.getRange())&&this.fromOrientedRange(lastRange)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new RangeList,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var ranges=this.rangeList.ranges,lastRange=ranges[ranges.length-1],range=Range.fromPoints(ranges[0].start,lastRange.end);this.toSingleRange(),this.setSelectionRange(range,lastRange.cursor==lastRange.start)}else{range=this.getRange();var isBackwards=this.isBackwards(),startRow=range.start.row,endRow=range.end.row;if(startRow==endRow){if(isBackwards)var start=range.end,end=range.start;else start=range.start,end=range.end;return this.addRange(Range.fromPoints(end,end)),void this.addRange(Range.fromPoints(start,start))}var rectSel=[],r=this.getLineRange(startRow,!0);r.start.column=range.start.column,rectSel.push(r);for(var i=startRow+1;i<endRow;i++)rectSel.push(this.getLineRange(i,!0));(r=this.getLineRange(endRow,!0)).end.column=range.end.column,rectSel.push(r),rectSel.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var ranges=this.rangeList.ranges,lastRange=ranges[ranges.length-1],range=Range.fromPoints(ranges[0].start,lastRange.end);this.toSingleRange(),this.setSelectionRange(range,lastRange.cursor==lastRange.start)}else{var cursor=this.session.documentToScreenPosition(this.selectionLead),anchor=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(cursor,anchor).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(screenCursor,screenAnchor,includeEmptyLines){var rectSel=[],xBackwards=screenCursor.column<screenAnchor.column;if(xBackwards)var startColumn=screenCursor.column,endColumn=screenAnchor.column,startOffsetX=screenCursor.offsetX,endOffsetX=screenAnchor.offsetX;else startColumn=screenAnchor.column,endColumn=screenCursor.column,startOffsetX=screenAnchor.offsetX,endOffsetX=screenCursor.offsetX;var p1,p2,yBackwards=screenCursor.row<screenAnchor.row;if(yBackwards)var startRow=screenCursor.row,endRow=screenAnchor.row;else startRow=screenAnchor.row,endRow=screenCursor.row;startColumn<0&&(startColumn=0),startRow<0&&(startRow=0),startRow==endRow&&(includeEmptyLines=!0);for(var row=startRow;row<=endRow;row++){var range=Range.fromPoints(this.session.screenToDocumentPosition(row,startColumn,startOffsetX),this.session.screenToDocumentPosition(row,endColumn,endOffsetX));if(range.isEmpty()){if(docEnd&&(p1=range.end,p2=docEnd,p1.row==p2.row&&p1.column==p2.column))break;var docEnd=range.end}range.cursor=xBackwards?range.start:range.end,rectSel.push(range)}if(yBackwards&&rectSel.reverse(),!includeEmptyLines){for(var end=rectSel.length-1;rectSel[end].isEmpty()&&end>0;)end--;if(end>0)for(var start=0;rectSel[start].isEmpty();)start++;for(var i=end;i>=start;i--)rectSel[i].isEmpty()&&rectSel.splice(i,1)}return rectSel}}.call(Selection.prototype);var Editor=acequire("./editor").Editor;function MultiSelect(editor){editor.$multiselectOnSessionChange||(editor.$onAddRange=editor.$onAddRange.bind(editor),editor.$onRemoveRange=editor.$onRemoveRange.bind(editor),editor.$onMultiSelect=editor.$onMultiSelect.bind(editor),editor.$onSingleSelect=editor.$onSingleSelect.bind(editor),editor.$multiselectOnSessionChange=exports.onSessionChange.bind(editor),editor.$checkMultiselectChange=editor.$checkMultiselectChange.bind(editor),editor.$multiselectOnSessionChange(editor),editor.on("changeSession",editor.$multiselectOnSessionChange),editor.on("mousedown",onMouseDown),editor.commands.addCommands(commands.defaultCommands),function(editor){var el=editor.textInput.getElement(),altCursor=!1;function reset(e){altCursor&&(editor.renderer.setMouseCursor(""),altCursor=!1)}event.addListener(el,"keydown",(function(e){var altDown=18==e.keyCode&&!(e.ctrlKey||e.shiftKey||e.metaKey);editor.$blockSelectEnabled&&altDown?altCursor||(editor.renderer.setMouseCursor("crosshair"),altCursor=!0):altCursor&&reset()})),event.addListener(el,"keyup",reset),event.addListener(el,"blur",reset)}(editor))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(orientedRange){orientedRange.cursor||(orientedRange.cursor=orientedRange.end);var style=this.getSelectionStyle();return orientedRange.marker=this.session.addMarker(orientedRange,"ace_selection",style),this.session.$selectionMarkers.push(orientedRange),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,orientedRange},this.removeSelectionMarker=function(range){if(range.marker){this.session.removeMarker(range.marker);var index=this.session.$selectionMarkers.indexOf(range);-1!=index&&this.session.$selectionMarkers.splice(index,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(ranges){for(var markerList=this.session.$selectionMarkers,i=ranges.length;i--;){var range=ranges[i];if(range.marker){this.session.removeMarker(range.marker);var index=markerList.indexOf(range);-1!=index&&markerList.splice(index,1)}}this.session.selectionMarkerCount=markerList.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(commands.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(commands.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var command=e.command,editor=e.editor;if(editor.multiSelect){if(command.multiSelectAction)"forEach"==command.multiSelectAction?result=editor.forEachSelection(command,e.args):"forEachLine"==command.multiSelectAction?result=editor.forEachSelection(command,e.args,!0):"single"==command.multiSelectAction?(editor.exitMultiSelectMode(),result=command.exec(editor,e.args||{})):result=command.multiSelectAction(editor,e.args||{});else{var result=command.exec(editor,e.args||{});editor.multiSelect.addRange(editor.multiSelect.toOrientedRange()),editor.multiSelect.mergeOverlappingRanges()}return result}},this.forEachSelection=function(cmd,args,options){if(!this.inVirtualSelectionMode){var result,keepOrder=options&&options.keepOrder,$byLines=1==options||options&&options.$byLines,session=this.session,selection=this.selection,rangeList=selection.rangeList,ranges=(keepOrder?selection:rangeList).ranges;if(!ranges.length)return cmd.exec?cmd.exec(this,args||{}):cmd(this,args||{});var reg=selection._eventRegistry;selection._eventRegistry={};var tmpSel=new Selection(session);this.inVirtualSelectionMode=!0;for(var i=ranges.length;i--;){if($byLines)for(;i>0&&ranges[i].start.row==ranges[i-1].end.row;)i--;tmpSel.fromOrientedRange(ranges[i]),tmpSel.index=i,this.selection=session.selection=tmpSel;var cmdResult=cmd.exec?cmd.exec(this,args||{}):cmd(this,args||{});result||void 0===cmdResult||(result=cmdResult),tmpSel.toOrientedRange(ranges[i])}tmpSel.detach(),this.selection=session.selection=selection,this.inVirtualSelectionMode=!1,selection._eventRegistry=reg,selection.mergeOverlappingRanges();var anim=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),anim&&anim.from==anim.to&&this.renderer.animateScrolling(anim.from),result}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var text="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var ranges=this.multiSelect.rangeList.ranges,buf=[],i=0;i<ranges.length;i++)buf.push(this.session.getTextRange(ranges[i]));var nl=this.session.getDocument().getNewLineCharacter();(text=buf.join(nl)).length==(buf.length-1)*nl.length&&(text="")}else this.selection.isEmpty()||(text=this.session.getTextRange(this.getSelectionRange()));return text},this.$checkMultiselectChange=function(e,anchor){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var range=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&anchor==this.multiSelect.anchor)return;var pos=anchor==this.multiSelect.anchor?range.cursor==range.start?range.end:range.start:range.cursor;pos.row==anchor.row&&this.session.$clipPositionToDocument(pos.row,pos.column).column==anchor.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(needle,options,additive){if((options=options||{}).needle=needle||options.needle,null==options.needle){var range=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();options.needle=this.session.getTextRange(range)}this.$search.set(options);var ranges=this.$search.findAll(this.session);if(!ranges.length)return 0;this.$blockScrolling+=1;var selection=this.multiSelect;additive||selection.toSingleRange(ranges[0]);for(var i=ranges.length;i--;)selection.addRange(ranges[i],!0);return range&&selection.rangeList.rangeAtPoint(range.start)&&selection.addRange(range,!0),this.$blockScrolling-=1,ranges.length},this.selectMoreLines=function(dir,skip){var range=this.selection.toOrientedRange(),isBackwards=range.cursor==range.end,screenLead=this.session.documentToScreenPosition(range.cursor);this.selection.$desiredColumn&&(screenLead.column=this.selection.$desiredColumn);var newRange,lead=this.session.screenToDocumentPosition(screenLead.row+dir,screenLead.column);if(range.isEmpty())anchor=lead;else var screenAnchor=this.session.documentToScreenPosition(isBackwards?range.end:range.start),anchor=this.session.screenToDocumentPosition(screenAnchor.row+dir,screenAnchor.column);isBackwards?(newRange=Range.fromPoints(lead,anchor)).cursor=newRange.start:(newRange=Range.fromPoints(anchor,lead)).cursor=newRange.end;if(newRange.desiredColumn=screenLead.column,this.selection.inMultiSelectMode){if(skip)var toRemove=range.cursor}else this.selection.addRange(range);this.selection.addRange(newRange),toRemove&&this.selection.substractPoint(toRemove)},this.transposeSelections=function(dir){for(var session=this.session,sel=session.multiSelect,all=sel.ranges,i=all.length;i--;){if((range=all[i]).isEmpty()){var tmp=session.getWordRange(range.start.row,range.start.column);range.start.row=tmp.start.row,range.start.column=tmp.start.column,range.end.row=tmp.end.row,range.end.column=tmp.end.column}}sel.mergeOverlappingRanges();var words=[];for(i=all.length;i--;){var range=all[i];words.unshift(session.getTextRange(range))}dir<0?words.unshift(words.pop()):words.push(words.shift());for(i=all.length;i--;){tmp=(range=all[i]).clone();session.replace(range,words[i]),range.start.row=tmp.start.row,range.start.column=tmp.start.column}},this.selectMore=function(dir,skip,stopAtFirst){var session=this.session,range=session.multiSelect.toOrientedRange();if(!range.isEmpty()||((range=session.getWordRange(range.start.row,range.start.column)).cursor=-1==dir?range.start:range.end,this.multiSelect.addRange(range),!stopAtFirst)){var needle=session.getTextRange(range),newRange=function(session,needle,dir){return search.$options.wrap=!0,search.$options.needle=needle,search.$options.backwards=-1==dir,search.find(session)}(session,needle,dir);newRange&&(newRange.cursor=-1==dir?newRange.start:newRange.end,this.$blockScrolling+=1,this.session.unfold(newRange),this.multiSelect.addRange(newRange),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),skip&&this.multiSelect.substractPoint(range.cursor)}},this.alignCursors=function(){var session=this.session,sel=session.multiSelect,ranges=sel.ranges,row=-1,sameRowRanges=ranges.filter((function(r){if(r.cursor.row==row)return!0;row=r.cursor.row}));if(ranges.length&&sameRowRanges.length!=ranges.length-1){sameRowRanges.forEach((function(r){sel.substractPoint(r.cursor)}));var maxCol=0,minSpace=1/0,spaceOffsets=ranges.map((function(r){var p=r.cursor,spaceOffset=session.getLine(p.row).substr(p.column).search(/\S/g);return-1==spaceOffset&&(spaceOffset=0),p.column>maxCol&&(maxCol=p.column),spaceOffset<minSpace&&(minSpace=spaceOffset),spaceOffset}));ranges.forEach((function(r,i){var p=r.cursor,l=maxCol-p.column,d=spaceOffsets[i]-minSpace;l>d?session.insert(p,lang.stringRepeat(" ",l-d)):session.remove(new Range(p.row,p.column,p.row,p.column-l+d)),r.start.column=r.end.column=maxCol,r.start.row=r.end.row=p.row,r.cursor=r.end})),sel.fromOrientedRange(ranges[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var range=this.selection.getRange(),fr=range.start.row,lr=range.end.row,guessRange=fr==lr;if(guessRange){var line,max=this.session.getLength();do{line=this.session.getLine(lr)}while(/[=:]/.test(line)&&++lr<max);do{line=this.session.getLine(fr)}while(/[=:]/.test(line)&&--fr>0);fr<0&&(fr=0),lr>=max&&(lr=max-1)}var lines=this.session.removeFullLines(fr,lr);lines=this.$reAlignText(lines,guessRange),this.session.insert({row:fr,column:0},lines.join("\n")+"\n"),guessRange||(range.start.column=0,range.end.column=lines[lines.length-1].length),this.selection.setRange(range)}},this.$reAlignText=function(lines,forceLeft){var startW,textW,endW,isLeftAligned=!0,isRightAligned=!0;return lines.map((function(line){var m=line.match(/(\s*)(.*?)(\s*)([=:].*)/);return m?null==startW?(startW=m[1].length,textW=m[2].length,endW=m[3].length,m):(startW+textW+endW!=m[1].length+m[2].length+m[3].length&&(isRightAligned=!1),startW!=m[1].length&&(isLeftAligned=!1),startW>m[1].length&&(startW=m[1].length),textW<m[2].length&&(textW=m[2].length),endW>m[3].length&&(endW=m[3].length),m):[line]})).map(forceLeft?alignLeft:isLeftAligned?isRightAligned?function(m){return m[2]?spaces(startW+textW-m[2].length)+m[2]+spaces(endW)+m[4].replace(/^([=:])\s+/,"$1 "):m[0]}:alignLeft:function(m){return m[2]?spaces(startW)+m[2]+spaces(endW)+m[4].replace(/^([=:])\s+/,"$1 "):m[0]});function spaces(n){return lang.stringRepeat(" ",n)}function alignLeft(m){return m[2]?spaces(startW)+m[2]+spaces(textW-m[2].length+endW)+m[4].replace(/^([=:])\s+/,"$1 "):m[0]}}}).call(Editor.prototype),exports.onSessionChange=function(e){var session=e.session;session&&!session.multiSelect&&(session.$selectionMarkers=[],session.selection.$initRangeList(),session.multiSelect=session.selection),this.multiSelect=session&&session.multiSelect;var oldSession=e.oldSession;oldSession&&(oldSession.multiSelect.off("addRange",this.$onAddRange),oldSession.multiSelect.off("removeRange",this.$onRemoveRange),oldSession.multiSelect.off("multiSelect",this.$onMultiSelect),oldSession.multiSelect.off("singleSelect",this.$onSingleSelect),oldSession.multiSelect.lead.off("change",this.$checkMultiselectChange),oldSession.multiSelect.anchor.off("change",this.$checkMultiselectChange)),session&&(session.multiSelect.on("addRange",this.$onAddRange),session.multiSelect.on("removeRange",this.$onRemoveRange),session.multiSelect.on("multiSelect",this.$onMultiSelect),session.multiSelect.on("singleSelect",this.$onSingleSelect),session.multiSelect.lead.on("change",this.$checkMultiselectChange),session.multiSelect.anchor.on("change",this.$checkMultiselectChange)),session&&this.inMultiSelectMode!=session.selection.inMultiSelectMode&&(session.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},exports.MultiSelect=MultiSelect,acequire("./config").defineOptions(Editor.prototype,"editor",{enableMultiselect:{set:function(val){MultiSelect(this),val?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",onMouseDown)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",onMouseDown))},value:!0},enableBlockSelect:{set:function(val){this.$blockSelectEnabled=val},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(acequire,exports,module){"use strict";var Range=acequire("../../range").Range,FoldMode=exports.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);return this.foldingStartMarker.test(line)?"start":"markbeginend"==foldStyle&&this.foldingStopMarker&&this.foldingStopMarker.test(line)?"end":""},this.getFoldWidgetRange=function(session,foldStyle,row){return null},this.indentationBlock=function(session,row,column){var re=/\S/,line=session.getLine(row),startLevel=line.search(re);if(-1!=startLevel){for(var startColumn=column||line.length,maxRow=session.getLength(),startRow=row,endRow=row;++row<maxRow;){var level=session.getLine(row).search(re);if(-1!=level){if(level<=startLevel)break;endRow=row}}if(endRow>startRow){var endColumn=session.getLine(endRow).length;return new Range(startRow,startColumn,endRow,endColumn)}}},this.openingBracketBlock=function(session,bracket,row,column,typeRe){var start={row:row,column:column+1},end=session.$findClosingBracket(bracket,start,typeRe);if(end){var fw=session.foldWidgets[end.row];return null==fw&&(fw=session.getFoldWidget(end.row)),"start"==fw&&end.row>start.row&&(end.row--,end.column=session.getLine(end.row).length),Range.fromPoints(start,end)}},this.closingBracketBlock=function(session,bracket,row,column,typeRe){var end={row:row,column:column},start=session.$findOpeningBracket(bracket,end);if(start)return start.column++,end.column--,Range.fromPoints(start,end)}}).call(FoldMode.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(acequire,exports,module){"use strict";exports.isDark=!1,exports.cssClass="ace-tm",exports.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',acequire("../lib/dom").importCssString(exports.cssText,exports.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],(function(acequire,exports,module){"use strict";acequire("./lib/oop");var dom=acequire("./lib/dom");acequire("./range").Range;function LineWidgets(session){this.session=session,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(row){var h;return h=this.lineWidgets&&this.lineWidgets[row]&&this.lineWidgets[row].rowCount||0,this.$useWrapMode&&this.$wrapData[row]?this.$wrapData[row].length+1+h:1+h},this.$getWidgetScreenLength=function(){var screenRows=0;return this.lineWidgets.forEach((function(w){w&&w.rowCount&&!w.hidden&&(screenRows+=w.rowCount)})),screenRows},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(editor){editor&&editor.widgetManager&&editor.widgetManager!=this&&editor.widgetManager.detach(),this.editor!=editor&&(this.detach(),this.editor=editor,editor&&(editor.widgetManager=this,editor.renderer.on("beforeRender",this.measureWidgets),editor.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var editor=this.editor;if(editor){this.editor=null,editor.widgetManager=null,editor.renderer.off("beforeRender",this.measureWidgets),editor.renderer.off("afterRender",this.renderWidgets);var lineWidgets=this.session.lineWidgets;lineWidgets&&lineWidgets.forEach((function(w){w&&w.el&&w.el.parentNode&&(w._inDocument=!1,w.el.parentNode.removeChild(w.el))}))}},this.updateOnFold=function(e,session){var lineWidgets=session.lineWidgets;if(lineWidgets&&e.action){for(var fold=e.data,start=fold.start.row,end=fold.end.row,hide="add"==e.action,i=start+1;i<end;i++)lineWidgets[i]&&(lineWidgets[i].hidden=hide);lineWidgets[end]&&(hide?lineWidgets[start]?lineWidgets[end].hidden=hide:lineWidgets[start]=lineWidgets[end]:(lineWidgets[start]==lineWidgets[end]&&(lineWidgets[start]=void 0),lineWidgets[end].hidden=hide))}},this.updateOnChange=function(delta){var lineWidgets=this.session.lineWidgets;if(lineWidgets){var startRow=delta.start.row,len=delta.end.row-startRow;if(0===len);else if("remove"==delta.action){lineWidgets.splice(startRow+1,len).forEach((function(w){w&&this.removeLineWidget(w)}),this),this.$updateRows()}else{var args=new Array(len);args.unshift(startRow,0),lineWidgets.splice.apply(lineWidgets,args),this.$updateRows()}}},this.$updateRows=function(){var lineWidgets=this.session.lineWidgets;if(lineWidgets){var noWidgets=!0;lineWidgets.forEach((function(w,i){if(w)for(noWidgets=!1,w.row=i;w.$oldWidget;)w.$oldWidget.row=i,w=w.$oldWidget})),noWidgets&&(this.session.lineWidgets=null)}},this.addLineWidget=function(w){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var old=this.session.lineWidgets[w.row];old&&(w.$oldWidget=old,old.el&&old.el.parentNode&&(old.el.parentNode.removeChild(old.el),old._inDocument=!1)),this.session.lineWidgets[w.row]=w,w.session=this.session;var renderer=this.editor.renderer;w.html&&!w.el&&(w.el=dom.createElement("div"),w.el.innerHTML=w.html),w.el&&(dom.addCssClass(w.el,"ace_lineWidgetContainer"),w.el.style.position="absolute",w.el.style.zIndex=5,renderer.container.appendChild(w.el),w._inDocument=!0),w.coverGutter||(w.el.style.zIndex=3),null==w.pixelHeight&&(w.pixelHeight=w.el.offsetHeight),null==w.rowCount&&(w.rowCount=w.pixelHeight/renderer.layerConfig.lineHeight);var fold=this.session.getFoldAt(w.row,0);if(w.$fold=fold,fold){var lineWidgets=this.session.lineWidgets;w.row!=fold.end.row||lineWidgets[fold.start.row]?w.hidden=!0:lineWidgets[fold.start.row]=w}return this.session._emit("changeFold",{data:{start:{row:w.row}}}),this.$updateRows(),this.renderWidgets(null,renderer),this.onWidgetChanged(w),w},this.removeLineWidget=function(w){if(w._inDocument=!1,w.session=null,w.el&&w.el.parentNode&&w.el.parentNode.removeChild(w.el),w.editor&&w.editor.destroy)try{w.editor.destroy()}catch(e){}if(this.session.lineWidgets){var w1=this.session.lineWidgets[w.row];if(w1==w)this.session.lineWidgets[w.row]=w.$oldWidget,w.$oldWidget&&this.onWidgetChanged(w.$oldWidget);else for(;w1;){if(w1.$oldWidget==w){w1.$oldWidget=w.$oldWidget;break}w1=w1.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:w.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(row){for(var lineWidgets=this.session.lineWidgets,w=lineWidgets&&lineWidgets[row],list=[];w;)list.push(w),w=w.$oldWidget;return list},this.onWidgetChanged=function(w){this.session._changedWidgets.push(w),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,renderer){var changedWidgets=this.session._changedWidgets,config=renderer.layerConfig;if(changedWidgets&&changedWidgets.length){for(var min=1/0,i=0;i<changedWidgets.length;i++){var w=changedWidgets[i];if(w&&w.el&&w.session==this.session){if(!w._inDocument){if(this.session.lineWidgets[w.row]!=w)continue;w._inDocument=!0,renderer.container.appendChild(w.el)}w.h=w.el.offsetHeight,w.fixedWidth||(w.w=w.el.offsetWidth,w.screenWidth=Math.ceil(w.w/config.characterWidth));var rowCount=w.h/config.lineHeight;w.coverLine&&(rowCount-=this.session.getRowLineCount(w.row))<0&&(rowCount=0),w.rowCount!=rowCount&&(w.rowCount=rowCount,w.row<min&&(min=w.row))}}min!=1/0&&(this.session._emit("changeFold",{data:{start:{row:min}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,renderer){var config=renderer.layerConfig,lineWidgets=this.session.lineWidgets;if(lineWidgets){for(var first=Math.min(this.firstRow,config.firstRow),last=Math.max(this.lastRow,config.lastRow,lineWidgets.length);first>0&&!lineWidgets[first];)first--;this.firstRow=config.firstRow,this.lastRow=config.lastRow,renderer.$cursorLayer.config=config;for(var i=first;i<=last;i++){var w=lineWidgets[i];if(w&&w.el)if(w.hidden)w.el.style.top=-100-(w.pixelHeight||0)+"px";else{w._inDocument||(w._inDocument=!0,renderer.container.appendChild(w.el));var top=renderer.$cursorLayer.getPixelPosition({row:i,column:0},!0).top;w.coverLine||(top+=config.lineHeight*this.session.getRowLineCount(w.row)),w.el.style.top=top-config.offset+"px";var left=w.coverGutter?0:renderer.gutterWidth;w.fixedWidth||(left-=renderer.scrollLeft),w.el.style.left=left+"px",w.fullWidth&&w.screenWidth&&(w.el.style.minWidth=config.width+2*config.padding+"px"),w.fixedWidth?w.el.style.right=renderer.scrollBar.getWidth()+"px":w.el.style.right=""}}}}}).call(LineWidgets.prototype),exports.LineWidgets=LineWidgets})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(acequire,exports,module){"use strict";var LineWidgets=acequire("../line_widgets").LineWidgets,dom=acequire("../lib/dom"),Range=acequire("../range").Range;exports.showErrorMarker=function(editor,dir){var session=editor.session;session.widgetManager||(session.widgetManager=new LineWidgets(session),session.widgetManager.attach(editor));var pos=editor.getCursorPosition(),row=pos.row,oldWidget=session.widgetManager.getWidgetsAtRow(row).filter((function(w){return"errorMarker"==w.type}))[0];oldWidget?oldWidget.destroy():row-=dir;var gutterAnno,annotations=function(session,row,dir){var annotations=session.getAnnotations().sort(Range.comparePoints);if(annotations.length){var i=function(array,needle,comparator){for(var first=0,last=array.length-1;first<=last;){var mid=first+last>>1,c=comparator(needle,array[mid]);if(c>0)first=mid+1;else{if(!(c<0))return mid;last=mid-1}}return-(first+1)}(annotations,{row:row,column:-1},Range.comparePoints);i<0&&(i=-i-1),i>=annotations.length?i=dir>0?0:annotations.length-1:0===i&&dir<0&&(i=annotations.length-1);var annotation=annotations[i];if(annotation&&dir){if(annotation.row===row){do{annotation=annotations[i+=dir]}while(annotation&&annotation.row===row);if(!annotation)return annotations.slice()}var matched=[];row=annotation.row;do{matched[dir<0?"unshift":"push"](annotation),annotation=annotations[i+=dir]}while(annotation&&annotation.row==row);return matched.length&&matched}}}(session,row,dir);if(annotations){var annotation=annotations[0];pos.column=(annotation.pos&&"number"!=typeof annotation.column?annotation.pos.sc:annotation.column)||0,pos.row=annotation.row,gutterAnno=editor.renderer.$gutterLayer.$annotations[pos.row]}else{if(oldWidget)return;gutterAnno={text:["Looks good!"],className:"ace_ok"}}editor.session.unfold(pos.row),editor.selection.moveToPosition(pos);var w={row:pos.row,fixedWidth:!0,coverGutter:!0,el:dom.createElement("div"),type:"errorMarker"},el=w.el.appendChild(dom.createElement("div")),arrow=w.el.appendChild(dom.createElement("div"));arrow.className="error_widget_arrow "+gutterAnno.className;var left=editor.renderer.$cursorLayer.getPixelPosition(pos).left;arrow.style.left=left+editor.renderer.gutterWidth-5+"px",w.el.className="error_widget_wrapper",el.className="error_widget "+gutterAnno.className,el.innerHTML=gutterAnno.text.join("<br>"),el.appendChild(dom.createElement("div"));var kb=function(_,hashId,keyString){if(0===hashId&&("esc"===keyString||"return"===keyString))return w.destroy(),{command:"null"}};w.destroy=function(){editor.$mouseHandler.isMousePressed||(editor.keyBinding.removeKeyboardHandler(kb),session.widgetManager.removeLineWidget(w),editor.off("changeSelection",w.destroy),editor.off("changeSession",w.destroy),editor.off("mouseup",w.destroy),editor.off("change",w.destroy))},editor.keyBinding.addKeyboardHandler(kb),editor.on("changeSelection",w.destroy),editor.on("changeSession",w.destroy),editor.on("mouseup",w.destroy),editor.on("change",w.destroy),editor.session.widgetManager.addLineWidget(w),w.el.onmousedown=editor.focus.bind(editor),editor.renderer.scrollCursorIntoView(null,.5,{bottom:w.el.offsetHeight})},dom.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(acequire,exports,module){"use strict";acequire("./lib/fixoldbrowsers");var dom=acequire("./lib/dom"),event=acequire("./lib/event"),Editor=acequire("./editor").Editor,EditSession=acequire("./edit_session").EditSession,UndoManager=acequire("./undomanager").UndoManager,Renderer=acequire("./virtual_renderer").VirtualRenderer;acequire("./worker/worker_client"),acequire("./keyboard/hash_handler"),acequire("./placeholder"),acequire("./multi_select"),acequire("./mode/folding/fold_mode"),acequire("./theme/textmate"),acequire("./ext/error_marker"),exports.config=acequire("./config"),exports.acequire=acequire,exports.define=__webpack_require__(95),exports.edit=function(el){if("string"==typeof el){var _id=el;if(!(el=document.getElementById(_id)))throw new Error("ace.edit can't find div #"+_id)}if(el&&el.env&&el.env.editor instanceof Editor)return el.env.editor;var value="";if(el&&/input|textarea/i.test(el.tagName)){var oldNode=el;value=oldNode.value,el=dom.createElement("pre"),oldNode.parentNode.replaceChild(el,oldNode)}else el&&(value=dom.getInnerText(el),el.innerHTML="");var doc=exports.createEditSession(value),editor=new Editor(new Renderer(el));editor.setSession(doc);var env={document:doc,editor:editor,onResize:editor.resize.bind(editor,null)};return oldNode&&(env.textarea=oldNode),event.addListener(window,"resize",env.onResize),editor.on("destroy",(function(){event.removeListener(window,"resize",env.onResize),env.editor.container.env=null})),editor.container.env=editor.env=env,editor},exports.createEditSession=function(text,mode){var doc=new EditSession(text,mode);return doc.setUndoManager(new UndoManager),doc},exports.EditSession=EditSession,exports.UndoManager=UndoManager,exports.version="1.2.9"})),ace.acequire(["ace/ace"],(function(a){for(var key in a&&(a.config.init(!0),a.define=ace.define),window.ace||(window.ace=a),a)a.hasOwnProperty(key)&&(window.ace[key]=a[key])})),module.exports=window.ace.acequire("ace/ace")},function(module,exports){ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],(function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,lang=acequire("./lib/lang"),Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,HashHandler=acequire("./keyboard/hash_handler").HashHandler,Tokenizer=acequire("./tokenizer").Tokenizer,comparePoints=Range.comparePoints,SnippetManager=function(){this.snippetMap={},this.snippetNameMap={}};(function(){oop.implement(this,EventEmitter),this.getTokenizer=function(){function TabstopToken(str,_,stack){return str=str.substr(1),/^\d+$/.test(str)&&!stack.inFormatString?[{tabstopId:parseInt(str,10)}]:[{text:str}]}function escape(ch){return"(?:[^\\\\"+ch+"]|\\\\.)"}return SnippetManager.$tokenizer=new Tokenizer({start:[{regex:/:/,onMatch:function(val,state,stack){return stack.length&&stack[0].expectIf?(stack[0].expectIf=!1,stack[0].elseBranch=stack[0],[stack[0]]):":"}},{regex:/\\./,onMatch:function(val,state,stack){var ch=val[1];return"}"==ch&&stack.length||-1!="`$\\".indexOf(ch)?val=ch:stack.inFormatString&&("n"==ch||"t"==ch?val="\n":-1!="ulULE".indexOf(ch)&&(val={changeCase:ch,local:ch>"a"})),[val]}},{regex:/}/,onMatch:function(val,state,stack){return[stack.length?stack.shift():val]}},{regex:/\$(?:\d+|\w+)/,onMatch:TabstopToken},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(str,state,stack){var t=TabstopToken(str.substr(1),0,stack);return stack.unshift(t[0]),t},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+escape("\\|")+"*\\|",onMatch:function(val,state,stack){stack[0].choices=val.slice(1,-1).split(",")},next:"start"},{regex:"/("+escape("/")+"+)/(?:("+escape("/")+"*)/)(\\w*):?",onMatch:function(val,state,stack){var ts=stack[0];return ts.fmtString=val,val=this.splitRegex.exec(val),ts.guard=val[1],ts.fmt=val[2],ts.flag=val[3],""},next:"start"},{regex:"`"+escape("`")+"*`",onMatch:function(val,state,stack){return stack[0].code=val.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(val,state,stack){stack[0]&&(stack[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+escape("/")+"+)/",token:"regex"},{regex:"",onMatch:function(val,state,stack){stack.inFormatString=!0},next:"start"}]}),SnippetManager.prototype.getTokenizer=function(){return SnippetManager.$tokenizer},SnippetManager.$tokenizer},this.tokenizeTmSnippet=function(str,startState){return this.getTokenizer().getLineTokens(str,startState).tokens.map((function(x){return x.value||x}))},this.$getDefaultValue=function(editor,name){if(/^[A-Z]\d+$/.test(name)){var i=name.substr(1);return(this.variables[name[0]+"__"]||{})[i]}if(/^\d+$/.test(name))return(this.variables.__||{})[name];if(name=name.replace(/^TM_/,""),editor){var s=editor.session;switch(name){case"CURRENT_WORD":var r=s.getWordRange();case"SELECTION":case"SELECTED_TEXT":return s.getTextRange(r);case"CURRENT_LINE":return s.getLine(editor.getCursorPosition().row);case"PREV_LINE":return s.getLine(editor.getCursorPosition().row-1);case"LINE_INDEX":return editor.getCursorPosition().column;case"LINE_NUMBER":return editor.getCursorPosition().row+1;case"SOFT_TABS":return s.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return s.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(editor,varName){return this.variables.hasOwnProperty(varName)?this.variables[varName](editor,varName)||"":this.$getDefaultValue(editor,varName)||""},this.tmStrFormat=function(str,ch,editor){var flag=ch.flag||"",re=ch.guard;re=new RegExp(re,flag.replace(/[^gi]/,""));var fmtTokens=this.tokenizeTmSnippet(ch.fmt,"formatString"),_self=this,formatted=str.replace(re,(function(){_self.variables.__=arguments;for(var fmtParts=_self.resolveVariables(fmtTokens,editor),gChangeCase="E",i=0;i<fmtParts.length;i++){var ch=fmtParts[i];if("object"==typeof ch)if(fmtParts[i]="",ch.changeCase&&ch.local){var next=fmtParts[i+1];next&&"string"==typeof next&&("u"==ch.changeCase?fmtParts[i]=next[0].toUpperCase():fmtParts[i]=next[0].toLowerCase(),fmtParts[i+1]=next.substr(1))}else ch.changeCase&&(gChangeCase=ch.changeCase);else"U"==gChangeCase?fmtParts[i]=ch.toUpperCase():"L"==gChangeCase&&(fmtParts[i]=ch.toLowerCase())}return fmtParts.join("")}));return this.variables.__=null,formatted},this.resolveVariables=function(snippet,editor){for(var result=[],i=0;i<snippet.length;i++){var ch=snippet[i];if("string"==typeof ch)result.push(ch);else{if("object"!=typeof ch)continue;if(ch.skip)gotoNext(ch);else{if(ch.processed<i)continue;if(ch.text){var value=this.getVariableValue(editor,ch.text);value&&ch.fmtString&&(value=this.tmStrFormat(value,ch)),ch.processed=i,null==ch.expectIf?value&&(result.push(value),gotoNext(ch)):value?ch.skip=ch.elseBranch:gotoNext(ch)}else(null!=ch.tabstopId||null!=ch.changeCase)&&result.push(ch)}}}function gotoNext(ch){var i1=snippet.indexOf(ch,i+1);-1!=i1&&(i=i1)}return result},this.insertSnippetForSelection=function(editor,snippetText){var cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),tabString=editor.session.getTabString(),indentString=line.match(/^\s*/)[0];cursor.column<indentString.length&&(indentString=indentString.slice(0,cursor.column)),snippetText=snippetText.replace(/\r/g,"");var tokens=this.tokenizeTmSnippet(snippetText);tokens=(tokens=this.resolveVariables(tokens,editor)).map((function(x){return"\n"==x?x+indentString:"string"==typeof x?x.replace(/\t/g,tabString):x}));var tabstops=[];tokens.forEach((function(p,i){if("object"==typeof p){var id=p.tabstopId,ts=tabstops[id];if(ts||((ts=tabstops[id]=[]).index=id,ts.value=""),-1===ts.indexOf(p)){ts.push(p);var i1=tokens.indexOf(p,i+1);if(-1!==i1){var value=tokens.slice(i+1,i1);value.some((function(t){return"object"==typeof t}))&&!ts.value?ts.value=value:!value.length||ts.value&&"string"==typeof ts.value||(ts.value=value.join(""))}}}})),tabstops.forEach((function(ts){ts.length=0}));var expanding={};function copyValue(val){for(var copy=[],i=0;i<val.length;i++){var p=val[i];if("object"==typeof p){if(expanding[p.tabstopId])continue;p=copy[val.lastIndexOf(p,i-1)]||{tabstopId:p.tabstopId}}copy[i]=p}return copy}for(var i=0;i<tokens.length;i++){var p=tokens[i];if("object"==typeof p){var id=p.tabstopId,i1=tokens.indexOf(p,i+1);if(expanding[id])expanding[id]===p&&(expanding[id]=null);else{var ts=tabstops[id],arg="string"==typeof ts.value?[ts.value]:copyValue(ts.value);arg.unshift(i+1,Math.max(0,i1-i)),arg.push(p),expanding[id]=p,tokens.splice.apply(tokens,arg),-1===ts.indexOf(p)&&ts.push(p)}}}var row=0,column=0,text="";tokens.forEach((function(t){if("string"==typeof t){var lines=t.split("\n");lines.length>1?(column=lines[lines.length-1].length,row+=lines.length-1):column+=t.length,text+=t}else t.start?t.end={row:row,column:column}:t.start={row:row,column:column}}));var range=editor.getSelectionRange(),end=editor.session.replace(range,text),tabstopManager=new TabstopManager(editor),selectionId=editor.inVirtualSelectionMode&&editor.selection.index;tabstopManager.addTabstops(tabstops,range.start,end,selectionId)},this.insertSnippet=function(editor,snippetText){var self=this;if(editor.inVirtualSelectionMode)return self.insertSnippetForSelection(editor,snippetText);editor.forEachSelection((function(){self.insertSnippetForSelection(editor,snippetText)}),null,{keepOrder:!0}),editor.tabstopManager&&editor.tabstopManager.tabNext()},this.$getScope=function(editor){var scope=editor.session.$mode.$id||"";if("html"===(scope=scope.split("/").pop())||"php"===scope){"php"!==scope||editor.session.$mode.inlinePhp||(scope="html");var c=editor.getCursorPosition(),state=editor.session.getState(c.row);"object"==typeof state&&(state=state[0]),state.substring&&("js-"==state.substring(0,3)?scope="javascript":"css-"==state.substring(0,4)?scope="css":"php-"==state.substring(0,4)&&(scope="php"))}return scope},this.getActiveScopes=function(editor){var scope=this.$getScope(editor),scopes=[scope],snippetMap=this.snippetMap;return snippetMap[scope]&&snippetMap[scope].includeScopes&&scopes.push.apply(scopes,snippetMap[scope].includeScopes),scopes.push("_"),scopes},this.expandWithTab=function(editor,options){var self=this,result=editor.forEachSelection((function(){return self.expandSnippetForSelection(editor,options)}),null,{keepOrder:!0});return result&&editor.tabstopManager&&editor.tabstopManager.tabNext(),result},this.expandSnippetForSelection=function(editor,options){var snippet,cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),before=line.substring(0,cursor.column),after=line.substr(cursor.column),snippetMap=this.snippetMap;return this.getActiveScopes(editor).some((function(scope){var snippets=snippetMap[scope];return snippets&&(snippet=this.findMatchingSnippet(snippets,before,after)),!!snippet}),this),!!snippet&&(options&&options.dryRun||(editor.session.doc.removeInLine(cursor.row,cursor.column-snippet.replaceBefore.length,cursor.column+snippet.replaceAfter.length),this.variables.M__=snippet.matchBefore,this.variables.T__=snippet.matchAfter,this.insertSnippetForSelection(editor,snippet.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(snippetList,before,after){for(var i=snippetList.length;i--;){var s=snippetList[i];if((!s.startRe||s.startRe.test(before))&&((!s.endRe||s.endRe.test(after))&&(s.startRe||s.endRe)))return s.matchBefore=s.startRe?s.startRe.exec(before):[""],s.matchAfter=s.endRe?s.endRe.exec(after):[""],s.replaceBefore=s.triggerRe?s.triggerRe.exec(before)[0]:"",s.replaceAfter=s.endTriggerRe?s.endTriggerRe.exec(after)[0]:"",s}},this.snippetMap={},this.snippetNameMap={},this.register=function(snippets,scope){var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap,self=this;function wrapRegexp(src){return src&&!/^\^?\(.*\)\$?$|^\\b$/.test(src)&&(src="(?:"+src+")"),src||""}function guardedRegexp(re,guard,opening){return re=wrapRegexp(re),guard=wrapRegexp(guard),opening?(re=guard+re)&&"$"!=re[re.length-1]&&(re+="$"):(re+=guard)&&"^"!=re[0]&&(re="^"+re),new RegExp(re)}function addSnippet(s){s.scope||(s.scope=scope||"_"),scope=s.scope,snippetMap[scope]||(snippetMap[scope]=[],snippetNameMap[scope]={});var map=snippetNameMap[scope];if(s.name){var old=map[s.name];old&&self.unregister(old),map[s.name]=s}snippetMap[scope].push(s),s.tabTrigger&&!s.trigger&&(!s.guard&&/^\w/.test(s.tabTrigger)&&(s.guard="\\b"),s.trigger=lang.escapeRegExp(s.tabTrigger)),(s.trigger||s.guard||s.endTrigger||s.endGuard)&&(s.startRe=guardedRegexp(s.trigger,s.guard,!0),s.triggerRe=new RegExp(s.trigger,"",!0),s.endRe=guardedRegexp(s.endTrigger,s.endGuard,!0),s.endTriggerRe=new RegExp(s.endTrigger,"",!0))}snippets||(snippets=[]),snippets&&snippets.content?addSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(addSnippet),this._signal("registerSnippets",{scope:scope})},this.unregister=function(snippets,scope){var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap;function removeSnippet(s){var nameMap=snippetNameMap[s.scope||scope];if(nameMap&&nameMap[s.name]){delete nameMap[s.name];var map=snippetMap[s.scope||scope],i=map&&map.indexOf(s);i>=0&&map.splice(i,1)}}snippets.content?removeSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(removeSnippet)},this.parseSnippetFile=function(str){str=str.replace(/\r/g,"");for(var m,list=[],snippet={},re=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;m=re.exec(str);){if(m[1])try{snippet=JSON.parse(m[1]),list.push(snippet)}catch(e){}if(m[4])snippet.content=m[4].replace(/^\t/gm,""),list.push(snippet),snippet={};else{var key=m[2],val=m[3];if("regex"==key){var guardRe=/\/((?:[^\/\\]|\\.)*)|$/g;snippet.guard=guardRe.exec(val)[1],snippet.trigger=guardRe.exec(val)[1],snippet.endTrigger=guardRe.exec(val)[1],snippet.endGuard=guardRe.exec(val)[1]}else"snippet"==key?(snippet.tabTrigger=val.match(/^\S*/)[0],snippet.name||(snippet.name=val)):snippet[key]=val}}return list},this.getSnippetByName=function(name,editor){var snippet,snippetMap=this.snippetNameMap;return this.getActiveScopes(editor).some((function(scope){var snippets=snippetMap[scope];return snippets&&(snippet=snippets[name]),!!snippet}),this),snippet}}).call(SnippetManager.prototype);var TabstopManager=function(editor){if(editor.tabstopManager)return editor.tabstopManager;editor.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=lang.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(editor)};(function(){this.attach=function(editor){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=editor,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(delta){var isRemove="r"==delta.action[0],start=delta.start,end=delta.end,startRow=start.row,lineDif=end.row-startRow,colDiff=end.column-start.column;if(isRemove&&(lineDif=-lineDif,colDiff=-colDiff),!this.$inChange&&isRemove){var ts=this.selectedTabstop;if(ts&&!ts.some((function(r){return comparePoints(r.start,start)<=0&&comparePoints(r.end,end)>=0})))return this.detach()}for(var ranges=this.ranges,i=0;i<ranges.length;i++){var r=ranges[i];r.end.row<start.row||(isRemove&&comparePoints(start,r.start)<0&&comparePoints(end,r.end)>0?(this.removeRange(r),i--):(r.start.row==startRow&&r.start.column>start.column&&(r.start.column+=colDiff),r.end.row==startRow&&r.end.column>=start.column&&(r.end.column+=colDiff),r.start.row>=startRow&&(r.start.row+=lineDif),r.end.row>=startRow&&(r.end.row+=lineDif),comparePoints(r.start,r.end)>0&&this.removeRange(r)))}ranges.length||this.detach()},this.updateLinkedFields=function(){var ts=this.selectedTabstop;if(ts&&ts.hasLinkedRanges){this.$inChange=!0;for(var session=this.editor.session,text=session.getTextRange(ts.firstNonLinked),i=ts.length;i--;){var range=ts[i];if(range.linked){var fmt=exports.snippetManager.tmStrFormat(text,range.original);session.replace(range,fmt)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var lead=this.editor.selection.lead,anchor=this.editor.selection.anchor,isEmpty=this.editor.selection.isEmpty(),i=this.ranges.length;i--;)if(!this.ranges[i].linked){var containsLead=this.ranges[i].contains(lead.row,lead.column),containsAnchor=isEmpty||this.ranges[i].contains(anchor.row,anchor.column);if(containsLead&&containsAnchor)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(dir){var max=this.tabstops.length,index=this.index+(dir||1);(index=Math.min(Math.max(index,1),max))==max&&(index=0),this.selectTabstop(index),0===index&&this.detach()},this.selectTabstop=function(index){this.$openTabstops=null;var ts=this.tabstops[this.index];if(ts&&this.addTabstopMarkers(ts),this.index=index,(ts=this.tabstops[this.index])&&ts.length){if(this.selectedTabstop=ts,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(ts.firstNonLinked);else{var sel=this.editor.multiSelect;sel.toSingleRange(ts.firstNonLinked.clone());for(var i=ts.length;i--;)ts.hasLinkedRanges&&ts[i].linked||sel.addRange(ts[i].clone(),!0);sel.ranges[0]&&sel.addRange(sel.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(tabstops,start,end){if(this.$openTabstops||(this.$openTabstops=[]),!tabstops[0]){var p=Range.fromPoints(end,end);moveRelative(p.start,start),moveRelative(p.end,start),tabstops[0]=[p],tabstops[0].index=0}var arg=[this.index+1,0],ranges=this.ranges;tabstops.forEach((function(ts,index){for(var dest=this.$openTabstops[index]||ts,i=ts.length;i--;){var p=ts[i],range=Range.fromPoints(p.start,p.end||p.start);movePoint(range.start,start),movePoint(range.end,start),range.original=p,range.tabstop=dest,ranges.push(range),dest!=ts?dest.unshift(range):dest[i]=range,p.fmtString?(range.linked=!0,dest.hasLinkedRanges=!0):dest.firstNonLinked||(dest.firstNonLinked=range)}dest.firstNonLinked||(dest.hasLinkedRanges=!1),dest===ts&&(arg.push(dest),this.$openTabstops[index]=dest),this.addTabstopMarkers(dest)}),this),arg.length>2&&(this.tabstops.length&&arg.push(arg.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,arg))},this.addTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach((function(range){range.markerId||(range.markerId=session.addMarker(range,"ace_snippet-marker","text"))}))},this.removeTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach((function(range){session.removeMarker(range.markerId),range.markerId=null}))},this.removeRange=function(range){var i=range.tabstop.indexOf(range);range.tabstop.splice(i,1),i=this.ranges.indexOf(range),this.ranges.splice(i,1),this.editor.session.removeMarker(range.markerId),range.tabstop.length||(-1!=(i=this.tabstops.indexOf(range.tabstop))&&this.tabstops.splice(i,1),this.tabstops.length||this.detach())},this.keyboardHandler=new HashHandler,this.keyboardHandler.bindKeys({Tab:function(ed){exports.snippetManager&&exports.snippetManager.expandWithTab(ed)||ed.tabstopManager.tabNext(1)},"Shift-Tab":function(ed){ed.tabstopManager.tabNext(-1)},Esc:function(ed){ed.tabstopManager.detach()},Return:function(ed){return!1}})}).call(TabstopManager.prototype);var changeTracker={};changeTracker.onChange=Anchor.prototype.onChange,changeTracker.setPosition=function(row,column){this.pos.row=row,this.pos.column=column},changeTracker.update=function(pos,delta,$insertRight){this.$insertRight=$insertRight,this.pos=pos,this.onChange(delta)};var movePoint=function(point,diff){0==point.row&&(point.column+=diff.column),point.row+=diff.row},moveRelative=function(point,start){point.row==start.row&&(point.column-=start.column),point.row-=start.row};acequire("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),exports.snippetManager=new SnippetManager;var Editor=acequire("./editor").Editor;(function(){this.insertSnippet=function(content,options){return exports.snippetManager.insertSnippet(this,content,options)},this.expandSnippet=function(options){return exports.snippetManager.expandWithTab(this,options)}}).call(Editor.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],(function(acequire,exports,module){"use strict";var Renderer=acequire("../virtual_renderer").VirtualRenderer,Editor=acequire("../editor").Editor,Range=acequire("../range").Range,event=acequire("../lib/event"),lang=acequire("../lib/lang"),dom=acequire("../lib/dom"),$singleLineEditor=function(el){var renderer=new Renderer(el);renderer.$maxLines=4;var editor=new Editor(renderer);return editor.setHighlightActiveLine(!1),editor.setShowPrintMargin(!1),editor.renderer.setShowGutter(!1),editor.renderer.setHighlightGutterLine(!1),editor.$mouseHandler.$focusWaitTimout=0,editor.$highlightTagPending=!0,editor};dom.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),exports.AcePopup=function(parentNode){var el=dom.createElement("div"),popup=new $singleLineEditor(el);parentNode&&parentNode.appendChild(el),el.style.display="none",popup.renderer.content.style.cursor="default",popup.renderer.setStyle("ace_autocomplete"),popup.setOption("displayIndentGuides",!1),popup.setOption("dragDelay",150);var lastMouseEvent,noop=function(){};popup.focus=noop,popup.$isFocused=!0,popup.renderer.$cursorLayer.restartTimer=noop,popup.renderer.$cursorLayer.element.style.opacity=0,popup.renderer.$maxLines=8,popup.renderer.$keepTextAreaAtCursor=!1,popup.setHighlightActiveLine(!1),popup.session.highlight(""),popup.session.$searchHighlight.clazz="ace_highlight-marker",popup.on("mousedown",(function(e){var pos=e.getDocumentPosition();popup.selection.moveToPosition(pos),selectionMarker.start.row=selectionMarker.end.row=pos.row,e.stop()}));var hoverMarker=new Range(-1,0,-1,1/0),selectionMarker=new Range(-1,0,-1,1/0);selectionMarker.id=popup.session.addMarker(selectionMarker,"ace_active-line","fullLine"),popup.setSelectOnHover=function(val){val?hoverMarker.id&&(popup.session.removeMarker(hoverMarker.id),hoverMarker.id=null):hoverMarker.id=popup.session.addMarker(hoverMarker,"ace_line-hover","fullLine")},popup.setSelectOnHover(!1),popup.on("mousemove",(function(e){if(lastMouseEvent){if(lastMouseEvent.x!=e.x||lastMouseEvent.y!=e.y){(lastMouseEvent=e).scrollTop=popup.renderer.scrollTop;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.start.row!=row&&(hoverMarker.id||popup.setRow(row),setHoverMarker(row))}}else lastMouseEvent=e})),popup.renderer.on("beforeRender",(function(){if(lastMouseEvent&&-1!=hoverMarker.start.row){lastMouseEvent.$pos=null;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.id||popup.setRow(row),setHoverMarker(row,!0)}})),popup.renderer.on("afterRender",(function(){var row=popup.getRow(),t=popup.renderer.$textLayer,selected=t.element.childNodes[row-t.config.firstRow];selected!=t.selectedNode&&(t.selectedNode&&dom.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=selected,selected&&dom.addCssClass(selected,"ace_selected"))}));var hideHoverMarker=function(){setHoverMarker(-1)},setHoverMarker=function(row,suppressRedraw){row!==hoverMarker.start.row&&(hoverMarker.start.row=hoverMarker.end.row=row,suppressRedraw||popup.session._emit("changeBackMarker"),popup._emit("changeHoverMarker"))};popup.getHoveredRow=function(){return hoverMarker.start.row},event.addListener(popup.container,"mouseout",hideHoverMarker),popup.on("hide",hideHoverMarker),popup.on("changeSelection",hideHoverMarker),popup.session.doc.getLength=function(){return popup.data.length},popup.session.doc.getLine=function(i){var data=popup.data[i];return"string"==typeof data?data:data&&data.value||""};var bgTokenizer=popup.session.bgTokenizer;return bgTokenizer.$tokenizeRow=function(row){var data=popup.data[row],tokens=[];if(!data)return tokens;"string"==typeof data&&(data={value:data}),data.caption||(data.caption=data.value||data.name);for(var flag,c,last=-1,i=0;i<data.caption.length;i++)c=data.caption[i],last!==(flag=data.matchMask&1<<i?1:0)?(tokens.push({type:data.className||(flag?"completion-highlight":""),value:c}),last=flag):tokens[tokens.length-1].value+=c;if(data.meta){var maxW=popup.renderer.$size.scrollerWidth/popup.renderer.layerConfig.characterWidth,metaData=data.meta;metaData.length+data.caption.length>maxW-2&&(metaData=metaData.substr(0,maxW-data.caption.length-3)+""),tokens.push({type:"rightAlignedText",value:metaData})}return tokens},bgTokenizer.$updateOnChange=noop,bgTokenizer.start=noop,popup.session.$computeWidth=function(){return this.screenWidth=0},popup.$blockScrolling=1/0,popup.isOpen=!1,popup.isTopdown=!1,popup.autoSelect=!0,popup.data=[],popup.setData=function(list){popup.setValue(lang.stringRepeat("\n",list.length),-1),popup.data=list||[],popup.setRow(0)},popup.getData=function(row){return popup.data[row]},popup.getRow=function(){return selectionMarker.start.row},popup.setRow=function(line){line=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,line)),selectionMarker.start.row!=line&&(popup.selection.clearSelection(),selectionMarker.start.row=selectionMarker.end.row=line||0,popup.session._emit("changeBackMarker"),popup.moveCursorTo(line||0,0),popup.isOpen&&popup._signal("select"))},popup.on("changeSelection",(function(){popup.isOpen&&popup.setRow(popup.selection.lead.row),popup.renderer.scrollCursorIntoView()})),popup.hide=function(){this.container.style.display="none",this._signal("hide"),popup.isOpen=!1},popup.show=function(pos,lineHeight,topdownOnly){var el=this.container,screenHeight=window.innerHeight,screenWidth=window.innerWidth,renderer=this.renderer,maxH=renderer.$maxLines*lineHeight*1.4,top=pos.top+this.$borderSize;top>screenHeight/2&&!topdownOnly&&top+lineHeight+maxH>screenHeight?(renderer.$maxPixelHeight=top-2*this.$borderSize,el.style.top="",el.style.bottom=screenHeight-top+"px",popup.isTopdown=!1):(top+=lineHeight,renderer.$maxPixelHeight=screenHeight-top-.2*lineHeight,el.style.top=top+"px",el.style.bottom="",popup.isTopdown=!0),el.style.display="",this.renderer.$textLayer.checkForSizeChanges();var left=pos.left;left+el.offsetWidth>screenWidth&&(left=screenWidth-el.offsetWidth),el.style.left=left+"px",this._signal("show"),lastMouseEvent=null,popup.isOpen=!0},popup.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},popup.$imageSize=0,popup.$borderSize=1,popup}})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(acequire,exports,module){"use strict";exports.parForEach=function(array,fn,callback){var completed=0,arLength=array.length;0===arLength&&callback();for(var i=0;i<arLength;i++)fn(array[i],(function(result,err){++completed===arLength&&callback(result,err)}))};var ID_REGEX=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;exports.retrievePrecedingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos-1;i>=0&&regex.test(text[i]);i--)buf.push(text[i]);return buf.reverse().join("")},exports.retrieveFollowingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos;i<text.length&&regex.test(text[i]);i++)buf.push(text[i]);return buf},exports.getCompletionPrefix=function(editor){var prefix,pos=editor.getCursorPosition(),line=editor.session.getLine(pos.row);return editor.completers.forEach(function(completer){completer.identifierRegexps&&completer.identifierRegexps.forEach(function(identifierRegex){!prefix&&identifierRegex&&(prefix=this.retrievePrecedingIdentifier(line,pos.column,identifierRegex))}.bind(this))}.bind(this)),prefix||this.retrievePrecedingIdentifier(line,pos.column)}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],(function(acequire,exports,module){"use strict";var HashHandler=acequire("./keyboard/hash_handler").HashHandler,AcePopup=acequire("./autocomplete/popup").AcePopup,util=acequire("./autocomplete/util"),lang=(acequire("./lib/event"),acequire("./lib/lang")),dom=acequire("./lib/dom"),snippetManager=acequire("./snippets").snippetManager,Autocomplete=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new HashHandler,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=lang.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=lang.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new AcePopup(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(editor,prefix,keepPopupPosition){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered),editor.keyBinding.addKeyboardHandler(this.keyboardHandler);var renderer=editor.renderer;if(this.popup.setRow(this.autoSelect?0:-1),keepPopupPosition)keepPopupPosition&&!prefix&&this.detach();else{this.popup.setTheme(editor.getTheme()),this.popup.setFontSize(editor.getFontSize());var lineHeight=renderer.layerConfig.lineHeight,pos=renderer.$cursorLayer.getPixelPosition(this.base,!0);pos.left-=this.popup.getTextLeftOffset();var rect=editor.container.getBoundingClientRect();pos.top+=rect.top-renderer.layerConfig.offset,pos.left+=rect.left-editor.renderer.scrollLeft,pos.left+=renderer.gutterWidth,this.popup.show(pos,lineHeight)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var cursor=this.editor.selection.lead;(cursor.row!=this.base.row||cursor.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var el=document.activeElement,text=this.editor.textInput.getElement(),fromTooltip=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),container=this.popup&&this.popup.container;el==text||el.parentNode==container||fromTooltip||el==this.tooltipNode||e.relatedTarget==text||this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(where){var row=this.popup.getRow(),max=this.popup.session.getLength()-1;switch(where){case"up":row=row<=0?max:row-1;break;case"down":row=row>=max?-1:row+1;break;case"start":row=0;break;case"end":row=max}this.popup.setRow(row)},this.insertMatch=function(data,options){if(data||(data=this.popup.getData(this.popup.getRow())),!data)return!1;if(data.completer&&data.completer.insertMatch)data.completer.insertMatch(this.editor,data);else{if(this.completions.filterText)for(var range,ranges=this.editor.selection.getAllRanges(),i=0;range=ranges[i];i++)range.start.column-=this.completions.filterText.length,this.editor.session.remove(range);data.snippet?snippetManager.insertSnippet(this.editor,data.snippet):this.editor.execCommand("insertstring",data.value||data)}this.detach()},this.commands={Up:function(editor){editor.completer.goTo("up")},Down:function(editor){editor.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(editor){editor.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(editor){editor.completer.goTo("end")},Esc:function(editor){editor.completer.detach()},Return:function(editor){return editor.completer.insertMatch()},"Shift-Return":function(editor){editor.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(editor){var result=editor.completer.insertMatch();if(result||editor.tabstopManager)return result;editor.completer.goTo("down")},PageUp:function(editor){editor.completer.popup.gotoPageUp()},PageDown:function(editor){editor.completer.popup.gotoPageDown()}},this.gatherCompletions=function(editor,callback){var session=editor.getSession(),pos=editor.getCursorPosition(),prefix=util.getCompletionPrefix(editor);this.base=session.doc.createAnchor(pos.row,pos.column-prefix.length),this.base.$insertRight=!0;var matches=[],total=editor.completers.length;return editor.completers.forEach((function(completer,i){completer.getCompletions(editor,session,pos,prefix,(function(err,results){!err&&results&&(matches=matches.concat(results)),callback(null,{prefix:util.getCompletionPrefix(editor),matches:matches,finished:0==--total})}))})),!0},this.showPopup=function(editor){this.editor&&this.detach(),this.activated=!0,this.editor=editor,editor.completer!=this&&(editor.completer&&editor.completer.detach(),editor.completer=this),editor.on("changeSelection",this.changeListener),editor.on("blur",this.blurListener),editor.on("mousedown",this.mousedownListener),editor.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(keepPopupPosition){if(keepPopupPosition&&this.base&&this.completions){var pos=this.editor.getCursorPosition(),prefix=this.editor.session.getTextRange({start:this.base,end:pos});if(prefix==this.completions.filterText)return;return this.completions.setFilter(prefix),this.completions.filtered.length?1!=this.completions.filtered.length||this.completions.filtered[0].value!=prefix||this.completions.filtered[0].snippet?void this.openPopup(this.editor,prefix,keepPopupPosition):this.detach():this.detach()}var _id=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(err,results){var detachIfFinished=function(){if(results.finished)return this.detach()}.bind(this),prefix=results.prefix,matches=results&&results.matches;if(!matches||!matches.length)return detachIfFinished();if(0===prefix.indexOf(results.prefix)&&_id==this.gatherCompletionsId){this.completions=new FilteredList(matches),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(prefix);var filtered=this.completions.filtered;return filtered.length&&(1!=filtered.length||filtered[0].value!=prefix||filtered[0].snippet)?this.autoInsert&&1==filtered.length&&results.finished?this.insertMatch(filtered[0]):void this.openPopup(this.editor,prefix,keepPopupPosition):detachIfFinished()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var popup=this.popup,all=popup.data,selected=all&&(all[popup.getHoveredRow()]||all[popup.getRow()]),doc=null;return selected&&this.editor&&this.popup.isOpen?(this.editor.completers.some((function(completer){return completer.getDocTooltip&&(doc=completer.getDocTooltip(selected)),doc})),doc||(doc=selected),"string"==typeof doc&&(doc={docText:doc}),doc&&(doc.docHTML||doc.docText)?void this.showDocTooltip(doc):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(item){this.tooltipNode||(this.tooltipNode=dom.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var tooltipNode=this.tooltipNode;item.docHTML?tooltipNode.innerHTML=item.docHTML:item.docText&&(tooltipNode.textContent=item.docText),tooltipNode.parentNode||document.body.appendChild(tooltipNode);var popup=this.popup,rect=popup.container.getBoundingClientRect();tooltipNode.style.top=popup.container.style.top,tooltipNode.style.bottom=popup.container.style.bottom,window.innerWidth-rect.right<320?(tooltipNode.style.right=window.innerWidth-rect.left+"px",tooltipNode.style.left=""):(tooltipNode.style.left=rect.right+1+"px",tooltipNode.style.right=""),tooltipNode.style.display="block"},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var el=this.tooltipNode;this.editor.isFocused()||document.activeElement!=el||this.editor.focus(),this.tooltipNode=null,el.parentNode&&el.parentNode.removeChild(el)}},this.onTooltipClick=function(e){for(var a=e.target;a&&a!=this.tooltipNode;){if("A"==a.nodeName&&a.href){a.rel="noreferrer",a.target="_blank";break}a=a.parentNode}}}).call(Autocomplete.prototype),Autocomplete.startCommand={name:"startAutocomplete",exec:function(editor){editor.completer||(editor.completer=new Autocomplete),editor.completer.autoInsert=!1,editor.completer.autoSelect=!0,editor.completer.showPopup(editor),editor.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var FilteredList=function(array,filterText){this.all=array,this.filtered=array,this.filterText=filterText||"",this.exactMatch=!1};(function(){this.setFilter=function(str){if(str.length>this.filterText&&0===str.lastIndexOf(this.filterText,0))var matches=this.filtered;else matches=this.all;this.filterText=str,matches=(matches=this.filterCompletions(matches,this.filterText)).sort((function(a,b){return b.exactMatch-a.exactMatch||b.score-a.score}));var prev=null;matches=matches.filter((function(item){var caption=item.snippet||item.caption||item.value;return caption!==prev&&(prev=caption,!0)})),this.filtered=matches},this.filterCompletions=function(items,needle){var results=[],upper=needle.toUpperCase(),lower=needle.toLowerCase();loop:for(var item,i=0;item=items[i];i++){var caption=item.value||item.caption||item.snippet;if(caption){var index,distance,lastIndex=-1,matchMask=0,penalty=0;if(this.exactMatch){if(needle!==caption.substr(0,needle.length))continue loop}else for(var j=0;j<needle.length;j++){var i1=caption.indexOf(lower[j],lastIndex+1),i2=caption.indexOf(upper[j],lastIndex+1);if((index=i1>=0&&(i2<0||i1<i2)?i1:i2)<0)continue loop;(distance=index-lastIndex-1)>0&&(-1===lastIndex&&(penalty+=10),penalty+=distance),matchMask|=1<<index,lastIndex=index}item.matchMask=matchMask,item.exactMatch=penalty?0:1,item.score=(item.score||0)-penalty,results.push(item)}}return results}}).call(FilteredList.prototype),exports.Autocomplete=Autocomplete,exports.FilteredList=FilteredList})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(acequire,exports,module){var Range=acequire("../range").Range,splitRegex=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function wordDistance(doc,pos){var prefixPos=function(doc,pos){return doc.getTextRange(Range.fromPoints({row:0,column:0},pos)).split(splitRegex).length-1}(doc,pos),words=doc.getValue().split(splitRegex),wordScores=Object.create(null),currentWord=words[prefixPos];return words.forEach((function(word,idx){if(word&&word!==currentWord){var distance=Math.abs(prefixPos-idx),score=words.length-distance;wordScores[word]?wordScores[word]=Math.max(score,wordScores[word]):wordScores[word]=score}})),wordScores}exports.getCompletions=function(editor,session,pos,prefix,callback){var wordScore=wordDistance(session,pos);callback(null,Object.keys(wordScore).map((function(word){return{caption:word,value:word,score:wordScore[word],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(acequire,exports,module){"use strict";var snippetManager=acequire("../snippets").snippetManager,Autocomplete=acequire("../autocomplete").Autocomplete,config=acequire("../config"),lang=acequire("../lib/lang"),util=acequire("../autocomplete/util"),textCompleter=acequire("../autocomplete/text_completer"),keyWordCompleter={getCompletions:function(editor,session,pos,prefix,callback){if(session.$mode.completer)return session.$mode.completer.getCompletions(editor,session,pos,prefix,callback);var state=editor.session.getState(pos.row);callback(null,session.$mode.getCompletions(state,session,pos,prefix))}},snippetCompleter={getCompletions:function(editor,session,pos,prefix,callback){var snippetMap=snippetManager.snippetMap,completions=[];snippetManager.getActiveScopes(editor).forEach((function(scope){for(var snippets=snippetMap[scope]||[],i=snippets.length;i--;){var s=snippets[i],caption=s.name||s.tabTrigger;caption&&completions.push({caption:caption,snippet:s.content,meta:s.tabTrigger&&!s.name?s.tabTrigger+" ":"snippet",type:"snippet"})}}),this),callback(null,completions)},getDocTooltip:function(item){"snippet"!=item.type||item.docHTML||(item.docHTML=["<b>",lang.escapeHTML(item.caption),"</b>","<hr></hr>",lang.escapeHTML(item.snippet)].join(""))}},completers=[snippetCompleter,textCompleter,keyWordCompleter];exports.setCompleters=function(val){completers.length=0,val&&completers.push.apply(completers,val)},exports.addCompleter=function(completer){completers.push(completer)},exports.textCompleter=textCompleter,exports.keyWordCompleter=keyWordCompleter,exports.snippetCompleter=snippetCompleter;var expandSnippet={name:"expandSnippet",exec:function(editor){return snippetManager.expandWithTab(editor)},bindKey:"Tab"},onChangeMode=function(e,editor){loadSnippetsForMode(editor.session.$mode)},loadSnippetsForMode=function(mode){var id=mode.$id;snippetManager.files||(snippetManager.files={}),loadSnippetFile(id),mode.modes&&mode.modes.forEach(loadSnippetsForMode)},loadSnippetFile=function(id){if(id&&!snippetManager.files[id]){var snippetFilePath=id.replace("mode","snippets");snippetManager.files[id]={},config.loadModule(snippetFilePath,(function(m){m&&(snippetManager.files[id]=m,!m.snippets&&m.snippetText&&(m.snippets=snippetManager.parseSnippetFile(m.snippetText)),snippetManager.register(m.snippets||[],m.scope),m.includeScopes&&(snippetManager.snippetMap[m.scope].includeScopes=m.includeScopes,m.includeScopes.forEach((function(x){loadSnippetFile("ace/mode/"+x)}))))}))}},doLiveAutocomplete=function(e){var editor=e.editor,hasCompleter=editor.completer&&editor.completer.activated;if("backspace"===e.command.name)hasCompleter&&!util.getCompletionPrefix(editor)&&editor.completer.detach();else if("insertstring"===e.command.name){util.getCompletionPrefix(editor)&&!hasCompleter&&(editor.completer||(editor.completer=new Autocomplete),editor.completer.autoInsert=!1,editor.completer.showPopup(editor))}},Editor=acequire("../editor").Editor;acequire("../config").defineOptions(Editor.prototype,"editor",{enableBasicAutocompletion:{set:function(val){val?(this.completers||(this.completers=Array.isArray(val)?val:completers),this.commands.addCommand(Autocomplete.startCommand)):this.commands.removeCommand(Autocomplete.startCommand)},value:!1},enableLiveAutocompletion:{set:function(val){val?(this.completers||(this.completers=Array.isArray(val)?val:completers),this.commands.on("afterExec",doLiveAutocomplete)):this.commands.removeListener("afterExec",doLiveAutocomplete)},value:!1},enableSnippets:{set:function(val){val?(this.commands.addCommand(expandSnippet),this.on("changeMode",onChangeMode),onChangeMode(0,this)):(this.commands.removeCommand(expandSnippet),this.off("changeMode",onChangeMode))},value:!1}})})),ace.acequire(["ace/ext/language_tools"],(function(){}))},function(module,exports,__webpack_require__){"use strict";function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){return"function"==typeof action?action(dispatch,getState,extraArgument):next(action)}}}}exports.__esModule=!0;var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware,exports.default=thunk},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"mountManagementSection",(function(){return mountManagementSection}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(0),constants=__webpack_require__(36),constants_plugin=__webpack_require__(5);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const breadcrumbService=new class{constructor(){_defineProperty(this,"breadcrumbs",{home:[]}),_defineProperty(this,"setBreadcrumbsHandler",void 0)}setup(setBreadcrumbsHandler){this.setBreadcrumbsHandler=setBreadcrumbsHandler,this.breadcrumbs.home=[{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.breadcrumb.homeLabel",{defaultMessage:"Index Management"}),href:"/"}],this.breadcrumbs.templates=[...this.breadcrumbs.home,{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.breadcrumb.templatesLabel",{defaultMessage:"Templates"}),href:"/templates"}],this.breadcrumbs.templateCreate=[...this.breadcrumbs.templates,{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.breadcrumb.createTemplateLabel",{defaultMessage:"Create template"})}],this.breadcrumbs.templateEdit=[...this.breadcrumbs.templates,{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.breadcrumb.editTemplateLabel",{defaultMessage:"Edit template"})}],this.breadcrumbs.templateClone=[...this.breadcrumbs.templates,{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.breadcrumb.cloneTemplateLabel",{defaultMessage:"Clone template"})}]}setBreadcrumbs(type){if(!this.setBreadcrumbsHandler)throw new Error("BreadcrumbService#setup() must be called first!");const newBreadcrumbs=this.breadcrumbs[type]?[...this.breadcrumbs[type]]:[...this.breadcrumbs.home],lastBreadcrumb=newBreadcrumbs.pop();newBreadcrumbs.push({...lastBreadcrumb,href:void 0}),this.setBreadcrumbsHandler(newBreadcrumbs)}};var external_kbnSharedDeps_React_=__webpack_require__(19),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_ElasticEui_=__webpack_require__(20);const FIELD_OPTIONS_TEXTS={"indexOptions.docs":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.docNumberTitle",{defaultMessage:"Doc number"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.docNumberDescription",{defaultMessage:"Index the doc number only. Used to verify the existence of a term in a field."})},"indexOptions.freqs":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.termFrequencyTitle",{defaultMessage:"Term frequencies"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.termFrequencyDescription",{defaultMessage:"Index the doc number and term frequencies. Repeated terms score higher than single terms."})},"indexOptions.positions":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.positionsTitle",{defaultMessage:"Positions"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.positionsDescription",{defaultMessage:"Index the doc number, term frequencies, positions, and start and end character offsets. Offsets map the term back to the original string."})},"indexOptions.offsets":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.offsetsTitle",{defaultMessage:"Offsets"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.offsetsDescription",{defaultMessage:"Doc number, term frequencies, positions, and start and end character offsets (which map the term back to the original string) are indexed."})},"analyzer.indexDefault":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.indexDefaultTitle",{defaultMessage:"Index default"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.indexDefaultDescription",{defaultMessage:"Use the analyzer defined for the index."})},"analyzer.standard":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.standardTitle",{defaultMessage:"Standard"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.standardDescription",{defaultMessage:"The standard analyzer divides text into terms on word boundaries, as defined by the Unicode Text Segmentation algorithm."})},"analyzer.simple":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.simpleTitle",{defaultMessage:"Simple"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.simpleDescription",{defaultMessage:"The simple analyzer divides text into terms whenever it encounters a character which is not a letter. "})},"analyzer.whitespace":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.whitespaceTitle",{defaultMessage:"Whitespace"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.whitespaceDescription",{defaultMessage:"The whitespace analyzer divides text into terms whenever it encounters any whitespace character."})},"analyzer.stop":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.stopTitle",{defaultMessage:"Stop"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.stopDescription",{defaultMessage:"The stop analyzer is like the simple analyzer, but also supports removal of stop words."})},"analyzer.keyword":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.keywordTitle",{defaultMessage:"Keyword"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.keywordDescription",{defaultMessage:"The keyword analyzer is a noop analyzer that accepts whatever text it is given and outputs the exact same text as a single term."})},"analyzer.pattern":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.patternTitle",{defaultMessage:"Pattern"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.patternDescription",{defaultMessage:"The pattern analyzer uses a regular expression to split the text into terms. It supports lower-casing and stop words."})},"analyzer.fingerprint":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.fingerprintTitle",{defaultMessage:"Fingerprint"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.fingerprintDescription",{defaultMessage:"The fingerprint analyzer is a specialist analyzer which creates a fingerprint which can be used for duplicate detection."})},"analyzer.language":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.languageTitle",{defaultMessage:"Language"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.languageDescription",{defaultMessage:"Elasticsearch provides many language-specific analyzers like english or french."})},"similarity.bm25":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.bm25Title",{defaultMessage:"Okapi BM25"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.bm25Description",{defaultMessage:"The default algorithm used in Elasticsearch and Lucene."})},"similarity.boolean":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.booleanTitle",{defaultMessage:"Boolean"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.booleanDescription",{defaultMessage:"A boolean similarity to use when full text-ranking is not needed. The score is based on whether the query terms match."})},"termVector.no":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.noTitle",{defaultMessage:"No"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.noDescription",{defaultMessage:"No term vectors are stored."})},"termVector.yes":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.yesTitle",{defaultMessage:"Yes"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.yesDescription",{defaultMessage:"Just the terms in the field are stored."})},"termVector.withPositions":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsTitle",{defaultMessage:"With positions"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsDescription",{defaultMessage:"Terms and positions are stored."})},"termVector.withOffsets":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withOffsetsTitle",{defaultMessage:"With offsets"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withOffsetsDescription",{defaultMessage:"Terms and character offsets are stored."})},"termVector.withPositionsOffsets":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsTitle",{defaultMessage:"With positions and offsets"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsDescription",{defaultMessage:"Terms, positions, and character offsets are stored."})},"termVector.withPositionsPayloads":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsPayloadsTitle",{defaultMessage:"With positions and payloads"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsPayloadsDescription",{defaultMessage:"Terms, positions, and payloads are stored."})},"termVector.withPositionsOffsetsPayloads":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsPayloadsTitle",{defaultMessage:"With positions, offsets, and payloads"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsPayloadsDescription",{defaultMessage:"Terms, positions, offsets and payloads are stored."})},"orientation.counterclockwise":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.counterclockwiseTitle",{defaultMessage:"Counterclockwise"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.counterclockwiseDescription",{defaultMessage:"Defines outer polygon vertices in counterclockwise order and interior shape vertices in clockwise order. This is the Open Geospatial Consortium (OGC) and GeoJSON standard."})},"orientation.clockwise":{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.clockwiseTitle",{defaultMessage:"Clockwise"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.clockwiseDescription",{defaultMessage:"Defines outer polygon vertices in clockwise order and interior shape vertices in counterclockwise order."})}},LANGUAGE_OPTIONS_TEXT={arabic:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.arabic",{defaultMessage:"Arabic"}),armenian:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.armenian",{defaultMessage:"Armenian"}),basque:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.basque",{defaultMessage:"Basque"}),bengali:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.bengali",{defaultMessage:"Bengali"}),brazilian:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.brazilian",{defaultMessage:"Brazilian"}),bulgarian:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.bulgarian",{defaultMessage:"Bulgarian"}),catalan:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.catalan",{defaultMessage:"Catalan"}),cjk:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.cjk",{defaultMessage:"Cjk"}),czech:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.czech",{defaultMessage:"Czech"}),danish:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.danish",{defaultMessage:"Danish"}),dutch:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.dutch",{defaultMessage:"Dutch"}),english:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.english",{defaultMessage:"English"}),finnish:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.finnish",{defaultMessage:"Finnish"}),french:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.french",{defaultMessage:"French"}),galician:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.galician",{defaultMessage:"Galician"}),german:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.german",{defaultMessage:"German"}),greek:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.greek",{defaultMessage:"Greek"}),hindi:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.hindi",{defaultMessage:"Hindi"}),hungarian:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.hungarian",{defaultMessage:"Hungarian"}),indonesian:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.indonesian",{defaultMessage:"Indonesian"}),irish:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.irish",{defaultMessage:"Irish"}),italian:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.italian",{defaultMessage:"Italian"}),latvian:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.latvian",{defaultMessage:"Latvian"}),lithuanian:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.lithuanian",{defaultMessage:"Lithuanian"}),norwegian:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.norwegian",{defaultMessage:"Norwegian"}),persian:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.persian",{defaultMessage:"Persian"}),portuguese:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.portuguese",{defaultMessage:"Portuguese"}),romanian:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.romanian",{defaultMessage:"Romanian"}),russian:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.russian",{defaultMessage:"Russian"}),sorani:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.sorani",{defaultMessage:"Sorani"}),spanish:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.spanish",{defaultMessage:"Spanish"}),swedish:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.swedish",{defaultMessage:"Swedish"}),thai:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.thai",{defaultMessage:"Thai"}),turkish:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.turkish",{defaultMessage:"Turkish"})};var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(21);const TYPE_DEFINITION={text:{value:"text",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.textDescription",{defaultMessage:"Text"}),documentation:{main:"/text.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.textLongDescription",defaultMessage:"Text fields support full-text search by breaking strings into individual, searchable terms. To index structured content, such as an email address, use the {keyword}.",values:{keyword:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getTypeDocLink("keyword"),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.textLongDescription.keywordTypeLink",{defaultMessage:"keyword data type"}))}}))},keyword:{value:"keyword",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.keywordDescription",{defaultMessage:"Keyword"}),documentation:{main:"/keyword.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.keywordLongDescription",defaultMessage:"Keyword fields support searching for an exact value and are useful for filtering, sorting, and aggregations. To index full-text content, such as an email body, use the {textType}.",values:{textType:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getTypeDocLink("text"),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.keywordLongDescription.textTypeLink",{defaultMessage:"text data type"}))}}))},constant_keyword:{value:"constant_keyword",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.constantKeywordDescription",{defaultMessage:"Constant keyword"}),documentation:{main:"/keyword.html#constant-keyword-field-type"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.constantKeywordLongDescription",defaultMessage:"Constant keyword fields are a special type of keyword fields for fields that contain the same keyword across all documents in the index. Supports the same queries and aggregations as {keyword} fields.",values:{keyword:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"keyword")}}))},numeric:{value:"numeric",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.numericDescription",{defaultMessage:"Numeric"}),documentation:{main:"/number.html"},subTypes:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.numericSubtypeDescription",{defaultMessage:"Numeric type"}),types:["byte","double","float","half_float","integer","long","scaled_float","short"]}},byte:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.byteDescription",{defaultMessage:"Byte"}),value:"byte",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.byteLongDescription",defaultMessage:"Byte fields accept a signed 8-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"-128"),maxValue:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"127")}}))},double:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.doubleDescription",{defaultMessage:"Double"}),value:"double",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.doubleLongDescription",defaultMessage:"Double fields accept a double-precision 64-bit floating point number, restricted to finite values (IEEE 754)."}))},integer:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.integerDescription",{defaultMessage:"Integer"}),value:"integer",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.integerLongDescription",defaultMessage:"Integer fields accept a signed 32-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"-2",external_kbnSharedDeps_React_default.a.createElement("sup",{className:"eui-alignTop"},"31")),maxValue:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"2",external_kbnSharedDeps_React_default.a.createElement("sup",{className:"eui-alignTop"},"31"),"-1")}}))},long:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.longDescription",{defaultMessage:"Long"}),value:"long",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.longLongDescription",defaultMessage:"Long fields accept a signed 64-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"-2",external_kbnSharedDeps_React_default.a.createElement("sup",{className:"eui-alignTop"},"63")),maxValue:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"2",external_kbnSharedDeps_React_default.a.createElement("sup",{className:"eui-alignTop"},"63"),"-1")}}))},float:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.floatDescription",{defaultMessage:"Float"}),value:"float",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.floatLongDescription",defaultMessage:"Float fields accept a single-precision 32-bit floating point number, restricted to finite values (IEEE 754)."}))},half_float:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.halfFloatDescription",{defaultMessage:"Half float"}),value:"half_float",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.halfFloatLongDescription",defaultMessage:"Half-float fields accept a half-precision 16-bit floating point number, restricted to finite values (IEEE 754)."}))},scaled_float:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.scaledFloatDescription",{defaultMessage:"Scaled float"}),value:"scaled_float",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.scaledFloatLongDescription",defaultMessage:"Scaled-float fields accept a floating point number that is backed by a {longType} and scaled by a fixed {doubleType} scaling factor. Use this data type to store floating point data into an integer using a scaling factor. This saves disk space, but affects accuracy.",values:{longType:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"long"),doubleType:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"double")}}))},short:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.shortDescription",{defaultMessage:"Short"}),value:"short",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.shortLongDescription",defaultMessage:"Short fields accept a signed 16-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"-32,768"),maxValue:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"32,767")}}))},date:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateDescription",{defaultMessage:"Date"}),value:"date",documentation:{main:"/date.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateLongDescription",defaultMessage:'Date fields accept strings with formatted dates ("2015/01/01 12:10:30"), long numbers representing milliseconds since the epoch, and integers representing seconds since the epoch. Multiple date formats are allowed. Dates with timezones are converted to UTC.'}))},date_nanos:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateNanosDescription",{defaultMessage:"Date nanoseconds"}),value:"date_nanos",documentation:{main:"/date_nanos.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateNanosLongDescription",defaultMessage:"Date nanoseconds fields store dates in nanosecond resolution. Aggregations remain in millisecond resolution. To store dates in millisecond resolution, use the {date}.",values:{date:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getTypeDocLink("date"),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateNanosLongDescription.dateTypeLink",{defaultMessage:"date data type"}))}}))},binary:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.binaryDescription",{defaultMessage:"Binary"}),value:"binary",documentation:{main:"/binary.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.binaryLongDescription",defaultMessage:"Binary fields accept a binary value as a Base64-encoded string. By default, binary fields are not stored or searchable."}))},ip:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipDescription",{defaultMessage:"IP"}),value:"ip",documentation:{main:"/ip.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.ipLongDescription",defaultMessage:"IP fields accept IPv4 or IPv6 addresses. If you need to store IP ranges in a single field, use the {ipRange}.",values:{ipRange:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getTypeDocLink("range"),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipLongDescription.ipRangeTypeLink",{defaultMessage:"IP range data type"}))}}))},boolean:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.booleanDescription",{defaultMessage:"Boolean"}),value:"boolean",documentation:{main:"/boolean.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.booleanLongDescription",defaultMessage:"Boolean fields accept JSON {true} and {false} values, as well as strings which are interpreted as true or false.",values:{true:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"true"),false:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"false")}}))},range:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rangeDescription",{defaultMessage:"Range"}),value:"range",documentation:{main:"/range.html"},subTypes:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rangeSubtypeDescription",{defaultMessage:"Range type"}),types:["date_range","double_range","float_range","integer_range","ip_range","long_range"]}},object:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.objectDescription",{defaultMessage:"Object"}),value:"object",documentation:{main:"/object.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.objectLongDescription",defaultMessage:"Object fields can contain children, which are queried as a flattened list. To query child objects independently, use the {nested}.",values:{nested:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getTypeDocLink("nested"),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.objectLongDescription.nestedTypeLink",{defaultMessage:"nested data type"}))}}))},nested:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.nestedDescription",{defaultMessage:"Nested"}),value:"nested",documentation:{main:"/nested.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.nestedLongDescription",defaultMessage:"Like {objects}, nested fields can contain children. The difference is that you can query their child objects independently.",values:{objects:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getTypeDocLink("object"),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.nestedLongDescription.objectTypeLink",{defaultMessage:"objects"}))}}))},rank_feature:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeatureDescription",{defaultMessage:"Rank feature"}),value:"rank_feature",documentation:{main:"/rank-feature.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.rankFeatureLongDescription",defaultMessage:"The rank feature field accepts a number that will boost documents in {rankFeatureQuery}.",values:{rankFeatureQuery:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getRankFeatureQueryLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeatureLongDescription.queryLink",{defaultMessage:"rank_feature queries"}))}}))},rank_features:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesDescription",{defaultMessage:"Rank features"}),value:"rank_features",documentation:{main:"/rank-features.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesLongDescription",defaultMessage:"The rank features field accepts numeric vectors that will boost documents in {rankFeatureQuery}.",values:{rankFeatureQuery:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getRankFeatureQueryLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesLongDescription.queryLink",{defaultMessage:"rank_feature queries"}))}}))},dense_vector:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.denseVectorDescription",{defaultMessage:"Dense vector"}),value:"dense_vector",documentation:{main:"/dense-vector.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.denseVectorLongDescription",defaultMessage:"Dense vector fields store vectors of float values, useful for document scoring."}))},date_range:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateRangeDescription",{defaultMessage:"Date range"}),value:"date_range",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateRangeLongDescription",defaultMessage:"Date range fields accept an unsigned 64-bit integer representing milliseconds since the system epoch."}))},double_range:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.doubleRangeDescription",{defaultMessage:"Double range"}),value:"double_range",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.doubleRangeLongDescription",defaultMessage:"Double range fields accept a 64-bit double precision floating point number (IEEE 754 binary64)."}))},float_range:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.floatRangeDescription",{defaultMessage:"Float range"}),value:"float_range",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.floatRangeLongDescription",defaultMessage:"Float range fields accept a 32-bit single precision floating point number (IEEE 754 binary32)."}))},integer_range:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.integerRangeDescription",{defaultMessage:"Integer range"}),value:"integer_range",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.integerRangeLongDescription",defaultMessage:"Integer range fields accept a signed 32-bit integer."}))},long_range:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.longRangeDescription",{defaultMessage:"Long range"}),value:"long_range",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.longRangeLongDescription",defaultMessage:"Long range fields accept a signed 64-bit integer."}))},ip_range:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipRangeDescription",{defaultMessage:"IP range"}),value:"ip_range",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.ipRangeLongDescription",defaultMessage:"IP range fields accept an IPv4 or IPV6 address."}))},geo_point:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.geoPointDescription",{defaultMessage:"Geo-point"}),value:"geo_point",documentation:{main:"/geo-point.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.geoPointLongDescription",defaultMessage:"Geo-point fields accept latitude and longitude pairs. Use this data type to search within a bounding box, aggregate documents geographically, and sort documents by distance."}))},geo_shape:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.geoShapeDescription",{defaultMessage:"Geo-shape"}),value:"geo_shape",documentation:{main:"/geo-shape.html",learnMore:"/geo-shape.html#geoshape-indexing-approach"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.geoShapeType.fieldDescription",defaultMessage:"Geo-shapes are indexed by decomposing the shape into a triangular mesh and indexing each triangle as a 7-dimensional point in a BKD tree. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getTypeDocLink("geo_shape","learnMore"),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.fieldDescription.learnMoreLink",{defaultMessage:"Learn more."}))}}))},completion:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.completionSuggesterDescription",{defaultMessage:"Completion suggester"}),value:"completion",documentation:{main:"/search-suggesters.html#completion-suggester"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.completionSuggesterLongDescription",defaultMessage:"Completion suggester fields support autocomplete, but require special data structures that occupy memory and build slowly."}))},token_count:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.tokenCountDescription",{defaultMessage:"Token count"}),value:"token_count",documentation:{main:"/token-count.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.tokenCountLongDescription",defaultMessage:"Token count fields accept string values.  These values are analyzed, and the number of tokens in the string are indexed."}))},percolator:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.percolatorDescription",{defaultMessage:"Percolator"}),value:"percolator",documentation:{main:"/percolator.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.percolatorLongDescription",defaultMessage:"The percolator data type enables {percolator}.",values:{percolator:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getPercolatorQueryLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.percolatorLongDescription.learnMoreLink",{defaultMessage:"percolator queries"}))}}))},histogram:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.histogramDescription",{defaultMessage:"Histogram"}),value:"histogram",documentation:{main:"/histogram.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.histogramLongDescription",defaultMessage:"Histogram fields store pre-aggregated numerical data representing a histogram, and are intended for use with aggregations."}))},join:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.joinDescription",{defaultMessage:"Join"}),value:"join",documentation:{main:"/parent-join.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.joinLongDescription",defaultMessage:"Join fields define parent-child relationships among documents of the same index."}))},alias:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.aliasDescription",{defaultMessage:"Alias"}),value:"alias",documentation:{main:"/alias.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.aliasLongDescription",defaultMessage:"Alias fields accept an alternative name for a field, which you can use in search requests."}))},search_as_you_type:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.searchAsYouTypeDescription",{defaultMessage:"Search-as-you-type"}),value:"search_as_you_type",documentation:{main:"/search-as-you-type.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.searchAsYouTypeLongDescription",defaultMessage:"Search-as-you-type fields break strings into subfields for search suggestions, and will match terms at any position in the string."}))},flattened:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.flattenedDescription",{defaultMessage:"Flattened"}),value:"flattened",documentation:{main:"/flattened.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.flattenedLongDescription",defaultMessage:"Flattened fields map an object as a single field and are useful for indexing objects with a large or unknown number of unique keys. Flattened fields support basic queries only."}))},shape:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.shapeDescription",{defaultMessage:"Shape"}),value:"shape",documentation:{main:"/shape.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.shapeLongDescription",defaultMessage:"Shape fields enable searching of complex shapes, such as rectangles and polygons."}))},point:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.pointDescription",{defaultMessage:"Point"}),value:"point",documentation:{main:"/point.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.pointLongDescription",defaultMessage:"Point fields enable searching of {code} pairs that fall in a 2-dimensional planar coordinate system.",values:{code:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"x,y")}}))},version:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.versionDescription",{defaultMessage:"Version"}),value:"version",documentation:{main:"/version.html"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.versionLongDescription",defaultMessage:"Version fields are helpful to handle software version values. This field isnt optimized for heavy wildcard, regex, or fuzzy searches. For these query types, use the {keywordType}.",values:{keywordType:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getTypeDocLink("keyword"),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.versionLongDescription.keywordTypeLink",{defaultMessage:"keyword data type"}))}}))},wildcard:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.wildcardDescription",{defaultMessage:"Wildcard"}),value:"wildcard",documentation:{main:"/keyword.html#wildcard-field-type"},description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.wildcardLongDescription",defaultMessage:"Wildcard fields store values optimized for wildcard grep-like queries."}))},other:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.otherDescription",{defaultMessage:"Other"}),value:"other",description:()=>external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.otherLongDescription",defaultMessage:"Specify type parameters in JSON."}))}},MAIN_DATA_TYPE_DEFINITION=["alias","binary","boolean","completion","constant_keyword","date","date_nanos","dense_vector","flattened","geo_point","geo_shape","ip","join","keyword","nested","numeric","object","percolator","range","rank_feature","rank_features","search_as_you_type","shape","text","token_count","histogram","wildcard","point","version","other"].reduce((acc,type)=>({...acc,[type]:TYPE_DEFINITION[type]}),{}),SUB_TYPE_MAP_TO_MAIN=Object.entries(MAIN_DATA_TYPE_DEFINITION).reduce((acc,[type,definition])=>(({}.hasOwnProperty.call(definition,"subTypes")&&definition.subTypes.types.forEach(subType=>{acc[subType]=type}),acc)),{}),ALL_DATA_TYPES=[...Object.keys(MAIN_DATA_TYPE_DEFINITION),...Object.keys(SUB_TYPE_MAP_TO_MAIN)],TYPE_ONLY_ALLOWED_AT_ROOT_LEVEL=["join"],TYPE_NOT_ALLOWED_MULTIFIELD=[...TYPE_ONLY_ALLOWED_AT_ROOT_LEVEL,"object","nested","alias"],FIELD_TYPES_OPTIONS=Object.entries(MAIN_DATA_TYPE_DEFINITION).map(([dataType,{label:label}])=>({value:dataType,label:label})),getSuperSelectOption=(title,description)=>({inputDisplay:title,dropdownDisplay:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("strong",null,title),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement("p",{className:"euiTextColor--subdued"},description)))}),getOptionTexts=option=>getSuperSelectOption(FIELD_OPTIONS_TEXTS[option].title,FIELD_OPTIONS_TEXTS[option].description),PARAMETERS_OPTIONS={index_options:[{value:"docs",...getOptionTexts("indexOptions.docs")},{value:"freqs",...getOptionTexts("indexOptions.freqs")},{value:"positions",...getOptionTexts("indexOptions.positions")},{value:"offsets",...getOptionTexts("indexOptions.offsets")}],index_options_flattened:[{value:"docs",...getOptionTexts("indexOptions.docs")},{value:"freqs",...getOptionTexts("indexOptions.freqs")}],index_options_keyword:[{value:"docs",...getOptionTexts("indexOptions.docs")},{value:"freqs",...getOptionTexts("indexOptions.freqs")}],analyzer:[{value:"index_default",...getOptionTexts("analyzer.indexDefault")},{value:"standard",...getOptionTexts("analyzer.standard")},{value:"simple",...getOptionTexts("analyzer.simple")},{value:"whitespace",...getOptionTexts("analyzer.whitespace")},{value:"stop",...getOptionTexts("analyzer.stop")},{value:"keyword",...getOptionTexts("analyzer.keyword")},{value:"pattern",...getOptionTexts("analyzer.pattern")},{value:"fingerprint",...getOptionTexts("analyzer.fingerprint")},{value:"language",...getOptionTexts("analyzer.language")}],languageAnalyzer:Object.entries(LANGUAGE_OPTIONS_TEXT).map(([value,text])=>({value:value,text:text})),similarity:[{value:"BM25",...getOptionTexts("similarity.bm25")},{value:"boolean",...getOptionTexts("similarity.boolean")}],term_vector:[{value:"no",...getOptionTexts("termVector.no")},{value:"yes",...getOptionTexts("termVector.yes")},{value:"with_positions",...getOptionTexts("termVector.withPositions")},{value:"with_offsets",...getOptionTexts("termVector.withOffsets")},{value:"with_positions_offsets",...getOptionTexts("termVector.withPositionsOffsets")},{value:"with_positions_payloads",...getOptionTexts("termVector.withPositionsPayloads")},{value:"with_positions_offsets_payloads",...getOptionTexts("termVector.withPositionsOffsetsPayloads")}],orientation:[{value:"ccw",...getOptionTexts("orientation.counterclockwise")},{value:"cw",...getOptionTexts("orientation.clockwise")}]},DATE_FORMATS=[{label:"epoch_millis"},{label:"epoch_second"},{label:"date_optional_time",strict:!0},{label:"basic_date"},{label:"basic_date_time"},{label:"basic_date_time_no_millis"},{label:"basic_ordinal_date"},{label:"basic_ordinal_date_time"},{label:"basic_ordinal_date_time_no_millis"},{label:"basic_time"},{label:"basic_time_no_millis"},{label:"basic_t_time"},{label:"basic_t_time_no_millis"},{label:"basic_week_date",strict:!0},{label:"basic_week_date_time",strict:!0},{label:"basic_week_date_time_no_millis",strict:!0},{label:"date",strict:!0},{label:"date_hour",strict:!0},{label:"date_hour_minute",strict:!0},{label:"date_hour_minute_second",strict:!0},{label:"date_hour_minute_second_fraction",strict:!0},{label:"date_hour_minute_second_millis",strict:!0},{label:"date_time",strict:!0},{label:"date_time_no_millis",strict:!0},{label:"hour",strict:!0},{label:"hour_minute ",strict:!0},{label:"hour_minute_second",strict:!0},{label:"hour_minute_second_fraction",strict:!0},{label:"hour_minute_second_millis",strict:!0},{label:"ordinal_date",strict:!0},{label:"ordinal_date_time",strict:!0},{label:"ordinal_date_time_no_millis",strict:!0},{label:"time",strict:!0},{label:"time_no_millis",strict:!0},{label:"t_time",strict:!0},{label:"t_time_no_millis",strict:!0},{label:"week_date",strict:!0},{label:"week_date_time",strict:!0},{label:"week_date_time_no_millis",strict:!0},{label:"weekyear",strict:!0},{label:"weekyear_week",strict:!0},{label:"weekyear_week_day",strict:!0},{label:"year",strict:!0},{label:"year_month",strict:!0},{label:"year_month_day",strict:!0}],STRICT_DATE_FORMAT_OPTIONS=DATE_FORMATS.filter(format=>format.strict).map(({label:label})=>({label:"strict_"+label})),ALL_DATE_FORMAT_OPTIONS=[...DATE_FORMATS.map(({label:label})=>({label:label})),...STRICT_DATE_FORMAT_OPTIONS];var lib=__webpack_require__(61),hook_form_lib_=__webpack_require__(22),components_=__webpack_require__(24),helpers_=__webpack_require__(25),public_=__webpack_require__(23),runtimeFields_public_=__webpack_require__(30),kibanaReact_public_=__webpack_require__(28);__webpack_require__(32);const{toInt:toInt}=helpers_.fieldFormatters,{emptyField:emptyField,containsCharsField:containsCharsField,numberGreaterThanField:numberGreaterThanField,isJsonField:isJsonField}=helpers_.fieldValidators,commonErrorMessages={smallerThanZero:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.smallerZeroErrorMessage",{defaultMessage:"The value must be greater or equal to 0."}),spacesNotAllowed:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.spacesNotAllowedErrorMessage",{defaultMessage:"Spaces are not allowed."}),analyzerIsRequired:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.analyzerIsRequiredErrorMessage",{defaultMessage:"Specify the custom analyzer name or choose a built-in analyzer."})},nullValueLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldLabel",{defaultMessage:"Null value"}),nullValueValidateEmptyField=emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.nullValueIsRequiredErrorMessage",{defaultMessage:"Null value is required."})),mapIndexToValue=["true",!0,"false",!1],indexOptionsConfig={label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.indexOptionsLabel",{defaultMessage:"Index options"}),helpText:()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.indexOptionsHelpText",defaultMessage:"Information to store in the index. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getIndexOptionsLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.indexOptionsdDocumentationLink",{defaultMessage:"Learn more."}))}}),type:hook_form_lib_.FIELD_TYPES.SUPER_SELECT},fielddataFrequencyFilterParam={fieldConfig:{defaultValue:{}},props:{min_segment_size:{fieldConfig:{type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.minSegmentSizeFieldLabel",{defaultMessage:"Minimum segment size"}),defaultValue:50,formatters:[toInt]}}},schema:lib.record(lib.union([lib.literal("min"),lib.literal("max"),lib.literal("min_segment_size")]),lib.number)},analyzerValidations=[{validator:emptyField(commonErrorMessages.analyzerIsRequired)},{validator:containsCharsField({chars:" ",message:commonErrorMessages.spacesNotAllowed})}],PARAMETERS_DEFINITION={name:{fieldConfig:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.nameFieldLabel",{defaultMessage:"Field name"}),defaultValue:"",validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.nameIsRequiredErrorMessage",{defaultMessage:"Give a name to the field."}))}]}},type:{fieldConfig:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.typeFieldLabel",{defaultMessage:"Field type"}),defaultValue:"text",deserializer:fieldType=>"string"==typeof fieldType&&Boolean(fieldType)?[{label:TYPE_DEFINITION[fieldType]?TYPE_DEFINITION[fieldType].label:fieldType,value:fieldType}]:[{value:""}],serializer:fieldType=>fieldType&&fieldType.length?fieldType[0].value:fieldType,validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.typeIsRequiredErrorMessage",{defaultMessage:"Specify a field type."}))}]},schema:lib.string},store:{fieldConfig:{type:hook_form_lib_.FIELD_TYPES.CHECKBOX,defaultValue:!1},schema:lib.boolean},index:{fieldConfig:{type:hook_form_lib_.FIELD_TYPES.CHECKBOX,defaultValue:!0},schema:lib.boolean},doc_values:{fieldConfig:{defaultValue:!0},schema:lib.boolean},doc_values_binary:{fieldConfig:{defaultValue:!1},schema:lib.boolean},fielddata:{fieldConfig:{type:hook_form_lib_.FIELD_TYPES.CHECKBOX,defaultValue:!1},schema:lib.boolean},fielddata_frequency_filter:fielddataFrequencyFilterParam,fielddata_frequency_filter_percentage:{...fielddataFrequencyFilterParam,props:{min:{fieldConfig:{defaultValue:.01,serializer:value=>""===value?"":toInt(value)/100,deserializer:value=>Math.round(100*value)}},max:{fieldConfig:{defaultValue:1,serializer:value=>""===value?"":toInt(value)/100,deserializer:value=>Math.round(100*value)}}}},fielddata_frequency_filter_absolute:{...fielddataFrequencyFilterParam,props:{min:{fieldConfig:{defaultValue:2,validations:[{validator:numberGreaterThanField({than:1,message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.fieldDataFrequency.numberGreaterThanOneErrorMessage",{defaultMessage:"Value must be greater than one."})})}],formatters:[toInt]}},max:{fieldConfig:{defaultValue:5,validations:[{validator:numberGreaterThanField({than:1,message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.fieldDataFrequency.numberGreaterThanOneErrorMessage",{defaultMessage:"Value must be greater than one."})})}],formatters:[toInt]}}}},coerce:{fieldConfig:{defaultValue:!0},schema:lib.boolean},coerce_shape:{fieldConfig:{defaultValue:!1},schema:lib.boolean},ignore_malformed:{fieldConfig:{defaultValue:!1},schema:lib.boolean},null_value:{fieldConfig:{defaultValue:"",type:hook_form_lib_.FIELD_TYPES.TEXT,label:nullValueLabel}},null_value_ip:{fieldConfig:{defaultValue:"",type:hook_form_lib_.FIELD_TYPES.TEXT,label:nullValueLabel,helpText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.nullValueIpHelpText",{defaultMessage:"Accepts an IP address."})}},null_value_numeric:{fieldConfig:{defaultValue:"",label:nullValueLabel,formatters:[toInt],validations:[{validator:nullValueValidateEmptyField}]},schema:lib.number},null_value_boolean:{fieldConfig:{defaultValue:!1,label:nullValueLabel,deserializer:value=>mapIndexToValue.indexOf(value),serializer:value=>mapIndexToValue[value]},schema:lib.union([lib.literal(!0),lib.literal(!1),lib.literal("true"),lib.literal("false")])},null_value_geo_point:{fieldConfig:{defaultValue:"",label:nullValueLabel,helpText:()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.geoPointNullValueHelpText",defaultMessage:"Geo-points can be expressed as an object, string, geohash, array or {docsLink} POINT.",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getWellKnownTextLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.wellKnownTextDocumentationLink",{defaultMessage:"Well-Known Text"}))}}),validations:[{validator:nullValueValidateEmptyField}],deserializer:value=>""===value?value:JSON.stringify(value),serializer:value=>{try{return JSON.parse(value)}catch(error){return value}}},schema:lib.any},null_value_point:{fieldConfig:{defaultValue:"",label:nullValueLabel,helpText:()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.pointNullValueHelpText",defaultMessage:"Points can be expressed as an object, string, array or {docsLink} POINT.",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getWellKnownTextLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pointWellKnownTextDocumentationLink",{defaultMessage:"Well-Known Text"}))}}),validations:[{validator:nullValueValidateEmptyField}],deserializer:value=>""===value?value:JSON.stringify(value),serializer:value=>{try{return JSON.parse(value)}catch(error){return value}}},schema:lib.any},copy_to:{fieldConfig:{defaultValue:"",type:hook_form_lib_.FIELD_TYPES.TEXT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.copyToLabel",{defaultMessage:"Group field name"}),validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.copyToIsRequiredErrorMessage",{defaultMessage:"Group field name is required."}))}]},schema:lib.string},value:{fieldConfig:{defaultValue:"",type:hook_form_lib_.FIELD_TYPES.TEXT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.valueLabel",{defaultMessage:"Value"})},schema:lib.string},meta:{fieldConfig:{defaultValue:"",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaLabel",{defaultMessage:"Metadata"}),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.metaHelpText",defaultMessage:"Use JSON format: {code}",values:{code:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,JSON.stringify({arbitrary_key:"anything_goes"}))}}),validations:[{validator:isJsonField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorJsonError",{defaultMessage:"Invalid JSON."}),{allowEmptyString:!0})},{validator:({value:value})=>{if("string"!=typeof value||""===value.trim())return;const json=JSON.parse(value),valuesAreNotString=Object.values(json).some(v=>"string"!=typeof v);return Array.isArray(json)?{message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorArraysNotAllowedError",{defaultMessage:"Arrays are not allowed."})}:valuesAreNotString?{message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorOnlyStringValuesAllowedError",{defaultMessage:"Values must be a string."})}:void 0}}],deserializer:value=>""===value?value:JSON.stringify(value,null,2),serializer:value=>{if(""!==value.trim())try{const parsed=JSON.parse(value);if(!Object.keys(parsed).length)return;return parsed}catch(error){return value}}},schema:lib.any},max_input_length:{fieldConfig:{defaultValue:50,type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.maxInputLengthLabel",{defaultMessage:"Max input length"}),formatters:[toInt],validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.maxInputLengthFieldRequiredErrorMessage",{defaultMessage:"Specify a max input length."}))}]},schema:lib.number},locale:{fieldConfig:{defaultValue:"ROOT",type:hook_form_lib_.FIELD_TYPES.TEXT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.localeLabel",{defaultMessage:"Locale"}),helpText:()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.localeHelpText",defaultMessage:"Separate the language, country, and variant, use {hyphen} or {underscore}. A maximum of 2 separators is allowed. Example: {locale}.",values:{locale:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"en-US"),hyphen:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"-"),underscore:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"_")}}),validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.localeFieldRequiredErrorMessage",{defaultMessage:"Specify a locale."}))}]},schema:lib.string},orientation:{fieldConfig:{defaultValue:"ccw",type:hook_form_lib_.FIELD_TYPES.SUPER_SELECT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.orientationLabel",{defaultMessage:"Orientation"})},schema:lib.string},boost:{fieldConfig:{defaultValue:1,type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.boostLabel",{defaultMessage:"Boost level"}),formatters:[toInt],validations:[{validator:({value:value})=>{if(value<0)return{message:commonErrorMessages.smallerThanZero}}}]},schema:lib.number},scaling_factor:{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorFieldTitle",{defaultMessage:"Scaling factor"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorFieldDescription",{defaultMessage:"Values will be multiplied by this factor at index time and rounded to the closest long value. High factor values improve accuracy, but also increase space requirements."}),fieldConfig:{defaultValue:"",type:hook_form_lib_.FIELD_TYPES.NUMBER,deserializer:value=>""===value?value:+value,formatters:[toInt],label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorLabel",{defaultMessage:"Scaling factor"}),validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.scalingFactorIsRequiredErrorMessage",{defaultMessage:"A scaling factor is required."}))},{validator:({value:value})=>{if(value<=0)return{message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.greaterThanZeroErrorMessage",{defaultMessage:"The scaling factor must be greater than 0."})}}}],helpText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorHelpText",{defaultMessage:"Value must be greater than 0."})},schema:lib.number},dynamic:{fieldConfig:{defaultValue:!0},schema:lib.union([lib.boolean,lib.literal("strict")])},dynamic_toggle:{fieldConfig:{defaultValue:!0}},dynamic_strict:{fieldConfig:{defaultValue:!1,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicStrictParameter.fieldTitle",{defaultMessage:"Throw an exception when the object contains an unmapped property"}),helpText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicStrictParameter.fieldHelpText",{defaultMessage:"By default, unmapped properties will be silently ignored when dynamic mapping is disabled. Optionally, you can choose to throw an exception when an object contains an unmapped property."})}},enabled:{fieldConfig:{defaultValue:!0},schema:lib.boolean},format:{fieldConfig:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formatFieldLabel",{defaultMessage:"Format"}),defaultValue:"strict_date_optional_time||epoch_millis",serializer:format=>format.length?format.map(({label:label})=>label).join("||"):void 0,deserializer:formats=>formats.split("||").map(format=>({label:format})),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.formatHelpText",defaultMessage:"Specify custom formats using {dateSyntax} syntax.",values:{dateSyntax:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"yyyy/MM/dd")}})},schema:lib.string},analyzer:{fieldConfig:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzerFieldLabel",{defaultMessage:"Analyzer"}),defaultValue:"index_default",validations:analyzerValidations},schema:lib.string},search_analyzer:{fieldConfig:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.searchAnalyzerFieldLabel",{defaultMessage:"Search analyzer"}),defaultValue:"index_default",validations:analyzerValidations},schema:lib.string},search_quote_analyzer:{fieldConfig:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.searchQuoteAnalyzerFieldLabel",{defaultMessage:"Search quote analyzer"}),defaultValue:"index_default",validations:analyzerValidations},schema:lib.string},normalizer:{fieldConfig:{label:"Normalizer",defaultValue:"",type:hook_form_lib_.FIELD_TYPES.TEXT,validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.normalizerIsRequiredErrorMessage",{defaultMessage:"Normalizer name is required."}))},{validator:containsCharsField({chars:" ",message:commonErrorMessages.spacesNotAllowed})}],helpText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.normalizerHelpText",{defaultMessage:"The name of a normalizer defined in the index's settings."})},schema:lib.string},index_options:{fieldConfig:{...indexOptionsConfig,defaultValue:"positions"},schema:lib.string},index_options_keyword:{fieldConfig:{...indexOptionsConfig,defaultValue:"docs"},schema:lib.string},index_options_flattened:{fieldConfig:{...indexOptionsConfig,defaultValue:"docs"},schema:lib.string},eager_global_ordinals:{fieldConfig:{defaultValue:!1},schema:lib.boolean},eager_global_ordinals_join:{fieldConfig:{defaultValue:!0}},index_phrases:{fieldConfig:{defaultValue:!1},schema:lib.boolean},positive_score_impact:{fieldConfig:{defaultValue:!0},schema:lib.boolean},preserve_separators:{fieldConfig:{defaultValue:!0},schema:lib.boolean},preserve_position_increments:{fieldConfig:{defaultValue:!0},schema:lib.boolean},ignore_z_value:{fieldConfig:{defaultValue:!0},schema:lib.boolean},points_only:{fieldConfig:{defaultValue:!1},schema:lib.boolean},norms:{fieldConfig:{defaultValue:!0},schema:lib.boolean},norms_keyword:{fieldConfig:{defaultValue:!1},schema:lib.boolean},term_vector:{fieldConfig:{type:hook_form_lib_.FIELD_TYPES.SUPER_SELECT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.termVectorLabel",{defaultMessage:"Set term vector"}),defaultValue:"no"},schema:lib.string},path:{fieldConfig:{type:hook_form_lib_.FIELD_TYPES.COMBO_BOX,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pathLabel",{defaultMessage:"Field path"}),helpText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pathHelpText",{defaultMessage:"The absolute path from the root to the target field."}),validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.pathIsRequiredErrorMessage",{defaultMessage:"Select a field to point the alias to."}))}],serializer:value=>0===value.length?"":value[0].id},targetTypesNotAllowed:["object","nested","alias"],schema:lib.string},position_increment_gap:{fieldConfig:{type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.positionIncrementGapLabel",{defaultMessage:"Position increment gap"}),defaultValue:100,formatters:[toInt],validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.positionIncrementGapIsRequiredErrorMessage",{defaultMessage:"Set a position increment gap value"}))},{validator:({value:value})=>{if(value<0)return{message:commonErrorMessages.smallerThanZero}}}]},schema:lib.number},index_prefixes:{fieldConfig:{defaultValue:{}},props:{min_chars:{fieldConfig:{type:hook_form_lib_.FIELD_TYPES.NUMBER,defaultValue:2,serializer:value=>""===value?"":toInt(value)}},max_chars:{fieldConfig:{type:hook_form_lib_.FIELD_TYPES.NUMBER,defaultValue:5,serializer:value=>""===value?"":toInt(value)}}},schema:lib.partial({min_chars:lib.number,max_chars:lib.number})},similarity:{fieldConfig:{defaultValue:"BM25",type:hook_form_lib_.FIELD_TYPES.SUPER_SELECT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.similarityLabel",{defaultMessage:"Similarity algorithm"})},schema:lib.string},split_queries_on_whitespace:{fieldConfig:{defaultValue:!1},schema:lib.boolean},ignore_above:{fieldConfig:{defaultValue:8191,type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldLabel",{defaultMessage:"Character length limit"}),formatters:[toInt],validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.ignoreAboveIsRequiredErrorMessage",{defaultMessage:"Character length limit is required."}))},{validator:({value:value})=>{if(value<0)return{message:commonErrorMessages.smallerThanZero}}}]},schema:lib.number},enable_position_increments:{fieldConfig:{defaultValue:!0},schema:lib.boolean},depth_limit:{fieldConfig:{defaultValue:20,type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitFieldLabel",{defaultMessage:"Nested object depth limit"}),formatters:[toInt],validations:[{validator:({value:value})=>{if(value<0)return{message:commonErrorMessages.smallerThanZero}}}]},schema:lib.number},dims:{fieldConfig:{defaultValue:"",type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dimsFieldLabel",{defaultMessage:"Dimensions"}),helpText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.dimsHelpTextDescription",{defaultMessage:"The number of dimensions in the vector."}),formatters:[toInt],validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.dimsIsRequiredErrorMessage",{defaultMessage:"Specify a dimension."}))}]},schema:lib.string},relations:{fieldConfig:{defaultValue:[]},schema:lib.record(lib.string,lib.union([lib.string,lib.array(lib.string)]))},max_shingle_size:{fieldConfig:{type:hook_form_lib_.FIELD_TYPES.SELECT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.largestShingleSizeFieldLabel",{defaultMessage:"Max shingle size"}),defaultValue:3,formatters:[toInt]},schema:lib.union([lib.literal(2),lib.literal(3),lib.literal(4)])}};function documentation_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const documentationService=new class{constructor(){documentation_defineProperty(this,"dataStreams",""),documentation_defineProperty(this,"esDocsBase",""),documentation_defineProperty(this,"indexManagement",""),documentation_defineProperty(this,"indexSettings",""),documentation_defineProperty(this,"indexTemplates",""),documentation_defineProperty(this,"indexV1",""),documentation_defineProperty(this,"mapping",""),documentation_defineProperty(this,"mappingAnalyzer",""),documentation_defineProperty(this,"mappingBoost",""),documentation_defineProperty(this,"mappingCoerce",""),documentation_defineProperty(this,"mappingCopyTo",""),documentation_defineProperty(this,"mappingDocValues",""),documentation_defineProperty(this,"mappingDynamic",""),documentation_defineProperty(this,"mappingDynamicFields",""),documentation_defineProperty(this,"mappingDynamicTemplates",""),documentation_defineProperty(this,"mappingEagerGlobalOrdinals",""),documentation_defineProperty(this,"mappingEnabled",""),documentation_defineProperty(this,"mappingFieldData",""),documentation_defineProperty(this,"mappingFieldDataFilter",""),documentation_defineProperty(this,"mappingFieldDataTypes",""),documentation_defineProperty(this,"mappingFieldDataEnable",""),documentation_defineProperty(this,"mappingFormat",""),documentation_defineProperty(this,"mappingIgnoreAbove",""),documentation_defineProperty(this,"mappingIgnoreMalformed",""),documentation_defineProperty(this,"mappingIndex",""),documentation_defineProperty(this,"mappingIndexOptions",""),documentation_defineProperty(this,"mappingIndexPhrases",""),documentation_defineProperty(this,"mappingIndexPrefixes",""),documentation_defineProperty(this,"mappingJoinFieldsPerformance",""),documentation_defineProperty(this,"mappingMeta",""),documentation_defineProperty(this,"mappingMetaFields",""),documentation_defineProperty(this,"mappingNormalizer",""),documentation_defineProperty(this,"mappingNorms",""),documentation_defineProperty(this,"mappingNullValue",""),documentation_defineProperty(this,"mappingPositionIncrementGap",""),documentation_defineProperty(this,"mappingRankFeatureFields",""),documentation_defineProperty(this,"mappingRouting",""),documentation_defineProperty(this,"mappingSimilarity",""),documentation_defineProperty(this,"mappingSourceFields",""),documentation_defineProperty(this,"mappingSourceFieldsDisable",""),documentation_defineProperty(this,"mappingStore",""),documentation_defineProperty(this,"mappingTermVector",""),documentation_defineProperty(this,"mappingTypesRemoval",""),documentation_defineProperty(this,"percolate",""),documentation_defineProperty(this,"runtimeFields",""),documentation_defineProperty(this,"getTypeDocLink",(type,docType="main")=>{const typeDefinition=TYPE_DEFINITION[type];if(typeDefinition&&typeDefinition.documentation&&typeDefinition.documentation[docType])return`${this.esDocsBase}${typeDefinition.documentation[docType]}`})}setup(docLinks){const{links:links}=docLinks;this.dataStreams=links.elasticsearch.dataStreams,this.esDocsBase=links.elasticsearch.docsBase,this.indexManagement=links.management.indexManagement,this.indexSettings=links.elasticsearch.indexSettings,this.indexTemplates=links.elasticsearch.indexTemplates,this.indexV1=links.apis.putIndexTemplateV1,this.mapping=links.elasticsearch.mapping,this.mappingAnalyzer=links.elasticsearch.mappingAnalyzer,this.mappingBoost=links.elasticsearch.mappingBoost,this.mappingCoerce=links.elasticsearch.mappingCoerce,this.mappingCopyTo=links.elasticsearch.mappingCopyTo,this.mappingDocValues=links.elasticsearch.mappingDocValues,this.mappingDynamic=links.elasticsearch.mappingDynamic,this.mappingDynamicFields=links.elasticsearch.mappingDynamicFields,this.mappingDynamicTemplates=links.elasticsearch.mappingDynamicTemplates,this.mappingEagerGlobalOrdinals=links.elasticsearch.mappingEagerGlobalOrdinals,this.mappingEnabled=links.elasticsearch.mappingEnabled,this.mappingFieldData=links.elasticsearch.mappingFieldData,this.mappingFieldDataTypes=links.elasticsearch.mappingFieldDataTypes,this.mappingFieldDataEnable=links.elasticsearch.mappingFieldDataEnable,this.mappingFieldDataFilter=links.elasticsearch.mappingFieldDataFilter,this.mappingFormat=links.elasticsearch.mappingFormat,this.mappingIgnoreAbove=links.elasticsearch.mappingIgnoreAbove,this.mappingIgnoreMalformed=links.elasticsearch.mappingIgnoreMalformed,this.mappingIndex=links.elasticsearch.mappingIndex,this.mappingIndexOptions=links.elasticsearch.mappingIndexOptions,this.mappingIndexPhrases=links.elasticsearch.mappingIndexPhrases,this.mappingIndexPrefixes=links.elasticsearch.mappingIndexPrefixes,this.mappingJoinFieldsPerformance=links.elasticsearch.mappingJoinFieldsPerformance,this.mappingMeta=links.elasticsearch.mappingMeta,this.mappingMetaFields=links.elasticsearch.mappingMetaFields,this.mappingNormalizer=links.elasticsearch.mappingNormalizer,this.mappingNorms=links.elasticsearch.mappingNorms,this.mappingNullValue=links.elasticsearch.mappingNullValue,this.mappingPositionIncrementGap=links.elasticsearch.mappingPositionIncrementGap,this.mappingRankFeatureFields=links.elasticsearch.mappingRankFeatureFields,this.mappingRouting=links.elasticsearch.mappingRouting,this.mappingSimilarity=links.elasticsearch.mappingSimilarity,this.mappingSourceFields=links.elasticsearch.mappingSourceFields,this.mappingSourceFieldsDisable=links.elasticsearch.mappingSourceFieldsDisable,this.mappingStore=links.elasticsearch.mappingStore,this.mappingTermVector=links.elasticsearch.mappingTermVector,this.mappingTypesRemoval=links.elasticsearch.mappingTypesRemoval,this.percolate=links.query.percolate,this.runtimeFields=links.runtimeFields.overview}getEsDocsBase(){return this.esDocsBase}getSettingsDocumentationLink(){return this.indexSettings}getMappingDocumentationLink(){return this.mapping}getRoutingLink(){return this.mappingRouting}getDataStreamsDocumentationLink(){return this.dataStreams}getTemplatesDocumentationLink(isLegacy=!1){return isLegacy?this.indexV1:this.indexTemplates}getIdxMgmtDocumentationLink(){return this.indexManagement}getMappingTypesLink(){return this.mappingFieldDataTypes}getDynamicMappingLink(){return this.mappingDynamicFields}getPercolatorQueryLink(){return this.percolate}getRankFeatureQueryLink(){return this.mappingRankFeatureFields}getMetaFieldLink(){return this.mappingMetaFields}getDynamicTemplatesLink(){return this.mappingDynamicTemplates}getMappingSourceFieldLink(){return this.mappingSourceFields}getDisablingMappingSourceFieldLink(){return this.mappingSourceFieldsDisable}getNullValueLink(){return this.mappingNullValue}getTermVectorLink(){return this.mappingTermVector}getStoreLink(){return this.mappingStore}getSimilarityLink(){return this.mappingSimilarity}getNormsLink(){return this.mappingNorms}getIndexLink(){return this.mappingIndex}getIgnoreMalformedLink(){return this.mappingIgnoreMalformed}getMetaLink(){return this.mappingMeta}getFormatLink(){return this.mappingFormat}getEagerGlobalOrdinalsLink(){return this.mappingEagerGlobalOrdinals}getDocValuesLink(){return this.mappingDocValues}getCopyToLink(){return this.mappingCopyTo}getCoerceLink(){return this.mappingCoerce}getBoostLink(){return this.mappingBoost}getNormalizerLink(){return this.mappingNormalizer}getIgnoreAboveLink(){return this.mappingIgnoreAbove}getFielddataLink(){return this.mappingFieldData}getFielddataFrequencyLink(){return this.mappingFieldDataFilter}getEnablingFielddataLink(){return this.mappingFieldDataEnable}getIndexPhrasesLink(){return this.mappingIndexPhrases}getIndexPrefixesLink(){return this.mappingIndexPrefixes}getPositionIncrementGapLink(){return this.mappingPositionIncrementGap}getAnalyzerLink(){return this.mappingAnalyzer}getDateFormatLink(){return this.mappingFormat}getIndexOptionsLink(){return this.mappingIndexOptions}getAlternativeToMappingTypesLink(){return this.mappingTypesRemoval}getJoinMultiLevelsPerformanceLink(){return this.mappingJoinFieldsPerformance}getDynamicLink(){return this.mappingDynamic}getEnabledLink(){return this.mappingEnabled}getRuntimeFields(){return this.runtimeFields}getWellKnownTextLink(){return"http://docs.opengeospatial.org/is/12-063r5/12-063r5.html"}getRootLocaleLink(){return"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#ROOT"}};var external_kbnSharedDeps_KbnAnalytics_=__webpack_require__(26),uuid=__webpack_require__(62),uuid_default=__webpack_require__.n(uuid);const getUniqueId=()=>uuid_default.a.v4(),getFieldMeta=(field,isMultiField)=>{const childFieldsName="text"===(dataType=field.type)||"keyword"===dataType?"fields":"object"===dataType||"nested"===dataType?"properties":void 0;var dataType;const canHaveChildFields=!isMultiField&&"properties"===childFieldsName,canHaveMultiFields="fields"===childFieldsName;return{childFieldsName:childFieldsName,canHaveChildFields:canHaveChildFields,hasChildFields:!isMultiField&&(canHaveChildFields&&Boolean(field[childFieldsName])&&Object.keys(field[childFieldsName]).length>0),canHaveMultiFields:canHaveMultiFields,hasMultiFields:canHaveMultiFields&&Boolean(field[childFieldsName])&&Object.keys(field[childFieldsName]).length>0,isExpanded:!1}},getTypeLabelFromField=field=>{const{type:type}=field;return(type=>type&&TYPE_DEFINITION[type]?TYPE_DEFINITION[type].label:`${TYPE_DEFINITION.other.label}: ${type}`)(type)},getFieldConfig=(param,prop)=>{var _PARAMETERS_DEFINITIO;if(void 0!==prop){var _props$prop;if(!PARAMETERS_DEFINITION[param].props||!PARAMETERS_DEFINITION[param].props[prop])throw new Error(`No field config found for prop "${prop}" on param "${param}" `);return(null===(_props$prop=PARAMETERS_DEFINITION[param].props[prop])||void 0===_props$prop?void 0:_props$prop.fieldConfig)||{}}return(null===(_PARAMETERS_DEFINITIO=PARAMETERS_DEFINITION[param])||void 0===_PARAMETERS_DEFINITIO?void 0:_PARAMETERS_DEFINITIO.fieldConfig)||{}},getTypeMetaFromSource=sourceType=>{if(!MAIN_DATA_TYPE_DEFINITION[sourceType]){const mainType=null!==(_SUB_TYPE_MAP_TO_MAIN=SUB_TYPE_MAP_TO_MAIN[sourceType])&&void 0!==_SUB_TYPE_MAP_TO_MAIN?_SUB_TYPE_MAP_TO_MAIN:"other";if(!mainType)throw new Error(`Property type "${sourceType}" not recognized and no subType was found for it.`);return{mainType:mainType,subType:sourceType}}var _SUB_TYPE_MAP_TO_MAIN;return{mainType:sourceType}},normalize=(fieldsToNormalize={})=>{let maxNestedDepth=0;const normalizeFields=(props,to,paths,arrayToKeepRef,nestedDepth,isMultiField=!1,parentId)=>Object.entries(props).sort(([a],[b])=>a>b?1:a<b?-1:0).reduce((acc,[propName,value])=>{const id=getUniqueId();arrayToKeepRef.push(id);const field={name:propName,...value};void 0===field.type&&void 0!==field.properties&&(field.type="object");const meta=getFieldMeta(field,isMultiField),{childFieldsName:childFieldsName,hasChildFields:hasChildFields,hasMultiFields:hasMultiFields}=meta;if(hasChildFields||hasMultiFields){const nextDepth=meta.canHaveChildFields||meta.canHaveMultiFields?nestedDepth+1:nestedDepth;meta.childFields=[],maxNestedDepth=Math.max(maxNestedDepth,nextDepth),normalizeFields(field[childFieldsName],to,[...paths,propName],meta.childFields,nextDepth,meta.canHaveMultiFields,id)}const{properties:properties,fields:fields,...rest}=field,normalizedField={id:id,parentId:parentId,nestedDepth:nestedDepth,isMultiField:isMultiField,path:paths.length?[...paths,propName]:[propName],source:rest,...meta};return acc[id]=normalizedField,acc},to),rootLevelFields=[],{byId:byId,aliases:aliases}=(byId=>{const aliases={};return Object.entries(byId).forEach(([id,field])=>{if("alias"===field.source.type){const aliasTargetField=Object.values(byId).find(_field=>_field.path.join(".")===field.source.path);aliasTargetField&&(field.source.path=aliasTargetField.id,aliases[aliasTargetField.id]=aliases[aliasTargetField.id]||[],aliases[aliasTargetField.id].push(id))}}),{aliases:aliases,byId:byId}})(normalizeFields(fieldsToNormalize,{},[],rootLevelFields,0));return{byId:byId,aliases:aliases,rootLevelFields:rootLevelFields,maxNestedDepth:maxNestedDepth}},deNormalize=({rootLevelFields:rootLevelFields,byId:byId,aliases:aliases})=>{const serializedFieldsById=((aliases,byId)=>{const updatedById={...byId};return Object.entries(aliases).forEach(([targetId,aliasesIds])=>{const path=updatedById[targetId]?updatedById[targetId].path.join("."):"";aliasesIds.forEach(id=>{const aliasField=updatedById[id];if(!aliasField)return;const fieldWithUpdatedPath={...aliasField,source:{...aliasField.source,path:path}};updatedById[id]=fieldWithUpdatedPath})}),updatedById})(aliases,byId),deNormalizePaths=(ids,to={})=>(ids.forEach(id=>{const{source:source,childFields:childFields,childFieldsName:childFieldsName}=serializedFieldsById[id],{name:name,...normalizedField}=source,field=normalizedField;if(to[name]=field,childFields)return field[childFieldsName]={},deNormalizePaths(childFields,field[childFieldsName])}),to);return deNormalizePaths(rootLevelFields)},getAllChildFields=(field,byId)=>{const getChildFields=(_field,to=[])=>((_field.hasChildFields||_field.hasMultiFields)&&_field.childFields.map(fieldId=>byId[fieldId]).forEach(childField=>{to.push(childField),getChildFields(childField,to)}),to);return getChildFields(field)},getAllDescendantAliases=(field,fields,aliasesIds=[])=>{const hasAliases=fields.aliases[field.id]&&Boolean(fields.aliases[field.id].length);return hasAliases||field.hasChildFields||field.hasMultiFields?(hasAliases&&fields.aliases[field.id].forEach(id=>{aliasesIds.push(id)}),field.childFields&&field.childFields.forEach(id=>{fields.byId[id]&&getAllDescendantAliases(fields.byId[id],fields,aliasesIds)}),aliasesIds):aliasesIds},filterTypesForMultiField=options=>options.filter(option=>!1===TYPE_NOT_ALLOWED_MULTIFIELD.includes(option.value)),filterTypesForNonRootFields=options=>options.filter(option=>!1===TYPE_ONLY_ALLOWED_AT_ROOT_LEVEL.includes(option.value)),getMaxNestedDepth=byId=>Object.values(byId).reduce((maxDepth,field)=>Math.max(maxDepth,field.nestedDepth),0),buildFieldTreeFromIds=(fieldsIds,byId,render)=>fieldsIds.map(id=>{const field=byId[id],children=field.childFields?buildFieldTreeFromIds(field.childFields,byId,render):void 0;return{label:render(field),children:children}}),shouldDeleteChildFieldsAfterTypeChange=(oldType,newType)=>"text"===oldType&&"keyword"!==newType||("keyword"===oldType&&"text"!==newType||("object"===oldType&&"nested"!==newType||"nested"===oldType&&"object"!==newType)),stripUndefinedValues=(obj,recursive=!0)=>Object.entries(obj).reduce((acc,[key,value])=>void 0===value?acc:Array.isArray(value)||value instanceof Date||null===value?{...acc,[key]:value}:recursive&&"object"==typeof value?{...acc,[key]:stripUndefinedValues(value,recursive)}:{...acc,[key]:value},{}),CodeBlock=({children:children,padding:padding="normal"})=>external_kbnSharedDeps_React_default.a.createElement("div",{className:"euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingLarge"},external_kbnSharedDeps_React_default.a.createElement("pre",{className:"euiCodeBlock__pre",style:{padding:"small"===padding?"6px 12px":void 0}},external_kbnSharedDeps_React_default.a.createElement("code",{className:"euiCodeBlock__code"},children))),TreeItem=({treeItem:treeItem})=>external_kbnSharedDeps_React_default.a.createElement("li",{className:"esUiTreeItem"},external_kbnSharedDeps_React_default.a.createElement("div",{className:"esUiTreeItem__label"},treeItem.label),treeItem.children&&external_kbnSharedDeps_React_default.a.createElement(Tree,{tree:treeItem.children})),Tree=({tree:tree})=>external_kbnSharedDeps_React_default.a.createElement("ul",{className:"esUiTree"},tree.map((treeItem,i)=>external_kbnSharedDeps_React_default.a.createElement(TreeItem,{key:i,treeItem:treeItem}))),FieldsTree=({fields:fields})=>external_kbnSharedDeps_React_default.a.createElement(CodeBlock,null,external_kbnSharedDeps_React_default.a.createElement(Tree,{tree:fields})),ModalConfirmationDeleteFields=({title:title,childFields:childFields,aliases:aliases,byId:byId,confirmButtonText:confirmButtonText,onCancel:onCancel,onConfirm:onConfirm})=>{const fieldsTree=childFields&&childFields.length?buildFieldTreeFromIds(childFields,byId,fieldItem=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,fieldItem.source.name,fieldItem.isMultiField&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:"hollow"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:TYPE_DEFINITION[fieldItem.source.type].label}}))))):null;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiConfirmModal,{title:title,onCancel:onCancel,onConfirm:onConfirm,cancelButtonText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:confirmButtonText},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,fieldsTree&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.confirmationModal.deleteFieldsDescription",{defaultMessage:"This will also delete the following fields."})),external_kbnSharedDeps_React_default.a.createElement(FieldsTree,{fields:fieldsTree})),aliases&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.confirmationModal.deleteAliasesDescription",{defaultMessage:"The following aliases will also be deleted."})),external_kbnSharedDeps_React_default.a.createElement("ul",null,aliases.map(aliasPath=>external_kbnSharedDeps_React_default.a.createElement("li",{key:aliasPath},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,aliasPath)))))))},getDefaultToggleValue=(param,field)=>{switch(param){case"boost":case"similarity":case"ignore_above":return void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue;case"normalizer":case"copy_to":case"null_value":return void 0!==field[param];default:return!1}},numeric_type_getDefaultToggleValue=(param,field)=>{switch(param){case"copy_to":case"boost":case"meta":case"ignore_malformed":return void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue;case"null_value":return void 0!==field.null_value&&""!==field.null_value;default:return!1}},text_type_getDefaultToggleValue=(param,field)=>{switch(param){case"boost":case"position_increment_gap":case"similarity":case"meta":case"term_vector":return void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue;case"analyzers":return void 0!==field.search_analyzer&&field.search_analyzer!==field.analyzer;case"copy_to":return void 0!==field[param]&&""!==field[param];case"indexPrefixes":{if(void 0===field.index_prefixes)return!1;const minCharsValue=field.index_prefixes.min_chars,defaultMinCharsValue=getFieldConfig("index_prefixes","min_chars").defaultValue,maxCharsValue=field.index_prefixes.max_chars,defaultMaxCharsValue=getFieldConfig("index_prefixes","min_chars").defaultValue;return minCharsValue!==defaultMinCharsValue||maxCharsValue!==defaultMaxCharsValue}case"fielddata":return!0===field.fielddata||void 0!==field.fielddata_frequency_filter;default:return!1}},TextType=external_kbnSharedDeps_React_default.a.memo(({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IndexParameter,null)),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(AnalyzersParameter,{field:field,withSearchQuoteAnalyzer:!0}),external_kbnSharedDeps_React_default.a.createElement(EagerGlobalOrdinalsParameter,null),external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesFieldTitle",{defaultMessage:"Index phrases"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesFieldDescription",{defaultMessage:"Whether to index two-term word combinations into a separate field. Activating this will speed up phrase queries, but could slow down indexing."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesDocLinkText",{defaultMessage:"Index phrases documentation"}),href:documentationService.getIndexPhrasesLink()},formFieldPath:"index_phrases"}),external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesFieldTitle",{defaultMessage:"Set index prefixes"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesFieldDescription",{defaultMessage:"Whether to index prefixes of 2 and 5 characters into a separate field. Activating this will speed up prefix queries, but could slow down indexing."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesDocLinkText",{defaultMessage:"Index prefixes documentation"}),href:documentationService.getIndexPrefixesLink()},defaultToggleValue:text_type_getDefaultToggleValue("indexPrefixes",field.source)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesRangeFieldLabel",{defaultMessage:"Min/max prefix length"}),fullWidth:!0},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseMultiFields,{fields:{min:{path:"index_prefixes.min_chars",config:getFieldConfig("index_prefixes","min_chars")},max:{path:"index_prefixes.max_chars",config:getFieldConfig("index_prefixes","max_chars")}}},({min:min,max:max})=>{return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDualRange,{min:0,max:20,value:[min.value,max.value],onChange:(minField=min,maxField=max,([min,max])=>{minField.setValue(min),maxField.setValue(max)}),showInput:!0,fullWidth:!0});var minField,maxField}))),external_kbnSharedDeps_React_default.a.createElement(NormsParameter,null),external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapFieldTitle",{defaultMessage:"Set position increment gap"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapFieldDescription",{defaultMessage:"The number of fake term positions which should be inserted between each element of an array of strings."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapDocLinkText",{defaultMessage:"Position increment gap documentation"}),href:documentationService.getPositionIncrementGapLink()},defaultToggleValue:text_type_getDefaultToggleValue("position_increment_gap",field.source)},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:"index_options"},formData=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"position_increment_gap",config:getFieldConfig("position_increment_gap"),component:components_.RangeField,componentProps:{euiFieldProps:{min:0,max:200,showInput:!0,fullWidth:!0}}}),"positions"!==formData.index_options&&"offsets"!==formData.index_options&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.positionsErrorTitle",{defaultMessage:"Positions not enabled."}),color:"danger",iconType:"alert"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.positionsErrorMessage",{defaultMessage:'You need to set the index options (under the "Searchable" toggle) to "Positions" or "Offsets" in order to be able to change the position increment gap.'}))))))),external_kbnSharedDeps_React_default.a.createElement(SimilarityParameter,{defaultToggleValue:text_type_getDefaultToggleValue("similarity",field.source)}),external_kbnSharedDeps_React_default.a.createElement(TermVectorParameter,{field:field,defaultToggleValue:text_type_getDefaultToggleValue("term_vector",field.source)}),external_kbnSharedDeps_React_default.a.createElement(FieldDataParameter,{field:field,defaultToggleValue:text_type_getDefaultToggleValue("fielddata",field.source)}),external_kbnSharedDeps_React_default.a.createElement(CopyToParameter,{defaultToggleValue:text_type_getDefaultToggleValue("copy_to",field.source)}),external_kbnSharedDeps_React_default.a.createElement(StoreParameter,null),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:text_type_getDefaultToggleValue("meta",field.source)}),external_kbnSharedDeps_React_default.a.createElement(BoostParameter,{defaultToggleValue:text_type_getDefaultToggleValue("boost",field.source)})))),boolean_type_getDefaultToggleValue=(param,field)=>{switch(param){case"meta":case"boost":return void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue;case"null_value":return void 0!==field.null_value;default:return!1}},nullValueOptions=[{value:0,text:'"true"'},{value:1,text:"true"},{value:2,text:'"false"'},{value:3,text:"false"}],binary_type_getDefaultToggleValue=(param,field)=>void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue,range_type_getDefaultToggleValue=(param,field)=>void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue,ip_type_getDefaultToggleValue=(param,field)=>{switch(param){case"boost":return void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue;case"null_value":return void 0!==field.null_value&&""!==field.null_value;default:return!1}},token_count_type_getDefaultToggleValue=(param,field)=>{switch(param){case"analyzer":case"meta":case"boost":return void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue;case"null_value":return void 0!==field.null_value&&""!==field.null_value;default:return!1}},completion_type_getDefaultToggleValue=(param,field)=>{switch(param){case"meta":case"max_input_length":return void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue;case"analyzers":return void 0!==field.search_analyzer&&field.search_analyzer!==field.analyzer;default:return!1}},geo_point_type_getDefaultToggleValue=(param,field)=>{switch(param){case"meta":return void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue;case"null_value":return void 0!==field.null_value;default:return!1}},date_type_getDefaultToggleValue=(param,field)=>{switch(param){case"locale":case"format":case"meta":case"boost":return void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue;case"null_value":return void 0!==field.null_value&&""!==field.null_value;default:return!1}},DateType=({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IndexParameter,{hasIndexOptions:!1}),external_kbnSharedDeps_React_default.a.createElement(FormatParameter,{defaultValue:field.source.format,defaultToggleValue:date_type_getDefaultToggleValue("format",field.source)}),external_kbnSharedDeps_React_default.a.createElement(IgnoreMalformedParameter,null)),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(LocaleParameter,{defaultToggleValue:date_type_getDefaultToggleValue("locale",field.source)}),external_kbnSharedDeps_React_default.a.createElement(DocValuesParameter,null),external_kbnSharedDeps_React_default.a.createElement(NullValueParameter,{defaultToggleValue:date_type_getDefaultToggleValue("null_value",field.source),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dateType.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a date value so that it can be indexed and searched."})}),external_kbnSharedDeps_React_default.a.createElement(StoreParameter,null),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:date_type_getDefaultToggleValue("meta",field.source)}),external_kbnSharedDeps_React_default.a.createElement(BoostParameter,{defaultToggleValue:date_type_getDefaultToggleValue("boost",field.source)}))),geo_shape_type_getDefaultToggleValue=(param,field)=>{const{defaultValue:defaultValue}=getFieldConfig(param);switch(param){case"orientation":return void 0!==field[param]&&field[param]!==defaultValue;default:return void 0!==field[param]?field[param]:void 0!==defaultValue&&defaultValue}},search_as_you_type_getDefaultToggleValue=(param,field)=>{switch(param){case"similarity":case"term_vector":case"meta":case"max_shingle_size":return void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue;case"analyzers":return void 0!==field.search_analyzer&&field.search_analyzer!==field.analyzer;default:return!1}},SearchAsYouType=external_kbnSharedDeps_React_default.a.memo(({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IndexParameter,{config:{...getFieldConfig("index_options"),defaultValue:"positions"}})),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(AnalyzersParameter,{field:field,withSearchQuoteAnalyzer:!0}),external_kbnSharedDeps_React_default.a.createElement(MaxShingleSizeParameter,{defaultToggleValue:search_as_you_type_getDefaultToggleValue("max_shingle_size",field.source)}),external_kbnSharedDeps_React_default.a.createElement(NormsParameter,null),external_kbnSharedDeps_React_default.a.createElement(SimilarityParameter,{defaultToggleValue:search_as_you_type_getDefaultToggleValue("similarity",field.source)}),external_kbnSharedDeps_React_default.a.createElement(TermVectorParameter,{field:field,defaultToggleValue:search_as_you_type_getDefaultToggleValue("term_vector",field.source)}),external_kbnSharedDeps_React_default.a.createElement(StoreParameter,null),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:search_as_you_type_getDefaultToggleValue("meta",field.source)})))),flattened_type_getDefaultToggleValue=(param,field)=>{switch(param){case"boost":case"ignore_above":case"meta":case"similarity":return void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue;case"null_value":return void 0!==field.null_value&&""!==field.null_value;default:return!1}},FlattenedType=external_kbnSharedDeps_React_default.a.memo(({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IndexParameter,{config:getFieldConfig("index_options_flattened"),indexOptions:PARAMETERS_OPTIONS.index_options_flattened})),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(EagerGlobalOrdinalsParameter,null),external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitTitle",{defaultMessage:"Customize depth limit"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitDescription",{defaultMessage:"The maximum allowed depth of the flattened object field, in terms of nested inner objects. Defaults to 20."})},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"depth_limit",config:getFieldConfig("depth_limit"),component:components_.Field})),external_kbnSharedDeps_React_default.a.createElement(IgnoreAboveParameter,{defaultToggleValue:flattened_type_getDefaultToggleValue("ignore_above",field.source)}),external_kbnSharedDeps_React_default.a.createElement(SplitQueriesOnWhitespaceParameter,null),external_kbnSharedDeps_React_default.a.createElement(SimilarityParameter,{defaultToggleValue:flattened_type_getDefaultToggleValue("similarity",field.source)}),external_kbnSharedDeps_React_default.a.createElement(DocValuesParameter,null),external_kbnSharedDeps_React_default.a.createElement(NullValueParameter,{defaultToggleValue:flattened_type_getDefaultToggleValue("null_value",field.source)}),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:flattened_type_getDefaultToggleValue("meta",field.source)}),external_kbnSharedDeps_React_default.a.createElement(BoostParameter,{defaultToggleValue:flattened_type_getDefaultToggleValue("boost",field.source)})))),shape_type_getDefaultToggleValue=(param,field)=>{const{defaultValue:defaultValue}=getFieldConfig(param);switch(param){case"boost":case"orientation":return void 0!==field[param]&&field[param]!==defaultValue;default:return void 0!==field[param]?field[param]:void 0!==defaultValue&&defaultValue}},join_type_i18nTexts={eagerGlobalOrdinalsDescription:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.join.eagerGlobalOrdinalsFieldDescription",{defaultMessage:"The join field uses global ordinals to speed up joins. By default, if the index has changed, global ordinals for the join field will be rebuilt as part of the refresh. This can add significant time to the refresh, however most of the times this is the right trade-off."})},histogram_type_getDefaultToggleValue=(param,field)=>void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue,constant_keyword_type_getDefaultToggleValue=(param,field)=>void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue,wildcard_type_getDefaultToggleValue=(param,field)=>void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue,point_type_getDefaultToggleValue=(param,field)=>void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue,version_type_getDefaultToggleValue=(param,field)=>void 0!==field[param]&&field[param]!==getFieldConfig(param).defaultValue,typeToParametersFormMap={alias:({field:field,allFields:allFields})=>external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(PathParameter,{field:field,allFields:allFields})),keyword:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IndexParameter,{config:{...getFieldConfig("index_options_keyword")},indexOptions:PARAMETERS_OPTIONS.index_options_keyword}),external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerFieldTitle",{defaultMessage:"Use normalizer"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerFieldDescription",{defaultMessage:"Process the keyword prior to indexing."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerDocLinkText",{defaultMessage:"Normalizer documentation"}),href:documentationService.getNormalizerLink()},defaultToggleValue:getDefaultToggleValue("normalizer",field.source)},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"normalizer",config:getFieldConfig("normalizer"),component:components_.Field}))),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(EagerGlobalOrdinalsParameter,null),external_kbnSharedDeps_React_default.a.createElement(IgnoreAboveParameter,{defaultToggleValue:getDefaultToggleValue("ignore_above",field.source)}),external_kbnSharedDeps_React_default.a.createElement(NormsParameter,{configPath:"norms_keyword"}),external_kbnSharedDeps_React_default.a.createElement(SimilarityParameter,{defaultToggleValue:getDefaultToggleValue("similarity",field.source)}),external_kbnSharedDeps_React_default.a.createElement(SplitQueriesOnWhitespaceParameter,null),external_kbnSharedDeps_React_default.a.createElement(DocValuesParameter,null),external_kbnSharedDeps_React_default.a.createElement(CopyToParameter,{defaultToggleValue:getDefaultToggleValue("copy_to",field.source)}),external_kbnSharedDeps_React_default.a.createElement(NullValueParameter,{defaultToggleValue:getDefaultToggleValue("null_value",field.source)}),external_kbnSharedDeps_React_default.a.createElement(StoreParameter,null),external_kbnSharedDeps_React_default.a.createElement(BoostParameter,{defaultToggleValue:getDefaultToggleValue("boost",field.source)}))),numeric:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:"subType"},formData=>{var _formData$subType,_formData$subType$;return"scaled_float"===(null===(_formData$subType=formData.subType)||void 0===_formData$subType||null===(_formData$subType$=_formData$subType[0])||void 0===_formData$subType$?void 0:_formData$subType$.value)?external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:PARAMETERS_DEFINITION.scaling_factor.title,description:PARAMETERS_DEFINITION.scaling_factor.description,withToggle:!1},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"scaling_factor",config:getFieldConfig("scaling_factor"),component:components_.Field,"data-test-subj":"scalingFactor"})):null}),external_kbnSharedDeps_React_default.a.createElement(IndexParameter,{hasIndexOptions:!1}),external_kbnSharedDeps_React_default.a.createElement(IgnoreMalformedParameter,null)),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(CoerceNumberParameter,null),external_kbnSharedDeps_React_default.a.createElement(DocValuesParameter,null),external_kbnSharedDeps_React_default.a.createElement(CopyToParameter,{defaultToggleValue:numeric_type_getDefaultToggleValue("copy_to",field.source)}),external_kbnSharedDeps_React_default.a.createElement(NullValueParameter,{description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.numeric.nullValueFieldDescription",{defaultMessage:"Accepts a numeric value of the same type as the field which is substituted for any explicit null values."}),defaultToggleValue:numeric_type_getDefaultToggleValue("null_value",field.source)},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"null_value",component:components_.NumericField,config:getFieldConfig("null_value_numeric")})),external_kbnSharedDeps_React_default.a.createElement(StoreParameter,null),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:numeric_type_getDefaultToggleValue("meta",field.source)}),external_kbnSharedDeps_React_default.a.createElement(BoostParameter,{defaultToggleValue:numeric_type_getDefaultToggleValue("boost",field.source)}))),text:TextType,boolean:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IndexParameter,{hasIndexOptions:!1})),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(DocValuesParameter,null),external_kbnSharedDeps_React_default.a.createElement(NullValueParameter,{defaultToggleValue:boolean_type_getDefaultToggleValue("null_value",field.source),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.booleanNullValueFieldDescription",{defaultMessage:"Replace explicit null values with a specific boolean value so that it can be indexed and searched."})},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"null_value",config:getFieldConfig("null_value_boolean"),component:components_.SelectField,componentProps:{euiFieldProps:{options:nullValueOptions,fullWidth:!0}}})),external_kbnSharedDeps_React_default.a.createElement(StoreParameter,null),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:boolean_type_getDefaultToggleValue("meta",field.source)}),external_kbnSharedDeps_React_default.a.createElement(BoostParameter,{defaultToggleValue:boolean_type_getDefaultToggleValue("boost",field.source)}))),binary:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(DocValuesParameter,{configPath:"doc_values_binary"}),external_kbnSharedDeps_React_default.a.createElement(StoreParameter,null),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:binary_type_getDefaultToggleValue("meta",field.source)})),range:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IndexParameter,{hasIndexOptions:!1}),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:"subType"},formData=>{var _formData$subType,_formData$subType$;return"date_range"===(null===(_formData$subType=formData.subType)||void 0===_formData$subType||null===(_formData$subType$=_formData$subType[0])||void 0===_formData$subType$?void 0:_formData$subType$.value)?external_kbnSharedDeps_React_default.a.createElement(FormatParameter,{defaultValue:field.source.format,defaultToggleValue:range_type_getDefaultToggleValue("format",field.source)}):null})),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:"subType"},formData=>{var _formData$subType2,_formData$subType2$;return"date_range"===(null===(_formData$subType2=formData.subType)||void 0===_formData$subType2||null===(_formData$subType2$=_formData$subType2[0])||void 0===_formData$subType2$?void 0:_formData$subType2$.value)?external_kbnSharedDeps_React_default.a.createElement(LocaleParameter,{defaultToggleValue:range_type_getDefaultToggleValue("locale",field.source)}):null}),external_kbnSharedDeps_React_default.a.createElement(CoerceNumberParameter,null),external_kbnSharedDeps_React_default.a.createElement(StoreParameter,null),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:range_type_getDefaultToggleValue("meta",field.source)}),external_kbnSharedDeps_React_default.a.createElement(BoostParameter,{defaultToggleValue:range_type_getDefaultToggleValue("boost",field.source)}))),ip:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IndexParameter,{hasIndexOptions:!1})),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(DocValuesParameter,null),external_kbnSharedDeps_React_default.a.createElement(NullValueParameter,{defaultToggleValue:ip_type_getDefaultToggleValue("null_value",field.source)},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"null_value",config:getFieldConfig("null_value_ip"),component:components_.Field})),external_kbnSharedDeps_React_default.a.createElement(StoreParameter,null),external_kbnSharedDeps_React_default.a.createElement(BoostParameter,{defaultToggleValue:ip_type_getDefaultToggleValue("boost",field.source)}))),token_count:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerSectionTitle",{defaultMessage:"Analyzer"}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerLinkText",{defaultMessage:"Analyzer documentation"}),href:documentationService.getAnalyzerLink()},withToggle:!1},external_kbnSharedDeps_React_default.a.createElement(AnalyzerParameter,{path:"analyzer",config:{...getFieldConfig("analyzer"),defaultValue:"standard"},defaultValue:field.source.analyzer,allowsIndexDefaultOption:!1})),external_kbnSharedDeps_React_default.a.createElement(IndexParameter,{hasIndexOptions:!1})),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.enablePositionIncrementsFieldTitle",{defaultMessage:"Enable position increments"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.enablePositionIncrementsFieldDescription",{defaultMessage:"Whether to count position increments."}),formFieldPath:"enable_position_increments"}),external_kbnSharedDeps_React_default.a.createElement(DocValuesParameter,null),external_kbnSharedDeps_React_default.a.createElement(NullValueParameter,{defaultToggleValue:token_count_type_getDefaultToggleValue("null_value",field.source),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.nullValueFieldDescription",{defaultMessage:"Accepts a numeric value of the same type as the field which is substituted for any explicit null values."})},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"null_value",component:components_.NumericField,config:getFieldConfig("null_value_numeric")})),external_kbnSharedDeps_React_default.a.createElement(StoreParameter,null),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:token_count_type_getDefaultToggleValue("meta",field.source)}),external_kbnSharedDeps_React_default.a.createElement(BoostParameter,{defaultToggleValue:token_count_type_getDefaultToggleValue("boost",field.source)}))),completion:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(AnalyzersParameter,{field:field}),external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.maxInputLengthFieldTitle",{defaultMessage:"Set max input length"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.maxInputLengthFieldDescription",{defaultMessage:"Limits the length of a single input."}),defaultToggleValue:completion_type_getDefaultToggleValue("max_input_length",field.source)},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"max_input_length",config:getFieldConfig("max_input_length"),component:components_.Field})),external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preserveSeparatorsFieldTitle",{defaultMessage:"Preserve separators"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preserveSeparatorsFieldDescription",{defaultMessage:"Preserves the separators."}),formFieldPath:"preserve_separators"}),external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preservePositionIncrementsFieldTitle",{defaultMessage:"Preserve position increments"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preservePositionIncrementsFieldDescription",{defaultMessage:"Enables position increments."}),formFieldPath:"preserve_position_increments"}),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:completion_type_getDefaultToggleValue("meta",field.source)})),geo_point:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IgnoreMalformedParameter,{description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.geoPoint.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed geo-points are not indexed. If enabled, these documents are indexed, but fields with malformed geo-points are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IgnoreZValueParameter,null),external_kbnSharedDeps_React_default.a.createElement(NullValueParameter,{defaultToggleValue:geo_point_type_getDefaultToggleValue("null_value",field.source),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.geoPoint.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a geo-point value so that it can be indexed and searched."})},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"null_value",component:components_.TextAreaField,config:getFieldConfig("null_value_geo_point")})),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:geo_point_type_getDefaultToggleValue("meta",field.source)}))),date:DateType,date_nanos:DateType,geo_shape:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IgnoreMalformedParameter,{description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed GeoJSON or WKT shapes are not indexed. If enabled, these documents are indexed, but fields with malformed shapes are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(OrientationParameter,{defaultToggleValue:geo_shape_type_getDefaultToggleValue("orientation",field.source)}),external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.pointsOnlyFieldTitle",{defaultMessage:"Points only"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.pointsOnlyFieldDescription",{defaultMessage:"Optimizes geo-shape queries if this field contains only geo-points. Shapes, including multi-point shapes, will be rejected."}),formFieldPath:"points_only"}),external_kbnSharedDeps_React_default.a.createElement(IgnoreZValueParameter,null),external_kbnSharedDeps_React_default.a.createElement(CoerceShapeParameter,null))),search_as_you_type:SearchAsYouType,flattened:FlattenedType,shape:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IgnoreMalformedParameter,{description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.shapeType.ignoredMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed GeoJSON or WKT shapes are not indexed. If enabled, these documents are indexed, but fields with malformed shapes are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(OrientationParameter,{defaultToggleValue:shape_type_getDefaultToggleValue("orientation",field.source)}),external_kbnSharedDeps_React_default.a.createElement(IgnoreZValueParameter,null),external_kbnSharedDeps_React_default.a.createElement(CoerceShapeParameter,null))),dense_vector:()=>external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"dims",config:getFieldConfig("dims"),component:components_.Field})),object:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(DynamicParameter,{defaultToggleValue:!0===field.source.dynamic||void 0===field.source.dynamic}),external_kbnSharedDeps_React_default.a.createElement(EnabledParameter,null)),other:()=>external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(OtherTypeJsonParameter,null)),nested:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(DynamicParameter,{defaultToggleValue:!0===field.source.dynamic||void 0===field.source.dynamic})),join:()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(RelationsParameter,null)),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(EagerGlobalOrdinalsParameter,{configPath:"eager_global_ordinals_join",description:join_type_i18nTexts.eagerGlobalOrdinalsDescription}))),histogram:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IgnoreMalformedParameter,null),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:histogram_type_getDefaultToggleValue("meta",field.source)})),constant_keyword:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.constantKeyword.valueFieldTitle",{defaultMessage:"Set value"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.constantKeyword.valueFieldDescription",{defaultMessage:"The value of this field for all documents in the index. If not specified, defaults to the value specified in the first document indexed."}),defaultToggleValue:constant_keyword_type_getDefaultToggleValue("value",field.source)},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"value",config:getFieldConfig("value"),component:components_.Field}))),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:constant_keyword_type_getDefaultToggleValue("meta",field.source)}))),rank_feature:()=>external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.rankFeature.positiveScoreImpactFieldTitle",{defaultMessage:"Positive score impact"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.rankFeature.positiveScoreImpactFieldDescription",{defaultMessage:"Rank features that correlate negatively with the score should disable this field."}),formFieldPath:"positive_score_impact"})),wildcard:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IgnoreAboveParameter,{defaultToggleValue:wildcard_type_getDefaultToggleValue("ignore_above",field.source)})),point:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(BasicParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IgnoreMalformedParameter,{description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.point.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed points are not indexed. If enabled, these documents are indexed, but fields with malformed points are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(IgnoreZValueParameter,{description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.point.ignoreZValueFieldDescription",{defaultMessage:"Three dimension points will be accepted, but only x and y values will be indexed; the third dimension is ignored."})}),external_kbnSharedDeps_React_default.a.createElement(NullValueParameter,{defaultToggleValue:point_type_getDefaultToggleValue("null_value",field.source),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.point.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a point value so that it can be indexed and searched."})},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"null_value",component:components_.TextAreaField,config:getFieldConfig("null_value_point")})),external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:point_type_getDefaultToggleValue("meta",field.source)}))),version:({field:field})=>external_kbnSharedDeps_React_default.a.createElement(AdvancedParametersSection,null,external_kbnSharedDeps_React_default.a.createElement(MetaParameter,{defaultToggleValue:version_type_getDefaultToggleValue("meta",field.source)}))},FieldBetaBadge=()=>{const betaText=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldBetaBadgeLabel",{defaultMessage:"Beta"}),tooltipText=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldBetaBadgeTooltip",{defaultMessage:"This field type is not GA. Please help us by reporting any bugs."});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBetaBadge,{label:betaText,tooltipContent:tooltipText})},FieldDescriptionSection=({children:children,isMultiField:isMultiField})=>children||isMultiField?external_kbnSharedDeps_React_default.a.createElement("section",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s",color:"subdued"},children,isMultiField&&external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldIntroductionText",{defaultMessage:"This field is a multi-field. You can use multi-fields to index the same field in different ways."})))):null,EditFieldHeaderForm=external_kbnSharedDeps_React_default.a.memo(({defaultValue:defaultValue,isRootLevelField:isRootLevelField,isMultiField:isMultiField})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(NameParameter,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(TypeParameter,{isRootLevelField:isRootLevelField,isMultiField:isMultiField})),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:"type"},({type:type})=>{if(void 0===type)return null;const[fieldType]=type;return external_kbnSharedDeps_React_default.a.createElement(SubTypeParameter,{key:fieldType.value,type:fieldType.value,defaultValueType:defaultValue.type,isMultiField:isMultiField,isRootLevelField:isRootLevelField})})),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:["type","subType"]},({type:type,subType:subType})=>{var _ref,_typeDefinition$descr;const typeDefinition=((type,subType)=>{if(!type)return;const typeDefinition=TYPE_DEFINITION[type];return void 0!==typeDefinition.subTypes?subType?TYPE_DEFINITION[subType]:void 0:typeDefinition})(type[0].value,subType&&subType[0].value),description=null!==(_ref=null==typeDefinition||null===(_typeDefinition$descr=typeDefinition.description)||void 0===_typeDefinition$descr?void 0:_typeDefinition$descr.call(typeDefinition))&&void 0!==_ref?_ref:null;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),(null==typeDefinition?void 0:typeDefinition.isBeta)&&external_kbnSharedDeps_React_default.a.createElement(FieldBetaBadge,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(FieldDescriptionSection,{isMultiField:isMultiField},description))}))),limitStringLength=(text,limit=18)=>text.length<=limit?text:"..."+text.substr(-1*limit),FormWrapper=({children:children})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,children),EditField=external_kbnSharedDeps_React_default.a.memo(({form:form,field:field,allFields:allFields,exitEdit:exitEdit,updateField:updateField})=>{const{isMultiField:isMultiField}=field;return external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.Form,{form:form,FormWrapper:FormWrapper},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"flyoutTitle"},isMultiField?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.editMultiFieldTitle",{defaultMessage:"Edit multi-field '{fieldName}'",values:{fieldName:limitStringLength(field.source.name)}}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldTitle",{defaultMessage:"Edit field '{fieldName}'",values:{fieldName:limitStringLength(field.source.name)}}))))),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:["type","subType"]},({type:type,subType:subType})=>{var _subType$,_type$;const linkDocumentation=documentationService.getTypeDocLink(null==subType||null===(_subType$=subType[0])||void 0===_subType$?void 0:_subType$.value)||documentationService.getTypeDocLink(null==type||null===(_type$=type[0])||void 0===_type$?void 0:_type$.value);if(!linkDocumentation)return null;const typeDefinition=TYPE_DEFINITION[type[0].value],subTypeDefinition=TYPE_DEFINITION[null==subType?void 0:subType[0].value];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"s",flush:"right",href:linkDocumentation,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.editField.typeDocumentation",{defaultMessage:"{type} documentation",values:{type:subTypeDefinition?subTypeDefinition.label:typeDefinition.label}})))})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPath"},external_kbnSharedDeps_React_default.a.createElement(CodeBlock,{padding:"small"},field.path.join(" > "))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutBody,null,external_kbnSharedDeps_React_default.a.createElement(EditFieldHeaderForm,{defaultValue:field.source,isRootLevelField:void 0===field.parentId,isMultiField:isMultiField}),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:["type","subType"]},({type:type,subType:subType})=>{const ParametersForm=((type,subType)=>void 0===subType?typeToParametersFormMap[type]:typeToParametersFormMap[subType]||typeToParametersFormMap[type])(null==type?void 0:type[0].value,null==subType?void 0:subType[0].value);return ParametersForm?external_kbnSharedDeps_React_default.a.createElement(ParametersForm,{key:null!=subType?subType:type,field:field,allFields:allFields,isMultiField:isMultiField}):null})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutFooter,null,form.isSubmitted&&!form.isValid&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldFlyout.validationErrorTitle",{defaultMessage:"Fix errors in form before continuing."}),color:"danger",iconType:"cross","data-test-subj":"formError"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{onClick:exitEdit},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldCancelButtonLabel",{defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{fill:!0,onClick:async()=>{const{isValid:isValid,data:data}=await form.submit();isValid&&updateField({...field,source:data})},type:"submit",disabled:form.isSubmitted&&!form.isValid,"data-test-subj":"editFieldUpdateButton"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldUpdateButtonLabel",{defaultMessage:"Update"}))))))}),useUpdateField=()=>{const[state,setState]=Object(external_kbnSharedDeps_React_.useState)({isModalOpen:!1}),dispatch=useDispatch(),{fields:fields}=useMappingsState(),{byId:byId,aliases:aliases}=fields,confirmButtonText=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.updateField.confirmationModal.confirmDescription",{defaultMessage:"Confirm type change"});let modalTitle="";if(state.field){const{source:source}=state.field;modalTitle=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.updateField.confirmationModal.title",{defaultMessage:"Confirm change '{fieldName}' type to '{fieldType}'.",values:{fieldName:source.name,fieldType:source.type}})}const closeModal=()=>{setState({isModalOpen:!1})};return{updateField:Object(external_kbnSharedDeps_React_.useCallback)(field=>{const previousField=byId[field.id];if(field.source.type!==previousField.source.type){const aliasesOnField=aliases[field.id]||[],aliasesOnFieldAndDescendants=getAllDescendantAliases(field,fields),isReferencedByAlias=aliasesOnField&&Boolean(aliasesOnField.length),nextTypeCanHaveAlias=!PARAMETERS_DEFINITION.path.targetTypesNotAllowed.includes(field.source.type);let requiresConfirmation,aliasesToDelete=[];if(isReferencedByAlias&&!nextTypeCanHaveAlias?(aliasesToDelete=aliasesOnFieldAndDescendants,requiresConfirmation=!0):(requiresConfirmation=((oldType,newType)=>{const{hasChildFields:hasChildFields,hasMultiFields:hasMultiFields}=field;return!(!hasChildFields&&!hasMultiFields)&&shouldDeleteChildFieldsAfterTypeChange(oldType,newType)})(previousField.source.type,field.source.type),requiresConfirmation&&(aliasesToDelete=aliasesOnFieldAndDescendants.filter(id=>!1===aliasesOnField.includes(id)))),requiresConfirmation)return void setState({isModalOpen:!0,field:field,aliases:Boolean(aliasesToDelete.length)?aliasesToDelete.map(id=>byId[id].path.join(" > ")).sort():void 0})}dispatch({type:"field.edit",value:field.source})},[dispatch,aliases,fields,byId]),modal:{isOpen:state.isModalOpen,props:{childFields:state.field&&state.field.childFields,title:modalTitle,aliases:state.aliases,byId:byId,confirmButtonText:confirmButtonText,onConfirm:()=>{dispatch({type:"field.edit",value:state.field.source}),closeModal()},onCancel:closeModal}}}},defaultFlyoutProps={"data-test-subj":"mappingsEditorFieldEdit","aria-labelledby":"mappingsEditorFieldEditTitle",className:"mappingsEditor__editField",maxWidth:720},EditFieldContainer=external_kbnSharedDeps_React_default.a.memo(({exitEdit:exitEdit})=>{const{fields:fields,documentFields:documentFields}=useMappingsState(),dispatch=useDispatch(),{updateField:updateField,modal:modal}=useUpdateField(),{status:status,fieldToEdit:fieldToEdit}=documentFields,isEditing="editingField"===status,field=fields.byId[fieldToEdit],formDefaultValue=Object(external_kbnSharedDeps_React_.useMemo)(()=>({...null==field?void 0:field.source}),[null==field?void 0:field.source]),{form:form}=Object(hook_form_lib_.useForm)({defaultValue:formDefaultValue,serializer:fieldSerializer,deserializer:fieldDeserializer,options:{stripEmptyFields:!1},id:"edit-field"}),{subscribe:subscribe}=form;Object(external_kbnSharedDeps_React_.useEffect)(()=>subscribe(updatedFieldForm=>{dispatch({type:"fieldForm.update",value:updatedFieldForm})}).unsubscribe,[subscribe,dispatch]);return isEditing?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(EditField,{form:form,field:field,allFields:fields.byId,exitEdit:exitEdit,updateField:updateField}),modal.isOpen?external_kbnSharedDeps_React_default.a.createElement(ModalConfirmationDeleteFields,modal.props):null):null}),BasicParametersSection=({children:children})=>external_kbnSharedDeps_React_default.a.createElement("section",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),children);var external_kbnSharedDeps_Lodash_=__webpack_require__(27),external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);const EditFieldFormRow=external_kbnSharedDeps_React_default.a.memo(({title:title,description:description,docLink:docLink,defaultToggleValue:defaultToggleValue,formFieldPath:formFieldPath,children:children,withToggle:withToggle=!0,configPath:configPath,"data-test-subj":dataTestSubj})=>{const form=Object(hook_form_lib_.useFormContext)(),initialVisibleState=!1===withToggle||(void 0!==defaultToggleValue?defaultToggleValue:void 0!==formFieldPath&&getFieldConfig(configPath||formFieldPath).defaultValue),[isContentVisible,setIsContentVisible]=Object(external_kbnSharedDeps_React_.useState)(initialVisibleState),isChildrenFunction="function"==typeof children,onToggle=()=>{!0===isContentVisible&&form.reset({resetValues:!1}),setIsContentVisible(!isContentVisible)},renderContent=()=>{const toggle=withToggle&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"mappingsEditor__editFieldFormRow__toggle"},void 0===formFieldPath?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSwitch,{label:title,checked:isContentVisible,onChange:onToggle,"data-test-subj":"formRowToggle",showLabel:!1}):external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:formFieldPath,config:{...getFieldConfig(configPath||formFieldPath),defaultValue:initialVisibleState}},field=>external_kbnSharedDeps_React_default.a.createElement(components_.ToggleField,{field:field,"data-test-subj":"abc",euiFieldProps:{label:title,showLabel:!1,"data-test-subj":"formRowToggle"}}))),controlsTitle=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,title)),controlsDescription=description&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s",color:"subdued",className:"mappingsEditor__editField__formRow__description"},description),controlsHeader=(controlsTitle||controlsDescription)&&external_kbnSharedDeps_React_default.a.createElement("div",{style:{paddingLeft:!1===withToggle?"0":void 0}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,controlsTitle),docLink?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:docLink.text},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{href:docLink.href,target:"_blank",iconType:"help","aria-label":docLink.text}))):null),controlsDescription),controls=(isContentVisible&&void 0!==children||isChildrenFunction)&&external_kbnSharedDeps_React_default.a.createElement("div",{style:{paddingLeft:!1===withToggle?"0":void 0}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),isChildrenFunction?children(isContentVisible):children);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{className:"mappingsEditor__editField__formRow","data-test-subj":dataTestSubj},toggle,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement("div",null,controlsHeader,controls)))};return formFieldPath?external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:formFieldPath},formData=>(setIsContentVisible(Object(external_kbnSharedDeps_Lodash_.get)(formData,formFieldPath)),renderContent())):renderContent()}),AdvancedParametersSection=({children:children})=>{const[isVisible,setIsVisible]=Object(external_kbnSharedDeps_React_.useState)(!1);return external_kbnSharedDeps_React_default.a.createElement("div",{className:"mappingsEditor__editField__advancedSettings"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHorizontalRule,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{onClick:()=>{setIsVisible(!isVisible)},flush:"left","data-test-subj":"toggleAdvancedSetting"},isVisible?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedSettings.hideButtonLabel",{defaultMessage:"Hide advanced settings"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedSettings.showButtonLabel",{defaultMessage:"Show advanced settings"})),external_kbnSharedDeps_React_default.a.createElement("div",{style:{display:isVisible?"block":"none"},"data-test-subj":"advancedSettings"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement("div",null,children)))},childConfig={defaultValue:[]},RelationsParameter=()=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.relationshipsTitle",{defaultMessage:"Relationships"}),withToggle:!1},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseArray,{path:"relations",initialNumberOfItems:0},({items:items,addItem:addItem,removeItem:removeItem})=>{const columns=[{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.parentColumnTitle",{defaultMessage:"Parent"}),render:item=>external_kbnSharedDeps_React_default.a.createElement("div",{style:{width:"100%"}},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:item.path+".parent",component:components_.TextField,componentProps:{euiFieldProps:{"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.parentFieldAriaLabel",{defaultMessage:"Parent field"})}},readDefaultValueOnForm:!item.isNew}))},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.childrenColumnTitle",{defaultMessage:"Children"}),render:item=>external_kbnSharedDeps_React_default.a.createElement("div",{style:{width:"100%"}},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:item.path+".children",config:childConfig,component:components_.ComboBoxField,componentProps:{euiFieldProps:{"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.childrenFieldAriaLabel",{defaultMessage:"Children field"})}},readDefaultValueOnForm:!item.isNew}))},{width:"48px",actions:[{render:({id:id})=>{const label=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.removeRelationshipTooltipLabel",{defaultMessage:"Remove relationship"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:label,delay:"long"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{"data-test-subj":"removeRelationshipButton","aria-label":label,iconType:"minusInCircle",color:"danger",onClick:()=>removeItem(id)}))}}]}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,items.length>1&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{color:"warning",iconType:"alert",size:"s",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.join.multiLevelsParentJoinWarningTitle",defaultMessage:"Avoid using multiple levels to replicate a relational model. Each relation level increases computation time and memory consumption at query time. For best performance, {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getJoinMultiLevelsPerformanceLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.join.multiLevelsPerformanceDocumentationLink",{defaultMessage:"denormalize your data."}))}})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBasicTable,{items:items,itemId:"id",columns:columns,noItemsMessage:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.emptyTableMessage",{defaultMessage:"No relationship defined"}),hasActions:!0}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{onClick:addItem,iconType:"plusInCircleFilled","data-test-subj":"addRelationButton"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.addRelationshipButtonLabel",{defaultMessage:"Add relationship"})))})),DynamicParameter=({defaultToggleValue:defaultToggleValue})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicPropertyMappingParameter.fieldTitle",{defaultMessage:"Dynamic property mapping"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicPropertyMappingParameter.fieldDescription",{defaultMessage:"By default, properties can be added dynamically to objects within a document, just by indexing a document with the object containing the new property."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicDocLinkText",{defaultMessage:"Dynamic documentation"}),href:documentationService.getDynamicLink()},formFieldPath:"dynamic_toggle",defaultToggleValue:defaultToggleValue},isOn=>!1===isOn?external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"dynamic_strict",config:getFieldConfig("dynamic_strict"),component:components_.CheckBoxField}):null),{validations:validations,...name_parameter_rest}=PARAMETERS_DEFINITION.name.fieldConfig,NameParameter=()=>{const{fields:{rootLevelFields:rootLevelFields,byId:byId},documentFields:{fieldToAddFieldTo:fieldToAddFieldTo,fieldToEdit:fieldToEdit}}=useMappingsState(),initialName=fieldToEdit?byId[fieldToEdit].source.name:void 0,parentId=fieldToEdit?byId[fieldToEdit].parentId:fieldToAddFieldTo,uniqueNameValidator=Object(external_kbnSharedDeps_React_.useCallback)(arg=>validateUniqueName({rootLevelFields:rootLevelFields,byId:byId},initialName,parentId)(arg),[rootLevelFields,byId,initialName,parentId]),nameConfig=Object(external_kbnSharedDeps_React_.useMemo)(()=>({...name_parameter_rest,validations:[...validations,{validator:uniqueNameValidator}]}),[uniqueNameValidator]);return external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"name",config:nameConfig,component:components_.TextField,componentProps:{euiFieldProps:{"data-test-subj":"nameParameterInput"}}})},IndexParameter=({indexOptions:indexOptions=PARAMETERS_OPTIONS.index_options,hasIndexOptions:hasIndexOptions=!0,config:config=getFieldConfig("index_options")})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableFieldTitle",{defaultMessage:"Searchable"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableFieldDescription",{defaultMessage:"Allow the field to be searched."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.indexDocLinkText",{defaultMessage:"Searchable documentation"}),href:documentationService.getIndexLink()},formFieldPath:"index","data-test-subj":"indexParameter"},hasIndexOptions?external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"index_options",config:config,component:components_.Field,componentProps:{euiFieldProps:{options:indexOptions}}}):void 0),StoreParameter=()=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.storeFieldValueFieldTitle",{defaultMessage:"Store field value outside of _source"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.storeFieldValueFieldDescription",{defaultMessage:"This can be useful when the _source field is very large and you want to retrieve a few select fields without extracting them from _source."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.storeDocLinkText",{defaultMessage:"Store documentation"}),href:documentationService.getStoreLink()},formFieldPath:"store"}),DocValuesParameter=({configPath:configPath="doc_values"})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesFieldTitle",{defaultMessage:"Use doc values"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesFieldDescription",{defaultMessage:"Store each document's value for this field in memory so it can be used for sorting, aggregations, and in scripts."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesDocLinkText",{defaultMessage:"Doc values documentation"}),href:documentationService.getDocValuesLink()},formFieldPath:"doc_values",configPath:configPath}),BoostParameter=({defaultToggleValue:defaultToggleValue})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.boostFieldTitle",{defaultMessage:"Set boost level"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.boostFieldDescription",{defaultMessage:"Boost this field at query time so it counts more toward the relevance score."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.boostDocLinkText",{defaultMessage:"Boost documentation"}),href:documentationService.getBoostLink()},defaultToggleValue:defaultToggleValue},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"boost",config:getFieldConfig("boost"),component:components_.RangeField,componentProps:{euiFieldProps:{min:1,max:20,showInput:!0,fullWidth:!0}}})),ConfigContext=Object(external_kbnSharedDeps_React_.createContext)(void 0),ConfigProvider=({children:children})=>{const[state,setState]=Object(external_kbnSharedDeps_React_.useState)({indexSettings:{}});return external_kbnSharedDeps_React_default.a.createElement(ConfigContext.Provider,{value:{value:state,update:setState}},children)},useConfig=()=>{const ctx=Object(external_kbnSharedDeps_React_.useContext)(ConfigContext);if(void 0===ctx)throw new Error("useConfig must be used within a <ConfigProvider />");return ctx},AnalyzerParameterSelects=({onChange:onChange,mainDefaultValue:mainDefaultValue,subDefaultValue:subDefaultValue,config:config,options:options,mapOptionsToSubOptions:mapOptionsToSubOptions,"data-test-subj":dataTestSubj})=>{const{form:form}=Object(hook_form_lib_.useForm)({defaultValue:{main:mainDefaultValue,sub:subDefaultValue}}),{subscribe:subscribe}=form;Object(external_kbnSharedDeps_React_.useEffect)(()=>subscribe(updateData=>{const formData=updateData.data.internal,value=formData.sub?formData.sub:formData.main;onChange(value)}).unsubscribe,[subscribe,onChange]);const getSubOptionsMeta=Object(external_kbnSharedDeps_React_.useCallback)(mainValue=>void 0!==mapOptionsToSubOptions?mapOptionsToSubOptions[mainValue]:void 0,[mapOptionsToSubOptions]),onMainValueChange=Object(external_kbnSharedDeps_React_.useCallback)(mainValue=>{const subOptionsMeta=getSubOptionsMeta(mainValue);form.setFieldValue("sub",subOptionsMeta?subOptionsMeta.options[0].value:void 0)},[form,getSubOptionsMeta]),renderSelect=(field,opts)=>(options=>!(!options||!Boolean(options.length))&&!1==={}.hasOwnProperty.call(options[0],"text"))(opts)?external_kbnSharedDeps_React_default.a.createElement(components_.SuperSelectField,{field:field,euiFieldProps:{options:opts},"data-test-subj":dataTestSubj}):external_kbnSharedDeps_React_default.a.createElement(components_.SelectField,{field:field,euiFieldProps:{options:opts,hasNoInitialSelection:!1},"data-test-subj":dataTestSubj});return external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.Form,{form:form},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:"main"},({main:main})=>{const subOptions=getSubOptionsMeta(main);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"main",config:config,onChange:onMainValueChange},field=>renderSelect(field,options))),subOptions&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"sub",config:{...config,defaultValue:subOptions.options[0].value,label:subOptions.label}},field=>renderSelect(field,subOptions.options))))}))},ANALYZER_OPTIONS=PARAMETERS_OPTIONS.analyzer,ANALYZER_OPTIONS_WITHOUT_DEFAULT=PARAMETERS_OPTIONS.analyzer.filter(({value:value})=>"index_default"!==value),AnalyzerParameter=({path:path,defaultValue:defaultValue,label:label,config:config,allowsIndexDefaultOption:allowsIndexDefaultOption=!0,"data-test-subj":dataTestSubj})=>{const{value:{indexSettings:indexSettings}}=useConfig(),customAnalyzers=(indexSettings=>{const settings={}.hasOwnProperty.call(indexSettings,"index")?indexSettings.index:indexSettings;if({}.hasOwnProperty.call(settings,"analysis")&&{}.hasOwnProperty.call(settings.analysis,"analyzer"))try{return Object.keys(settings.analysis.analyzer).map(value=>({value:value,text:value}))}catch{return}})(indexSettings),fieldOptions=[...allowsIndexDefaultOption?ANALYZER_OPTIONS:ANALYZER_OPTIONS_WITHOUT_DEFAULT],mapOptionsToSubOptions={language:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.languageAnalyzerLabel",{defaultMessage:"Language"}),options:PARAMETERS_OPTIONS.languageAnalyzer}};if(customAnalyzers){const customOption={value:"custom",...getSuperSelectOption(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.customTitle",{defaultMessage:"Custom analyzer"}),external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.customDescription",{defaultMessage:"Choose one of your custom analyzers."}))};fieldOptions.push(customOption),mapOptionsToSubOptions.custom={label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.customAnalyzerLabel",{defaultMessage:"Custom"}),options:customAnalyzers}}const isDefaultValueInOptions=void 0===defaultValue||fieldOptions.some(option=>option.value===defaultValue);let subValue,mainValue=defaultValue,isDefaultValueInSubOptions=!1;if(!isDefaultValueInOptions&&void 0!==mapOptionsToSubOptions)for(const[key,subOptions]of Object.entries(mapOptionsToSubOptions))if(subOptions.options.some(option=>option.value===defaultValue)){isDefaultValueInSubOptions=!0,mainValue=key,subValue=defaultValue;break}const[isCustom,setIsCustom]=Object(external_kbnSharedDeps_React_.useState)(!isDefaultValueInOptions&&!isDefaultValueInSubOptions),[selectsDefaultValue,setSelectsDefaultValue]=Object(external_kbnSharedDeps_React_.useState)({main:mainValue,sub:subValue}),fieldConfig=config||getFieldConfig("analyzer"),fieldConfigWithLabel=void 0!==label?{...fieldConfig,label:label}:fieldConfig,toggleCustom=field=>()=>{isCustom?field.setValue(fieldOptions[0].value):field.setValue(""),field.reset({resetValue:!1}),setSelectsDefaultValue({main:void 0,sub:void 0}),setIsCustom(!isCustom)};return external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:path,config:fieldConfigWithLabel},field=>external_kbnSharedDeps_React_default.a.createElement("div",{className:"mappingsEditor__selectWithCustom"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"xs",onClick:toggleCustom(field),className:"mappingsEditor__selectWithCustom__button","data-test-subj":dataTestSubj+"-toggleCustomButton"},isCustom?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.predefinedButtonLabel",{defaultMessage:"Use built-in analyzer"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.customButtonLabel",{defaultMessage:"Use custom analyzer"})),isCustom?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(components_.TextField,{field:field,"data-test-subj":dataTestSubj+"-custom"}))):external_kbnSharedDeps_React_default.a.createElement(AnalyzerParameterSelects,{onChange:field.setValue,mainDefaultValue:selectsDefaultValue.main,subDefaultValue:selectsDefaultValue.sub,config:fieldConfigWithLabel,options:fieldOptions,mapOptionsToSubOptions:mapOptionsToSubOptions,"data-test-subj":dataTestSubj})))},AnalyzersParameter=({field:field,withSearchQuoteAnalyzer:withSearchQuoteAnalyzer=!1})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzersSectionTitle",{defaultMessage:"Analyzers"}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzersDocLinkText",{defaultMessage:"Analyzers documentation"}),href:documentationService.getAnalyzerLink()},withToggle:!1,"data-test-subj":"analyzerParameters"},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:"useSameAnalyzerForSearch"},({useSameAnalyzerForSearch:useSameAnalyzerForSearch})=>{const label=useSameAnalyzerForSearch?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.indexSearchAnalyzerFieldLabel",{defaultMessage:"Index and search analyzer"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.indexAnalyzerFieldLabel",{defaultMessage:"Index analyzer"});return external_kbnSharedDeps_React_default.a.createElement(AnalyzerParameter,{path:"analyzer",label:label,defaultValue:field.source.analyzer,"data-test-subj":"indexAnalyzer"})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"useSameAnalyzerForSearch",component:components_.CheckBoxField,componentProps:{"data-test-subj":"useSameAnalyzerForSearchCheckBox"},config:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.useSameAnalyzerIndexAnSearch",{defaultMessage:"Use the same analyzers for index and searching"}),defaultValue:!0}}),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:"useSameAnalyzerForSearch"},({useSameAnalyzerForSearch:useSameAnalyzerForSearch})=>useSameAnalyzerForSearch?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(AnalyzerParameter,{path:"search_analyzer",defaultValue:field.source.search_analyzer,config:getFieldConfig("search_analyzer"),"data-test-subj":"searchAnalyzer"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}))),withSearchQuoteAnalyzer&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(AnalyzerParameter,{path:"search_quote_analyzer",defaultValue:field.source.search_quote_analyzer,config:getFieldConfig("search_quote_analyzer"),"data-test-subj":"searchQuoteAnalyzer"}))),NullValueParameter=({defaultToggleValue:defaultToggleValue,description:description,children:children})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldTitle",{defaultMessage:"Set null value"}),description:description||external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with the specified value so that it can be indexed and searched."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueDocLinkText",{defaultMessage:"Null value documentation"}),href:documentationService.getNullValueLink()},defaultToggleValue:defaultToggleValue},children||external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"null_value",config:getFieldConfig("null_value"),component:components_.Field})),EagerGlobalOrdinalsParameter=({description:description,configPath:configPath="eager_global_ordinals"})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsFieldTitle",{defaultMessage:"Build global ordinals at index time"}),description:description||external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsFieldDescription",{defaultMessage:"By default, global ordinals are built at search time, which optimizes for index speed. You can optimize for search performance by building them at index time instead."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsDocLinkText",{defaultMessage:"Global ordinals documentation"}),href:documentationService.getEagerGlobalOrdinalsLink()},formFieldPath:"eager_global_ordinals",configPath:configPath}),NormsParameter=({configPath:configPath="norms"})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.useNormsFieldTitle",{defaultMessage:"Use norms"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.useNormsFieldDescription",{defaultMessage:"Account for field length when scoring queries. Norms require significant memory and are not necessary for fields that are used solely for filtering or aggregations."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.normsDocLinkText",{defaultMessage:"Norms documentation"}),href:documentationService.getNormsLink()},formFieldPath:"norms",configPath:configPath}),SimilarityParameter=({defaultToggleValue:defaultToggleValue})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.setSimilarityFieldTitle",{defaultMessage:"Set similarity"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.setSimilarityFieldDescription",{defaultMessage:"The scoring algorithm or similarity to use."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.similarityDocLinkText",{defaultMessage:"Similarity documentation"}),href:documentationService.getSimilarityLink()},defaultToggleValue:defaultToggleValue},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"similarity",config:getFieldConfig("similarity"),component:components_.Field,componentProps:{euiFieldProps:{options:PARAMETERS_OPTIONS.similarity}}})),targetFieldTypeNotAllowed=PARAMETERS_DEFINITION.path.targetTypesNotAllowed,getDeserializer=allFields=>value=>"string"==typeof value&&Boolean(value)?[{id:value,label:allFields[value].path.join(" > ")}]:[],PathParameter=({field:field,allFields:allFields})=>{const suggestedFields=((allFields,currentField)=>Object.entries(allFields).filter(([id,field])=>(!currentField||id!==currentField.id)&&!targetFieldTypeNotAllowed.includes(field.source.type)).map(([id,field])=>({id:id,label:field.path.join(" > ")})).sort((a,b)=>a.label>b.label?1:a.label<b.label?-1:0))(allFields,field),fieldConfig=Object(external_kbnSharedDeps_React_.useMemo)(()=>({...getFieldConfig("path"),deserializer:getDeserializer(allFields)}),[allFields]);return external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"path",config:fieldConfig},pathField=>{const error=pathField.getErrorsMessages(),isInvalid=!!error&&Boolean(error.length);return external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.aliasTargetFieldTitle",{defaultMessage:"Alias target"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.aliasTargetFieldDescription",{defaultMessage:"Select the field you want your alias to point to. You will then be able to use the alias instead of the target field in search requests, and selected other APIs like field capabilities."}),withToggle:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,!Boolean(suggestedFields.length)&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{size:"s",color:"warning",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.noFieldsAddedWarningMessage",{defaultMessage:"You need to add at least one field before creating an alias."})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:pathField.label,helpText:pathField.helpText,error:error,isInvalid:isInvalid,fullWidth:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiComboBox,{placeholder:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.pathPlaceholderLabel",{defaultMessage:"Select a field"}),singleSelection:{asPlainText:!0},options:suggestedFields,selectedOptions:pathField.value,onChange:value=>pathField.setValue(value),isClearable:!1,fullWidth:!0}))))})},CoerceNumberParameter=()=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceFieldTitle",{defaultMessage:"Coerce to number"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceDescription",{defaultMessage:"Convert strings to numbers. If this field is an integer, fractions are truncated. If disabled, then documents with imperfectly formatted values are rejected."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceDocLinkText",{defaultMessage:"Coerce documentation"}),href:documentationService.getCoerceLink()},formFieldPath:"coerce"}),CoerceShapeParameter=()=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeFieldTitle",{defaultMessage:"Coerce to shape"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeDescription",{defaultMessage:"If disabled, then documents that contain polygons with unclosed linear rings are rejected."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeDocLinkText",{defaultMessage:"Coerce documentation"}),href:documentationService.getCoerceLink()},formFieldPath:"coerce",configPath:"coerce_shape"}),FormatParameter=({defaultValue:defaultValue,defaultToggleValue:defaultToggleValue})=>{const defaultValuesInOptions=(void 0!==defaultValue?defaultValue.split("||").map(value=>({label:value})):[]).filter(defaultFormat=>ALL_DATE_FORMAT_OPTIONS.includes(defaultFormat)),[comboBoxOptions,setComboBoxOptions]=Object(external_kbnSharedDeps_React_.useState)([...ALL_DATE_FORMAT_OPTIONS,...defaultValuesInOptions]);return external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formatParameter.fieldTitle",{defaultMessage:"Set format"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.formatParameter.fieldDescription",defaultMessage:"The date formats to parse. Most builit-ins use {strict} date formats, where YYYY is the year, MM is the month, and DD is the day. Example: 2020/11/01.",values:{strict:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"strict")}}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formatDocLinkText",{defaultMessage:"Format documentation"}),href:documentationService.getFormatLink()},defaultToggleValue:defaultToggleValue,"data-test-subj":"formatParameter"},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"format",config:getFieldConfig("format")},formatField=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:formatField.label,helpText:formatField.helpText,fullWidth:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiComboBox,{placeholder:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.formatParameter.placeholderLabel",{defaultMessage:"Select a format"}),options:comboBoxOptions,selectedOptions:formatField.value,onChange:value=>{formatField.setValue(value)},onCreateOption:searchValue=>{const newOption={label:searchValue};formatField.setValue([...formatField.value,newOption]),setComboBoxOptions([...comboBoxOptions,newOption])},fullWidth:!0,"data-test-subj":"formatInput"}))))},IgnoreMalformedParameter=({description:description})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreMalformedFieldTitle",{defaultMessage:"Ignore malformed data"}),description:description||external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoredMalformedFieldDescription",{defaultMessage:"By default, documents that contain the wrong data type for a field are not indexed. If enabled, these documents are indexed, but fields with the wrong data type are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreMalformedDocLinkText",{defaultMessage:"Ignore malformed documentation"}),href:documentationService.getIgnoreMalformedLink()},formFieldPath:"ignore_malformed"}),CopyToParameter=({defaultToggleValue:defaultToggleValue})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToFieldTitle",{defaultMessage:"Copy to group field"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToFieldDescription",{defaultMessage:"Copy the values of multiple fields into a group field. This group field can then be queried as a single field."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToDocLinkText",{defaultMessage:"Copy to documentation"}),href:documentationService.getCopyToLink()},defaultToggleValue:defaultToggleValue},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"copy_to",config:getFieldConfig("copy_to"),component:components_.Field})),TermVectorParameter=({field:field,defaultToggleValue:defaultToggleValue})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldTitle",{defaultMessage:"Set term vector"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldDescription",{defaultMessage:"Store term vectors for an analyzed field."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorDocLinkText",{defaultMessage:"Term vector documentation"}),href:documentationService.getTermVectorLink()},defaultToggleValue:defaultToggleValue},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:"term_vector"},formData=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"term_vector",config:getFieldConfig("term_vector"),component:components_.Field,componentProps:{euiFieldProps:{options:PARAMETERS_OPTIONS.term_vector,fullWidth:!0}}}),"with_positions_offsets"===formData.term_vector&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{size:"s",color:"warning",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldWarningMessage",{defaultMessage:'Setting "With positions and offsets" will double the size of a fields index.'})}))))),TypeParameter=({isMultiField:isMultiField,isRootLevelField:isRootLevelField,showDocLink:showDocLink=!1})=>external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"type",config:getFieldConfig("type")},typeField=>{const error=typeField.getErrorsMessages(),isInvalid=!!error&&Boolean(error.length);let docLink=null;if(showDocLink&&typeField.value.length>0){const selectedType=typeField.value[0].value;docLink=documentationService.getTypeDocLink(selectedType)}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:typeField.label,error:error,isInvalid:isInvalid,helpText:docLink?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:docLink,target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.typeField.documentationLinkLabel",{defaultMessage:"{typeName} documentation",values:{typeName:typeField.value&&typeField.value[0]?typeField.value[0].label:""}}))):null},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiComboBox,{placeholder:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.typeField.placeholderLabel",{defaultMessage:"Select a type"}),singleSelection:{asPlainText:!0},options:isMultiField?filterTypesForMultiField(FIELD_TYPES_OPTIONS):isRootLevelField?FIELD_TYPES_OPTIONS:filterTypesForNonRootFields(FIELD_TYPES_OPTIONS),selectedOptions:typeField.value,onChange:value=>{0!==value.length&&typeField.setValue(value)},isClearable:!1,"data-test-subj":"fieldType"}))}),typeParameterConfig=getFieldConfig("type"),other_type_name_parameter_fieldConfig={label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.otherTypeNameFieldLabel",{defaultMessage:"Type Name"}),defaultValue:"",deserializer:typeParameterConfig.deserializer,serializer:typeParameterConfig.serializer,validations:[{validator:({value:fieldValue})=>{if(""===fieldValue[0].value.trim())return{message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeNameIsRequiredErrorMessage",{defaultMessage:"The type name is required."})}}}]},CustomTextField=({field:field})=>{var _field$value$0$value,_field$value$;const{setValue:setValue}=field,transformedField={...field,value:null!==(_field$value$0$value=null===(_field$value$=field.value[0])||void 0===_field$value$?void 0:_field$value$.value)&&void 0!==_field$value$0$value?_field$value$0$value:""},onChange=Object(external_kbnSharedDeps_React_.useCallback)(e=>{setValue([{value:e.target.value}])},[setValue]);return external_kbnSharedDeps_React_default.a.createElement(components_.TextField,{field:transformedField,euiFieldProps:{onChange:onChange,"data-test-subj":"fieldSubType"}})},OtherTypeNameParameter=()=>external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"subType",config:other_type_name_parameter_fieldConfig,component:CustomTextField}),SubTypeParameter=({type:type,defaultValueType:defaultValueType,isMultiField:isMultiField,isRootLevelField:isRootLevelField})=>{if("other"===type)return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(OtherTypeNameParameter,null));const typeDefinition=TYPE_DEFINITION[type];if(!(void 0!==typeDefinition.subTypes))return null;const subTypeOptions=typeDefinition.subTypes.types.map(_subType=>TYPE_DEFINITION[_subType]).map(_subType=>({value:_subType.value,label:_subType.label})),defaultValueSubType=typeDefinition.subTypes.types.includes(defaultValueType)?defaultValueType:typeDefinition.subTypes.types[0];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"subType",defaultValue:defaultValueSubType,config:{...getFieldConfig("type"),label:typeDefinition.subTypes.label}},subTypeField=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:subTypeField.label},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiComboBox,{placeholder:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.subTypeField.placeholderLabel",{defaultMessage:"Select a type"}),singleSelection:{asPlainText:!0},options:isMultiField?filterTypesForMultiField(subTypeOptions):isRootLevelField?subTypeOptions:filterTypesForNonRootFields(subTypeOptions),selectedOptions:subTypeField.value,onChange:subTypeField.setValue,isClearable:!1,"data-test-subj":"fieldSubType"}))))},IgnoreZValueParameter=({description:description})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreZValueFieldTitle",{defaultMessage:"Ignore Z value"}),description:description||external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoredZValueFieldDescription",{defaultMessage:"Three dimension points will be accepted, but only latitude and longitude values will be indexed; the third dimension is ignored."}),formFieldPath:"ignore_z_value"}),OrientationParameter=({defaultToggleValue:defaultToggleValue})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.orientationFieldTitle",{defaultMessage:"Set orientation"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.orientationFieldDescription",{defaultMessage:"Interpret the vertex order for polygons and multipolygons as either clockwise or counterclockwise (default)."}),defaultToggleValue:defaultToggleValue},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"orientation",config:getFieldConfig("orientation"),component:components_.Field,componentProps:{euiFieldProps:{options:PARAMETERS_OPTIONS.orientation,style:{minWidth:300}}}})),FielddataFrequencyFilterPercentage=({min:min,max:max})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterPercentageFieldLabel",defaultMessage:"Percentage-based frequency range"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDualRange,{min:0,max:100,value:[min.value,max.value],onChange:([minValue,maxValue])=>{min.setValue(minValue),max.setValue(maxValue)},showInput:"inputWithPopover",append:"%"})),FielddataFrequencyFilterAbsolute=({min:min,max:max})=>{const minIsInvalid=!min.isChangingValue&&min.errors.length>0,minErrorMessage=!min.isChangingValue&&min.errors.length?min.errors[0].message:null,maxIsInvalid=!max.isChangingValue&&max.errors.length>0,maxErrorMessage=!max.isChangingValue&&max.errors.length?max.errors[0].message:null;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,isInvalid:minIsInvalid||maxIsInvalid,error:minErrorMessage||maxErrorMessage,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteFieldLabel",defaultMessage:"Absolute frequency range"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormControlLayoutDelimited,{startControl:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldNumber,{value:min.value,onChange:min.onChange,isLoading:min.isValidating,isInvalid:minIsInvalid,fullWidth:!0,"data-test-subj":"input",controlOnly:!0,"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteMinAriaLabel",{defaultMessage:"Minimum absolute frequency"})}),endControl:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldNumber,{value:max.value,onChange:max.onChange,isLoading:max.isValidating,isInvalid:maxIsInvalid,fullWidth:!0,"data-test-subj":"input",controlOnly:!0,"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteMaxAriaLabel",{defaultMessage:"Maximum absolute frequency"})})}))},FieldDataParameter=({field:field,defaultToggleValue:defaultToggleValue})=>{const[valueType,setValueType]=Object(external_kbnSharedDeps_React_.useState)(void 0!==field.source.fielddata_frequency_filter&&field.source.fielddata_frequency_filter.max>1?"absolute":"percentage");function getConfig(fieldProp,type=valueType){return getFieldConfig("percentage"===type?"fielddata_frequency_filter_percentage":"fielddata_frequency_filter_absolute",fieldProp)}const switchType=(min,max)=>()=>{var _nextMinConfig$deseri,_nextMinConfig$deseri2,_nextMaxConfig$deseri,_nextMaxConfig$deseri2;const nextValueType="percentage"===valueType?"absolute":"percentage",nextMinConfig=getConfig("min",nextValueType),nextMaxConfig=getConfig("max",nextValueType);min.setValue(null!==(_nextMinConfig$deseri=null===(_nextMinConfig$deseri2=nextMinConfig.deserializer)||void 0===_nextMinConfig$deseri2?void 0:_nextMinConfig$deseri2.call(nextMinConfig,nextMinConfig.defaultValue))&&void 0!==_nextMinConfig$deseri?_nextMinConfig$deseri:nextMinConfig.defaultValue),max.setValue(null!==(_nextMaxConfig$deseri=null===(_nextMaxConfig$deseri2=nextMaxConfig.deserializer)||void 0===_nextMaxConfig$deseri2?void 0:_nextMaxConfig$deseri2.call(nextMaxConfig,nextMaxConfig.defaultValue))&&void 0!==_nextMaxConfig$deseri?_nextMaxConfig$deseri:nextMaxConfig.defaultValue),setValueType(nextValueType)};return external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFormRowTitle",{defaultMessage:"Fielddata"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFormRowDescription",{defaultMessage:"Whether to use in-memory fielddata for sorting, aggregations, or scripting."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fieldDataDocLinkText",{defaultMessage:"Fielddata documentation"}),href:documentationService.getFielddataLink()},formFieldPath:"fielddata",defaultToggleValue:defaultToggleValue},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseMultiFields,{fields:{min:{path:"fielddata_frequency_filter.min",config:getConfig("min")},max:{path:"fielddata_frequency_filter.max",config:getConfig("max")}}},({min:min,max:max})=>{const FielddataFrequencyComponent="percentage"===valueType?FielddataFrequencyFilterPercentage:FielddataFrequencyFilterAbsolute;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{color:"warning",iconType:"alert",size:"s",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.fielddataEnabledWarningTitle",defaultMessage:"Fielddata can consume significant memory. This is particularly likely when loading high-cardinality text fields. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getEnablingFielddataLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataEnabledDocumentationLink",{defaultMessage:"Learn more."}))}})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xxs"},external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataDocumentFrequencyRangeTitle",{defaultMessage:"Document frequency range"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.fielddataFrequencyMessage",defaultMessage:"This range determines the terms loaded into memory. Frequency is calculated per segment. Exclude small segments based on their size, in number of documents. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getFielddataFrequencyLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFrequencyDocumentationLink",{defaultMessage:"Learn more."}))}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(FielddataFrequencyComponent,{min:min,max:max})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"fielddata_frequency_filter.min_segment_size",config:getFieldConfig("fielddata_frequency_filter","min_segment_size"),component:components_.Field}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSwitch,{compressed:!0,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.useAbsoluteValuesFieldLabel",{defaultMessage:"Use absolute values"}),checked:"absolute"===valueType,onChange:switchType(min,max),"data-test-subj":"input"}))}))},SplitQueriesOnWhitespaceParameter=()=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.splitQueriesOnWhitespaceFieldTitle",{defaultMessage:"Split queries on whitespace"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.splitQueriesOnWhitespaceDescription",{defaultMessage:"Full text queries will split the input on whitespace when building a query for this field."}),formFieldPath:"split_queries_on_whitespace"}),LocaleParameter=({defaultToggleValue:defaultToggleValue})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.date.localeFieldTitle",{defaultMessage:"Set locale"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dateType.localeFieldDescription",defaultMessage:"The locale to use when parsing dates. This is useful because months might not have the same name or abbreviation in all languages. Defaults to the {root} locale.",values:{root:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getRootLocaleLink(),target:"_blank"},"ROOT")}}),defaultToggleValue:defaultToggleValue},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"locale",config:getFieldConfig("locale"),component:components_.Field})),EnabledParameter=()=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableProperties.fieldTitle",{defaultMessage:"Searchable properties"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchableProperties.fieldDescription",defaultMessage:"Allow object properties to be searched. The JSON can still be retrieved from the {source} field even after disabling this setting.",values:{source:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"_source")}}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.enabledDocLinkText",{defaultMessage:"Enabled documentation"}),href:documentationService.getEnabledLink()},formFieldPath:"enabled"}),MaxShingleSizeParameter=({defaultToggleValue:defaultToggleValue})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.maxShingleSizeFieldTitle",{defaultMessage:"Set max shingle size"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.maxShingleSizeFieldDescription",{defaultMessage:"The default is three shingle subfields. More subfields enable more specific queries, but increase index size."}),defaultToggleValue:defaultToggleValue},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"max_shingle_size",component:components_.Field,config:getFieldConfig("max_shingle_size"),componentProps:{euiFieldProps:{options:[{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"}]}}})),{isJsonField:other_type_json_parameter_isJsonField}=helpers_.fieldValidators,other_type_json_parameter_fieldConfig={label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.otherTypeJsonFieldLabel",{defaultMessage:"Type Parameters JSON"}),defaultValue:{},validations:[{validator:other_type_json_parameter_isJsonField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonInvalidJSONErrorMessage",{defaultMessage:"Invalid JSON."}))},{validator:({value:value})=>{const json=JSON.parse(value);if(Array.isArray(json))return{message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonArrayNotAllowedErrorMessage",{defaultMessage:"Arrays are not allowed."})}}},{validator:({value:value})=>{if(JSON.parse(value).type)return{code:"ERR_CUSTOM_TYPE_OVERRIDDEN",message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonTypeFieldErrorMessage",{defaultMessage:'Cannot override the "type" field.'})}}}],deserializer:value=>""===value?value:JSON.stringify(value,null,2),serializer:value=>{try{return JSON.parse(value)}catch(error){return value}}},OtherTypeJsonParameter=()=>external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"otherTypeJson",config:other_type_json_parameter_fieldConfig,component:components_.JsonEditorField}),MetaParameter=({defaultToggleValue:defaultToggleValue})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterTitle",{defaultMessage:"Set metadata"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterDescription",{defaultMessage:"Arbitrary information about the field. Specify as JSON key-value pairs."}),defaultToggleValue:defaultToggleValue,docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterDocLinkText",{defaultMessage:"Metadata documentation"}),href:documentationService.getMetaLink()},"data-test-subj":"metaParameter"},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"meta",config:getFieldConfig("meta"),component:components_.JsonEditorField,componentProps:{euiCodeEditorProps:{"data-test-subj":"metaParameterEditor",height:"300px","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterAriaLabel",{defaultMessage:"metadata field data editor"})}}})),IgnoreAboveParameter=({defaultToggleValue:defaultToggleValue})=>external_kbnSharedDeps_React_default.a.createElement(EditFieldFormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldTitle",{defaultMessage:"Set length limit"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldDescription",{defaultMessage:"Strings longer than this value will not be indexed. This is useful for protecting against Lucenes term character-length limit of 8,191 UTF-8 characters."}),docLink:{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveDocLinkText",{defaultMessage:"Ignore above documentation"}),href:documentationService.getIgnoreAboveLink()},defaultToggleValue:defaultToggleValue},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"ignore_above",config:getFieldConfig("ignore_above"),component:components_.Field})),PARAMETER_SERIALIZERS=[field=>{if(void 0===field.relations)return field;const relationsSerialized=field.relations.reduce((acc,item)=>({...acc,[item.parent]:1===item.children.length?item.children[0]:item.children}),{});return{...field,relations:relationsSerialized}},field=>{if(void 0===field.dynamic_toggle)return field;const dynamic=!0===field.dynamic_toggle||!0===field.dynamic_strict&&"strict",{dynamic_toggle:dynamic_toggle,dynamic_strict:dynamic_strict,...rest}=field;return{...rest,dynamic:dynamic}}],PARAMETER_DESERIALIZERS=[field=>{if(void 0===field.relations)return field;const relations=field.relations,relationsDeserialized=Object.entries(relations).map(([parent,children])=>({parent:parent,children:"string"==typeof children?[children]:children}));return{...field,relations:relationsDeserialized}},field=>{if(void 0===field.dynamic)return field;const dynamicToggleValue=!0===field.dynamic,dynamicStrictValue="strict"===field.dynamic;return{...field,dynamic_toggle:dynamicToggleValue,dynamic_strict:dynamicStrictValue}}],fieldSerializer=field=>{const{otherTypeJson:otherTypeJson,...rest}=field,updatedField=Boolean(otherTypeJson)?{...otherTypeJson,...rest}:{...rest};return{}.hasOwnProperty.call(updatedField,"subType")&&(updatedField.type=updatedField.subType,delete updatedField.subType),delete updatedField.useSameAnalyzerForSearch,(field=>Object.entries(field).filter(({1:value})=>"index_default"!==value).reduce((acc,[param,value])=>({...acc,[param]:value}),{}))((field=>PARAMETER_SERIALIZERS.reduce((fieldSerialized,serializer)=>serializer(fieldSerialized),field))(updatedField))},fieldDeserializer=field=>{const typeMeta=getTypeMetaFromSource(field.type);if(field.type=typeMeta.mainType,field.subType=typeMeta.subType,"other"===field.type){const{type:type,subType:subType,name:name,...otherTypeJson}=field;field.otherTypeJson=otherTypeJson}else field.useSameAnalyzerForSearch=!1==={}.hasOwnProperty.call(field,"search_analyzer");return(field=>PARAMETER_DESERIALIZERS.reduce((fieldDeserialized,serializer)=>serializer(fieldDeserialized),field))(field)},validateUniqueName=({rootLevelFields:rootLevelFields,byId:byId},initialName="",parentId)=>({value:value})=>{if((parentId?Object.values(byId).filter(field=>field.parentId===parentId).map(field=>field.source.name):rootLevelFields.map(fieldId=>byId[fieldId].source.name)).filter(name=>name!==initialName).includes(value))return{message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.existNamesValidationErrorMessage",{defaultMessage:"There is already a field with this name."})}};var Ord=__webpack_require__(102),lib_Set=__webpack_require__(99),Either=__webpack_require__(53);const empty=[],errorReporter={report:Object(Either.fold)(validation=>validation.map(e=>{const path=[];let validationName="";e.context.forEach((ctx,idx)=>{ctx.key&&path.push(ctx.key),idx===e.context.length-1&&(validationName=ctx.type.name)});const lastItemName=path[path.length-1];return{path:path,message:"Invalid value "+JSON.stringify(e.value)+` supplied to ${lastItemName}(${validationName})`}}),()=>empty)},ALLOWED_FIELD_PROPERTIES=[...Object.keys(PARAMETERS_DEFINITION),"type","properties","fields"],stripUnknownOrInvalidParameter=field=>Object.entries(field).reduce((acc,[key,value])=>{var _acc$value;ALLOWED_FIELD_PROPERTIES.includes(key)&&((parameter,value)=>{if("type"===parameter)return!0;if("name"===parameter)return!1;if("properties"===parameter||"fields"===parameter)return Object(external_kbnSharedDeps_Lodash_.isPlainObject)(value);const parameterSchema=PARAMETERS_DEFINITION[parameter].schema;return!parameterSchema||Object(Either.isRight)(parameterSchema.decode(value))})(key,value)?(acc.value=null!==(_acc$value=acc.value)&&void 0!==_acc$value?_acc$value:{},acc.value[key]=value):acc.parametersRemoved.push(key);return acc},{parametersRemoved:[]}),parseField=field=>{var _field$type,type;if(!Object(external_kbnSharedDeps_Lodash_.isPlainObject)(field))return{parametersRemoved:[]};if("string"!=typeof(type=null!==(_field$type=field.type)&&void 0!==_field$type?_field$type:"object")||!ALL_DATA_TYPES.includes(type))return{parametersRemoved:[]};const fieldWithType={type:"object",...field};return{...stripUnknownOrInvalidParameter(fieldWithType),meta:getFieldMeta(fieldWithType)}},parseFields=(properties,path=[])=>Object.entries(properties).reduce((acc,[fieldName,unparsedField])=>{const fieldPath=[...path,fieldName].join("."),{value:parsedField,parametersRemoved:parametersRemoved,meta:meta}=parseField(unparsedField);if(void 0===parsedField)acc.errors.push({code:"ERR_FIELD",fieldPath:fieldPath});else{if(meta.hasChildFields||meta.hasMultiFields){const parsedChildren=parseFields(parsedField[meta.childFieldsName],[...path,fieldName]);parsedField[meta.childFieldsName]=parsedChildren.value,parsedChildren.errors&&(acc.errors=[...acc.errors,...parsedChildren.errors])}acc.value[fieldName]=parsedField,Boolean(parametersRemoved.length)&&(acc.errors=[...acc.errors,...parametersRemoved.map(paramName=>({code:"ERR_PARAMETER",fieldPath:fieldPath,paramName:paramName}))])}return acc},{value:{},errors:[]}),mappingsConfigurationSchema=lib.exact(lib.partial({dynamic:lib.union([lib.literal(!0),lib.literal(!1),lib.literal("strict")]),date_detection:lib.boolean,numeric_detection:lib.boolean,dynamic_date_formats:lib.array(lib.string),_source:lib.exact(lib.partial({enabled:lib.boolean,includes:lib.array(lib.string),excludes:lib.array(lib.string)})),_meta:lib.UnknownRecord,_routing:lib.interface({required:lib.boolean})})),mappingsConfigurationSchemaKeys=Object.keys(mappingsConfigurationSchema.type.props),sourceConfigurationSchemaKeys=Object.keys(mappingsConfigurationSchema.type.props._source.type.props),validateMappingsConfiguration=mappingsConfiguration=>{const configurationRemoved=new Set;let copyOfMappingsConfig={...mappingsConfiguration};const result=mappingsConfigurationSchema.decode(mappingsConfiguration),isSchemaInvalid=Object(Either.isLeft)(result),unknownConfigurationParameters=Object.keys(mappingsConfiguration).filter(key=>!1===mappingsConfigurationSchemaKeys.includes(key)),unknownSourceConfigurationParameters=void 0!==mappingsConfiguration._source?Object.keys(mappingsConfiguration._source).filter(key=>!1===sourceConfigurationSchemaKeys.includes(key)):[];if(isSchemaInvalid){errorReporter.report(result).forEach(error=>{const configurationName=error.path[0];configurationRemoved.add(configurationName),delete copyOfMappingsConfig[configurationName]})}unknownConfigurationParameters.length>0&&unknownConfigurationParameters.forEach(configName=>configurationRemoved.add(configName)),unknownSourceConfigurationParameters.length>0&&(configurationRemoved.add("_source"),delete copyOfMappingsConfig._source),copyOfMappingsConfig=Object(external_kbnSharedDeps_Lodash_.pick)(copyOfMappingsConfig,mappingsConfigurationSchemaKeys);const errors=Object(lib_Set.toArray)(Ord.ordString)(configurationRemoved).map(configName=>({code:"ERR_CONFIG",configName:configName})).sort((a,b)=>a.configName.localeCompare(b.configName));return{value:copyOfMappingsConfig,errors:errors}},validateMappings=(mappings={})=>{if(!Object(external_kbnSharedDeps_Lodash_.isPlainObject)(mappings))return{value:{}};const{properties:properties,dynamic_templates:dynamicTemplates,...mappingsConfiguration}=mappings,{value:parsedConfiguration,errors:configurationErrors}=validateMappingsConfiguration(mappingsConfiguration),{value:parsedProperties,errors:propertiesErrors}=((properties={})=>Object(external_kbnSharedDeps_Lodash_.isPlainObject)(properties)?parseFields(properties):{value:{},errors:[]})(properties),errors=[...configurationErrors,...propertiesErrors];return{value:{...parsedConfiguration,properties:parsedProperties,dynamic_templates:null!=dynamicTemplates?dynamicTemplates:[]},errors:errors.length?errors:void 0}},VALID_MAPPINGS_PARAMETERS=[...mappingsConfigurationSchemaKeys,"dynamic_templates","properties","runtime"],escapeRegExp=text=>text.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),sortResult=(a,b)=>a.metadata.score>b.metadata.score?-1:b.metadata.score>a.metadata.score||null===a.metadata.stringMatch?1:null===b.metadata.stringMatch?-1:a.metadata.matchFieldName&&b.metadata.matchFieldName?a.field.source.name.length-b.field.source.name.length:a.metadata.stringMatch.length===b.metadata.stringMatch.length?a.field.path.length-b.field.path.length:b.metadata.stringMatch.length-a.metadata.stringMatch.length,getSearchMetadata=(searchData,fieldData)=>{const{term:term,type:type,searchRegexArray:searchRegexArray}=searchData,typeToCompare=null!=type?type:term,fullyMatchFieldName=term===fieldData.name,fullyMatchPath=term===fieldData.path,fieldNameRegMatch=searchRegexArray[0].exec(fieldData.name),matchFieldName=!!fullyMatchFieldName||null!==fieldNameRegMatch,matchStartOfPath=fieldData.path.startsWith(term),matchType=fieldData.type.includes(typeToCompare),fullyMatchType=typeToCompare===fieldData.type;let stringMatch=null;if(fullyMatchPath)stringMatch=fieldData.path;else if(matchFieldName)stringMatch=fullyMatchFieldName?fieldData.name:fieldNameRegMatch[0];else{const arrayMatch=searchRegexArray.map(regex=>regex.exec(fieldData.path)).filter(Boolean).sort((a,b)=>b[0].length-a[0].length);arrayMatch.length&&(stringMatch=arrayMatch[0][0])}const metadata={matchFieldName:matchFieldName,matchPath:null!==stringMatch,matchStartOfPath:matchStartOfPath,fullyMatchPath:fullyMatchPath,matchType:matchType,fullyMatchFieldName:fullyMatchFieldName,fullyMatchType:fullyMatchType,stringMatch:stringMatch},score=(metadata=>{let score=0;return metadata.fullyMatchFieldName&&(score+=15),metadata.matchFieldName&&(score+=5),metadata.matchPath&&(score+=15),metadata.matchStartOfPath&&(score+=5),metadata.fullyMatchPath&&(score+=5),metadata.matchType&&(score+=5),metadata.fullyMatchType&&(score+=5),score})(metadata),display=((searchData,fieldData,metadata)=>{const{term:term}=searchData,{path:path}=fieldData;let display=external_kbnSharedDeps_React_default.a.createElement("span",null,path);if(metadata.fullyMatchPath)display=external_kbnSharedDeps_React_default.a.createElement("span",{style:{lineHeight:1.5}},external_kbnSharedDeps_React_default.a.createElement("strong",null,path));else if(metadata.matchStartOfPath){const endString=path.substr(term.length,path.length);display=external_kbnSharedDeps_React_default.a.createElement("span",{style:{lineHeight:1.5}},external_kbnSharedDeps_React_default.a.createElement("strong",null,term),endString)}else if(metadata.matchPath){const{stringMatch:stringMatch}=metadata,charIndex=path.lastIndexOf(stringMatch),startString=path.substr(0,charIndex),endString=path.substr(charIndex+stringMatch.length);display=external_kbnSharedDeps_React_default.a.createElement("span",{style:{lineHeight:1.5}},startString,external_kbnSharedDeps_React_default.a.createElement("strong",null,stringMatch),endString)}return display})(searchData,fieldData,metadata);return{...metadata,display:display,score:score}},parseSearchTerm=term=>{let type,parsedTerm=term.replace(/\s+/g," ").trim();const words=parsedTerm.split(" ").map(escapeRegExp);">"===words[words.length-1]&&(words.pop(),parsedTerm=words.join(" "));const searchRegexArray=[new RegExp(words.join("([\\._-\\s]|(\\s>\\s))?"),"i")];const firstWordIsType=ALL_DATA_TYPES.includes(words[0]),lastWordIsType=ALL_DATA_TYPES.includes(words[words.length-1]);return firstWordIsType?type=words[0]:lastWordIsType&&(type=words[words.length-1]),{term:parsedTerm,terms:words,type:type,searchRegexArray:searchRegexArray}},searchFields=(term,fields)=>{const searchData=parseSearchTerm(term);return""===searchData.term?[]:Object.values(fields).map(field=>({field:field,metadata:getSearchMetadata(searchData,{name:field.source.name,path:field.path.join(" > "),type:field.source.type})})).filter(({metadata:metadata})=>metadata.score>0).sort(sortResult).map(({field:field,metadata:{display:display}})=>({display:display,field:field}))},isMappingDefinition=obj=>{if(!Object.keys(obj).every(key=>VALID_MAPPINGS_PARAMETERS.includes(key)))return!1;const{properties:properties,dynamic_templates:dynamicTemplates,runtime:runtime,...mappingsConfiguration}=obj,{errors:errors}=validateMappingsConfiguration(mappingsConfiguration),isConfigurationValid=0===errors.length,isPropertiesValid=void 0===properties||Object(external_kbnSharedDeps_Lodash_.isPlainObject)(properties),isDynamicTemplatesValid=void 0===dynamicTemplates||Array.isArray(dynamicTemplates),isRuntimeValid=void 0===runtime||Object(external_kbnSharedDeps_Lodash_.isPlainObject)(runtime);return isConfigurationValid&&isPropertiesValid&&isDynamicTemplatesValid&&isRuntimeValid},getMappingsDefinitionWithType=mappings=>{if(isMappingDefinition(mappings))return[{mappings:mappings}];return Object.entries(mappings).reduce((acc,[type,value])=>(isMappingDefinition(value)&&acc.push({type:type,mappings:value}),acc),[])},doMappingsHaveType=(mappings={})=>getMappingsDefinitionWithType(mappings).filter(({type:type})=>void 0!==type).length>0,updateAliasesReferences=(field,{aliases:aliases},previousTargetPath)=>{const updatedAliases={...aliases};previousTargetPath&&updatedAliases[previousTargetPath]&&(updatedAliases[previousTargetPath]=updatedAliases[previousTargetPath].filter(id=>id!==field.id));const targetId=field.source.path;return updatedAliases[targetId]||(updatedAliases[targetId]=[]),updatedAliases[targetId]=[...updatedAliases[targetId],field.id],updatedAliases},removeFieldFromMap=(fieldId,fields)=>{let{rootLevelFields:rootLevelFields}=fields;const updatedById={...fields.byId},{parentId:parentId}=updatedById[fieldId];if(delete updatedById[fieldId],parentId){const parentField=updatedById[parentId];if(parentField){const childFields=parentField.childFields.filter(childId=>childId!==fieldId);updatedById[parentId]={...parentField,childFields:childFields,hasChildFields:parentField.canHaveChildFields&&Boolean(childFields.length),hasMultiFields:parentField.canHaveMultiFields&&Boolean(childFields.length),isExpanded:!(!parentField.hasChildFields&&!parentField.hasMultiFields)&&parentField.isExpanded}}}else rootLevelFields=rootLevelFields.filter(childId=>childId!==fieldId);let updatedFields={...fields,rootLevelFields:rootLevelFields,byId:updatedById};if(updatedFields.aliases[fieldId]){updatedFields=updatedFields.aliases[fieldId].reduce((_updatedFields,aliasId)=>removeFieldFromMap(aliasId,_updatedFields),updatedFields);const upddatedAliases={...updatedFields.aliases};return delete upddatedAliases[fieldId],{...updatedFields,aliases:upddatedAliases}}return updatedFields},reducer=(state,action)=>{switch(action.type){case"editor.replaceMappings":return{...state,fieldForm:void 0,fields:action.value.fields,configuration:{...state.configuration,data:{internal:action.value.configuration,format:()=>action.value.configuration},defaultValue:action.value.configuration},templates:{...state.templates,data:{internal:action.value.templates,format:()=>action.value.templates},defaultValue:action.value.templates},documentFields:{...state.documentFields,...action.value.documentFields,fieldToAddFieldTo:void 0,fieldToEdit:void 0},runtimeFields:action.value.runtimeFields,runtimeFieldsList:{status:"idle"},search:{term:"",result:[]}};case"configuration.update":{const nextState={...state,configuration:{...state.configuration,...action.value}};return nextState.isValid=action.value.isValid,nextState}case"configuration.save":return{...state,configuration:{isValid:!0,defaultValue:action.value,data:{internal:action.value,format:()=>action.value},validate:async()=>!0}};case"templates.update":{const nextState={...state,templates:{...state.templates,...action.value}};return nextState.isValid=action.value.isValid,nextState}case"templates.save":return{...state,templates:{isValid:!0,defaultValue:action.value,data:{internal:action.value,format:()=>action.value},validate:async()=>!0}};case"fieldForm.update":{const nextState={...state,fieldForm:action.value};return nextState.isValid=action.value.isValid,nextState}case"documentField.createField":return{...state,documentFields:{...state.documentFields,fieldToAddFieldTo:action.value,status:"creatingField"}};case"documentField.editField":return{...state,documentFields:{...state.documentFields,status:"editingField",fieldToEdit:action.value}};case"documentField.changeStatus":const isValid="idle"===action.value?state.configuration.isValid:state.isValid;return{...state,isValid:isValid,fieldForm:void 0,documentFields:{...state.documentFields,status:action.value,fieldToAddFieldTo:void 0,fieldToEdit:void 0}};case"documentField.changeEditor":{const fields="default"===action.value?normalize(state.fieldsJsonEditor.format()):state.fields;return{...state,fields:fields,fieldForm:void 0,documentFields:{...state.documentFields,status:"idle",fieldToAddFieldTo:void 0,fieldToEdit:void 0,editor:action.value}}}case"field.add":return((field,state)=>{const updatedFields={...state.fields},id=getUniqueId(),{fieldToAddFieldTo:fieldToAddFieldTo}=state.documentFields,addToRootLevel=void 0===fieldToAddFieldTo,parentField=addToRootLevel?void 0:updatedFields.byId[fieldToAddFieldTo],isMultiField=!!parentField&&parentField.canHaveMultiFields;updatedFields.byId={...updatedFields.byId},updatedFields.rootLevelFields=addToRootLevel?[...updatedFields.rootLevelFields,id]:updatedFields.rootLevelFields;const nestedDepth=parentField&&(parentField.canHaveChildFields||parentField.canHaveMultiFields)?parentField.nestedDepth+1:0;updatedFields.maxNestedDepth=Math.max(updatedFields.maxNestedDepth,nestedDepth);const{name:name}=field,newField={id:id,parentId:fieldToAddFieldTo,isMultiField:isMultiField,source:field,path:parentField?[...parentField.path,name]:[name],nestedDepth:nestedDepth,...getFieldMeta(field,isMultiField)};if(updatedFields.byId[id]=newField,parentField){const childFields=parentField.childFields||[];updatedFields.byId[fieldToAddFieldTo]={...parentField,childFields:[...childFields,id],hasChildFields:parentField.canHaveChildFields,hasMultiFields:parentField.canHaveMultiFields,isExpanded:!0}}return"alias"===newField.source.type&&(updatedFields.aliases=updateAliasesReferences(newField,updatedFields)),{...state,isValid:!0,fields:updatedFields}})(action.value,state);case"field.remove":{const field=state.fields.byId[action.value],{id:id,hasChildFields:hasChildFields,hasMultiFields:hasMultiFields}=field;let updatedFields=removeFieldFromMap(id,state.fields);if(hasChildFields||hasMultiFields){getAllChildFields(field,state.fields.byId).forEach(childField=>{updatedFields=removeFieldFromMap(childField.id,updatedFields)})}if("alias"===field.source.type&&field.source.path){const targetId=field.source.path;updatedFields.aliases={...updatedFields.aliases,[targetId]:updatedFields.aliases[targetId].filter(aliasId=>aliasId!==id)}}return updatedFields.maxNestedDepth=getMaxNestedDepth(updatedFields.byId),{...state,fields:updatedFields,documentFields:{...state.documentFields,status:0===updatedFields.rootLevelFields.length?"creatingField":"idle"},search:Boolean(state.search.term)?{...state.search,result:searchFields(state.search.term,updatedFields.byId)}:state.search}}case"field.edit":{let updatedFields={...state.fields};const fieldToEdit=state.documentFields.fieldToEdit,previousField=updatedFields.byId[fieldToEdit];let newField={...previousField,source:action.value};"alias"===newField.source.type&&(updatedFields.aliases=updateAliasesReferences(newField,updatedFields,previousField.source.path));const nameHasChanged=newField.source.name!==previousField.source.name,typeHasChanged=newField.source.type!==previousField.source.type;if(nameHasChanged){const{updatedFieldPath:updatedFieldPath,updatedById:updatedById}=((field,byId)=>{const updatedById={...byId},paths=field.parentId?byId[field.parentId].path:[],updateFieldPath=(_field,_paths)=>{const{name:name}=_field.source,path=0===_paths.length?[name]:[..._paths,name];updatedById[_field.id]={..._field,path:path},(_field.hasChildFields||_field.hasMultiFields)&&_field.childFields.map(fieldId=>byId[fieldId]).forEach(childField=>{updateFieldPath(childField,[..._paths,name])})};return updateFieldPath(field,paths),{updatedFieldPath:updatedById[field.id].path,updatedById:updatedById}})(newField,updatedFields.byId);newField.path=updatedFieldPath,updatedFields.byId=updatedById}if(updatedFields.byId[fieldToEdit]=newField,typeHasChanged){const shouldDeleteChildFields=shouldDeleteChildFieldsAfterTypeChange(previousField.source.type,newField.source.type);if("alias"===previousField.source.type&&previousField.source.path)updatedFields.aliases={...updatedFields.aliases,[previousField.source.path]:updatedFields.aliases[previousField.source.path].filter(aliasId=>aliasId!==fieldToEdit)};else{!!PARAMETERS_DEFINITION.path.targetTypesNotAllowed.includes(newField.source.type)&&updatedFields.aliases[fieldToEdit]&&(updatedFields.aliases[fieldToEdit].forEach(aliasId=>{updatedFields=removeFieldFromMap(aliasId,updatedFields)}),delete updatedFields.aliases[fieldToEdit])}if(shouldDeleteChildFields&&previousField.childFields){getAllChildFields(previousField,updatedFields.byId).forEach(childField=>{updatedFields=removeFieldFromMap(childField.id,updatedFields)})}newField={...newField,...getFieldMeta(action.value,newField.isMultiField),childFields:shouldDeleteChildFields?void 0:previousField.childFields,hasChildFields:!shouldDeleteChildFields&&previousField.hasChildFields,hasMultiFields:!shouldDeleteChildFields&&previousField.hasMultiFields,isExpanded:!shouldDeleteChildFields&&previousField.isExpanded},updatedFields.byId[fieldToEdit]=newField}return updatedFields.maxNestedDepth=getMaxNestedDepth(updatedFields.byId),{...state,isValid:!0,fieldForm:void 0,fields:updatedFields,documentFields:{...state.documentFields,fieldToEdit:void 0,status:"idle"},search:Boolean(state.search.term)?{...state.search,result:searchFields(state.search.term,updatedFields.byId)}:state.search}}case"field.toggleExpand":{const{fieldId:fieldId,isExpanded:isExpanded}=action.value,previousField=state.fields.byId[fieldId],nextField={...previousField,isExpanded:void 0===isExpanded?!previousField.isExpanded:isExpanded};return{...state,fields:{...state.fields,byId:{...state.fields.byId,[fieldId]:nextField}}}}case"runtimeFieldsList.createField":return{...state,runtimeFieldsList:{...state.runtimeFieldsList,status:"creatingField"}};case"runtimeFieldsList.editField":return{...state,runtimeFieldsList:{...state.runtimeFieldsList,status:"editingField",fieldToEdit:action.value}};case"runtimeField.add":{const id=getUniqueId(),normalizedField={id:id,source:action.value};return{...state,runtimeFields:{...state.runtimeFields,[id]:normalizedField},runtimeFieldsList:{...state.runtimeFieldsList,status:"idle"}}}case"runtimeField.edit":{const fieldToEdit=state.runtimeFieldsList.fieldToEdit;return{...state,runtimeFields:{...state.runtimeFields,[fieldToEdit]:action.value},runtimeFieldsList:{...state.runtimeFieldsList,status:"idle"}}}case"runtimeField.remove":{const field=state.runtimeFields[action.value],{id:id}=field,updatedFields={...state.runtimeFields};return delete updatedFields[id],{...state,runtimeFields:updatedFields}}case"runtimeFieldsList.closeRuntimeFieldEditor":return{...state,runtimeFieldsList:{...state.runtimeFieldsList,status:"idle",fieldToEdit:void 0}};case"fieldsJsonEditor.update":{const nextState={...state,fieldsJsonEditor:{format:()=>action.value.json,isValid:action.value.isValid}};return nextState.isValid=action.value.isValid,nextState}case"search:update":return{...state,search:{term:action.value,result:searchFields(action.value,state.fields.byId)}};case"validity:update":return{...state,isValid:action.value};default:throw new Error(`Action "${action.type}" not recognized.`)}},StateContext=Object(external_kbnSharedDeps_React_.createContext)(void 0),DispatchContext=Object(external_kbnSharedDeps_React_.createContext)(void 0),StateProvider=({children:children})=>{const initialState={isValid:!0,configuration:{defaultValue:{},data:{internal:{},format:()=>({})},validate:()=>Promise.resolve(!0)},templates:{defaultValue:{},data:{internal:{},format:()=>({})},validate:()=>Promise.resolve(!0)},fields:{byId:{},rootLevelFields:[],aliases:{},maxNestedDepth:0},documentFields:{status:"idle",editor:"default"},runtimeFields:{},runtimeFieldsList:{status:"idle"},fieldsJsonEditor:{format:()=>({}),isValid:!0},search:{term:"",result:[]}},[state,dispatch]=Object(external_kbnSharedDeps_React_.useReducer)(reducer,initialState);return external_kbnSharedDeps_React_default.a.createElement(StateContext.Provider,{value:state},external_kbnSharedDeps_React_default.a.createElement(DispatchContext.Provider,{value:dispatch},children))},useMappingsState=()=>{const ctx=Object(external_kbnSharedDeps_React_.useContext)(StateContext);if(void 0===ctx)throw new Error("useMappingsState must be used within a <MappingsState>");return ctx},useDispatch=()=>{const ctx=Object(external_kbnSharedDeps_React_.useContext)(DispatchContext);if(void 0===ctx)throw new Error("useDispatch must be used within a <MappingsState>");return ctx},UseField=Object(hook_form_lib_.getUseField)({component:components_.Field}),DynamicMappingSection=()=>external_kbnSharedDeps_React_default.a.createElement(components_.FormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicMappingTitle",{defaultMessage:"Dynamic mapping"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dynamicMappingDescription",defaultMessage:"Dynamic mapping allows an index template to interpret unmapped fields. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getDynamicMappingLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicMappingDocumentionLink",{defaultMessage:"Learn more."}))}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(UseField,{path:"dynamicMapping.enabled",component:components_.ToggleField,componentProps:{"data-test-subj":"dynamicMappingsToggle"}}))},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:["dynamicMapping.enabled","dynamicMapping.date_detection"]},formData=>{const{dynamicMapping:{enabled:enabled,date_detection:dateDetection}}=formData;return void 0===enabled?null:enabled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(UseField,{key:"numericDetectionToggle",path:"dynamicMapping.numeric_detection",componentProps:{"data-test-subj":"numericDetection"}}),external_kbnSharedDeps_React_default.a.createElement(UseField,{path:"dynamicMapping.date_detection"}),dateDetection&&external_kbnSharedDeps_React_default.a.createElement(UseField,{path:"dynamicMapping.dynamic_date_formats",componentProps:{euiFieldProps:{options:ALL_DATE_FORMAT_OPTIONS,noSuggestions:!1}}})):external_kbnSharedDeps_React_default.a.createElement(UseField,{key:"throwErrorsCheckBox",path:"dynamicMapping.throwErrorsForUnmappedFields",component:components_.CheckBoxField})})),SourceFieldSection=()=>external_kbnSharedDeps_React_default.a.createElement(components_.FormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceFieldTitle",{defaultMessage:"_source field"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.sourceFieldDescription",defaultMessage:"The _source field contains the original JSON document body that was provided at index time. Individual fields can be pruned by defining which ones to include or exclude from the _source field. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getMappingSourceFieldLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceFieldDocumentionLink",{defaultMessage:"Learn more."}))}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"sourceField.enabled",component:components_.ToggleField}))},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:["sourceField.enabled"]},formData=>{const{sourceField:{enabled:enabled}}=formData;return void 0===enabled?null:enabled?external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"sourceField"},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"sourceField.includes"},({label:label,helpText:helpText,value:value,setValue:setValue})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:label,helpText:helpText,fullWidth:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiComboBox,{noSuggestions:!0,placeholder:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceIncludeField.placeholderLabel",{defaultMessage:"path.to.field.*"}),selectedOptions:value,onChange:newValue=>{setValue(newValue)},onCreateOption:searchValue=>{const newOption={label:searchValue};setValue([...value,newOption])},fullWidth:!0,"data-test-subj":"includesField"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"sourceField.excludes"},({label:label,helpText:helpText,value:value,setValue:setValue})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:label,helpText:helpText,fullWidth:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiComboBox,{noSuggestions:!0,placeholder:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceExcludeField.placeholderLabel",{defaultMessage:"path.to.field.*"}),selectedOptions:value,onChange:newValue=>{setValue(newValue)},onCreateOption:searchValue=>{const newOption={label:searchValue};setValue([...value,newOption])},fullWidth:!0,"data-test-subj":"excludesField"})))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutTitle",{defaultMessage:"Use caution when disabling the _source field"}),iconType:"alert",color:"warning"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription1",defaultMessage:"Disabling {source} lowers storage overhead within the index, but this comes at a cost. It also disables important features, such as the ability to reindex or debug queries by viewing the original document.",values:{source:external_kbnSharedDeps_React_default.a.createElement("code",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription1.sourceText",{defaultMessage:"_source"}))}})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement("a",{href:documentationService.getDisablingMappingSourceFieldLink(),target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription2",defaultMessage:"Learn more about alternatives to disabling the {source} field.",values:{source:external_kbnSharedDeps_React_default.a.createElement("code",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription2.sourceText",{defaultMessage:"_source"}))}}))))})),meta_field_section_UseField=Object(hook_form_lib_.getUseField)({component:components_.Field}),MetaFieldSection=()=>external_kbnSharedDeps_React_default.a.createElement(components_.FormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldTitle",{defaultMessage:"_meta field"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.metaFieldDescription",defaultMessage:"Use the _meta field to store any metadata you want. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getMetaFieldLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldDocumentionLink",{defaultMessage:"Learn more."}))}}))},external_kbnSharedDeps_React_default.a.createElement(meta_field_section_UseField,{path:"metaField",component:components_.JsonEditorField,componentProps:{euiCodeEditorProps:{height:"400px","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldEditorAriaLabel",{defaultMessage:"_meta field data editor"}),"data-test-subj":"metaField"}}})),RoutingSection=()=>external_kbnSharedDeps_React_default.a.createElement(components_.FormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.routingTitle",{defaultMessage:"_routing"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.routingDescription",defaultMessage:"A document can be routed to a particular shard in an index. When using custom routing, it is important to provide the routing value whenever indexing a document as otherwise this could lead to a document being indexed on more than one shard. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getRoutingLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.routingDocumentionLink",{defaultMessage:"Learn more."}))}})},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"_routing.required",component:components_.ToggleField,componentProps:{"data-test-subj":"routingRequiredToggle"}})),{containsCharsField:configuration_form_schema_containsCharsField,isJsonField:configuration_form_schema_isJsonField}=helpers_.fieldValidators,fieldPathComboBoxConfig={helpText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sourceFieldPathComboBoxHelpText",{defaultMessage:"Accepts a path to the field, including wildcards."}),type:hook_form_lib_.FIELD_TYPES.COMBO_BOX,defaultValue:[],serializer:options=>options.map(({label:label})=>label),deserializer:values=>values.map(value=>({label:value}))},configurationFormSchema={metaField:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorLabel",{defaultMessage:"_meta field data"}),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),validations:[{validator:configuration_form_schema_isJsonField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorJsonError",{defaultMessage:"The _meta field JSON is not valid."}),{allowEmptyString:!0})}],deserializer:value=>""===value?value:JSON.stringify(value,null,2),serializer:value=>{try{const parsed=JSON.parse(value);if(!Object.keys(parsed).length)return;return parsed}catch(error){return value}}},sourceField:{enabled:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sourceFieldLabel",{defaultMessage:"Enable _source field"}),type:hook_form_lib_.FIELD_TYPES.TOGGLE,defaultValue:!0},includes:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.includeSourceFieldsLabel",{defaultMessage:"Include fields"}),...fieldPathComboBoxConfig},excludes:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.excludeSourceFieldsLabel",{defaultMessage:"Exclude fields"}),...fieldPathComboBoxConfig}},dynamicMapping:{enabled:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.enableDynamicMappingsLabel",{defaultMessage:"Enable dynamic mapping"}),type:hook_form_lib_.FIELD_TYPES.TOGGLE,defaultValue:!0},throwErrorsForUnmappedFields:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.throwErrorsForUnmappedFieldsLabel",{defaultMessage:"Throw an exception when a document contains an unmapped field"}),helpText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicMappingStrictHelpText",{defaultMessage:"By default, unmapped fields will be silently ignored when dynamic mapping is disabled. Optionally, you can choose to throw an exception when a document contains an unmapped field."}),type:hook_form_lib_.FIELD_TYPES.CHECKBOX,defaultValue:!1},numeric_detection:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.numericFieldLabel",{defaultMessage:"Map numeric strings as numbers"}),helpText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.numericFieldDescription",{defaultMessage:'For example, "1.0" would be mapped as a float and "1" would be mapped as an integer.'}),type:hook_form_lib_.FIELD_TYPES.TOGGLE,defaultValue:!1},date_detection:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dateDetectionFieldLabel",{defaultMessage:"Map date strings as dates"}),type:hook_form_lib_.FIELD_TYPES.TOGGLE,defaultValue:!0},dynamic_date_formats:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldLabel",{defaultMessage:"Date formats"}),helpText:()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldHelpText",defaultMessage:"Strings in these formats will be mapped as dates. You can use built-in formats or custom formats. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getDateFormatLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldDocumentionLink",{defaultMessage:"Learn more."}))}}),type:hook_form_lib_.FIELD_TYPES.COMBO_BOX,defaultValue:["strict_date_optional_time","yyyy/MM/dd HH:mm:ss Z||yyyy/MM/dd Z"],validations:[{validator:configuration_form_schema_containsCharsField({message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldValidationErrorMessage",{defaultMessage:"Spaces are not allowed."}),chars:" "}),type:hook_form_lib_.VALIDATION_TYPES.ARRAY_ITEM}]}},_routing:{required:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.routingLabel",{defaultMessage:"Require _routing value for CRUD operations"}),defaultValue:!1}}},formSerializer=formData=>{const{dynamicMapping:{enabled:dynamicMappingsEnabled,throwErrorsForUnmappedFields:throwErrorsForUnmappedFields,numeric_detection:numeric_detection,date_detection:date_detection,dynamic_date_formats:dynamic_date_formats},sourceField:sourceField,metaField:metaField,_routing:_routing}=formData;return{dynamic:!!dynamicMappingsEnabled||!!throwErrorsForUnmappedFields&&"strict",numeric_detection:numeric_detection,date_detection:date_detection,dynamic_date_formats:dynamic_date_formats,_source:sourceField,_meta:metaField,_routing:_routing}},formDeserializer=formData=>{const{dynamic:dynamic,numeric_detection:numeric_detection,date_detection:date_detection,dynamic_date_formats:dynamic_date_formats,_source:{enabled:enabled,includes:includes,excludes:excludes}={},_meta:_meta,_routing:_routing}=formData;return{dynamicMapping:{enabled:!0===dynamic||void 0===dynamic,throwErrorsForUnmappedFields:"strict"===dynamic,numeric_detection:numeric_detection,date_detection:date_detection,dynamic_date_formats:dynamic_date_formats},sourceField:{enabled:!0===enabled||void 0===enabled,includes:includes,excludes:excludes},metaField:null!=_meta?_meta:{},_routing:_routing}},ConfigurationForm=external_kbnSharedDeps_React_default.a.memo(({value:value})=>{const isMounted=Object(external_kbnSharedDeps_React_.useRef)(!1),{form:form}=Object(hook_form_lib_.useForm)({schema:configurationFormSchema,serializer:formSerializer,deserializer:formDeserializer,defaultValue:value,id:"configurationForm"}),dispatch=useDispatch(),{subscribe:subscribe,submit:submit,reset:reset,getFormData:getFormData}=form;return Object(external_kbnSharedDeps_React_.useEffect)(()=>subscribe(({data:data,isValid:isValid,validate:validate})=>{dispatch({type:"configuration.update",value:{data:data,isValid:isValid,validate:validate,submitForm:submit}})}).unsubscribe,[dispatch,subscribe,submit]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{isMounted.current&&reset({resetValues:!0,defaultValue:value})},[value,reset]),Object(external_kbnSharedDeps_React_.useEffect)(()=>(isMounted.current=!0,()=>{isMounted.current=!1;const configurationData=getFormData();dispatch({type:"configuration.save",value:configurationData})}),[getFormData,dispatch]),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.Form,{form:form,isInvalid:form.isSubmitted&&!form.isValid,error:form.getErrors(),"data-test-subj":"advancedConfiguration"},external_kbnSharedDeps_React_default.a.createElement(DynamicMappingSection,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xl"}),external_kbnSharedDeps_React_default.a.createElement(MetaFieldSection,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xl"}),external_kbnSharedDeps_React_default.a.createElement(SourceFieldSection,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xl"}),external_kbnSharedDeps_React_default.a.createElement(RoutingSection,null))});var classnames=__webpack_require__(39),classnames_default=__webpack_require__.n(classnames);const ChainedMultifieldsWarning=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.nestedMultifieldsDeprecatedCallOutTitle",{defaultMessage:"Chained multi-fields are deprecated"}),iconType:"alert",color:"warning","data-test-subj":"nestedMultifieldsDeprecatedCallout"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.nestedMultifieldsDeprecatedCallOutDescription",defaultMessage:"Defining chained multi-fields was deprecated in 7.3 and is now no longer supported. Consider flattening the chained fields blocks into a single level, or switching to {copyTo} if appropriate.",values:{copyTo:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"copy_to")}}))),required_parameters_forms_typeToParametersFormMap={alias:({allFields:allFields})=>external_kbnSharedDeps_React_default.a.createElement(PathParameter,{allFields:allFields}),token_count:()=>external_kbnSharedDeps_React_default.a.createElement(components_.FormRow,{title:external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerFieldTitle",{defaultMessage:"Analyzer"})),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerFieldDescription",{defaultMessage:"The analyzer which should be used to analyze the string value. For best performance, use an analyzer without token filters."})},external_kbnSharedDeps_React_default.a.createElement(AnalyzerParameter,{path:"analyzer",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCountRequired.analyzerFieldLabel",{defaultMessage:"Index analyzer"}),defaultValue:"standard",allowsIndexDefaultOption:!1})),scaled_float:()=>external_kbnSharedDeps_React_default.a.createElement(components_.FormRow,{title:external_kbnSharedDeps_React_default.a.createElement("h3",null,PARAMETERS_DEFINITION.scaling_factor.title),description:PARAMETERS_DEFINITION.scaling_factor.description},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"scaling_factor",config:getFieldConfig("scaling_factor"),component:components_.Field})),dense_vector:()=>{const{label:label}=getFieldConfig("dims");return external_kbnSharedDeps_React_default.a.createElement(components_.FormRow,{title:external_kbnSharedDeps_React_default.a.createElement("h3",null,label),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.denseVector.dimsFieldDescription",{defaultMessage:"Each documents dense vector is encoded as a binary doc value. Its size in bytes is equal to 4 * dimensions + 4."})},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"dims",config:getFieldConfig("dims"),component:components_.Field}))}},formWrapper=props=>external_kbnSharedDeps_React_default.a.createElement("form",props),CreateField=external_kbnSharedDeps_React_default.a.memo((function({allFields:allFields,isRootLevelField:isRootLevelField,isMultiField:isMultiField,paddingLeft:paddingLeft,isCancelable:isCancelable,maxNestedDepth:maxNestedDepth}){const dispatch=useDispatch(),{form:form}=Object(hook_form_lib_.useForm)({serializer:fieldSerializer,options:{stripEmptyFields:!1}}),{subscribe:subscribe}=form;Object(external_kbnSharedDeps_React_.useEffect)(()=>subscribe(updatedFieldForm=>{dispatch({type:"fieldForm.update",value:updatedFieldForm})}).unsubscribe,[dispatch,subscribe]);const cancel=()=>{dispatch({type:"documentField.changeStatus",value:"idle"})},submitForm=async(e,exitAfter=!1)=>{e&&e.preventDefault();const{isValid:isValid,data:data}=await form.submit();isValid&&(form.reset(),dispatch({type:"field.add",value:data}),exitAfter&&cancel())};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiOutsideClickDetector,{onOutsideClick:()=>{""===form.getFields().name.value.trim()?!1!==isCancelable&&cancel():submitForm(void 0,!0)}},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.Form,{form:form,FormWrapper:formWrapper,onSubmit:submitForm,"data-test-subj":"createFieldForm"},external_kbnSharedDeps_React_default.a.createElement("div",{className:classnames_default()("mappingsEditor__createFieldWrapper",{"mappingsEditor__createFieldWrapper--toggle":Boolean(maxNestedDepth)&&maxNestedDepth>0,"mappingsEditor__createFieldWrapper--multiField":isMultiField}),style:{paddingLeft:(isMultiField?paddingLeft-24:paddingLeft)+"px"}},external_kbnSharedDeps_React_default.a.createElement("div",{className:"mappingsEditor__createFieldContent"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s",alignItems:"center",justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{className:"mappingsEditor__createFieldContent__formFields"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(NameParameter,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(TypeParameter,{isRootLevelField:isRootLevelField,isMultiField:isMultiField,showDocLink:!0})),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:"type"},({type:type})=>{if(void 0===type)return null;const[fieldType]=type;return external_kbnSharedDeps_React_default.a.createElement(SubTypeParameter,{key:fieldType.value,type:fieldType.value,isMultiField:null!=isMultiField&&isMultiField,isRootLevelField:isRootLevelField})}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s",justifyContent:"flexEnd"},!1!==isCancelable&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{onClick:cancel,"data-test-subj":"cancelButton"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.cancelButtonLabel",{defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{color:"primary",fill:!0,onClick:submitForm,type:"submit","data-test-subj":"addButton"},isMultiField?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.addMultiFieldButtonLabel",{defaultMessage:"Add multi-field"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.addFieldButtonLabel",{defaultMessage:"Add field"})))))),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,{pathsToWatch:["type","subType"]},({type:type,subType:subType})=>{const RequiredParametersForm=((type,subType)=>required_parameters_forms_typeToParametersFormMap[subType]||required_parameters_forms_typeToParametersFormMap[type])(null==type?void 0:type[0].value,null==subType?void 0:subType[0].value);if(!RequiredParametersForm)return null;const typeDefinition=TYPE_DEFINITION[null==type?void 0:type[0].value];return external_kbnSharedDeps_React_default.a.createElement("div",{className:"mappingsEditor__createFieldRequiredProps"},typeDefinition.isBeta?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(FieldBetaBadge,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"})):null,external_kbnSharedDeps_React_default.a.createElement(RequiredParametersForm,{key:null!=subType?subType:type,allFields:allFields}))})))))})),DeleteFieldProvider=({children:children})=>{const[state,setState]=Object(external_kbnSharedDeps_React_.useState)({isModalOpen:!1}),dispatch=useDispatch(),{fields:fields}=useMappingsState(),{byId:byId}=fields,confirmButtonText=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.removeButtonLabel",{defaultMessage:"Remove"});let modalTitle;if(state.field){const{isMultiField:isMultiField,source:source}=state.field;modalTitle=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.title",{defaultMessage:"Remove {fieldType} '{fieldName}'?",values:{fieldType:isMultiField?"multi-field":"field",fieldName:source.name}})}const closeModal=()=>{setState({isModalOpen:!1})};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,children(field=>{const aliases=getAllDescendantAliases(field,fields).map(id=>byId[id].path.join(" > ")).sort(),hasAliases=Boolean(aliases.length);setState({isModalOpen:!0,field:field,aliases:hasAliases?aliases:void 0})}),state.isModalOpen&&external_kbnSharedDeps_React_default.a.createElement(ModalConfirmationDeleteFields,{title:modalTitle,childFields:state.field&&state.field.childFields,aliases:state.aliases,byId:byId,confirmButtonText:confirmButtonText,onConfirm:()=>{dispatch({type:"field.remove",value:state.field.id}),closeModal()},onCancel:closeModal}))},fields_list_item_i18nTexts={addMultiFieldButtonLabel:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.addMultiFieldTooltipLabel",{defaultMessage:"Add a multi-field to index the same field in different ways."}),addPropertyButtonLabel:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.addPropertyButtonLabel",{defaultMessage:"Add property"}),editButtonLabel:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldButtonLabel",{defaultMessage:"Edit"}),deleteButtonLabel:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.removeFieldButtonLabel",{defaultMessage:"Remove"}),fieldIsShadowedLabel:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldIsShadowedLabel",{defaultMessage:"Field shadowed by a runtime field with the same name."})};function FieldListItemComponent({field:field,allFields:allFields,isHighlighted:isHighlighted,isDimmed:isDimmed,isCreateFieldFormVisible:isCreateFieldFormVisible,areActionButtonsVisible:areActionButtonsVisible,isChainedMultifieldsWarningVisible:isChainedMultifieldsWarningVisible,isLastItem:isLastItem,isShadowed:isShadowed=!1,childFieldsArray:childFieldsArray,maxNestedDepth:maxNestedDepth,addField:addField,editField:editField,toggleExpand:toggleExpand,treeDepth:treeDepth},ref){const{source:source,isMultiField:isMultiField,canHaveChildFields:canHaveChildFields,hasChildFields:hasChildFields,canHaveMultiFields:canHaveMultiFields,hasMultiFields:hasMultiFields,isExpanded:isExpanded,path:path}=field,substractIndentAmount=0===maxNestedDepth?12:0,indent=24*treeDepth-substractIndentAmount,indentCreateField=24*(treeDepth+1)+4-substractIndentAmount,hasDottedLine=isMultiField?!isLastItem:canHaveMultiFields&&isExpanded,dataTestSubj=path.join("")+"Field";return external_kbnSharedDeps_React_default.a.createElement("li",{className:classnames_default()("mappingsEditor__fieldsListItem",{"mappingsEditor__fieldsListItem--dottedLine":hasDottedLine}),"data-test-subj":"fieldsListItem "+dataTestSubj,ref:ref},external_kbnSharedDeps_React_default.a.createElement("div",{style:{paddingLeft:indent+"px"},className:classnames_default()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":areActionButtonsVisible,"mappingsEditor__fieldsListItem__field--highlighted":isHighlighted,"mappingsEditor__fieldsListItem__field--dim":isDimmed})},external_kbnSharedDeps_React_default.a.createElement("div",{className:classnames_default()("mappingsEditor__fieldsListItem__wrapper",{"mappingsEditor__fieldsListItem__wrapper--indent":0===treeDepth&&0===maxNestedDepth})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:classnames_default()("mappingsEditor__fieldsListItem__content",{"mappingsEditor__fieldsListItem__content--toggle":hasChildFields||hasMultiFields,"mappingsEditor__fieldsListItem__content--multiField":isMultiField,"mappingsEditor__fieldsListItem__content--indent":!hasChildFields&&!hasMultiFields&&maxNestedDepth>treeDepth})},(hasChildFields||hasMultiFields)&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__toggle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{color:"text",onClick:toggleExpand,iconType:isExpanded?"arrowDown":"arrowRight","data-test-subj":"toggleExpandButton","aria-label":isExpanded?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.collapseFieldButtonLabel",{defaultMessage:"Collapse field {name}",values:{name:source.name}}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.expandFieldButtonLabel",{defaultMessage:"Expand field {name}",values:{name:source.name}})})),isMultiField&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__icon"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{color:"subdued",type:"documents"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name","data-test-subj":`fieldName ${dataTestSubj}-fieldName`},source.name),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:"hollow","data-test-subj":dataTestSubj+"-datatype","data-type-value":source.type},isMultiField?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:getTypeLabelFromField(source)}}):getTypeLabelFromField(source))),isShadowed&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:fields_list_item_i18nTexts.fieldIsShadowedLabel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:"warning","data-test-subj":"isShadowedIndicator"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.shadowedBadgeLabel",{defaultMessage:"Shadowed"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},(()=>{if(!areActionButtonsVisible)return null;const{addMultiFieldButtonLabel:addMultiFieldButtonLabel,addPropertyButtonLabel:addPropertyButtonLabel,editButtonLabel:editButtonLabel,deleteButtonLabel:deleteButtonLabel}=fields_list_item_i18nTexts;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},canHaveMultiFields&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:addMultiFieldButtonLabel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconType:"documents",onClick:addField,"data-test-subj":"addMultiFieldButton","aria-label":addMultiFieldButtonLabel}))),canHaveChildFields&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:addPropertyButtonLabel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconType:"plusInCircle",onClick:addField,"data-test-subj":"addPropertyButton","aria-label":addPropertyButtonLabel}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:editButtonLabel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconType:"pencil",onClick:editField,"data-test-subj":"editFieldButton","aria-label":editButtonLabel}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(DeleteFieldProvider,null,deleteField=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:deleteButtonLabel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>deleteField(field),"data-test-subj":"removeFieldButton","aria-label":deleteButtonLabel})))))})())))),isExpanded&&isChainedMultifieldsWarningVisible&&external_kbnSharedDeps_React_default.a.createElement(ChainedMultifieldsWarning,null),Boolean(childFieldsArray.length)&&isExpanded&&external_kbnSharedDeps_React_default.a.createElement(FieldsList,{fields:childFieldsArray,treeDepth:treeDepth+1}),isCreateFieldFormVisible?external_kbnSharedDeps_React_default.a.createElement(CreateField,{allFields:allFields,isRootLevelField:!1,isMultiField:canHaveMultiFields,paddingLeft:indentCreateField,maxNestedDepth:maxNestedDepth}):null)}const FieldsListItem=external_kbnSharedDeps_React_default.a.memo(Object(external_kbnSharedDeps_React_.forwardRef)(FieldListItemComponent)),FieldsListItemContainer=({fieldId:fieldId,treeDepth:treeDepth,isLastItem:isLastItem})=>{const dispatch=useDispatch(),listElement=Object(external_kbnSharedDeps_React_.useRef)(null),{documentFields:{status:status,fieldToAddFieldTo:fieldToAddFieldTo,fieldToEdit:fieldToEdit},fields:{byId:byId,maxNestedDepth:maxNestedDepth,rootLevelFields:rootLevelFields},runtimeFields:runtimeFields}=useMappingsState(),getField=Object(external_kbnSharedDeps_React_.useCallback)(id=>byId[id],[byId]),runtimeFieldNames=Object.values(runtimeFields).map(field=>field.source.name),field=getField(fieldId),parentField=void 0===field.parentId?void 0:getField(field.parentId),{childFields:childFields}=field,isHighlighted=fieldToEdit===fieldId,isDimmed="editingField"===status&&fieldToEdit!==fieldId,isCreateFieldFormVisible="creatingField"===status&&fieldToAddFieldTo===fieldId,areActionButtonsVisible="idle"===status;let isChainedMultifieldsWarningVisible=!1;field.hasMultiFields&&!Boolean(null==parentField?void 0:parentField.hasMultiFields)&&(isChainedMultifieldsWarningVisible=field.childFields.map(getField).some(childField=>Boolean(null==childField?void 0:childField.hasMultiFields)));const childFieldsArray=Object(external_kbnSharedDeps_React_.useMemo)(()=>void 0!==childFields?childFields.map(getField):[],[childFields,getField]),isShadowed=rootLevelFields.includes(fieldId)&&runtimeFieldNames.includes(field.source.name),addField=Object(external_kbnSharedDeps_React_.useCallback)(()=>{dispatch({type:"documentField.createField",value:fieldId})},[fieldId,dispatch]),editField=Object(external_kbnSharedDeps_React_.useCallback)(()=>{dispatch({type:"documentField.editField",value:fieldId})},[fieldId,dispatch]),toggleExpand=Object(external_kbnSharedDeps_React_.useCallback)(()=>{dispatch({type:"field.toggleExpand",value:{fieldId:fieldId}})},[fieldId,dispatch]);return external_kbnSharedDeps_React_default.a.createElement(FieldsListItem,{ref:listElement,field:field,allFields:byId,treeDepth:treeDepth,isHighlighted:isHighlighted,isDimmed:isDimmed,isShadowed:isShadowed,isCreateFieldFormVisible:isCreateFieldFormVisible,areActionButtonsVisible:areActionButtonsVisible,isChainedMultifieldsWarningVisible:isChainedMultifieldsWarningVisible,isLastItem:isLastItem,childFieldsArray:childFieldsArray,maxNestedDepth:maxNestedDepth,addField:addField,editField:editField,toggleExpand:toggleExpand})},FieldsList=external_kbnSharedDeps_React_default.a.memo((function({fields:fields,treeDepth:treeDepth}){return void 0===fields?null:external_kbnSharedDeps_React_default.a.createElement("ul",{className:"mappingsEditor__fieldsList","data-test-subj":"fieldsList"},fields.map((field,index)=>external_kbnSharedDeps_React_default.a.createElement(FieldsListItemContainer,{key:field.id,fieldId:field.id,treeDepth:void 0===treeDepth?0:treeDepth,isLastItem:index===fields.length-1})))})),DocumentFieldsHeader=external_kbnSharedDeps_React_default.a.memo(({searchValue:searchValue,onSearchChange:onSearchChange})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.documentFieldsDescription",defaultMessage:"Define the fields for your indexed documents. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getMappingTypesLink(),target:"_blank",external:!0},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFieldsDocumentationLink",{defaultMessage:"Learn more."}))}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldSearch,{style:{minWidth:"350px"},placeholder:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFields.searchFieldsPlaceholder",{defaultMessage:"Search fields"}),value:searchValue,onChange:e=>{onSearchChange("string"==typeof e?e:e.target.value)},"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFields.searchFieldsAriaLabel",{defaultMessage:"Search mapped fields"})})))),DocumentFieldsJsonEditor=({defaultValue:defaultValue})=>{const dispatch=useDispatch(),defaultValueRef=Object(external_kbnSharedDeps_React_.useRef)(defaultValue),onUpdate=Object(external_kbnSharedDeps_React_.useCallback)(({data:data,isValid:isValid})=>dispatch({type:"fieldsJsonEditor.update",value:{json:data.format(),isValid:isValid}}),[dispatch]);return external_kbnSharedDeps_React_default.a.createElement(public_.JsonEditor,{onUpdate:onUpdate,defaultValue:defaultValueRef.current})},DocumentFieldsTreeEditor=()=>{const dispatch=useDispatch(),{fields:{byId:byId,rootLevelFields:rootLevelFields},documentFields:{status:status,fieldToAddFieldTo:fieldToAddFieldTo}}=useMappingsState(),getField=Object(external_kbnSharedDeps_React_.useCallback)(fieldId=>byId[fieldId],[byId]),fields=Object(external_kbnSharedDeps_React_.useMemo)(()=>rootLevelFields.map(getField),[rootLevelFields,getField]),addField=Object(external_kbnSharedDeps_React_.useCallback)(()=>{dispatch({type:"documentField.createField"})},[dispatch]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(FieldsList,{fields:fields}),"creatingField"===status&&void 0===fieldToAddFieldTo?external_kbnSharedDeps_React_default.a.createElement(CreateField,{isCancelable:fields.length>0,allFields:byId,isRootLevelField:!0}):null,(()=>{const isDisabled="idle"!==status;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{disabled:isDisabled,onClick:addField,iconType:"plusInCircleFilled","data-test-subj":"addFieldButton"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.addFieldButtonLabel",{defaultMessage:"Add field"})))})())};var react_tiny_virtual_list_cjs=__webpack_require__(104),react_tiny_virtual_list_cjs_default=__webpack_require__.n(react_tiny_virtual_list_cjs);const SearchResultItem=external_kbnSharedDeps_React_default.a.memo((function({item:{display:display,field:field},areActionButtonsVisible:areActionButtonsVisible,isHighlighted:isHighlighted,isDimmed:isDimmed}){const dispatch=useDispatch(),{source:source,isMultiField:isMultiField,hasChildFields:hasChildFields,hasMultiFields:hasMultiFields}=field,editField=()=>{dispatch({type:"documentField.editField",value:field.id})};return external_kbnSharedDeps_React_default.a.createElement("div",{className:classnames_default()("mappingsEditor__fieldsListItem"),"data-test-subj":"fieldsListItem"},external_kbnSharedDeps_React_default.a.createElement("div",{className:classnames_default()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":areActionButtonsVisible,"mappingsEditor__fieldsListItem__field--selected":isHighlighted,"mappingsEditor__fieldsListItem__field--dim":isDimmed})},external_kbnSharedDeps_React_default.a.createElement("div",{className:classnames_default()("mappingsEditor__fieldsListItem__wrapper")},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:classnames_default()("mappingsEditor__fieldsListItem__content",{"mappingsEditor__fieldsListItem__content--toggle":hasChildFields||hasMultiFields,"mappingsEditor__fieldsListItem__content--multiField":isMultiField})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name"},display),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:"hollow"},isMultiField?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:TYPE_DEFINITION[source.type].label}}):getTypeLabelFromField(source))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,(()=>{if(!areActionButtonsVisible)return null;const editButtonLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldButtonLabel",{defaultMessage:"Edit"}),deleteButtonLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.removeFieldButtonLabel",{defaultMessage:"Remove"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:editButtonLabel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconType:"pencil",onClick:editField,"data-test-subj":"editFieldButton","aria-label":editButtonLabel}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(DeleteFieldProvider,null,deleteField=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:deleteButtonLabel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>deleteField(field),"data-test-subj":"removeFieldButton","aria-label":deleteButtonLabel})))))})())))))})),SearchResult=external_kbnSharedDeps_React_default.a.memo(({result:result,documentFieldsState:{status:status,fieldToEdit:fieldToEdit},style:virtualListStyle})=>{const dispatch=useDispatch(),listHeight=Math.min(64*result.length,600);return 0===result.length?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"search",title:external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchResult.emptyPromptTitle",defaultMessage:"No fields match your search"})),actions:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{onClick:()=>{dispatch({type:"search:update",value:""})}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchResult.emptyPrompt.clearSearchButtonLabel",defaultMessage:"Clear search"}))}):external_kbnSharedDeps_React_default.a.createElement(react_tiny_virtual_list_cjs_default.a,{style:{overflowX:"hidden",...virtualListStyle},width:"100%",height:listHeight,itemCount:result.length,itemSize:64,overscanCount:4,renderItem:({index:index,style:style})=>{const item=result[index];return external_kbnSharedDeps_React_default.a.createElement("div",{key:item.field.id,style:style},external_kbnSharedDeps_React_default.a.createElement(SearchResultItem,{item:item,areActionButtonsVisible:"idle"===status,isDimmed:"editingField"===status&&fieldToEdit!==item.field.id,isHighlighted:"editingField"===status&&fieldToEdit===item.field.id}))}})}),{useGlobalFlyout:useGlobalFlyout}=public_.GlobalFlyout,DocumentFields=external_kbnSharedDeps_React_default.a.memo(()=>{const{fields:fields,search:search,documentFields:documentFields}=useMappingsState(),dispatch=useDispatch(),{addContent:addContentToGlobalFlyout,removeContent:removeContentFromGlobalFlyout}=useGlobalFlyout(),{editor:editorType}=documentFields,isEditing="editingField"===documentFields.status,jsonEditorDefaultValue=Object(external_kbnSharedDeps_React_.useMemo)(()=>{if("json"===editorType)return deNormalize(fields)},[editorType,fields]),editor="json"===editorType?external_kbnSharedDeps_React_default.a.createElement(DocumentFieldsJsonEditor,{defaultValue:jsonEditorDefaultValue}):external_kbnSharedDeps_React_default.a.createElement(DocumentFieldsTreeEditor,null),onSearchChange=Object(external_kbnSharedDeps_React_.useCallback)(value=>{dispatch({type:"search:update",value:value})},[dispatch]),exitEdit=Object(external_kbnSharedDeps_React_.useCallback)(()=>{dispatch({type:"documentField.changeStatus",value:"idle"})},[dispatch]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{isEditing&&addContentToGlobalFlyout({id:"mappingsEditField",Component:EditFieldContainer,props:{exitEdit:exitEdit},flyoutProps:{...defaultFlyoutProps,onClose:exitEdit},cleanUpFunc:exitEdit})},[isEditing,addContentToGlobalFlyout,fields.byId,exitEdit]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{isEditing||removeContentFromGlobalFlyout("mappingsEditField")},[isEditing,removeContentFromGlobalFlyout]),Object(external_kbnSharedDeps_React_.useEffect)(()=>()=>{isEditing&&exitEdit()},[isEditing,exitEdit]);const searchTerm=search.term.trim();return external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"documentFields"},external_kbnSharedDeps_React_default.a.createElement(DocumentFieldsHeader,{searchValue:search.term,onSearchChange:onSearchChange}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),""!==searchTerm?external_kbnSharedDeps_React_default.a.createElement(SearchResult,{result:search.result,documentFieldsState:documentFields}):editor)}),EmptyPrompt=({createField:createField,runtimeFieldsDocsUri:runtimeFieldsDocsUri})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyList",title:external_kbnSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"title"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptTitle",{defaultMessage:"Start by creating a runtime field"})),body:external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptDescription",defaultMessage:"Define a field in the mapping and evaluate it at search time."}),external_kbnSharedDeps_React_default.a.createElement("br",null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:runtimeFieldsDocsUri,target:"_blank","data-test-subj":"learnMoreLink",external:!0},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptDocumentionLink",{defaultMessage:"Learn more."}))),actions:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{onClick:()=>createField(),iconType:"plusInCircle","data-test-subj":"createRuntimeFieldButton",fill:!0},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptButtonLabel",{defaultMessage:"Create runtime field"}))}),DeleteRuntimeFieldProvider=({children:children})=>{const[state,setState]=Object(external_kbnSharedDeps_React_.useState)({isModalOpen:!1}),dispatch=useDispatch(),confirmButtonText=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.removeButtonLabel",{defaultMessage:"Remove"});let modalTitle;if(state.field){const{source:source}=state.field;modalTitle=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.title",{defaultMessage:"Remove runtime field '{fieldName}'?",values:{fieldName:source.name}})}const closeModal=()=>{setState({isModalOpen:!1})};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,children(field=>{setState({isModalOpen:!0,field:field})}),state.isModalOpen&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiConfirmModal,{title:modalTitle,"data-test-subj":"runtimeFieldDeleteConfirmModal",onCancel:closeModal,onConfirm:()=>{dispatch({type:"runtimeField.remove",value:state.field.id}),closeModal()},cancelButtonText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:confirmButtonText}))};function RuntimeFieldsListItemComponent({field:field,areActionButtonsVisible:areActionButtonsVisible,isHighlighted:isHighlighted,isDimmed:isDimmed,editField:editField},ref){const{source:source}=field;return external_kbnSharedDeps_React_default.a.createElement("li",{className:"mappingsEditor__fieldsListItem","data-test-subj":"runtimeFieldsListItem"},external_kbnSharedDeps_React_default.a.createElement("div",{className:classnames_default()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":areActionButtonsVisible,"mappingsEditor__fieldsListItem__field--highlighted":isHighlighted,"mappingsEditor__fieldsListItem__field--dim":isDimmed})},external_kbnSharedDeps_React_default.a.createElement("div",{className:"mappingsEditor__fieldsListItem__wrapper mappingsEditor__fieldsListItem__wrapper--indent"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:"mappingsEditor__fieldsListItem__content"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name","data-test-subj":"fieldName"},source.name),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:"hollow","data-test-subj":"fieldType","data-type-value":source.type},getTypeLabelFromField(source))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},(()=>{if(!areActionButtonsVisible)return null;const editButtonLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.editRuntimeFieldButtonLabel",{defaultMessage:"Edit"}),deleteButtonLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.removeRuntimeFieldButtonLabel",{defaultMessage:"Remove"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:editButtonLabel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconType:"pencil",onClick:editField,"data-test-subj":"editFieldButton","aria-label":editButtonLabel}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(DeleteRuntimeFieldProvider,null,deleteField=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:deleteButtonLabel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>deleteField(field),"data-test-subj":"removeFieldButton","aria-label":deleteButtonLabel})))))})())))))}const RuntimeFieldsListItem=external_kbnSharedDeps_React_default.a.memo(RuntimeFieldsListItemComponent),RuntimeFieldsListItemContainer=({fieldId:fieldId})=>{const dispatch=useDispatch(),{runtimeFieldsList:{status:status,fieldToEdit:fieldToEdit},runtimeFields:runtimeFields}=useMappingsState(),field=Object(external_kbnSharedDeps_React_.useCallback)(id=>runtimeFields[id],[runtimeFields])(fieldId),isHighlighted=fieldToEdit===fieldId,isDimmed="editingField"===status&&fieldToEdit!==fieldId,areActionButtonsVisible="idle"===status,editField=Object(external_kbnSharedDeps_React_.useCallback)(()=>{dispatch({type:"runtimeFieldsList.editField",value:fieldId})},[fieldId,dispatch]);return external_kbnSharedDeps_React_default.a.createElement(RuntimeFieldsListItem,{field:field,isHighlighted:isHighlighted,isDimmed:isDimmed,areActionButtonsVisible:areActionButtonsVisible,editField:editField})},{useGlobalFlyout:runtime_fields_list_useGlobalFlyout}=public_.GlobalFlyout,RuntimeFieldsList=()=>{const runtimeFieldsDocsUri=documentationService.getRuntimeFields(),{runtimeFields:runtimeFields,runtimeFieldsList:{status:status,fieldToEdit:fieldToEdit},fields:fields}=useMappingsState(),dispatch=useDispatch(),{addContent:addContentToGlobalFlyout,removeContent:removeContentFromGlobalFlyout}=runtime_fields_list_useGlobalFlyout(),{value:{docLinks:docLinks}}=useConfig(),createField=Object(external_kbnSharedDeps_React_.useCallback)(()=>{dispatch({type:"runtimeFieldsList.createField"})},[dispatch]),exitEdit=Object(external_kbnSharedDeps_React_.useCallback)(()=>{dispatch({type:"runtimeFieldsList.closeRuntimeFieldEditor"})},[dispatch]),saveRuntimeField=Object(external_kbnSharedDeps_React_.useCallback)(field=>{dispatch(fieldToEdit?{type:"runtimeField.edit",value:{id:fieldToEdit,source:field}}:{type:"runtimeField.add",value:field})},[dispatch,fieldToEdit]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{var _runtimeFields$fieldT;"creatingField"===status||"editingField"===status?addContentToGlobalFlyout({id:"runtimeFieldEditor",Component:runtimeFields_public_.RuntimeFieldEditorFlyoutContent,props:{onSave:saveRuntimeField,onCancel:exitEdit,defaultValue:fieldToEdit?null===(_runtimeFields$fieldT=runtimeFields[fieldToEdit])||void 0===_runtimeFields$fieldT?void 0:_runtimeFields$fieldT.source:void 0,docLinks:docLinks,ctx:{namesNotAllowed:Object.values(runtimeFields).map(field=>field.source.name),existingConcreteFields:Object.values(fields.byId).map(field=>({name:field.source.name,type:field.source.type}))}},flyoutProps:{"data-test-subj":"runtimeFieldEditor","aria-labelledby":"runtimeFieldEditorEditTitle",maxWidth:720,onClose:exitEdit},cleanUpFunc:exitEdit}):"idle"===status&&removeContentFromGlobalFlyout("runtimeFieldEditor")},[status,fieldToEdit,runtimeFields,fields,docLinks,addContentToGlobalFlyout,removeContentFromGlobalFlyout,saveRuntimeField,exitEdit]);const fieldsToArray=Object.entries(runtimeFields),isEmpty=0===fieldsToArray.length,isCreateFieldDisabled="idle"!==status;return isEmpty?external_kbnSharedDeps_React_default.a.createElement(EmptyPrompt,{createField:createField,runtimeFieldsDocsUri:runtimeFieldsDocsUri}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.runtimeFieldsDescription",defaultMessage:"Define the runtime fields accessible at search time. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:runtimeFieldsDocsUri,target:"_blank",external:!0},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFieldsDocumentationLink",{defaultMessage:"Learn more."}))}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement("ul",null,fieldsToArray.map(([fieldId])=>external_kbnSharedDeps_React_default.a.createElement(RuntimeFieldsListItemContainer,{key:fieldId,fieldId:fieldId}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{disabled:isCreateFieldDisabled,onClick:createField,iconType:"plusInCircleFilled","data-test-subj":"createRuntimeFieldButton"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.addRuntimeFieldButtonLabel",{defaultMessage:"Add field"})))},{isJsonField:templates_form_schema_isJsonField}=helpers_.fieldValidators,templatesFormSchema={dynamicTemplates:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.templates.dynamicTemplatesEditorLabel",{defaultMessage:"Dynamic templates data"}),validations:[{validator:templates_form_schema_isJsonField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.templates.dynamicTemplatesEditorJsonError",{defaultMessage:"The dynamic templates JSON is not valid."}))}]}},templates_form_formSerializer=formData=>{const{dynamicTemplates:dynamicTemplates}=formData;let parsedTemplates;try{parsedTemplates=JSON.parse(dynamicTemplates),Array.isArray(parsedTemplates)||(parsedTemplates=[parsedTemplates])}catch{}return{dynamic_templates:Array.isArray(parsedTemplates)&&parsedTemplates.length>0?parsedTemplates:[]}},templates_form_formDeserializer=formData=>{const{dynamic_templates:dynamic_templates}=formData;return{dynamicTemplates:(json=dynamic_templates,Array.isArray(json)?JSON.stringify(json,null,2):"[\n\n]")};var json},TemplatesForm=external_kbnSharedDeps_React_default.a.memo(({value:value})=>{const isMounted=Object(external_kbnSharedDeps_React_.useRef)(!1),{form:form}=Object(hook_form_lib_.useForm)({schema:templatesFormSchema,serializer:templates_form_formSerializer,deserializer:templates_form_formDeserializer,defaultValue:value}),{subscribe:subscribe,getFormData:getFormData,submit:submitForm,reset:reset}=form,dispatch=useDispatch();return Object(external_kbnSharedDeps_React_.useEffect)(()=>subscribe(({data:data,isValid:isValid,validate:validate})=>{dispatch({type:"templates.update",value:{data:data,isValid:isValid,validate:validate,submitForm:submitForm}})}).unsubscribe,[subscribe,dispatch,submitForm]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{isMounted.current&&reset({resetValues:!0,defaultValue:value})},[value,reset]),Object(external_kbnSharedDeps_React_.useEffect)(()=>(isMounted.current=!0,()=>{isMounted.current=!1;const dynamicTemplatesData=getFormData();dispatch({type:"templates.save",value:dynamicTemplatesData})}),[getFormData,dispatch]),external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"dynamicTemplates"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dynamicTemplatesDescription",defaultMessage:"Use dynamic templates to define custom mappings that can be applied to dynamically added fields. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getDynamicTemplatesLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicTemplatesDocumentationLink",{defaultMessage:"Learn more."}))}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.Form,{form:form,isInvalid:form.isSubmitted&&!form.isValid,error:form.getErrors()},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.UseField,{path:"dynamicTemplates",component:components_.JsonEditorField,componentProps:{euiCodeEditorProps:{"data-test-subj":"dynamicTemplatesEditor",height:"600px","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicTemplatesEditorAriaLabel",{defaultMessage:"Dynamic templates editor"})}}})))}),MultipleMappingsWarning=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutTitle",{defaultMessage:"Multiple mapping types detected"}),iconType:"alert",color:"warning","data-test-subj":"mappingTypesDetectedCallout"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutDescription",defaultMessage:"The mappings for this template uses multiple types, which are not supported. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getAlternativeToMappingTypesLink(),target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutDocumentationLink",{defaultMessage:"Consider these alternatives to mapping types."}))}}))),useMappingsStateListener=({onChange:onChange,value:value,mappingsType:mappingsType})=>{const state=useMappingsState(),dispatch=useDispatch(),{fields:mappedFields,runtime:runtimeFields}=null!=value?value:{},parsedFieldsDefaultValue=Object(external_kbnSharedDeps_React_.useMemo)(()=>normalize(mappedFields),[mappedFields]),parsedRuntimeFieldsDefaultValue=Object(external_kbnSharedDeps_React_.useMemo)(()=>((fields={})=>Object.entries(fields).reduce((acc,[name,field])=>{const id=getUniqueId();return{...acc,[id]:{id:id,source:{name:name,...field}}}},{}))(runtimeFields),[runtimeFields]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{const emptyNameValue=void 0!==state.fieldForm&&(void 0===state.fieldForm.data.internal.name||""===state.fieldForm.data.internal.name.trim()),bypassFieldFormValidation="creatingField"===state.documentFields.status&&emptyNameValue;onChange({getData:()=>{const fields="json"===state.documentFields.editor?state.fieldsJsonEditor.format():deNormalize(state.fields),runtime=(fields=>Object.values(fields).reduce((acc,{source:source})=>{const{name:name,...rest}=source;return{...acc,[name]:rest}},{}))(state.runtimeFields),configurationData=state.configuration.data.format(),templatesData=state.templates.data.format(),output={...stripUndefinedValues({...configurationData,...templatesData})};return fields&&Object.keys(fields).length>0&&(output.properties=fields),runtime&&Object.keys(runtime).length>0&&(output.runtime=runtime),Object.keys(output).length>0?void 0===mappingsType?output:{[mappingsType]:output}:void 0===mappingsType?void 0:{[mappingsType]:{}}},validate:async()=>{const promisesToValidate=[void 0!==state.configuration.submitForm?new Promise(async resolve=>{const{isValid:isValid}=await state.configuration.submitForm();resolve(isValid)}):Promise.resolve(!0),void 0!==state.templates.submitForm?new Promise(async resolve=>{const{isValid:isValid}=await state.templates.submitForm();resolve(isValid)}):Promise.resolve(!0)];return void 0===state.fieldForm||bypassFieldFormValidation||promisesToValidate.push(state.fieldForm.validate()),Promise.all(promisesToValidate).then(validationArray=>{const isValid=validationArray.every(Boolean)&&state.fieldsJsonEditor.isValid;return dispatch({type:"validity:update",value:isValid}),isValid})},isValid:state.isValid})},[state,onChange,dispatch,mappingsType]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{void 0!==value&&dispatch({type:"editor.replaceMappings",value:{configuration:value.configuration,templates:value.templates,fields:parsedFieldsDefaultValue,documentFields:{status:0===parsedFieldsDefaultValue.rootLevelFields.length?"creatingField":"idle",editor:"default"},runtimeFields:parsedRuntimeFieldsDefaultValue}})},[value,parsedFieldsDefaultValue,dispatch,parsedRuntimeFieldsDefaultValue])},MappingsEditor=external_kbnSharedDeps_React_default.a.memo(({onChange:onChange,value:value,docLinks:docLinks,indexSettings:indexSettings})=>{const{parsedDefaultValue:parsedDefaultValue,multipleMappingsDeclared:multipleMappingsDeclared,mappingsType:mappingsType}=Object(external_kbnSharedDeps_React_.useMemo)(()=>{const mappingsDefinition=((mappings={})=>{const typedMappings=getMappingsDefinitionWithType(mappings);return 0===typedMappings.length?null:1===typedMappings.length?typedMappings[0]:null})(value);if(null===mappingsDefinition)return{multipleMappingsDeclared:!0};const{_source:_source,_meta:_meta,_routing:_routing,dynamic:dynamic,properties:properties,runtime:runtime,numeric_detection:numeric_detection,date_detection:date_detection,dynamic_date_formats:dynamic_date_formats,dynamic_templates:dynamic_templates}=mappingsDefinition.mappings;return{parsedDefaultValue:{configuration:{_source:_source,_meta:_meta,_routing:_routing,dynamic:dynamic,numeric_detection:numeric_detection,date_detection:date_detection,dynamic_date_formats:dynamic_date_formats},fields:properties,templates:{dynamic_templates:dynamic_templates},runtime:runtime},multipleMappingsDeclared:!1,mappingsType:mappingsDefinition.type}},[value]);useMappingsStateListener({onChange:onChange,value:parsedDefaultValue,mappingsType:mappingsType});const{update:updateConfig}=useConfig(),state=useMappingsState(),[selectedTab,selectTab]=Object(external_kbnSharedDeps_React_.useState)("fields");Object(external_kbnSharedDeps_React_.useEffect)(()=>{multipleMappingsDeclared&&onChange({getData:()=>value,validate:()=>Promise.resolve(!0),isValid:!0})},[multipleMappingsDeclared,onChange,value]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{updateConfig({docLinks:docLinks,indexSettings:null!=indexSettings?indexSettings:{}})},[updateConfig,docLinks,indexSettings]);const changeTab=async tab=>{if("advanced"===selectedTab){const{isValid:isConfigurationFormValid}=await state.configuration.submitForm();if(!isConfigurationFormValid)return}else if("templates"===selectedTab){const{isValid:isTemplatesFormValid}=await state.templates.submitForm();if(!isTemplatesFormValid)return}selectTab(tab)},tabToContentMap={fields:external_kbnSharedDeps_React_default.a.createElement(DocumentFields,null),runtimeFields:external_kbnSharedDeps_React_default.a.createElement(RuntimeFieldsList,null),templates:external_kbnSharedDeps_React_default.a.createElement(TemplatesForm,{value:state.templates.defaultValue}),advanced:external_kbnSharedDeps_React_default.a.createElement(ConfigurationForm,{value:state.configuration.defaultValue})};return external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"mappingsEditor"},multipleMappingsDeclared?external_kbnSharedDeps_React_default.a.createElement(MultipleMappingsWarning,null):external_kbnSharedDeps_React_default.a.createElement("div",{className:"mappingsEditor"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTabs,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTab,{onClick:()=>changeTab("fields"),isSelected:"fields"===selectedTab,"data-test-subj":"formTab"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldsTabLabel",{defaultMessage:"Mapped fields"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTab,{onClick:()=>changeTab("runtimeFields"),isSelected:"runtimeFields"===selectedTab,"data-test-subj":"formTab"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFieldsTabLabel",{defaultMessage:"Runtime fields"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTab,{onClick:()=>changeTab("templates"),isSelected:"templates"===selectedTab,"data-test-subj":"formTab"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.templatesTabLabel",{defaultMessage:"Dynamic templates"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTab,{onClick:()=>changeTab("advanced"),isSelected:"advanced"===selectedTab,"data-test-subj":"formTab"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedTabLabel",{defaultMessage:"Advanced options"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),tabToContentMap[selectedTab]))}),areAllObjectKeysValidParameters=obj=>Object.keys(obj).every(key=>VALID_MAPPINGS_PARAMETERS.includes(key)),LoadMappingsProvider=({onJson:onJson,children:children})=>{var _state$errors,_state$json;const[state,setState]=Object(external_kbnSharedDeps_React_.useState)({isModalOpen:!1}),[totalErrorsToDisplay,setTotalErrorsToDisplay]=Object(external_kbnSharedDeps_React_.useState)(1),jsonContent=Object(external_kbnSharedDeps_React_.useRef)(void 0),view=void 0!==state.json&&void 0!==state.errors?"validationResult":"json",i18nTexts=((view,totalErrors=0)=>({modalTitle:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModalTitle",{defaultMessage:"Load JSON"}),buttons:{confirm:"json"===view?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.loadButtonLabel",{defaultMessage:"Load and overwrite"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.acceptWarningLabel",{defaultMessage:"Continue loading"}),cancel:"json"===view?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.cancelButtonLabel",{defaultMessage:"Cancel"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.goBackButtonLabel",{defaultMessage:"Go back"})},editor:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.jsonEditorLabel",{defaultMessage:"Mappings object"})},validationErrors:{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationErrorTitle",defaultMessage:"{totalErrors} {totalErrors, plural, one {invalid option} other {invalid options}} detected in {mappings} object",values:{totalErrors:totalErrors,mappings:external_kbnSharedDeps_React_default.a.createElement("code",null,"mappings")}}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.validationErrorDescription",{defaultMessage:"If you continue loading the object, only valid options will be accepted."})}}))(view,null===(_state$errors=state.errors)||void 0===_state$errors?void 0:_state$errors.length),onJsonUpdate=Object(external_kbnSharedDeps_React_.useCallback)(jsonUpdateData=>{jsonContent.current=jsonUpdateData},[]),closeModal=()=>{setState({isModalOpen:!1})},loadJson=()=>{if(void 0===jsonContent.current)return onJson({}),void closeModal();if(jsonContent.current.validate()){const unparsed=jsonContent.current.data.format();if(0===Object.keys(unparsed).length)return onJson(unparsed),void closeModal();let mappingsToValidate=unparsed;const{isMultiTypeMappings:isMultiTypeMappings,customType:customType}=(unparsed=>{let customType,hasCustomType=!1,isMultiTypeMappings=!1;const areAllKeysValid=areAllObjectKeysValidParameters(unparsed),areAllValuesPlainObjects=Object.values(unparsed).every(external_kbnSharedDeps_Lodash_.isPlainObject),areAllValuesObjKeysValidParameterName=areAllValuesPlainObjects&&Object.values(unparsed).every(areAllObjectKeysValidParameters);return(!areAllKeysValid&&areAllValuesPlainObjects||areAllKeysValid&&areAllValuesPlainObjects&&areAllValuesObjKeysValidParameterName)&&(hasCustomType=!0,isMultiTypeMappings=Object.keys(unparsed).length>1),hasCustomType&&!isMultiTypeMappings&&(customType=Object.keys(unparsed)[0]),{isMultiTypeMappings:isMultiTypeMappings,customType:customType}})(unparsed);if(isMultiTypeMappings)return onJson(unparsed),void closeModal();void 0!==customType&&"properties"!==customType&&(mappingsToValidate=unparsed[customType]);const{value:parsed,errors:errors}=validateMappings(mappingsToValidate),parsedWithType=void 0!==customType?{[customType]:parsed}:parsed;if(errors)return void setState({isModalOpen:!0,json:{unparsed:unparsed,parsed:parsedWithType},errors:errors});onJson(parsedWithType),closeModal()}};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,children(()=>{setState({isModalOpen:!0})}),state.isModalOpen&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiConfirmModal,{title:i18nTexts.modalTitle,onCancel:()=>{"json"===view?closeModal():setState({isModalOpen:!0,json:state.json})},onConfirm:()=>{"json"===view?loadJson():(onJson(state.json.parsed),closeModal())},cancelButtonText:i18nTexts.buttons.cancel,confirmButtonText:i18nTexts.buttons.confirm,maxWidth:600},"json"===view?external_kbnSharedDeps_React_default.a.createElement("div",{className:"application"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.jsonEditorHelpText",defaultMessage:"Provide a mappings object, for example, the object assigned to an index {mappings} property. This will overwrite existing mappings, dynamic templates, and options.",values:{mappings:external_kbnSharedDeps_React_default.a.createElement("code",null,"mappings")}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(public_.JsonEditor,{label:i18nTexts.editor.label,onUpdate:onJsonUpdate,defaultValue:null===(_state$json=state.json)||void 0===_state$json?void 0:_state$json.unparsed,euiCodeEditorProps:{height:"450px"}})):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:i18nTexts.validationErrors.title,iconType:"alert",color:"warning"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("p",null,i18nTexts.validationErrors.description)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement("ol",null,state.errors.slice(0,totalErrorsToDisplay).map((error,i)=>external_kbnSharedDeps_React_default.a.createElement("li",{key:i},(error=>{switch(error.code){case"ERR_CONFIG":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.configurationMessage",defaultMessage:"The {configName} configuration is invalid.",values:{configName:external_kbnSharedDeps_React_default.a.createElement("code",null,error.configName)}});case"ERR_FIELD":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.fieldMessage",defaultMessage:"The {fieldPath} field is invalid.",values:{fieldPath:external_kbnSharedDeps_React_default.a.createElement("code",null,error.fieldPath)}});case"ERR_PARAMETER":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.parameterMessage",defaultMessage:"The {paramName} parameter on field {fieldPath} is invalid.",values:{paramName:external_kbnSharedDeps_React_default.a.createElement("code",null,error.paramName),fieldPath:external_kbnSharedDeps_React_default.a.createElement("code",null,error.fieldPath)}})}})(error)))),state.errors.length>1&&(()=>{const showingAllErrors=totalErrorsToDisplay>1;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{onClick:()=>setTotalErrorsToDisplay(showingAllErrors?1:state.errors.length),iconType:showingAllErrors?"arrowUp":"arrowDown"},showingAllErrors?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.hideErrorsButtonLabel",{defaultMessage:"Hide errors"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.showAllErrorsButtonLabel",{defaultMessage:"Show {numErrors} more errors",values:{numErrors:state.errors.length-1}}))})()))))},LoadMappingsFromJsonButton=({onJson:onJson})=>external_kbnSharedDeps_React_default.a.createElement(LoadMappingsProvider,{onJson:onJson},openModal=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{onClick:openModal,size:"s"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.mappingsEditor.loadFromJsonButtonLabel",{defaultMessage:"Load JSON"}))),MappingsEditorProvider=({children:children})=>external_kbnSharedDeps_React_default.a.createElement(StateProvider,null,external_kbnSharedDeps_React_default.a.createElement(ConfigProvider,null,children));__webpack_require__(54);var string_=__webpack_require__(31);const httpService=new class{constructor(){var obj,key,value;value=void 0,(key="client")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}setup(httpClient){this.client=httpClient}get httpClient(){return this.client}},use_request_sendRequest=config=>Object(public_.sendRequest)(httpService.httpClient,config),use_request_useRequest=config=>Object(public_.useRequest)(httpService.httpClient,config);let api_uiMetricService;async function loadIndexSettings(indexName){return await httpService.httpClient.get(`${constants.a}/settings/${encodeURIComponent(indexName)}`)}async function loadIndexData(type,indexName){switch(type){case"TAB_MAPPING":return async function(indexName){return await httpService.httpClient.get(`${constants.a}/mapping/${encodeURIComponent(indexName)}`)}(indexName);case"TAB_SETTINGS":return loadIndexSettings(indexName);case"TAB_STATS":return async function(indexName){return await httpService.httpClient.get(`${constants.a}/stats/${encodeURIComponent(indexName)}`)}(indexName)}}function useLoadIndexTemplate(name,isLegacy){return use_request_useRequest({path:`${constants.a}/index_templates/${encodeURIComponent(name)}`,method:"get",query:{legacy:isLegacy}})}async function saveTemplate(template,isClone){var _template$template;const includeTypeName=doMappingsHaveType(null===(_template$template=template.template)||void 0===_template$template?void 0:_template$template.mappings),result=await use_request_sendRequest({path:constants.a+"/index_templates",method:"post",body:JSON.stringify(template),query:{include_type_name:includeTypeName}}),uimActionType=isClone?constants.M:constants.N;return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,uimActionType),result}const unitMagnitude={kb:1,mb:2,gb:3,tb:4,pb:5},stringSort=fieldName=>item=>item[fieldName],numericSort=fieldName=>item=>+item[fieldName],byteSort=fieldName=>item=>{const rawValue=item[fieldName];if(!rawValue)return 0;const matchResult=rawValue.match(/(.*)([kmgtp]b)/);if(!matchResult)return 0;const[,number,unit]=matchResult;return+number*Math.pow(1024,unitMagnitude[unit])},sorters={name:stringSort("name"),status:stringSort("status"),health:stringSort("health"),primary:numericSort("primary"),replica:numericSort("replica"),documents:numericSort("documents"),size:byteSort("size"),primary_size:byteSort("primary_size"),data_stream:stringSort("data_stream")};function ui_metric_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class UiMetricService{constructor(appName){ui_metric_defineProperty(this,"appName",void 0),ui_metric_defineProperty(this,"usageCollection",void 0),this.appName=appName}setup(usageCollection){this.usageCollection=usageCollection}trackMetric(type,eventName){if(this.usageCollection)return this.usageCollection.reportUiCounter(this.appName,type,eventName)}}function notification_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const notificationService=new class{constructor(){notification_defineProperty(this,"_toasts",void 0),notification_defineProperty(this,"addToasts",(title,type,text)=>{this._toasts.add({title:title,color:type,text:text})})}setup(notifications){this._toasts=notifications.toasts}get toasts(){return this._toasts}showDangerToast(title,text){this.addToasts(title,"danger",text)}showWarningToast(title,text){this.addToasts(title,"warning",text)}showSuccessToast(title,text){this.addToasts(title,"success",text)}};var react_redux_lib=__webpack_require__(40),external_kbnSharedDeps_ReactDom_=__webpack_require__(33),common=__webpack_require__(42);const AppContext=Object(external_kbnSharedDeps_React_.createContext)(void 0),AppContextProvider=({children:children,value:value})=>external_kbnSharedDeps_React_default.a.createElement(AppContext.Provider,{value:value},children),AppContextConsumer=AppContext.Consumer,useAppContext=()=>{const ctx=Object(external_kbnSharedDeps_React_.useContext)(AppContext);if(!ctx)throw new Error('"useAppContext" can only be called inside of AppContext.Provider!');return ctx},useServices=()=>useAppContext().services;var external_kbnSharedDeps_ReactRouterDom_=__webpack_require__(29);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const SectionError=({title:title,error:error,...rest})=>{const{cause:causeRoot,message:message,statusText:statusText,attributes:{cause:causeAttributes}={}}=error,cause=null!=causeAttributes?causeAttributes:causeRoot;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,_extends({title:title,color:"danger",iconType:"alert"},rest),external_kbnSharedDeps_React_default.a.createElement("div",null,message||statusText),cause&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement("ul",null,cause.map((causeMsg,i)=>external_kbnSharedDeps_React_default.a.createElement("li",{key:i},causeMsg)))))},SectionLoading=({children:children})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLoadingSpinner,{size:"xl"}),body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued"},children),"data-test-subj":"sectionLoading"}),NoMatch=()=>external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.noMatch.noIndicesDescription",defaultMessage:"No indices to show"}));function PageErrorForbidden(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageContent,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"securityApp",iconColor:void 0,title:external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.pageErrorForbidden.title",defaultMessage:"You do not have permissions to use Index Management"}))}))}const TemplateDeleteModal=({templatesToDelete:templatesToDelete,callback:callback})=>{const[isDeleteConfirmed,setIsDeleteConfirmed]=Object(external_kbnSharedDeps_React_.useState)(!1),numTemplatesToDelete=templatesToDelete.length,hasSystemTemplate=Boolean(templatesToDelete.find(({name:name})=>name.startsWith(".")));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteTemplatesConfirmation",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.modalTitleText",defaultMessage:"Delete {numTemplatesToDelete, plural, one {template} other {# templates}}",values:{numTemplatesToDelete:numTemplatesToDelete}}),onCancel:()=>{setIsDeleteConfirmed(!1),callback()},onConfirm:()=>{(async function(templates){const result=use_request_sendRequest({path:constants.a+"/delete_index_templates",method:"post",body:{templates:templates}}),uimActionType=templates.length>1?constants.P:constants.O;return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,uimActionType),result})(templatesToDelete).then(({data:{templatesDeleted:templatesDeleted,errors:errors},error:error})=>{const hasDeletedTemplates=templatesDeleted&&templatesDeleted.length;if(hasDeletedTemplates){const successMessage=1===templatesDeleted.length?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted template '{templateName}'",values:{templateName:templatesToDelete[0].name}}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# template} other {# templates}}",values:{numSuccesses:templatesDeleted.length}});callback({hasDeletedTemplates:hasDeletedTemplates}),notificationService.showSuccessToast(successMessage)}if(error||errors&&errors.length){const errorMessage=errors&&errors.length>1||error&&templatesToDelete.length>1?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} templates",values:{count:errors&&errors.length||templatesToDelete.length}}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.errorNotificationMessageText",{defaultMessage:"Error deleting template '{name}'",values:{name:errors&&errors[0].name||templatesToDelete[0]}});notificationService.showDangerToast(errorMessage)}})},cancelButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.confirmButtonLabel",defaultMessage:"Delete {numTemplatesToDelete, plural, one {template} other {templates} }",values:{numTemplatesToDelete:numTemplatesToDelete}}),confirmButtonDisabled:!!hasSystemTemplate&&!isDeleteConfirmed},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.deleteDescription",defaultMessage:"You are about to delete {numTemplatesToDelete, plural, one {this template} other {these templates} }:",values:{numTemplatesToDelete:numTemplatesToDelete}})),external_kbnSharedDeps_React_default.a.createElement("ul",null,templatesToDelete.map(({name:name})=>external_kbnSharedDeps_React_default.a.createElement("li",{key:name},name,name.startsWith(".")?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{iconType:"alert",color:"hollow"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.systemTemplateLabel",defaultMessage:"System template"}))):null))),hasSystemTemplate&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.proceedWithCautionCallOutTitle",defaultMessage:"Deleting a system template can break Kibana"}),color:"danger",iconType:"alert","data-test-subj":"deleteSystemTemplateCallOut"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.proceedWithCautionCallOutDescription",defaultMessage:"System templates are critical for internal operations. If you delete this template, you cant recover it."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCheckbox,{id:"confirmDeleteTemplatesCheckbox",label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.confirmDeleteCheckboxLabel",defaultMessage:"I understand the consequences of deleting a system template"}),checked:isDeleteConfirmed,onChange:e=>setIsDeleteConfirmed(e.target.checked)}))))};var template_serialization=__webpack_require__(38);const{stripEmptyFields:stripEmptyFields}=helpers_.serializers,SimulateTemplate=external_kbnSharedDeps_React_default.a.memo(({template:template,filters:filters})=>{const[templatePreview,setTemplatePreview]=Object(external_kbnSharedDeps_React_.useState)("{}"),updatePreview=Object(external_kbnSharedDeps_React_.useCallback)(async()=>{var _filteredTemplate;if(!template||0===Object.keys(template).length)return;const indexTemplate=Object(template_serialization.b)(stripEmptyFields(template));indexTemplate.index_patterns=[uuid_default.a.v4()];const{data:data,error:error}=await function(template){return use_request_sendRequest({path:constants.a+"/index_templates/simulate",method:"post",body:JSON.stringify(template)}).then(result=>(api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,constants.X),result))}(indexTemplate);let filteredTemplate=data;data&&(delete data.overlapping,data.template&&void 0===data.template.mappings&&(data.template.mappings={}),filters&&(filteredTemplate=Object.entries(filters).reduce((acc,[key,value])=>(value||delete acc[key],acc),{...data.template}))),setTemplatePreview(JSON.stringify(null!==(_filteredTemplate=filteredTemplate)&&void 0!==_filteredTemplate?_filteredTemplate:error,null,2))},[template,filters]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{updatePreview()},[updatePreview]);const isEmpty="{}"===templatePreview,hasFilters=Boolean(filters);return isEmpty&&hasFilters?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.noFilterSelected",defaultMessage:"Select at least one option to preview."}),iconType:"pin",size:"s"}):isEmpty?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{lang:"json","data-test-subj":"simulateTemplatePreview"},templatePreview)}),CheckBox=Object(hook_form_lib_.getUseField)({component:components_.CheckBoxField}),simulate_template_flyout_defaultFlyoutProps={"data-test-subj":"simulateTemplateFlyout","aria-labelledby":"simulateTemplateFlyoutTitle"},simulate_template_flyout_i18nTexts={filters:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.label",{defaultMessage:"Include:"}),mappings:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.mappings",{defaultMessage:"Mappings"}),indexSettings:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.indexSettings",{defaultMessage:"Index settings"}),aliases:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.aliases",{defaultMessage:"Aliases"})}},SimulateTemplateFlyoutContent=({onClose:onClose,getTemplate:getTemplate,filters:filters,onFiltersChange:onFiltersChange})=>{const isMounted=Object(external_kbnSharedDeps_React_.useRef)(!1),[template,setTemplate]=Object(external_kbnSharedDeps_React_.useState)({}),{form:form}=Object(hook_form_lib_.useForm)({defaultValue:filters}),{subscribe:subscribe}=form;Object(external_kbnSharedDeps_React_.useEffect)(()=>{subscribe(formState=>{onFiltersChange(formState.data.format())})},[subscribe,onFiltersChange]);const updatePreview=Object(external_kbnSharedDeps_React_.useCallback)(async()=>{const indexTemplate=await getTemplate();setTemplate(indexTemplate)},[getTemplate]);return Object(external_kbnSharedDeps_React_.useEffect)(()=>{!1===isMounted.current&&updatePreview(),isMounted.current=!0},[updatePreview]),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",{id:"componentTemplatesFlyoutTitle","data-test-subj":"title"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.title",defaultMessage:"Preview index template"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextColor,{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices based on the component templates you have selected and any overrides you've added."}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutBody,{"data-test-subj":"content"},external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.Form,{form:form},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},simulate_template_flyout_i18nTexts.filters.label),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(CheckBox,{path:"mappings",config:{label:simulate_template_flyout_i18nTexts.filters.mappings}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(CheckBox,{path:"settings",config:{label:simulate_template_flyout_i18nTexts.filters.indexSettings}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(CheckBox,{path:"aliases",config:{label:simulate_template_flyout_i18nTexts.filters.aliases}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.FormDataProvider,null,formData=>external_kbnSharedDeps_React_default.a.createElement(SimulateTemplate,{template:template,filters:formData})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutFooter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:onClose,"data-test-subj":"closeDetailsButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.closeButtonLabel",defaultMessage:"Close"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{iconType:"refresh",onClick:updatePreview,"data-test-subj":"updateSimulationButton",fill:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.updateButtonLabel",defaultMessage:"Update"}))))))},{emptyField:template_form_schemas_emptyField,containsCharsField:template_form_schemas_containsCharsField,startsWithField:startsWithField,indexPatternField:indexPatternField,lowerCaseStringField:lowerCaseStringField,isJsonField:template_form_schemas_isJsonField}=helpers_.fieldValidators,{toInt:template_form_schemas_toInt}=helpers_.fieldFormatters,indexPatternInvalidCharacters=constants.k.join(" "),template_form_schemas_nameConfig={type:hook_form_lib_.FIELD_TYPES.TEXT,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldNameLabel",{defaultMessage:"Name"}),validations:[{validator:template_form_schemas_emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateValidation.templateNameRequiredError",{defaultMessage:"A template name is required."}))},{validator:template_form_schemas_containsCharsField({chars:" ",message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateValidation.templateNameSpacesError",{defaultMessage:"Spaces are not allowed in a template name."})})},{validator:startsWithField({char:"_",message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateValidation.templateNameUnderscoreError",{defaultMessage:"A template name must not start with an underscore."})})},{validator:startsWithField({char:".",message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateValidation.templateNamePeriodError",{defaultMessage:"A template name must not start with a period."})})},{validator:template_form_schemas_containsCharsField({chars:constants.l,message:({charsFound:charsFound})=>external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateValidation.templateNameInvalidaCharacterError",{defaultMessage:'A template name must not contain the character "{invalidChar}"',values:{invalidChar:charsFound[0]}})})},{validator:lowerCaseStringField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateValidation.templateNameLowerCaseRequiredError",{defaultMessage:"The template name must be in lowercase."}))}]},nameConfigWithoutValidations={...template_form_schemas_nameConfig,validations:[]},schemas={logistics:{name:template_form_schemas_nameConfig,indexPatterns:{type:hook_form_lib_.FIELD_TYPES.COMBO_BOX,defaultValue:[],label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldIndexPatternsLabel",{defaultMessage:"Index patterns"}),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.fieldIndexPatternsHelpText",defaultMessage:"Spaces and the characters {invalidCharactersList} are not allowed.",values:{invalidCharactersList:external_kbnSharedDeps_React_default.a.createElement("strong",null,indexPatternInvalidCharacters)}}),validations:[{validator:template_form_schemas_emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateValidation.indexPatternsRequiredError",{defaultMessage:"At least one index pattern is required."}))},{validator:indexPatternField(external_kbnSharedDeps_KbnI18n_.i18n),type:hook_form_lib_.VALIDATION_TYPES.ARRAY_ITEM,isBlocking:!1}]},doCreateDataStream:{type:hook_form_lib_.FIELD_TYPES.TOGGLE,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.datastreamLabel",{defaultMessage:"Create data stream"}),defaultValue:!1},order:{type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldOrderLabel",{defaultMessage:"Order (optional)"}),formatters:[template_form_schemas_toInt]},priority:{type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldPriorityLabel",{defaultMessage:"Priority (optional)"}),formatters:[template_form_schemas_toInt]},version:{type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldVersionLabel",{defaultMessage:"Version (optional)"}),formatters:[template_form_schemas_toInt]},_meta:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorLabel",{defaultMessage:"_meta field data (optional)"}),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),validations:[{validator:template_form_schemas_isJsonField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorJsonError",{defaultMessage:"The _meta field JSON is not valid."}),{allowEmptyString:!0})}],deserializer:value=>""===value?value:JSON.stringify(value,null,2),serializer:value=>{try{return JSON.parse(value)}catch(error){return value}}},addMeta:{type:hook_form_lib_.FIELD_TYPES.TOGGLE,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.addMetadataLabel",{defaultMessage:"Add metadata"})}}},step_logistics_UseField=Object(hook_form_lib_.getUseField)({component:components_.Field}),FormRow=Object(components_.getFormRow)({titleTag:"h3"});function step_logistics_formDeserializer(formData){return{...formData,addMeta:Boolean(formData._meta&&Object.keys(formData._meta).length),doCreateDataStream:Boolean(formData.dataStream)}}function getformSerializer(initialTemplateData={}){return formData=>{var _initialTemplateData$;const{addMeta:addMeta,doCreateDataStream:doCreateDataStream,...rest}=formData;return{...rest,dataStream:doCreateDataStream?null!==(_initialTemplateData$=initialTemplateData.dataStream)&&void 0!==_initialTemplateData$?_initialTemplateData$:{}:void 0}}}const StepLogistics=external_kbnSharedDeps_React_default.a.memo(({defaultValue:defaultValue,isEditing:isEditing=!1,onChange:onChange,isLegacy:isLegacy=!1})=>{const{form:form}=Object(hook_form_lib_.useForm)({schema:schemas.logistics,defaultValue:defaultValue,options:{stripEmptyFields:!1},serializer:getformSerializer(defaultValue),deserializer:step_logistics_formDeserializer}),{submit:submit,isSubmitted:isSubmitted,isValid:isFormValid,getErrors:getFormErrors,getFormData:getFormData}=form,[{addMeta:addMeta}]=Object(hook_form_lib_.useFormData)({form:form,watch:"addMeta"}),validate=Object(external_kbnSharedDeps_React_.useCallback)(async()=>(await submit()).isValid,[submit]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{onChange({isValid:isFormValid,getData:getFormData,validate:validate})},[onChange,isFormValid,validate,getFormData]);const{name:name,indexPatterns:indexPatterns,createDataStream:createDataStream,order:order,priority:priority,version:version}=(documentationService.getEsDocsBase(),{name:{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.nameTitle",{defaultMessage:"Name"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.nameDescription",{defaultMessage:"A unique identifier for this template."}),testSubject:"nameField"},indexPatterns:{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.indexPatternsTitle",{defaultMessage:"Index patterns"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.indexPatternsDescription",{defaultMessage:"The index patterns to apply to the template."}),testSubject:"indexPatternsField"},createDataStream:{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataStreamTitle",{defaultMessage:"Data stream"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.dataStreamDescription",defaultMessage:"The template creates data streams instead of indices. {docsLink}",values:{docsLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getDataStreamsDocumentationLink(),target:"_blank",external:!0},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataStreamDocumentionLink",{defaultMessage:"Learn more."}))}}),testSubject:"dataStreamField"},order:{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.orderTitle",{defaultMessage:"Merge order"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.orderDescription",{defaultMessage:"The merge order when multiple templates match an index."}),testSubject:"orderField"},priority:{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.priorityTitle",{defaultMessage:"Priority"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.priorityDescription",{defaultMessage:"Only the highest priority template will be applied."}),testSubject:"priorityField"},version:{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.versionTitle",{defaultMessage:"Version"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.versionDescription",{defaultMessage:"A number that identifies the template to external management systems."}),testSubject:"versionField"}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,null,external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.stepTitle",defaultMessage:"Logistics"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"s",flush:"right",href:documentationService.getTemplatesDocumentationLink(isLegacy),target:"_blank",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.docsButtonLabel",defaultMessage:"Index Templates docs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.Form,{form:form,isInvalid:isSubmitted&&!isFormValid,error:getFormErrors(),"data-test-subj":"stepLogistics"},external_kbnSharedDeps_React_default.a.createElement(FormRow,{title:name.title,description:name.description},external_kbnSharedDeps_React_default.a.createElement(step_logistics_UseField,{path:"name",componentProps:{"data-test-subj":name.testSubject,euiFieldProps:{disabled:isEditing}},config:isEditing?nameConfigWithoutValidations:template_form_schemas_nameConfig})),external_kbnSharedDeps_React_default.a.createElement(FormRow,{title:indexPatterns.title,description:indexPatterns.description},external_kbnSharedDeps_React_default.a.createElement(step_logistics_UseField,{path:"indexPatterns",componentProps:{"data-test-subj":indexPatterns.testSubject}})),!0!==isLegacy&&external_kbnSharedDeps_React_default.a.createElement(FormRow,{title:createDataStream.title,description:createDataStream.description},external_kbnSharedDeps_React_default.a.createElement(step_logistics_UseField,{path:"doCreateDataStream",componentProps:{"data-test-subj":createDataStream.testSubject}})),isLegacy&&external_kbnSharedDeps_React_default.a.createElement(FormRow,{title:order.title,description:order.description},external_kbnSharedDeps_React_default.a.createElement(step_logistics_UseField,{path:"order",componentProps:{"data-test-subj":order.testSubject}})),!1===isLegacy&&external_kbnSharedDeps_React_default.a.createElement(FormRow,{title:priority.title,description:priority.description},external_kbnSharedDeps_React_default.a.createElement(step_logistics_UseField,{path:"priority",componentProps:{"data-test-subj":priority.testSubject}})),external_kbnSharedDeps_React_default.a.createElement(FormRow,{title:version.title,description:version.description},external_kbnSharedDeps_React_default.a.createElement(step_logistics_UseField,{path:"version",componentProps:{"data-test-subj":version.testSubject}})),!1===isLegacy&&external_kbnSharedDeps_React_default.a.createElement(FormRow,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldTitle",{defaultMessage:"_meta field"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.metaFieldDescription",defaultMessage:"Use the _meta field to store any metadata you want."}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(step_logistics_UseField,{path:"addMeta","data-test-subj":"metaToggle"}))},addMeta&&external_kbnSharedDeps_React_default.a.createElement(step_logistics_UseField,{path:"_meta",component:components_.JsonEditorField,componentProps:{euiCodeEditorProps:{height:"280px","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorAriaLabel",{defaultMessage:"_meta field data editor"}),"data-test-subj":"metaField"}}}))))}),StepLogisticsContainer=({isEditing:isEditing,isLegacy:isLegacy})=>{const{defaultValue:defaultValue,updateContent:updateContent}=public_.Forms.useContent("logistics");return external_kbnSharedDeps_React_default.a.createElement(StepLogistics,{defaultValue:defaultValue,onChange:updateContent,isEditing:isEditing,isLegacy:isLegacy})},APP_CLUSTER_REQUIRED_PRIVILEGES=["manage_index_templates"],TabAliases=({aliases:aliases})=>aliases&&Object.keys(aliases).length?external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"aliasesTabContent"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{lang:"json"},JSON.stringify(aliases,null,2))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.aliasesTab.noAliasesTitle",defaultMessage:"No aliases defined."}),iconType:"pin","data-test-subj":"noAliasesCallout",size:"s"}),TabMappings=({mappings:mappings})=>mappings&&Object.keys(mappings).length?external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"mappingsTabContent"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{lang:"json"},JSON.stringify(mappings,null,2))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.mappingsTab.noMappingsTitle",defaultMessage:"No mappings defined."}),iconType:"pin","data-test-subj":"noMappingsCallout",size:"s"}),TabSettings=({settings:settings})=>settings&&Object.keys(settings).length?external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"settingsTabContent"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{lang:"json"},JSON.stringify(settings,null,2))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.settingsTab.noIndexSettingsTitle",defaultMessage:"No settings defined."}),iconType:"pin","data-test-subj":"noSettingsCallout",size:"s"}),useJsonStep=({defaultValue:defaultValue,onChange:onChange})=>{const[jsonContent,setJsonContent]=Object(external_kbnSharedDeps_React_.useState)((json=null!=defaultValue?defaultValue:{},Object.keys(json).length?JSON.stringify(json,null,2):"{\n\n}"));var json;const[error,setError]=Object(external_kbnSharedDeps_React_.useState)(null),validateContent=Object(external_kbnSharedDeps_React_.useCallback)(()=>{const isValid=""===jsonContent.trim()||Object(string_.isJSON)(jsonContent);return setError(isValid?null:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.validators.string.invalidJSONError",{defaultMessage:"Invalid JSON format."})),isValid},[jsonContent]);return Object(external_kbnSharedDeps_React_.useEffect)(()=>{const isValid=validateContent();onChange({isValid:isValid,validate:async()=>isValid,getData:()=>{const value=isValid&&""!==jsonContent.trim()?JSON.parse(jsonContent):{};return Object.keys(value).length>0?value:void 0}})},[jsonContent,onChange,validateContent]),{jsonContent:jsonContent,setJsonContent:setJsonContent,error:error}},StepAliases=external_kbnSharedDeps_React_default.a.memo(({defaultValue:defaultValue={},onChange:onChange,esDocsBase:esDocsBase})=>{const{jsonContent:jsonContent,setJsonContent:setJsonContent,error:error}=useJsonStep({defaultValue:defaultValue,onChange:onChange});return external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"stepAliases"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,null,external_kbnSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"stepTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.stepTitle",defaultMessage:"Aliases (optional)"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.aliasesDescription",defaultMessage:"Set up aliases to associate with your indices."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"s",flush:"right",href:esDocsBase+"/indices-aliases.html",target:"_blank",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.docsButtonLabel",defaultMessage:"Index Aliases docs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.fieldAliasesLabel",defaultMessage:"Aliases"}),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.aliasesEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,JSON.stringify({my_alias:{}}))}}),isInvalid:Boolean(error),error:error,fullWidth:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeEditor,{mode:"json",theme:"textmate",width:"100%",height:"500px",setOptions:{showLineNumbers:!1,tabSize:2},editorProps:{$blockScrolling:1/0},showGutter:!1,minLines:6,"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.formWizard.stepAliases.fieldAliasesAriaLabel",{defaultMessage:"Aliases code editor"}),value:jsonContent,onChange:setJsonContent,"data-test-subj":"aliasesEditor"})))}),StepAliasesContainer=({esDocsBase:esDocsBase})=>{const{defaultValue:defaultValue,updateContent:updateContent}=public_.Forms.useContent("aliases");return external_kbnSharedDeps_React_default.a.createElement(StepAliases,{defaultValue:defaultValue,onChange:updateContent,esDocsBase:esDocsBase})},StepMappings=external_kbnSharedDeps_React_default.a.memo(({defaultValue:defaultValue={},onChange:onChange,indexSettings:indexSettings,esDocsBase:esDocsBase})=>{const[mappings,setMappings]=Object(external_kbnSharedDeps_React_.useState)(defaultValue),{docLinks:docLinks}=useAppContext(),onMappingsEditorUpdate=Object(external_kbnSharedDeps_React_.useCallback)(({isValid:isValid,getData:getData,validate:validate})=>{onChange({isValid:isValid,validate:async()=>void 0===isValid?await validate():isValid,getData:getData})},[onChange]);return external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"stepMappings"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,null,external_kbnSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"stepTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.stepTitle",defaultMessage:"Mappings (optional)"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.mappingsDescription",defaultMessage:"Define how to store and index documents."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(LoadMappingsFromJsonButton,{onJson:json=>{setMappings(json)}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"s",flush:"right",href:esDocsBase+"/mapping.html",target:"_blank",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.docsButtonLabel",defaultMessage:"Mapping docs"})))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(MappingsEditor,{value:mappings,onChange:onMappingsEditorUpdate,indexSettings:indexSettings,docLinks:docLinks}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}))}),StepMappingsContainer=({esDocsBase:esDocsBase})=>{const{defaultValue:defaultValue,updateContent:updateContent,getSingleContentData:getSingleContentData}=public_.Forms.useContent("mappings");return external_kbnSharedDeps_React_default.a.createElement(StepMappings,{defaultValue:defaultValue,onChange:updateContent,indexSettings:getSingleContentData("settings"),esDocsBase:esDocsBase})},StepSettings=external_kbnSharedDeps_React_default.a.memo(({defaultValue:defaultValue={},onChange:onChange,esDocsBase:esDocsBase})=>{const{jsonContent:jsonContent,setJsonContent:setJsonContent,error:error}=useJsonStep({defaultValue:defaultValue,onChange:onChange});return external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"stepSettings"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,null,external_kbnSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"stepTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.stepTitle",defaultMessage:"Index settings (optional)"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.settingsDescription",defaultMessage:"Define the behavior of your indices."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"s",flush:"right",href:esDocsBase+"/index-modules.html#index-modules-settings",target:"_blank",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.docsButtonLabel",defaultMessage:"Index settings docs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.fieldIndexSettingsLabel",defaultMessage:"Index settings"}),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.settingsEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,JSON.stringify({number_of_replicas:1}))}}),isInvalid:Boolean(error),error:error,fullWidth:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeEditor,{mode:"json",theme:"textmate",width:"100%",height:"500px",setOptions:{showLineNumbers:!1,tabSize:2},editorProps:{$blockScrolling:1/0},showGutter:!1,minLines:6,"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.formWizard.stepSettings.fieldIndexSettingsAriaLabel",{defaultMessage:"Index settings editor"}),value:jsonContent,onChange:setJsonContent,"data-test-subj":"settingsEditor"})))}),StepSettingsContainer=external_kbnSharedDeps_React_default.a.memo(({esDocsBase:esDocsBase})=>{const{defaultValue:defaultValue,updateContent:updateContent}=public_.Forms.useContent("settings");return external_kbnSharedDeps_React_default.a.createElement(StepSettings,{defaultValue:defaultValue,onChange:updateContent,esDocsBase:esDocsBase})});__webpack_require__(86);const texts={settings:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateContentIndicator.indexSettingsTooltipLabel",{defaultMessage:"Index settings"}),mappings:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateContentIndicator.mappingsTooltipLabel",{defaultMessage:"Mappings"}),aliases:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateContentIndicator.aliasesTooltipLabel",{defaultMessage:"Aliases"})},TemplateContentIndicator=({mappings:mappings,settings:settings,aliases:aliases,contentWhenEmpty:contentWhenEmpty=null})=>{const getColor=flag=>flag?"primary":"hollow";return mappings||settings||aliases?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:texts.mappings},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:getColor(mappings)},"M"),"")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:texts.settings},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:getColor(settings)},"S"),"")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:texts.aliases},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:getColor(aliases)},"A"))):contentWhenEmpty};var common_lib=__webpack_require__(47);const ComponentTemplatesContext=Object(external_kbnSharedDeps_React_.createContext)(void 0),ComponentTemplatesProvider=({children:children,value:value})=>{const{httpClient:httpClient,apiBasePath:apiBasePath,trackMetric:trackMetric,docLinks:docLinks,toasts:toasts,setBreadcrumbs:setBreadcrumbs,getUrlForApp:getUrlForApp}=value,api=((useRequest,sendRequest,apiBasePath,trackMetric)=>({useLoadComponentTemplates:function(){return useRequest({path:apiBasePath+"/component_templates",method:"get"})},deleteComponentTemplates:function(names){const result=sendRequest({path:`${apiBasePath}/component_templates/${names.map(name=>encodeURIComponent(name)).join(",")}`,method:"delete"});return trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,names.length>1?"component_template_delete_many":"component_template_delete"),result},useLoadComponentTemplate:function(name){return useRequest({path:`${apiBasePath}/component_templates/${encodeURIComponent(name)}`,method:"get"})},createComponentTemplate:async function(componentTemplate){const result=await sendRequest({path:apiBasePath+"/component_templates",method:"post",body:JSON.stringify(componentTemplate)});return trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,"component_template_create"),result},updateComponentTemplate:async function(componentTemplate){const{name:name}=componentTemplate,result=await sendRequest({path:`${apiBasePath}/component_templates/${encodeURIComponent(name)}`,method:"put",body:JSON.stringify(componentTemplate)});return trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,"component_template_update"),result}}))((httpClient=>config=>Object(public_.useRequest)(httpClient,config))(httpClient),(httpClient=>config=>Object(public_.sendRequest)(httpClient,config))(httpClient),apiBasePath,trackMetric),documentation=(({links:links})=>({esDocsBase:links.elasticsearch.docsBase,componentTemplates:links.apis.putComponentTemplate,componentTemplatesMetadata:links.apis.putComponentTemplateMetadata}))(docLinks),breadcrumbs=(setBreadcrumbs=>{const baseBreadcrumbs=[{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.homeLabel",{defaultMessage:"Index Management"}),href:"/"},{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.componentTemplatesLabel",{defaultMessage:"Component templates"}),href:"/component_templates"}];return{setCreateBreadcrumbs:()=>{const createBreadcrumbs=[...baseBreadcrumbs,{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.createComponentTemplateLabel",{defaultMessage:"Create component template"})}];return setBreadcrumbs(createBreadcrumbs)},setEditBreadcrumbs:()=>{const editBreadcrumbs=[...baseBreadcrumbs,{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.editComponentTemplateLabel",{defaultMessage:"Edit component template"})}];return setBreadcrumbs(editBreadcrumbs)}}})(setBreadcrumbs);return external_kbnSharedDeps_React_default.a.createElement(ComponentTemplatesContext.Provider,{value:{api:api,documentation:documentation,trackMetric:trackMetric,toasts:toasts,httpClient:httpClient,apiBasePath:apiBasePath,breadcrumbs:breadcrumbs,getUrlForApp:getUrlForApp}},children)},useComponentTemplatesContext=()=>{const ctx=Object(external_kbnSharedDeps_React_.useContext)(ComponentTemplatesContext);if(!ctx)throw new Error('"useComponentTemplatesContext" can only be called inside of ComponentTemplatesProvider!');return ctx},ComponentTemplatesAuthProvider=({children:children})=>{const{httpClient:httpClient,apiBasePath:apiBasePath}=useComponentTemplatesContext();return external_kbnSharedDeps_React_default.a.createElement(public_.AuthorizationProvider,{privilegesEndpoint:apiBasePath+"/component_templates/privileges",httpClient:httpClient},children)},ComponentTemplatesWithPrivileges=({children:children})=>{const{apiError:apiError}=Object(public_.useAuthorizationContext)();return apiError?external_kbnSharedDeps_React_default.a.createElement(public_.SectionError,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.checkingPrivilegesErrorMessage",defaultMessage:"Error fetching user privileges from the server."}),error:apiError}):external_kbnSharedDeps_React_default.a.createElement(public_.WithPrivileges,{privileges:APP_CLUSTER_REQUIRED_PRIVILEGES.map(privilege=>"cluster."+privilege)},({isLoading:isLoading,hasPrivileges:hasPrivileges,privilegesMissing:privilegesMissing})=>isLoading?external_kbnSharedDeps_React_default.a.createElement(public_.SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.checkingPrivilegesDescription",defaultMessage:"Checking privileges"})):hasPrivileges?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,children):external_kbnSharedDeps_React_default.a.createElement(public_.NotAuthorizedSection,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deniedPrivilegeTitle",defaultMessage:"Cluster privileges required"}),message:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deniedPrivilegeDescription",defaultMessage:"To use Component Templates, you must have {privilegesCount, plural, one {this cluster privilege} other {these cluster privileges}}: {missingPrivileges}.",values:{missingPrivileges:privilegesMissing.cluster.join(", "),privilegesCount:privilegesMissing.cluster.length}})}))},TabSummary=({componentTemplateDetails:componentTemplateDetails,showCallToAction:showCallToAction})=>{const{getUrlForApp:getUrlForApp}=useComponentTemplatesContext(),{version:version,_meta:_meta,_kbnMeta:_kbnMeta}=componentTemplateDetails,{usedBy:usedBy}=_kbnMeta,templateIsInUse=usedBy.length>0;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,!templateIsInUse&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.notInUseTitle",defaultMessage:"This component template is not in use by any index templates."}),iconType:"pin","data-test-subj":"notInUseCallout",size:"s"},showCallToAction&&external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.notInUseDescription",defaultMessage:"{createLink} an index template or {editLink} an existing one.",values:{createLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:getUrlForApp("management",{path:"/data/index_management/create_template"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.createTemplateLink",defaultMessage:"Create"})),editLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:getUrlForApp("management",{path:"/data/index_management/templates"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.updateTemplateLink",defaultMessage:"update"}))}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{textStyle:"reverse","data-test-subj":"summaryTabContent"},templateIsInUse&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,{"data-test-subj":"usedByTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.usedByDescriptionListTitle",defaultMessage:"Used by"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,external_kbnSharedDeps_React_default.a.createElement("ul",null,usedBy.map(templateName=>external_kbnSharedDeps_React_default.a.createElement("li",{key:templateName},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,templateName))))))),void 0!==version&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,{"data-test-subj":"versionTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.versionDescriptionListTitle",defaultMessage:"Version"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,version)),_meta&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.metaDescriptionListTitle",defaultMessage:"Metadata"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{lang:"json"},JSON.stringify(_meta,null,2))))))},TABS=[{id:"summary",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateDetails.summaryTabTitle",{defaultMessage:"Summary"})},{id:"settings",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateDetails.settingsTabTitle",{defaultMessage:"Settings"})},{id:"mappings",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateDetails.mappingsTabTitle",{defaultMessage:"Mappings"})},{id:"aliases",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateDetails.aliasesTabTitle",{defaultMessage:"Aliases"})}],ComponentTemplateTabs=({setActiveTab:setActiveTab,activeTab:activeTab})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTabs,null,TABS.map(tab=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTab,{onClick:()=>{setActiveTab(tab.id)},isSelected:tab.id===activeTab,key:tab.id,"data-test-subj":tab.id+"Tab"},tab.name))),ManageButton=({actions:actions,componentTemplateDetails:componentTemplateDetails})=>{const[isPopoverOpen,setIsPopOverOpen]=Object(external_kbnSharedDeps_React_.useState)(!1),items=actions.map(({name:name,icon:icon,getIsDisabled:getIsDisabled,closePopoverOnClick:closePopoverOnClick,handleActionClick:handleActionClick})=>{const isDisabled=!!getIsDisabled&&getIsDisabled(componentTemplateDetails);return{name:name,icon:icon,disabled:isDisabled,toolTipContent:isDisabled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.manageButtonDisabledTooltipLabel",defaultMessage:"Template is in use and cannot be deleted"}):null,onClick:()=>{handleActionClick(),closePopoverOnClick&&setIsPopOverOpen(!1)},"data-test-subj":"action"}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{id:"manageComponentTemplatePanel",button:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{fill:!0,"data-test-subj":"manageComponentTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>setIsPopOverOpen(prevBoolean=>!prevBoolean)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.manageButtonLabel",defaultMessage:"Manage"})),isOpen:isPopoverOpen,closePopover:()=>setIsPopOverOpen(!1),panelPaddingSize:"none",anchorPosition:"rightUp",repositionOnScroll:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenu,{initialPanelId:0,"data-test-subj":"manageComponentTemplateContextMenu",panels:[{id:0,title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateDetails.manageContextMenuPanelTitle",{defaultMessage:"Options"}),items:items}]}))},component_template_details_defaultFlyoutProps={"data-test-subj":"componentTemplateDetails","aria-labelledby":"componentTemplateDetailsFlyoutTitle"},ComponentTemplateDetailsFlyoutContent=({componentTemplateName:componentTemplateName,onClose:onClose,actions:actions,showSummaryCallToAction:showSummaryCallToAction})=>{const{api:api}=useComponentTemplatesContext(),decodedComponentTemplateName=Object(public_.attemptToURIDecode)(componentTemplateName),{data:componentTemplateDetails,isLoading:isLoading,error:error}=api.useLoadComponentTemplate(decodedComponentTemplateName),[activeTab,setActiveTab]=Object(external_kbnSharedDeps_React_.useState)("summary");let content;if(isLoading)content=external_kbnSharedDeps_React_default.a.createElement(public_.SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.loadingIndexTemplateDescription",defaultMessage:"Loading component template"}));else if(error)content=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.loadingErrorMessage",defaultMessage:"Error loading component template"}),color:"danger",iconType:"alert","data-test-subj":"sectionError"},external_kbnSharedDeps_React_default.a.createElement("p",null,error.message));else if(componentTemplateDetails){const{template:{settings:settings,mappings:mappings,aliases:aliases}}=componentTemplateDetails,tabContent={summary:external_kbnSharedDeps_React_default.a.createElement(TabSummary,{componentTemplateDetails:componentTemplateDetails,showCallToAction:showSummaryCallToAction}),settings:external_kbnSharedDeps_React_default.a.createElement(TabSettings,{settings:settings}),mappings:external_kbnSharedDeps_React_default.a.createElement(TabMappings,{mappings:mappings}),aliases:external_kbnSharedDeps_React_default.a.createElement(TabAliases,{aliases:aliases})}[activeTab];content=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(ComponentTemplateTabs,{activeTab:activeTab,setActiveTab:setActiveTab}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),tabContent)}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",{id:"componentTemplateDetailsFlyoutTitle","data-test-subj":"title"},decodedComponentTemplateName))),null!=componentTemplateDetails&&componentTemplateDetails._kbnMeta.isManaged?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1}," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:"hollow"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.managedBadgeLabel",defaultMessage:"Managed"}))):null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutBody,{"data-test-subj":"content"},content),actions&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutFooter,{"data-test-subj":"footer"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:onClose,"data-test-subj":"closeDetailsButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.closeButtonLabel",defaultMessage:"Close"}))),componentTemplateDetails&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(ManageButton,{actions:actions,componentTemplateDetails:componentTemplateDetails})))))};function empty_prompt_extends(){return(empty_prompt_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const empty_prompt_EmptyPrompt=({history:history})=>{const{documentation:documentation}=useComponentTemplatesContext();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyList",title:external_kbnSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"title"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptTitle",{defaultMessage:"Start by creating a component template"})),body:external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.emptyPromptDescription",defaultMessage:"For example, you can create a component template for index settings that can be reused across index templates."}),external_kbnSharedDeps_React_default.a.createElement("br",null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentation.componentTemplates,target:"_blank",external:!0},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptDocumentionLink",{defaultMessage:"Learn more."}))),actions:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,empty_prompt_extends({},Object(kibanaReact_public_.reactRouterNavigate)(history,"/create_component_template"),{iconType:"plusInCircle",fill:!0}),external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptButtonLabel",{defaultMessage:"Create a component template"}))})};function table_extends(){return(table_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const ComponentTable=({componentTemplates:componentTemplates,onReloadClick:onReloadClick,onDeleteClick:onDeleteClick,onEditClick:onEditClick,onCloneClick:onCloneClick,history:history})=>{const{trackMetric:trackMetric}=useComponentTemplatesContext(),[selection,setSelection]=Object(external_kbnSharedDeps_React_.useState)([]),tableProps={itemId:"name",isSelectable:!0,"data-test-subj":"componentTemplatesTable",sorting:{sort:{field:"name",direction:"asc"}},selection:{onSelectionChange:setSelection,selectable:({usedBy:usedBy})=>0===usedBy.length,selectableMessage:selectable=>selectable?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.selectionLabel",{defaultMessage:"Select this component template"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.disabledSelectionLabel",{defaultMessage:"Component template is in use and cannot be deleted"})},rowProps:()=>({"data-test-subj":"componentTemplateTableRow"}),search:{toolsLeft:selection.length>0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{"data-test-subj":"deleteComponentTemplatexButton",onClick:()=>onDeleteClick(selection.map(({name:name})=>name)),color:"danger"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.deleteComponentTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {component template} other {component templates} }",values:{count:selection.length}})):void 0,toolsRight:[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{key:"reloadButton",iconType:"refresh",color:"secondary","data-test-subj":"reloadButton",onClick:onReloadClick},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.reloadButtonLabel",{defaultMessage:"Reload"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,table_extends({fill:!0,iconType:"plusInCircle","data-test-subj":"createPipelineButton",key:"createPipelineButton"},Object(kibanaReact_public_.reactRouterNavigate)(history,"/create_component_template")),external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.createButtonLabel",{defaultMessage:"Create component template"}))],box:{incremental:!0},filters:[{type:"is",field:"isManaged",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.isManagedFilterLabel",{defaultMessage:"Managed"})},{type:"field_value_toggle_group",field:"usedBy.length",items:[{value:1,name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.inUseFilterOptionLabel",{defaultMessage:"In use"}),operator:"gte"},{value:0,name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.notInUseFilterOptionLabel",{defaultMessage:"Not in use"}),operator:"eq"}]}]},pagination:{initialPageSize:10,pageSizeOptions:[10,20,50]},columns:[{field:"name",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,width:"20%",render:(name,item)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,table_extends({},Object(kibanaReact_public_.reactRouterNavigate)(history,{pathname:encodeURI("/component_templates/"+encodeURIComponent(name))},()=>trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.CLICK,"component_template_details")),{"data-test-subj":"templateDetailsLink"}),name),item.isManaged&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,"",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:"hollow","data-test-subj":"isManagedBadge"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.managedBadgeLabel",{defaultMessage:"Managed"}))))},{field:"usedBy",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.isInUseColumnTitle",{defaultMessage:"Usage count"}),sortable:!0,render:usedBy=>usedBy.length?usedBy.length:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextColor,{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement("i",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.notInUseCellDescription",defaultMessage:"Not in use"})))},{field:"hasMappings",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.mappingsColumnTitle",{defaultMessage:"Mappings"}),truncateText:!0,sortable:!0,render:hasMappings=>hasMappings?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{type:"check"}):null},{field:"hasSettings",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.settingsColumnTitle",{defaultMessage:"Settings"}),truncateText:!0,sortable:!0,render:hasSettings=>hasSettings?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{type:"check"}):null},{field:"hasAliases",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.aliasesColumnTitle",{defaultMessage:"Aliases"}),truncateText:!0,sortable:!0,render:hasAliases=>hasAliases?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{type:"check"}):null},{name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.actionColumnTitle",defaultMessage:"Actions"}),actions:[{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionEditText",{defaultMessage:"Edit"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionEditDecription",{defaultMessage:"Edit this component template"}),onClick:({name:name})=>onEditClick(name),isPrimary:!0,icon:"pencil",type:"icon","data-test-subj":"editComponentTemplateButton"},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionCloneText",{defaultMessage:"Clone"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionCloneDecription",{defaultMessage:"Clone this component template"}),onClick:({name:name})=>onCloneClick(name),icon:"copy",type:"icon","data-test-subj":"cloneComponentTemplateButton"},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.deleteActionLabel",{defaultMessage:"Delete"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.deleteActionDescription",{defaultMessage:"Delete this component template"}),onClick:({name:name})=>onDeleteClick([name]),enabled:({usedBy:usedBy})=>0===usedBy.length,isPrimary:!0,type:"icon",icon:"trash",color:"danger","data-test-subj":"deleteComponentTemplateButton"}]}],items:null!=componentTemplates?componentTemplates:[]};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiInMemoryTable,tableProps)},LoadError=({onReloadClick:onReloadClick})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{iconType:"faceSad",color:"danger","data-test-subj":"componentTemplatesLoadError",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.loadErrorTitle",defaultMessage:"Unable to load component templates. {reloadLink}",values:{reloadLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{onClick:onReloadClick},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.loadErrorReloadLinkLabel",defaultMessage:"Try again."}))}})}),ComponentTemplatesDeleteModal=({componentTemplatesToDelete:componentTemplatesToDelete,callback:callback})=>{const{toasts:toasts,api:api}=useComponentTemplatesContext(),numComponentTemplatesToDelete=componentTemplatesToDelete.length;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteComponentTemplatesConfirmation",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.modalTitleText",defaultMessage:"Delete {numComponentTemplatesToDelete, plural, one {component template} other {# component templates}}",values:{numComponentTemplatesToDelete:numComponentTemplatesToDelete}}),onCancel:()=>{callback()},onConfirm:()=>{api.deleteComponentTemplates(componentTemplatesToDelete).then(({data:{itemsDeleted:itemsDeleted,errors:errors},error:error})=>{const hasDeletedComponentTemplates=itemsDeleted&&itemsDeleted.length;if(hasDeletedComponentTemplates){const successMessage=1===itemsDeleted.length?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted component template '{componentTemplateName}'",values:{componentTemplateName:componentTemplatesToDelete[0]}}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# component template} other {# component templates}}",values:{numSuccesses:itemsDeleted.length}});callback({hasDeletedComponentTemplates:hasDeletedComponentTemplates}),toasts.addSuccess(successMessage)}if(error||null!=errors&&errors.length){const errorMessage=(null==errors?void 0:errors.length)>1||error&&componentTemplatesToDelete.length>1?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} component templates",values:{count:(null==errors?void 0:errors.length)||componentTemplatesToDelete.length}}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.errorNotificationMessageText",{defaultMessage:"Error deleting component template '{name}'",values:{name:errors&&errors[0].name||componentTemplatesToDelete[0]}});toasts.addDanger(errorMessage)}})},cancelButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.confirmButtonLabel",defaultMessage:"Delete {numComponentTemplatesToDelete, plural, one {component template} other {component templates} }",values:{numComponentTemplatesToDelete:numComponentTemplatesToDelete}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.deleteDescription",defaultMessage:"You are about to delete {numComponentTemplatesToDelete, plural, one {this component template} other {these component templates} }:",values:{numComponentTemplatesToDelete:numComponentTemplatesToDelete}})),external_kbnSharedDeps_React_default.a.createElement("ul",null,componentTemplatesToDelete.map(name=>external_kbnSharedDeps_React_default.a.createElement("li",{key:name},name)))))},{useGlobalFlyout:component_template_list_useGlobalFlyout}=public_.GlobalFlyout,ComponentTemplateList=({componentTemplateName:componentTemplateName,history:history})=>{const{addContent:addContentToGlobalFlyout,removeContent:removeContentFromGlobalFlyout}=component_template_list_useGlobalFlyout(),{api:api,trackMetric:trackMetric,documentation:documentation}=useComponentTemplatesContext(),{data:data,isLoading:isLoading,error:error,resendRequest:resendRequest}=api.useLoadComponentTemplates(),[componentTemplatesToDelete,setComponentTemplatesToDelete]=Object(external_kbnSharedDeps_React_.useState)([]),goToComponentTemplateList=Object(external_kbnSharedDeps_React_.useCallback)(()=>history.push({pathname:"component_templates"}),[history]),goToEditComponentTemplate=Object(external_kbnSharedDeps_React_.useCallback)(name=>history.push({pathname:encodeURI("edit_component_template/"+encodeURIComponent(name))}),[history]),goToCloneComponentTemplate=Object(external_kbnSharedDeps_React_.useCallback)(name=>history.push({pathname:encodeURI("create_component_template/"+encodeURIComponent(name))}),[history]);let content;return Object(external_kbnSharedDeps_React_.useEffect)(()=>{trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.LOADED,"component_template_list_load")},[trackMetric]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{if(componentTemplateName){const actions=[{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateDetails.editButtonLabel",{defaultMessage:"Edit"}),icon:"pencil",handleActionClick:()=>goToEditComponentTemplate(Object(public_.attemptToURIDecode)(componentTemplateName))},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateDetails.cloneActionLabel",{defaultMessage:"Clone"}),icon:"copy",handleActionClick:()=>goToCloneComponentTemplate(Object(public_.attemptToURIDecode)(componentTemplateName))},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateDetails.deleteButtonLabel",{defaultMessage:"Delete"}),icon:"trash",getIsDisabled:details=>details._kbnMeta.usedBy.length>0,closePopoverOnClick:!0,handleActionClick:()=>{setComponentTemplatesToDelete([Object(public_.attemptToURIDecode)(componentTemplateName)])}}];addContentToGlobalFlyout({id:"componentTemplateDetails",Component:ComponentTemplateDetailsFlyoutContent,props:{onClose:goToComponentTemplateList,componentTemplateName:componentTemplateName,showSummaryCallToAction:!0,actions:actions},flyoutProps:{...component_template_details_defaultFlyoutProps,onClose:goToComponentTemplateList}})}},[componentTemplateName,goToComponentTemplateList,goToEditComponentTemplate,goToCloneComponentTemplate,addContentToGlobalFlyout,history]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{componentTemplateName||removeContentFromGlobalFlyout("componentTemplateDetails")},[componentTemplateName,removeContentFromGlobalFlyout]),isLoading?content=external_kbnSharedDeps_React_default.a.createElement(public_.SectionLoading,{"data-test-subj":"sectionLoading"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.loadingMessage",defaultMessage:"Loading component templates"})):null!=data&&data.length?content=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.componentTemplatesDescription",defaultMessage:"Use component templates to reuse settings, mappings, and aliases configurations in multiple index templates. {learnMoreLink}",values:{learnMoreLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentation.componentTemplates,target:"_blank",external:!0},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplates.list.learnMoreLinkText",{defaultMessage:"Learn more."}))}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(ComponentTable,{componentTemplates:data,onReloadClick:resendRequest,onDeleteClick:setComponentTemplatesToDelete,onEditClick:goToEditComponentTemplate,onCloneClick:goToCloneComponentTemplate,history:history})):data&&0===data.length?content=external_kbnSharedDeps_React_default.a.createElement(empty_prompt_EmptyPrompt,{history:history}):error&&(content=external_kbnSharedDeps_React_default.a.createElement(LoadError,{onReloadClick:resendRequest})),external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"componentTemplateList"},content,(null==componentTemplatesToDelete?void 0:componentTemplatesToDelete.length)>0?external_kbnSharedDeps_React_default.a.createElement(ComponentTemplatesDeleteModal,{callback:deleteResponse=>{null!=deleteResponse&&deleteResponse.hasDeletedComponentTemplates&&(resendRequest(),goToComponentTemplateList()),setComponentTemplatesToDelete([])},componentTemplatesToDelete:componentTemplatesToDelete}):null)},ComponentTemplateListContainer=({match:{params:{componentTemplateName:componentTemplateName}},history:history})=>external_kbnSharedDeps_React_default.a.createElement(ComponentTemplatesAuthProvider,null,external_kbnSharedDeps_React_default.a.createElement(ComponentTemplatesWithPrivileges,null,external_kbnSharedDeps_React_default.a.createElement(ComponentTemplateList,{componentTemplateName:componentTemplateName,history:history}))),{emptyField:step_logistics_schema_emptyField,containsCharsField:step_logistics_schema_containsCharsField,isJsonField:step_logistics_schema_isJsonField}=helpers_.fieldValidators,{toInt:step_logistics_schema_toInt}=helpers_.fieldFormatters,logisticsFormSchema={name:{defaultValue:void 0,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.nameFieldLabel",{defaultMessage:"Name"}),type:hook_form_lib_.FIELD_TYPES.TEXT,validations:[{validator:step_logistics_schema_emptyField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.validation.nameRequiredError",{defaultMessage:"A component template name is required."}))},{validator:step_logistics_schema_containsCharsField({chars:" ",message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.validation.nameSpacesError",{defaultMessage:"Spaces are not allowed in a component template name."})})}]},version:{type:hook_form_lib_.FIELD_TYPES.NUMBER,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.versionFieldLabel",{defaultMessage:"Version (optional)"}),formatters:[step_logistics_schema_toInt]},_meta:{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaFieldLabel",{defaultMessage:"_meta field data (optional)"}),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaHelpText",defaultMessage:"Use JSON format: {code}",values:{code:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),serializer:value=>{const result=(jsonString=>{let parsedJSON;try{parsedJSON=JSON.parse(jsonString)}catch{parsedJSON={}}return parsedJSON})(value);if(Object.keys(result).length)return result},deserializer:json=>Object.keys(json).length?JSON.stringify(json,null,2):"{\n\n}",validations:[{validator:step_logistics_schema_isJsonField(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.validation.metaJsonError",{defaultMessage:"The input is not valid."}),{allowEmptyString:!0})}]}},steps_step_logistics_UseField=Object(hook_form_lib_.getUseField)({component:components_.Field}),step_logistics_FormRow=Object(components_.getFormRow)({titleTag:"h3"}),step_logistics_StepLogistics=external_kbnSharedDeps_React_default.a.memo(({defaultValue:defaultValue,isEditing:isEditing,onChange:onChange})=>{const{form:form}=Object(hook_form_lib_.useForm)({schema:logisticsFormSchema,defaultValue:defaultValue,options:{stripEmptyFields:!1}}),{isValid:isFormValid,submit:submit,getFormData:getFormData,subscribe:subscribe}=form,{documentation:documentation}=useComponentTemplatesContext(),[isMetaVisible,setIsMetaVisible]=Object(external_kbnSharedDeps_React_.useState)(Boolean(defaultValue._meta&&Object.keys(defaultValue._meta).length)),validate=Object(external_kbnSharedDeps_React_.useCallback)(async()=>(await submit()).isValid,[submit]);return Object(external_kbnSharedDeps_React_.useEffect)(()=>{onChange({isValid:isFormValid,validate:validate,getData:getFormData})},[isFormValid,getFormData,validate,onChange]),Object(external_kbnSharedDeps_React_.useEffect)(()=>subscribe(({data:data,isValid:isValid})=>{onChange({isValid:isValid,validate:validate,getData:data.format})}).unsubscribe,[subscribe,validate,onChange]),external_kbnSharedDeps_React_default.a.createElement(hook_form_lib_.Form,{form:form,"data-test-subj":"stepLogistics"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,null,external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.stepTitle",defaultMessage:"Logistics"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"s",flush:"right",href:documentation.componentTemplates,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.docsButtonLabel",defaultMessage:"Component Templates docs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(step_logistics_FormRow,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.nameTitle",defaultMessage:"Name"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.nameDescription",defaultMessage:"Unique name for this component template."})},external_kbnSharedDeps_React_default.a.createElement(steps_step_logistics_UseField,{path:"name",componentProps:{"data-test-subj":"nameField",euiFieldProps:{disabled:isEditing}}})),external_kbnSharedDeps_React_default.a.createElement(step_logistics_FormRow,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.versionTitle",defaultMessage:"Version"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.versionDescription",defaultMessage:"Number used by external management systems to identify the component template."})},external_kbnSharedDeps_React_default.a.createElement(steps_step_logistics_UseField,{path:"version",componentProps:{"data-test-subj":"versionField"}})),external_kbnSharedDeps_React_default.a.createElement(step_logistics_FormRow,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaTitle",defaultMessage:"Metadata"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaDescription",defaultMessage:"Arbitrary information about the template, stored in the cluster state. {learnMoreLink}",values:{learnMoreLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentation.componentTemplatesMetadata,target:"_blank",external:!0},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaDocumentionLink",{defaultMessage:"Learn more."}))}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSwitch,{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metadataDescription",defaultMessage:"Add metadata"}),checked:isMetaVisible,onChange:e=>setIsMetaVisible(e.target.checked),"data-test-subj":"metaToggle"}))},isMetaVisible&&external_kbnSharedDeps_React_default.a.createElement(steps_step_logistics_UseField,{path:"_meta",component:components_.JsonEditorField,componentProps:{euiCodeEditorProps:{"data-test-subj":"metaEditor",height:"200px","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaAriaLabel",{defaultMessage:"_meta field data editor"})}}})))}),step_logistics_container_StepLogisticsContainer=({isEditing:isEditing=!1})=>{const{defaultValue:defaultValue,updateContent:updateContent}=public_.Forms.useContent("logistics");return external_kbnSharedDeps_React_default.a.createElement(step_logistics_StepLogistics,{defaultValue:defaultValue,onChange:updateContent,isEditing:isEditing})},{stripEmptyFields:step_review_stripEmptyFields}=helpers_.serializers,getDescriptionText=data=>data&&Object.entries(data).length>0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.yesDescriptionText",defaultMessage:"Yes"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.noDescriptionText",defaultMessage:"No"}),StepReview=external_kbnSharedDeps_React_default.a.memo(({componentTemplate:componentTemplate})=>{const{name:name}=componentTemplate,serializedComponentTemplate=Object(common_lib.b)(step_review_stripEmptyFields(componentTemplate,{types:["string"]})),{template:serializedTemplate,_meta:serializedMeta,version:serializedVersion}=serializedComponentTemplate,SummaryTab=()=>external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"summaryTab"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{textStyle:"reverse"},void 0!==serializedVersion&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.versionLabel",defaultMessage:"Version"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,serializedVersion)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.settingsLabel",defaultMessage:"Index settings"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,getDescriptionText(null==serializedTemplate?void 0:serializedTemplate.settings)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.mappingLabel",defaultMessage:"Mappings"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,getDescriptionText(null==serializedTemplate?void 0:serializedTemplate.mappings)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.aliasesLabel",defaultMessage:"Aliases"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,getDescriptionText(null==serializedTemplate?void 0:serializedTemplate.aliases)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,serializedMeta&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{textStyle:"reverse"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.metaLabel",defaultMessage:"Metadata"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{language:"json"},JSON.stringify(serializedMeta,null,2))))))),RequestTab=()=>{const request=`${"PUT _component_template/"+(name||"<componentTemplateName>")}\n${JSON.stringify(serializedComponentTemplate,null,2)}`,language=request.length<6e4?"json":void 0;return external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"requestTab"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.requestTab.descriptionText",defaultMessage:"This request will create the following component template."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{language:language,isCopyable:!0},request))};return external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"stepReview"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,null,external_kbnSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"title"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.stepTitle",defaultMessage:"Review details for '{templateName}'",values:{templateName:name}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTabbedContent,{"data-test-subj":"content",tabs:[{id:"summary",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:external_kbnSharedDeps_React_default.a.createElement(SummaryTab,null)},{id:"request",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepReview.requestTabTitle",{defaultMessage:"Request"}),content:external_kbnSharedDeps_React_default.a.createElement(RequestTab,null)}]}))}),StepReviewContainer=external_kbnSharedDeps_React_default.a.memo(({getComponentTemplateData:getComponentTemplateData})=>{const{getData:getData}=public_.Forms.useMultiContentContext(),componentTemplate=getComponentTemplateData(getData());return external_kbnSharedDeps_React_default.a.createElement(StepReview,{componentTemplate:componentTemplate})}),{stripEmptyFields:component_template_form_stripEmptyFields}=helpers_.serializers,{FormWizard:FormWizard,FormWizardStep:FormWizardStep}=public_.Forms,wizardSections={logistics:{id:"logistics",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.logisticsStepName",{defaultMessage:"Logistics"})},settings:{id:"settings",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.settingsStepName",{defaultMessage:"Index settings"})},mappings:{id:"mappings",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.mappingsStepName",{defaultMessage:"Mappings"})},aliases:{id:"aliases",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.aliasesStepName",{defaultMessage:"Aliases"})},review:{id:"review",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.summaryStepName",{defaultMessage:"Review"})}},ComponentTemplateForm=({defaultValue:defaultValue={name:"",template:{},_meta:{},_kbnMeta:{usedBy:[],isManaged:!1}},isEditing:isEditing,isSaving:isSaving,saveError:saveError,clearSaveError:clearSaveError,onSave:onSave})=>{const{template:{settings:settings,mappings:mappings,aliases:aliases},...logistics}=defaultValue,{documentation:documentation}=useComponentTemplatesContext(),wizardDefaultValue={logistics:logistics,settings:settings,mappings:mappings,aliases:aliases},i18nTexts={save:isEditing?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.saveButtonLabel",defaultMessage:"Save component template"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.createButtonLabel",defaultMessage:"Create component template"})},apiError=saveError?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.saveTemplateError",defaultMessage:"Unable to create component template"}),color:"danger",iconType:"alert","data-test-subj":"saveComponentTemplateError"},external_kbnSharedDeps_React_default.a.createElement("div",null,saveError.message||saveError.statusText)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"})):null,buildComponentTemplateObject=Object(external_kbnSharedDeps_React_.useCallback)(initialTemplate=>wizardData=>(componentTemplate=>{const outputTemplate={...componentTemplate};return void 0===outputTemplate.template.settings&&delete outputTemplate.template.settings,void 0===outputTemplate.template.mappings&&delete outputTemplate.template.mappings,void 0===outputTemplate.template.aliases&&delete outputTemplate.template.aliases,outputTemplate})({...initialTemplate,name:wizardData.logistics.name,version:wizardData.logistics.version,_meta:wizardData.logistics._meta,template:{settings:wizardData.settings,mappings:wizardData.mappings,aliases:wizardData.aliases}}),[]),onSaveComponentTemplate=Object(external_kbnSharedDeps_React_.useCallback)(async wizardData=>{const componentTemplate=buildComponentTemplateObject(defaultValue)(wizardData);onSave(component_template_form_stripEmptyFields(componentTemplate,{types:["string"]})),clearSaveError()},[buildComponentTemplateObject,defaultValue,onSave,clearSaveError]);return external_kbnSharedDeps_React_default.a.createElement(FormWizard,{defaultValue:wizardDefaultValue,onSave:onSaveComponentTemplate,isEditing:isEditing,isSaving:isSaving,apiError:apiError,texts:i18nTexts},external_kbnSharedDeps_React_default.a.createElement(FormWizardStep,{id:wizardSections.logistics.id,label:wizardSections.logistics.label,isRequired:!0},external_kbnSharedDeps_React_default.a.createElement(step_logistics_container_StepLogisticsContainer,{isEditing:isEditing})),external_kbnSharedDeps_React_default.a.createElement(FormWizardStep,{id:wizardSections.settings.id,label:wizardSections.settings.label},external_kbnSharedDeps_React_default.a.createElement(StepSettingsContainer,{esDocsBase:documentation.esDocsBase})),external_kbnSharedDeps_React_default.a.createElement(FormWizardStep,{id:wizardSections.mappings.id,label:wizardSections.mappings.label},external_kbnSharedDeps_React_default.a.createElement(StepMappingsContainer,{esDocsBase:documentation.esDocsBase})),external_kbnSharedDeps_React_default.a.createElement(FormWizardStep,{id:wizardSections.aliases.id,label:wizardSections.aliases.label},external_kbnSharedDeps_React_default.a.createElement(StepAliasesContainer,{esDocsBase:documentation.esDocsBase})),external_kbnSharedDeps_React_default.a.createElement(FormWizardStep,{id:wizardSections.review.id,label:wizardSections.review.label},external_kbnSharedDeps_React_default.a.createElement(StepReviewContainer,{getComponentTemplateData:buildComponentTemplateObject(defaultValue)})))},ComponentTemplateCreate=({history:history,sourceComponentTemplate:sourceComponentTemplate})=>{const[isSaving,setIsSaving]=Object(external_kbnSharedDeps_React_.useState)(!1),[saveError,setSaveError]=Object(external_kbnSharedDeps_React_.useState)(null),{api:api,breadcrumbs:breadcrumbs}=useComponentTemplatesContext();return Object(external_kbnSharedDeps_React_.useEffect)(()=>{breadcrumbs.setCreateBreadcrumbs()},[breadcrumbs]),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageBody,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageContent,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",{"data-test-subj":"pageTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.createComponentTemplate.pageTitle",defaultMessage:"Create component template"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(ComponentTemplateForm,{defaultValue:sourceComponentTemplate,onSave:async componentTemplate=>{const{name:name}=componentTemplate;setIsSaving(!0),setSaveError(null);const{error:error}=await api.createComponentTemplate(componentTemplate);setIsSaving(!1),error?setSaveError(error):history.push({pathname:encodeURI("/component_templates/"+encodeURIComponent(name))})},isSaving:isSaving,saveError:saveError,clearSaveError:()=>{setSaveError(null)}})))},ComponentTemplateEdit=({match:{params:{name:name}},history:history})=>{const{api:api,breadcrumbs:breadcrumbs}=useComponentTemplatesContext(),[isSaving,setIsSaving]=Object(external_kbnSharedDeps_React_.useState)(!1),[saveError,setSaveError]=Object(external_kbnSharedDeps_React_.useState)(null),decodedName=Object(public_.attemptToURIDecode)(name),{error:error,data:componentTemplate,isLoading:isLoading}=api.useLoadComponentTemplate(decodedName);Object(external_kbnSharedDeps_React_.useEffect)(()=>{breadcrumbs.setEditBreadcrumbs()},[breadcrumbs]);const onSave=async updatedComponentTemplate=>{setIsSaving(!0),setSaveError(null);const{error:saveErrorObject}=await api.updateComponentTemplate(updatedComponentTemplate);setIsSaving(!1),saveErrorObject?setSaveError(saveErrorObject):history.push({pathname:encodeURI("/component_templates/"+encodeURIComponent(updatedComponentTemplate.name))})},clearSaveError=()=>{setSaveError(null)};let content;return isLoading?content=external_kbnSharedDeps_React_default.a.createElement(public_.SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadingDescription",defaultMessage:"Loading component template"})):error?content=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadComponentTemplateError",defaultMessage:"Error loading component template"}),color:"danger",iconType:"alert","data-test-subj":"loadComponentTemplateError"},external_kbnSharedDeps_React_default.a.createElement("div",null,error.message)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"})):componentTemplate&&(content=external_kbnSharedDeps_React_default.a.createElement(ComponentTemplateForm,{defaultValue:componentTemplate,onSave:onSave,isSaving:isSaving,saveError:saveError,clearSaveError:clearSaveError,isEditing:!0})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageBody,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageContent,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",{"data-test-subj":"pageTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.editPageTitle",defaultMessage:"Edit component template '{name}'",values:{name:decodedName}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),content))};function component_template_clone_extends(){return(component_template_clone_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const ComponentTemplateClone=props=>{const{sourceComponentTemplateName:sourceComponentTemplateName}=props.match.params,decodedSourceName=Object(public_.attemptToURIDecode)(sourceComponentTemplateName),{toasts:toasts,api:api}=useComponentTemplatesContext(),{error:error,data:componentTemplateToClone,isLoading:isLoading}=api.useLoadComponentTemplate(decodedSourceName);if(Object(external_kbnSharedDeps_React_.useEffect)(()=>{error&&!isLoading&&toasts.addError(error,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplateClone.loadComponentTemplateTitle",{defaultMessage:"Error loading component template '{sourceComponentTemplateName}'.",values:{sourceComponentTemplateName:sourceComponentTemplateName}})})},[error,isLoading]),isLoading)return external_kbnSharedDeps_React_default.a.createElement(public_.SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadingDescription",defaultMessage:"Loading component template"}));{const sourceComponentTemplate=componentTemplateToClone?{...componentTemplateToClone,name:componentTemplateToClone.name+"-copy"}:void 0;return external_kbnSharedDeps_React_default.a.createElement(ComponentTemplateCreate,component_template_clone_extends({},props,{sourceComponentTemplate:sourceComponentTemplate}))}},CreateButtonPopOver=({anchorPosition:anchorPosition="upCenter"})=>{const[isPopoverOpen,setIsPopOverOpen]=Object(external_kbnSharedDeps_React_.useState)(!1);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{id:"createComponentTemplatePanel",button:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{fill:!0,"data-test-subj":"manageTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>setIsPopOverOpen(prev=>!prev)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesFlyout.manageButtonLabel",defaultMessage:"Create"})),isOpen:isPopoverOpen,closePopover:()=>setIsPopOverOpen(!1),panelPaddingSize:"none",anchorPosition:anchorPosition,repositionOnScroll:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenu,{initialPanelId:0,panels:[{id:0,title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createContextMenuPanelTitle",{defaultMessage:"New component template"}),items:[{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createComponentTemplateFromScratchButtonLabel",{defaultMessage:"From scratch"}),icon:"plusInCircle",onClick:()=>{}},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createComponentTemplateFromExistingButtonLabel",{defaultMessage:"From existing index template"}),icon:"symlink",onClick:()=>{}}]}]}))};function FilterListButton({onChange:onChange,filters:filters}){const[isPopoverOpen,setIsPopoverOpen]=Object(external_kbnSharedDeps_React_.useState)(!1),activeFilters=Object.values(filters).filter(v=>"on"===v.checked),button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterButton,{iconType:"arrowDown",onClick:()=>{setIsPopoverOpen(!isPopoverOpen)},isSelected:isPopoverOpen,numFilters:Object.keys(filters).length,hasActiveFilters:activeFilters.length>0,numActiveFilters:activeFilters.length,"data-test-subj":"filterButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.filterButtonLabel",defaultMessage:"Filter"}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{ownFocus:!0,button:button,isOpen:isPopoverOpen,closePopover:()=>{setIsPopoverOpen(!1)},panelPaddingSize:"none","data-test-subj":"filterList"},external_kbnSharedDeps_React_default.a.createElement("div",{className:"euiFilterSelect__items"},Object.entries(filters).map(([filter,item],index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterSelectItem,{checked:item.checked,key:index,onClick:()=>(filter=>{const nextValue="on"===filters[filter].checked?"off":"on";onChange({...filters,[filter]:{...filters[filter],checked:nextValue}})})(filter),"data-test-subj":"filterItem"},item.name))))}__webpack_require__(125);const ComponentTemplatesListItem=({component:component,onViewDetail:onViewDetail,actions:actions,isSelected:isSelected=!1,dragHandleProps:dragHandleProps})=>{const hasActions=actions&&actions.length>0,isSelectedValue="function"==typeof isSelected?isSelected(component):isSelected,isDraggable=Boolean(dragHandleProps);return external_kbnSharedDeps_React_default.a.createElement("div",{className:classnames_default()("componentTemplatesListItem",{"componentTemplatesListItem--selected":isSelectedValue}),"data-test-subj":"item"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center"},isDraggable&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement("div",dragHandleProps,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{type:"grab"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,"data-test-subj":"name"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{onClick:()=>onViewDetail(component)},component.name)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"componentTemplatesListItem__contentIndicator"},external_kbnSharedDeps_React_default.a.createElement(TemplateContentIndicator,{settings:component.hasSettings,mappings:component.hasMappings,aliases:component.hasAliases})))),hasActions&&!isSelectedValue&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"xs"},actions.map((action,i)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{key:i},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:action.label},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconType:action.icon,onClick:()=>action.handler(component),"data-test-subj":"action-"+action.icon,"aria-label":action.label}))))))),isSelectedValue&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{className:"componentTemplatesListItem__checkIcon",type:"check",color:"secondary"}))};function component_templates_list_extends(){return(component_templates_list_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const ComponentTemplatesList=({components:components,listItemProps:listItemProps})=>external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"componentTemplatesList"},components.map(component=>external_kbnSharedDeps_React_default.a.createElement(ComponentTemplatesListItem,component_templates_list_extends({key:component.name,component:component},listItemProps))));__webpack_require__(134);function component_templates_escapeRegExp(text){return text.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const component_templates_i18nTexts={filters:{settings:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.indexSettingsLabel",{defaultMessage:"Index settings"}),mappings:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.mappingsLabel",{defaultMessage:"Mappings"}),aliases:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.aliasesLabel",{defaultMessage:"Aliases"})},searchBoxPlaceholder:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.searchBox.placeholder",{defaultMessage:"Search component templates"})},getInitialFilters=()=>({settings:{name:component_templates_i18nTexts.filters.settings,checked:"off"},mappings:{name:component_templates_i18nTexts.filters.mappings,checked:"off"},aliases:{name:component_templates_i18nTexts.filters.aliases,checked:"off"}}),ComponentTemplates=({isLoading:isLoading,components:components,listItemProps:listItemProps})=>{const[searchValue,setSearchValue]=Object(external_kbnSharedDeps_React_.useState)(""),[filters,setFilters]=Object(external_kbnSharedDeps_React_.useState)(getInitialFilters),filteredComponents=Object(external_kbnSharedDeps_React_.useMemo)(()=>isLoading?[]:components.filter(component=>{if("on"===filters.settings.checked&&!component.hasSettings)return!1;if("on"===filters.mappings.checked&&!component.hasMappings)return!1;if("on"===filters.aliases.checked&&!component.hasAliases)return!1;if(""===searchValue.trim())return!0;return function(searchValue,text){const pattern=`.*${searchValue.split("").map(component_templates_escapeRegExp).join(".*")}.*`;return new RegExp(pattern).test(text)}(searchValue,component.name)}).sort((a,b)=>a.name<b.name?-1:a.name>b.name?1:0),[isLoading,components,searchValue,filters]),isSearchResultEmpty=0===filteredComponents.length&&components.length>0;if(isLoading)return null;const clearSearch=()=>{setSearchValue(""),setFilters(getInitialFilters())};return external_kbnSharedDeps_React_default.a.createElement("div",{className:"componentTemplates","data-test-subj":"componentTemplates"},external_kbnSharedDeps_React_default.a.createElement("div",{className:"componentTemplates__header"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"none"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldSearch,{placeholder:component_templates_i18nTexts.searchBoxPlaceholder,value:searchValue,onChange:e=>{setSearchValue(e.target.value)},"aria-label":component_templates_i18nTexts.searchBoxPlaceholder,className:"componentTemplates__searchBox","data-test-subj":"componentTemplateSearchBox"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(FilterListButton,{filters:filters,onChange:setFilters})))),external_kbnSharedDeps_React_default.a.createElement("div",{className:classnames_default()("eui-yScrollWithShadows componentTemplates__listWrapper",{"componentTemplates__listWrapper--is-empty":isSearchResultEmpty})},isSearchResultEmpty?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"search",title:external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.searchResult.emptyPromptTitle",defaultMessage:"No components match your search"})),actions:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{onClick:clearSearch},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.searchResult.emptyPrompt.clearSearchButtonLabel",defaultMessage:"Clear search"})),"data-test-subj":"emptySearchResult"}):external_kbnSharedDeps_React_default.a.createElement(ComponentTemplatesList,{components:filteredComponents,listItemProps:listItemProps})))};function component_templates_selection_extends(){return(component_templates_selection_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const ComponentTemplatesSelection=({components:components,onReorder:onReorder,listItemProps:listItemProps})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDragDropContext,{onDragEnd:({source:source,destination:destination})=>{if(source&&destination){const items=Object(external_kbnSharedDeps_ElasticEui_.euiDragDropReorder)(components,source.index,destination.index);onReorder(items)}}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDroppable,{droppableId:"componentTemplates",spacing:"none"},components.map((component,idx)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDraggable,{spacing:"none",key:component.name,index:idx,draggableId:component.name,customDragHandle:!0},provided=>external_kbnSharedDeps_React_default.a.createElement(ComponentTemplatesListItem,component_templates_selection_extends({component:component,dragHandleProps:provided.dragHandleProps},listItemProps))))));__webpack_require__(143);const{useGlobalFlyout:component_templates_selector_useGlobalFlyout}=public_.GlobalFlyout,component_templates_selector_i18nTexts={icons:{view:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.viewItemIconLabel",{defaultMessage:"View"}),select:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.selectItemIconLabel",{defaultMessage:"Select"}),remove:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.removeItemIconLabel",{defaultMessage:"Remove"})}},ComponentTemplatesSelector=({onChange:onChange,defaultValue:defaultValue,onComponentsLoaded:onComponentsLoaded,docUri:docUri,emptyPrompt:{text:text,showCreateButton:showCreateButton}={}})=>{const{data:components,isLoading:isLoading,error:error}=useComponentTemplatesContext().api.useLoadComponentTemplates(),{addContent:addContentToGlobalFlyout,removeContent:removeContentFromGlobalFlyout}=component_templates_selector_useGlobalFlyout(),[selectedComponent,setSelectedComponent]=Object(external_kbnSharedDeps_React_.useState)(null),[componentsSelected,setComponentsSelected]=Object(external_kbnSharedDeps_React_.useState)([]),isInitialized=Object(external_kbnSharedDeps_React_.useRef)(!1),hasSelection=Object.keys(componentsSelected).length>0,hasComponents=!!(components&&components.length>0),closeComponentTemplateDetails=()=>{setSelectedComponent(null)};Object(external_kbnSharedDeps_React_.useEffect)(()=>{if(components)if(defaultValue&&defaultValue.length>0&&0===componentsSelected.length&&!1===isInitialized.current){const nextComponentsSelected=defaultValue.map(name=>components.find(comp=>comp.name===name)).filter(Boolean);setComponentsSelected(nextComponentsSelected),onChange(nextComponentsSelected.map(({name:name})=>name)),isInitialized.current=!0}else onChange(componentsSelected.map(({name:name})=>name))},[defaultValue,components,componentsSelected,onChange]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{isLoading||error||onComponentsLoaded(null!=components?components:[])},[isLoading,error,components,onComponentsLoaded]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{selectedComponent&&addContentToGlobalFlyout({id:"componentTemplateDetails",Component:ComponentTemplateDetailsFlyoutContent,props:{onClose:closeComponentTemplateDetails,componentTemplateName:selectedComponent},flyoutProps:{...component_template_details_defaultFlyoutProps,onClose:closeComponentTemplateDetails},cleanUpFunc:()=>{setSelectedComponent(null)}})},[selectedComponent,addContentToGlobalFlyout]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{selectedComponent||removeContentFromGlobalFlyout("componentTemplateDetails")},[selectedComponent,removeContentFromGlobalFlyout]);const onSelectionReorder=reorderedComponents=>{setComponentsSelected(reorderedComponents)};if(isLoading)return external_kbnSharedDeps_React_default.a.createElement(public_.SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.loadingComponentsDescription",defaultMessage:"Loading component templates"}));if(error)return external_kbnSharedDeps_React_default.a.createElement(public_.SectionError,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.loadingComponentsErrorMessage",defaultMessage:"Error loading components"}),error:error});if(hasComponents)return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{className:"componentTemplatesSelector"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{className:classnames_default()("componentTemplatesSelector__selection",{"componentTemplatesSelector__selection--is-empty":!hasSelection}),"data-test-subj":"componentTemplatesSelection"},hasSelection?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"componentTemplatesSelector__selection__header"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.selectionHeader.componentsSelectedLabel",defaultMessage:"Components selected: {count}",values:{count:external_kbnSharedDeps_React_default.a.createElement("span",{className:"componentTemplatesSelector__selection__header__count"},componentsSelected.length)}})),external_kbnSharedDeps_React_default.a.createElement("div",{className:"eui-yScrollWithShadows componentTemplatesSelector__selection__content"},external_kbnSharedDeps_React_default.a.createElement(ComponentTemplatesSelection,{components:componentsSelected,onReorder:onSelectionReorder,listItemProps:{onViewDetail:component=>{setSelectedComponent(component.name)},actions:[{label:component_templates_selector_i18nTexts.icons.remove,icon:"minusInCircle",handler:component=>{setComponentsSelected(prev=>prev.filter(({name:name})=>component.name!==name))}}]}}))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{textAlign:"center","data-test-subj":"emptyPrompt"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.noComponentSelectedLabel-1",defaultMessage:"Add component template building blocks to this template."}),external_kbnSharedDeps_React_default.a.createElement("br",null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.noComponentSelectedLabel-2",defaultMessage:"Component templates are applied in the order specified."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(ComponentTemplates,{isLoading:isLoading,components:null!=components?components:[],listItemProps:{onViewDetail:component=>{setSelectedComponent(component.name)},actions:[{label:component_templates_selector_i18nTexts.icons.select,icon:"plusInCircle",handler:component=>{setComponentsSelected(prev=>[...prev,component])}}],isSelected:component=>void 0!==componentsSelected.find(({name:name})=>component.name===name)}})));const emptyPromptBody=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement("p",null,null!=text?text:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptDescription",defaultMessage:"Components templates let you save index settings, mappings and aliases and inherit from them in index templates."}),external_kbnSharedDeps_React_default.a.createElement("br",null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:docUri,target:"_blank",external:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptLearnMoreLinkText",defaultMessage:"Learn more."}))));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"managementApp",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptTitle",defaultMessage:"You dont have any components yet"})),body:emptyPromptBody,actions:showCreateButton?external_kbnSharedDeps_React_default.a.createElement(CreateButtonPopOver,{anchorPosition:"downCenter"}):void 0,"data-test-subj":"emptyPrompt"})},step_components_i18nTexts={title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.stepTitle",defaultMessage:"Component templates (optional)"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.componentsDescription",defaultMessage:"Component templates let you save index settings, mappings and aliases and inherit from them in index templates."})},StepComponents=({defaultValue:defaultValue,onChange:onChange,esDocsBase:esDocsBase})=>{const[state,setState]=Object(external_kbnSharedDeps_React_.useState)({isLoadingComponents:!0,components:[]}),onComponentsLoaded=Object(external_kbnSharedDeps_React_.useCallback)(components=>{setState({isLoadingComponents:!1,components:components})},[]),onComponentSelectionChange=Object(external_kbnSharedDeps_React_.useCallback)(components=>{onChange({isValid:!0,validate:async()=>!0,getData:()=>components.length>0?components:void 0})},[onChange]),showHeader=!0===state.isLoadingComponents||state.components.length>0,docUri=esDocsBase+"/indices-component-template.html";return external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"stepComponents"},showHeader?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,null,external_kbnSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"stepTitle"},step_components_i18nTexts.title)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("p",null,step_components_i18nTexts.description))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"s",flush:"right",href:docUri,target:"_blank",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.docsButtonLabel",defaultMessage:"Component templates docs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"})):null,external_kbnSharedDeps_React_default.a.createElement(ComponentTemplatesSelector,{defaultValue:defaultValue,onChange:onComponentSelectionChange,onComponentsLoaded:onComponentsLoaded,docUri:docUri,emptyPrompt:{text:step_components_i18nTexts.description,showCreateButton:!1}}))},StepComponentContainer=()=>{const{defaultValue:defaultValue,updateContent:updateContent}=public_.Forms.useContent("components");return external_kbnSharedDeps_React_default.a.createElement(StepComponents,{defaultValue:defaultValue,onChange:updateContent,esDocsBase:documentationService.getEsDocsBase()})},{stripEmptyFields:steps_step_review_stripEmptyFields}=helpers_.serializers,NoneDescriptionText=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noneDescriptionText",defaultMessage:"None"}),step_review_getDescriptionText=data=>data&&Object.entries(data).length>0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.yesDescriptionText",defaultMessage:"Yes"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noDescriptionText",defaultMessage:"No"}),PreviewTab=({template:template})=>external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"previewTab"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.previewTab.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices. Component templates are applied in the order specified. Explicit mappings, settings, and aliases override the component templates."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(SimulateTemplate,{template:template})),step_review_StepReview=external_kbnSharedDeps_React_default.a.memo(({template:template,navigateToStep:navigateToStep})=>{const{name:name,indexPatterns:indexPatterns,version:version,order:order,priority:priority,composedOf:composedOf,_meta:_meta,_kbnMeta:{isLegacy:isLegacy}}=template,serializedTemplate=isLegacy?Object(common_lib.c)(steps_step_review_stripEmptyFields(template,{types:["string"]})):Object(common_lib.d)(steps_step_review_stripEmptyFields(template,{types:["string"]})),serializedMappings=Object(common.getTemplateParameter)(serializedTemplate,"mappings"),serializedSettings=Object(common.getTemplateParameter)(serializedTemplate,"settings"),serializedAliases=Object(common.getTemplateParameter)(serializedTemplate,"aliases"),numIndexPatterns=indexPatterns.length,hasWildCardIndexPattern=Boolean(indexPatterns.find(pattern=>"*"===pattern)),SummaryTab=()=>external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"summaryTab"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{textStyle:"reverse"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsLabel",defaultMessage:"Index {numIndexPatterns, plural, one {pattern} other {patterns}}",values:{numIndexPatterns:numIndexPatterns}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,numIndexPatterns>1?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("ul",null,indexPatterns.map((indexName,i)=>external_kbnSharedDeps_React_default.a.createElement("li",{key:`${indexName}-${i}`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,indexName)))))):indexPatterns.toString()),isLegacy?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.orderLabel",defaultMessage:"Order"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,order||external_kbnSharedDeps_React_default.a.createElement(NoneDescriptionText,null))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.priorityLabel",defaultMessage:"Priority"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,priority||external_kbnSharedDeps_React_default.a.createElement(NoneDescriptionText,null))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.versionLabel",defaultMessage:"Version"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,version||external_kbnSharedDeps_React_default.a.createElement(NoneDescriptionText,null)),!0!==isLegacy&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.componentsLabel",defaultMessage:"Component templates"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,composedOf&&composedOf.length>0?composedOf.length>1?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("ul",null,composedOf.map((component,i)=>external_kbnSharedDeps_React_default.a.createElement("li",{key:`${component}-${i}`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,component)))))):composedOf.toString():external_kbnSharedDeps_React_default.a.createElement(NoneDescriptionText,null))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{textStyle:"reverse"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.settingsLabel",defaultMessage:"Index settings"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,step_review_getDescriptionText(serializedSettings)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.mappingLabel",defaultMessage:"Mappings"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,step_review_getDescriptionText(serializedMappings)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.aliasesLabel",defaultMessage:"Aliases"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,step_review_getDescriptionText(serializedAliases)),!0!==isLegacy&&_meta&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.metaLabel",defaultMessage:"Metadata"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{lang:"json"},JSON.stringify(_meta,null,2)))))))),RequestTab=()=>{var _template;const includeTypeName=doMappingsHaveType(null===(_template=template.template)||void 0===_template?void 0:_template.mappings),request=`${`PUT ${isLegacy?"_template":"_index_template"}/${name||"<templateName>"}${includeTypeName?"?include_type_name":""}`}\n${JSON.stringify(serializedTemplate,null,2)}`,language=request.length<6e4?"json":void 0;return external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"requestTab"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.requestTab.descriptionText",defaultMessage:"This request will create the following index template."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{language:language,isCopyable:!0},request))},tabs=[{id:"summary",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:external_kbnSharedDeps_React_default.a.createElement(SummaryTab,null)},{id:"request",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepReview.requestTabTitle",{defaultMessage:"Request"}),content:external_kbnSharedDeps_React_default.a.createElement(RequestTab,null)}];return isLegacy||tabs.splice(1,0,{id:"preview",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.stepReview.previewTabTitle",{defaultMessage:"Preview"}),content:external_kbnSharedDeps_React_default.a.createElement(PreviewTab,{template:template})}),external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"stepSummary"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,null,external_kbnSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"stepTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.stepTitle",defaultMessage:"Review details for '{templateName}'",values:{templateName:name}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),hasWildCardIndexPattern?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningTitle",defaultMessage:"This template uses a wildcard (*) as an index pattern."}),color:"warning",iconType:"help","data-test-subj":"indexPatternsWarning"},external_kbnSharedDeps_React_default.a.createElement("p",{"data-test-subj":"indexPatternsWarningDescription"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningDescription",defaultMessage:"All new indices that you create will use this template."})," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{onClick:navigateToStep.bind(null,"logistics")},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningLinkText",defaultMessage:"Edit index patterns."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"})):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTabbedContent,{"data-test-subj":"summaryTabContent",tabs:tabs}))}),step_review_container_StepReviewContainer=external_kbnSharedDeps_React_default.a.memo(({getTemplateData:getTemplateData})=>{const{navigateToStep:navigateToStep}=public_.Forms.useFormWizardContext(),{getData:getData}=public_.Forms.useMultiContentContext(),template=getTemplateData(getData());return external_kbnSharedDeps_React_default.a.createElement(step_review_StepReview,{template:template,navigateToStep:navigateToStep})}),{stripEmptyFields:template_form_stripEmptyFields}=helpers_.serializers,{FormWizard:template_form_FormWizard,FormWizardStep:template_form_FormWizardStep}=public_.Forms,{useGlobalFlyout:template_form_useGlobalFlyout}=public_.GlobalFlyout,template_form_wizardSections={logistics:{id:"logistics",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.steps.logisticsStepName",{defaultMessage:"Logistics"})},components:{id:"components",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.steps.componentsStepName",{defaultMessage:"Component templates"})},settings:{id:"settings",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.steps.settingsStepName",{defaultMessage:"Index settings"})},mappings:{id:"mappings",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.steps.mappingsStepName",{defaultMessage:"Mappings"})},aliases:{id:"aliases",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.steps.aliasesStepName",{defaultMessage:"Aliases"})},review:{id:"review",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateForm.steps.summaryStepName",{defaultMessage:"Review template"})}},TemplateForm=({title:title,defaultValue:defaultValue,isEditing:isEditing,isSaving:isSaving,isLegacy:isLegacy=!1,saveError:saveError,clearSaveError:clearSaveError,onSave:onSave})=>{const[wizardContent,setWizardContent]=Object(external_kbnSharedDeps_React_.useState)(null),{addContent:addContentToGlobalFlyout,closeFlyout:closeFlyout}=template_form_useGlobalFlyout(),simulateTemplateFilters=Object(external_kbnSharedDeps_React_.useRef)({mappings:!0,settings:!0,aliases:!0}),indexTemplate=null!=defaultValue?defaultValue:{name:"",indexPatterns:[],template:{},_kbnMeta:{type:"default",hasDatastream:!1,isLegacy:isLegacy}},{template:{settings:settings,mappings:mappings,aliases:aliases}={},composedOf:composedOf,_kbnMeta:_kbnMeta,...logistics}=indexTemplate,wizardDefaultValue={logistics:logistics,settings:settings,mappings:mappings,aliases:aliases,components:indexTemplate.composedOf},i18nTexts={save:isEditing?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.saveButtonLabel",defaultMessage:"Save template"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.createButtonLabel",defaultMessage:"Create template"})},apiError=saveError?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.saveTemplateError",defaultMessage:"Unable to create template"}),error:saveError,"data-test-subj":"saveTemplateError"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"})):null,buildTemplateObject=Object(external_kbnSharedDeps_React_.useCallback)(initialTemplate=>wizardData=>(template=>{const outputTemplate={...template};return outputTemplate.template&&(void 0===outputTemplate.template.settings&&delete outputTemplate.template.settings,void 0===outputTemplate.template.mappings&&delete outputTemplate.template.mappings,void 0===outputTemplate.template.aliases&&delete outputTemplate.template.aliases,0===Object.keys(outputTemplate.template).length&&delete outputTemplate.template),outputTemplate})({...wizardData.logistics,_kbnMeta:initialTemplate._kbnMeta,composedOf:wizardData.components,template:{settings:wizardData.settings,mappings:wizardData.mappings,aliases:wizardData.aliases}}),[]),onWizardContentChange=Object(external_kbnSharedDeps_React_.useCallback)(content=>{setWizardContent(content)},[]),onSaveTemplate=Object(external_kbnSharedDeps_React_.useCallback)(async wizardData=>{const template=buildTemplateObject(indexTemplate)(wizardData);onSave(template_form_stripEmptyFields(template,{types:["string"]})),clearSaveError()},[indexTemplate,buildTemplateObject,onSave,clearSaveError]),getSimulateTemplate=Object(external_kbnSharedDeps_React_.useCallback)(async()=>{if(!wizardContent)return;if(!await wizardContent.validate())return;const wizardData=wizardContent.getData();return buildTemplateObject(indexTemplate)(wizardData)},[buildTemplateObject,indexTemplate,wizardContent]),onSimulateTemplateFiltersChange=Object(external_kbnSharedDeps_React_.useCallback)(filters=>{simulateTemplateFilters.current=filters},[]),showPreviewFlyout=()=>{addContentToGlobalFlyout({id:"simulateTemplate",Component:SimulateTemplateFlyoutContent,props:{getTemplate:getSimulateTemplate,onClose:closeFlyout,filters:simulateTemplateFilters.current,onFiltersChange:onSimulateTemplateFiltersChange},flyoutProps:simulate_template_flyout_defaultFlyoutProps})};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,title,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(template_form_FormWizard,{defaultValue:wizardDefaultValue,onSave:onSaveTemplate,isEditing:isEditing,isSaving:isSaving,apiError:apiError,texts:i18nTexts,onChange:onWizardContentChange,rightContentNav:stepId=>isLegacy||"logistics"===stepId||"review"===stepId?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{size:"s",onClick:showPreviewFlyout},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateForm.previewIndexTemplateButtonLabel",defaultMessage:"Preview index template"}))},external_kbnSharedDeps_React_default.a.createElement(template_form_FormWizardStep,{id:template_form_wizardSections.logistics.id,label:template_form_wizardSections.logistics.label,isRequired:!0},external_kbnSharedDeps_React_default.a.createElement(StepLogisticsContainer,{isEditing:isEditing,isLegacy:indexTemplate._kbnMeta.isLegacy})),!0!==indexTemplate._kbnMeta.isLegacy&&external_kbnSharedDeps_React_default.a.createElement(template_form_FormWizardStep,{id:template_form_wizardSections.components.id,label:template_form_wizardSections.components.label},external_kbnSharedDeps_React_default.a.createElement(StepComponentContainer,null)),external_kbnSharedDeps_React_default.a.createElement(template_form_FormWizardStep,{id:template_form_wizardSections.settings.id,label:template_form_wizardSections.settings.label},external_kbnSharedDeps_React_default.a.createElement(StepSettingsContainer,{esDocsBase:documentationService.getEsDocsBase()})),external_kbnSharedDeps_React_default.a.createElement(template_form_FormWizardStep,{id:template_form_wizardSections.mappings.id,label:template_form_wizardSections.mappings.label},external_kbnSharedDeps_React_default.a.createElement(StepMappingsContainer,{esDocsBase:documentationService.getEsDocsBase()})),external_kbnSharedDeps_React_default.a.createElement(template_form_FormWizardStep,{id:template_form_wizardSections.aliases.id,label:template_form_wizardSections.aliases.label},external_kbnSharedDeps_React_default.a.createElement(StepAliasesContainer,{esDocsBase:documentationService.getEsDocsBase()})),external_kbnSharedDeps_React_default.a.createElement(template_form_FormWizardStep,{id:template_form_wizardSections.review.id,label:template_form_wizardSections.review.label},external_kbnSharedDeps_React_default.a.createElement(step_review_container_StepReviewContainer,{getTemplateData:buildTemplateObject(indexTemplate)}))))},healthToColor=health=>{switch(health){case"green":return"success";case"yellow":return"warning";case"red":return"danger"}},DataHealth=({health:health})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHealth,{color:healthToColor(health)},health);var routing=__webpack_require__(3);const DeleteDataStreamConfirmationModal=({dataStreams:dataStreams,onClose:onClose})=>{const dataStreamsCount=dataStreams.length;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteDataStreamsConfirmation",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.modalTitleText",defaultMessage:"Delete {dataStreamsCount, plural, one {data stream} other {# data streams}}",values:{dataStreamsCount:dataStreamsCount}}),onCancel:()=>onClose(),onConfirm:()=>{(async function(dataStreams){return use_request_sendRequest({path:constants.a+"/delete_data_streams",method:"post",body:{dataStreams:dataStreams}})})(dataStreams).then(({data:{dataStreamsDeleted:dataStreamsDeleted,errors:errors},error:error})=>{const hasDeletedDataStreams=dataStreamsDeleted&&dataStreamsDeleted.length;if(hasDeletedDataStreams){const successMessage=1===dataStreamsDeleted.length?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted data stream '{dataStreamName}'",values:{dataStreamName:dataStreams[0]}}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# data stream} other {# data streams}}",values:{numSuccesses:dataStreamsDeleted.length}});onClose({hasDeletedDataStreams:hasDeletedDataStreams}),notificationService.showSuccessToast(successMessage)}if(error||errors&&errors.length){const errorMessage=errors&&errors.length>1||error&&dataStreams.length>1?external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} data streams",values:{count:errors&&errors.length||dataStreams.length}}):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.errorNotificationMessageText",{defaultMessage:"Error deleting data stream '{name}'",values:{name:errors&&errors[0].name||dataStreams[0]}});notificationService.showDangerToast(errorMessage)}})},cancelButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.confirmButtonLabel",defaultMessage:"Delete {dataStreamsCount, plural, one {data stream} other {data streams} }",values:{dataStreamsCount:dataStreamsCount}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.warningTitle",defaultMessage:"Deleting data streams also deletes indices"}),color:"danger",iconType:"alert"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.warningMessage",defaultMessage:"Data streams are collections of time series indices. Deleting a data stream will also delete its indices."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.deleteDescription",defaultMessage:"You are about to delete {dataStreamsCount, plural, one {this data stream} other {these data streams} }:",values:{dataStreamsCount:dataStreamsCount}})),external_kbnSharedDeps_React_default.a.createElement("ul",null,dataStreams.map(name=>external_kbnSharedDeps_React_default.a.createElement("li",{key:name},name)))))};var external_kbnSharedDeps_Moment_=__webpack_require__(34),external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);const humanizeTimeStamp=timeStamp=>external_kbnSharedDeps_Moment_default()(timeStamp).format("MMMM Do, YYYY h:mm:ss A"),isFleetManaged=dataStream=>{var _dataStream$_meta,_dataStream$_meta2;return Boolean((null===(_dataStream$_meta=dataStream._meta)||void 0===_dataStream$_meta?void 0:_dataStream$_meta.managed)&&"ingest-manager"===(null===(_dataStream$_meta2=dataStream._meta)||void 0===_dataStream$_meta2?void 0:_dataStream$_meta2.managed_by))},DataStreamsBadges=({dataStream:dataStream})=>{const badges=[];return isFleetManaged(dataStream)&&badges.push(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:"hollow",key:"managed"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.managedDataStreamBadge",defaultMessage:"Fleet-managed"}))),dataStream.hidden&&badges.push(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:"hollow",key:"hidden"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.hiddenDataStreamBadge",defaultMessage:"Hidden"}))),badges.length>0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,"",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadgeGroup,null,badges)):null};function data_stream_table_extends(){return(data_stream_table_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const DataStreamTable=({dataStreams:dataStreams,reload:reload,history:history,filters:filters,includeStats:includeStats})=>{const[selection,setSelection]=Object(external_kbnSharedDeps_React_.useState)([]),[dataStreamsToDelete,setDataStreamsToDelete]=Object(external_kbnSharedDeps_React_.useState)([]),columns=[];columns.push({field:"name",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.table.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(name,dataStream)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,data_stream_table_extends({"data-test-subj":"nameLink"},Object(kibanaReact_public_.reactRouterNavigate)(history,Object(routing.a)(name))),name),external_kbnSharedDeps_React_default.a.createElement(DataStreamsBadges,{dataStream:dataStream}))}),columns.push({field:"health",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.table.healthColumnTitle",{defaultMessage:"Health"}),truncateText:!0,sortable:!0,render:health=>external_kbnSharedDeps_React_default.a.createElement(DataHealth,{health:health}),width:"100px"}),includeStats&&(columns.push({field:"maxTimeStamp",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.table.maxTimeStampColumnTitle",{defaultMessage:"Last updated"}),width:"300px",truncateText:!0,sortable:!0,render:maxTimeStamp=>maxTimeStamp?humanizeTimeStamp(maxTimeStamp):external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.table.maxTimeStampColumnNoneMessage",{defaultMessage:"Never"})}),columns.push({field:"storageSizeBytes",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.table.storageSizeColumnTitle",{defaultMessage:"Storage size"}),truncateText:!0,sortable:!0,render:(storageSizeBytes,dataStream)=>dataStream.storageSize})),columns.push({field:"indices",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.table.indicesColumnTitle",{defaultMessage:"Indices"}),truncateText:!0,sortable:!0,render:(indices,dataStream)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,data_stream_table_extends({"data-test-subj":"indicesLink"},Object(kibanaReact_public_.reactRouterNavigate)(history,Object(routing.b)(`data_stream="${dataStream.name}"`,!0))),indices.length)}),columns.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionColumnTitle",{defaultMessage:"Actions"}),actions:[{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionDeleteText",{defaultMessage:"Delete"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionDeleteDescription",{defaultMessage:"Delete this data stream"}),icon:"trash",color:"danger",type:"icon",onClick:({name:name})=>{setDataStreamsToDelete([name])},isPrimary:!0,"data-test-subj":"deleteDataStream",available:({privileges:{delete_index:deleteIndex}})=>deleteIndex}]});const selectionConfig={onSelectionChange:setSelection},searchConfig={query:filters,box:{incremental:!0},toolsLeft:selection.length>0&&selection.every(dataStream=>dataStream.privileges.delete_index)?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{"data-test-subj":"deleteDataStreamsButton",onClick:()=>setDataStreamsToDelete(selection.map(({name:name})=>name)),color:"danger"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.deleteDataStreamsButtonLabel",defaultMessage:"Delete {count, plural, one {data stream} other {data streams} }",values:{count:selection.length}})):void 0,toolsRight:[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{color:"secondary",iconType:"refresh",onClick:reload,"data-test-subj":"reloadButton",key:"reloadButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.reloadDataStreamsButtonLabel",defaultMessage:"Reload"}))]};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,dataStreamsToDelete&&dataStreamsToDelete.length>0?external_kbnSharedDeps_React_default.a.createElement(DeleteDataStreamConfirmationModal,{onClose:data=>{data&&data.hasDeletedDataStreams?reload():setDataStreamsToDelete([])},dataStreams:dataStreamsToDelete}):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiInMemoryTable,{items:dataStreams||[],itemId:"name",columns:columns,search:searchConfig,sorting:{sort:{field:"name",direction:"asc"}},isSelectable:!0,selection:selectionConfig,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"dataStreamTable",message:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.noDataStreamsMessage",defaultMessage:"No data streams found"}),tableLayout:"auto"}))},useUrlGenerator=({urlGeneratorId:urlGeneratorId,urlGeneratorState:urlGeneratorState})=>{const{urlGenerators:urlGenerators}=useAppContext(),[link,setLink]=Object(external_kbnSharedDeps_React_.useState)();return Object(external_kbnSharedDeps_React_.useEffect)(()=>{(async()=>{let urlGenerator;try{urlGenerator=urlGenerators.getUrlGenerator(urlGeneratorId);const url=await urlGenerator.createUrl(urlGeneratorState);setLink(url)}catch(e){}})()},[urlGeneratorId,urlGeneratorState,urlGenerators]),link};function data_stream_detail_panel_extends(){return(data_stream_detail_panel_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const DetailsList=({details:details})=>{const groups=[];let items;return details.forEach((detail,index)=>{const{name:name,toolTip:toolTip,content:content}=detail;index%2==0&&(items=[],groups.push(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{key:groups.length},items))),items.push(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{key:name},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},name),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},toolTip&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIconTip,{content:toolTip,position:"top"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,content)))}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{textStyle:"reverse"},groups)},DataStreamDetailPanel=({dataStreamName:dataStreamName,onClose:onClose})=>{const{error:error,data:dataStream,isLoading:isLoading}=(name=dataStreamName,use_request_useRequest({path:`${constants.a}/data_streams/${encodeURIComponent(name)}`,method:"get"}));var name;const[isDeleting,setIsDeleting]=Object(external_kbnSharedDeps_React_.useState)(!1),ilmPolicyLink=useUrlGenerator({urlGeneratorId:"ILM_URL_GENERATOR_ID",urlGeneratorState:{page:"policy_edit",policyName:null==dataStream?void 0:dataStream.ilmPolicyName}}),{history:history}=useAppContext();let content;if(isLoading)content=external_kbnSharedDeps_React_default.a.createElement(SectionLoading,null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.loadingDataStreamDescription",{defaultMessage:"Loading data stream"}));else if(error)content=external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.loadingDataStreamErrorMessage",{defaultMessage:"Error loading data stream"}),error:error,"data-test-subj":"sectionError"});else if(dataStream){const{health:health,indices:indices,timeStampField:timeStampField,generation:generation,indexTemplateName:indexTemplateName,ilmPolicyName:ilmPolicyName,storageSize:storageSize,maxTimeStamp:maxTimeStamp}=dataStream,details=[{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.healthTitle",{defaultMessage:"Health"}),toolTip:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.healthToolTip",{defaultMessage:"The health of the data stream's current backing indices"}),content:external_kbnSharedDeps_React_default.a.createElement(DataHealth,{health:health})},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampTitle",{defaultMessage:"Last updated"}),toolTip:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampToolTip",{defaultMessage:"The most recent document to be added to the data stream"}),content:maxTimeStamp?humanizeTimeStamp(maxTimeStamp):external_kbnSharedDeps_React_default.a.createElement("em",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampNoneMessage",{defaultMessage:"Never"}))},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.storageSizeTitle",{defaultMessage:"Storage size"}),toolTip:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.storageSizeToolTip",{defaultMessage:"Total size of all shards in the data streams backing indices"}),content:storageSize},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indicesTitle",{defaultMessage:"Indices"}),toolTip:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indicesToolTip",{defaultMessage:"The data stream's current backing indices"}),content:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,Object(kibanaReact_public_.reactRouterNavigate)(history,Object(routing.b)(`data_stream="${dataStreamName}"`,!0)),indices.length)},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.timestampFieldTitle",{defaultMessage:"Timestamp field"}),toolTip:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.timestampFieldToolTip",{defaultMessage:"Timestamp field shared by all documents in the data stream"}),content:timeStampField.name},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.generationTitle",{defaultMessage:"Generation"}),toolTip:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.generationToolTip",{defaultMessage:"Cumulative count of backing indices created for the data stream"}),content:generation},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indexTemplateTitle",{defaultMessage:"Index template"}),toolTip:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indexTemplateToolTip",{defaultMessage:"The index template that configured the data stream and configures its backing indices"}),content:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,data_stream_detail_panel_extends({"data-test-subj":"indexTemplateLink"},Object(kibanaReact_public_.reactRouterNavigate)(history,Object(routing.d)(indexTemplateName))),indexTemplateName)},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyTitle",{defaultMessage:"Index lifecycle policy"}),toolTip:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyToolTip",{defaultMessage:"The index lifecycle policy that manages the data stream's data"}),content:ilmPolicyName&&ilmPolicyLink?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{"data-test-subj":"ilmPolicyLink",href:ilmPolicyLink},ilmPolicyName):ilmPolicyName||external_kbnSharedDeps_React_default.a.createElement("em",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyContentNoneMessage",{defaultMessage:"None"}))}];content=external_kbnSharedDeps_React_default.a.createElement(DetailsList,{details:details})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,isDeleting?external_kbnSharedDeps_React_default.a.createElement(DeleteDataStreamConfirmationModal,{onClose:data=>{data&&data.hasDeletedDataStreams?onClose(!0):setIsDeleting(!1)},dataStreams:[dataStreamName]}):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyout,{onClose:onClose,"data-test-subj":"dataStreamDetailPanel","aria-labelledby":"dataStreamDetailPanelTitle",size:"m",maxWidth:500},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",{id:"dataStreamDetailPanelTitle","data-test-subj":"dataStreamDetailPanelTitle"},dataStreamName,dataStream&&external_kbnSharedDeps_React_default.a.createElement(DataStreamsBadges,{dataStream:dataStream})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutBody,{"data-test-subj":"content"},content),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutFooter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:()=>onClose(),"data-test-subj":"closeDetailsButton"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.closeButtonLabel",{defaultMessage:"Close"}))),isLoading||error||null==dataStream||!dataStream.privileges.delete_index?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{color:"danger",iconType:"trash",onClick:()=>setIsDeleting(!0),"data-test-subj":"deleteDataStreamButton"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.deleteButtonLabel",{defaultMessage:"Delete data stream"})))))))};function filter_list_button_FilterListButton({onChange:onChange,filters:filters}){const[isPopoverOpen,setIsPopoverOpen]=Object(external_kbnSharedDeps_React_.useState)(!1),activeFilters=Object.values(filters).filter(v=>"on"===v.checked),button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterButton,{iconType:"arrowDown",onClick:()=>{setIsPopoverOpen(!isPopoverOpen)},isSelected:isPopoverOpen,numFilters:Object.keys(filters).length,hasActiveFilters:activeFilters.length>0,numActiveFilters:activeFilters.length,"data-test-subj":"viewButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.viewButtonLabel",defaultMessage:"View"}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterGroup,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{ownFocus:!0,button:button,isOpen:isPopoverOpen,closePopover:()=>{setIsPopoverOpen(!1)},panelPaddingSize:"none","data-test-subj":"filterList"},external_kbnSharedDeps_React_default.a.createElement("div",{className:"euiFilterSelect__items"},Object.entries(filters).map(([filter,item],index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterSelectItem,{checked:item.checked,key:index,onClick:()=>(filter=>{const previousValue=filters[filter].checked;onChange({...filters,[filter]:{...filters[filter],checked:"on"===previousValue?"off":"on"}})})(filter),"data-test-subj":"filterItem"},item.name)))))}function data_stream_list_extends(){return(data_stream_list_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const DataStreamList=({match:{params:{dataStreamName:dataStreamName}},location:{search:search},history:history})=>{const{isDeepLink:isDeepLink,includeHidden:includeHidden}=Object(public_.extractQueryParams)(search),decodedDataStreamName=Object(public_.attemptToURIDecode)(dataStreamName),{core:{getUrlForApp:getUrlForApp},plugins:{isFleetEnabled:isFleetEnabled}}=useAppContext(),[isIncludeStatsChecked,setIsIncludeStatsChecked]=Object(external_kbnSharedDeps_React_.useState)(!1),{error:error,isLoading:isLoading,data:dataStreams,resendRequest:reload}=function({includeStats:includeStats}){return use_request_useRequest({path:constants.a+"/data_streams",method:"get",query:{includeStats:includeStats}})}({includeStats:isIncludeStatsChecked}),[filters,setFilters]=Object(external_kbnSharedDeps_React_.useState)({managed:{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.viewManagedLabel",{defaultMessage:"Fleet-managed data streams"}),checked:"on"},hidden:{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.viewHiddenLabel",{defaultMessage:"Hidden data streams"}),checked:includeHidden?"on":"off"}}),filteredDataStreams=Object(external_kbnSharedDeps_React_.useMemo)(()=>{if(!dataStreams)return[];const visibleTypes=Object.entries(filters).filter(([name,_filter])=>"on"===_filter.checked).map(([name])=>name);return((dataStreams,visibleTypes)=>dataStreams.filter(dataStream=>!dataStream.hidden&&!isFleetManaged(dataStream)||(!(!dataStream.hidden||!visibleTypes.includes("hidden"))||isFleetManaged(dataStream)&&visibleTypes.includes("managed"))))(dataStreams,visibleTypes)},[dataStreams,filters]);let content;return isLoading?content=external_kbnSharedDeps_React_default.a.createElement(SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.loadingDataStreamsDescription",defaultMessage:"Loading data streams"})):error?content=external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.loadingDataStreamsErrorMessage",defaultMessage:"Error loading data streams"}),error:error}):Array.isArray(dataStreams)&&0===dataStreams.length?content=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"managementApp",title:external_kbnSharedDeps_React_default.a.createElement("h1",{"data-test-subj":"title"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsTitle",defaultMessage:"You don't have any data streams yet"})),body:external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsDescription",defaultMessage:"Data streams store time-series data across multiple indices."})," ",isFleetEnabled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIngestManagerMessage",defaultMessage:"Get started with data streams in {link}.",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{"data-test-subj":"dataStreamsEmptyPromptTemplateLink",href:getUrlForApp("fleet")},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIngestManagerLink",{defaultMessage:"Fleet"}))}}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIndexTemplateMessage",defaultMessage:"Get started with data streams by creating a {link}.",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,data_stream_list_extends({"data-test-subj":"dataStreamsEmptyPromptTemplateLink"},Object(kibanaReact_public_.reactRouterNavigate)(history,{pathname:"/templates"})),external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIndexTemplateLink",{defaultMessage:"composable index template"}))}})),"data-test-subj":"emptyPrompt"}):Array.isArray(dataStreams)&&dataStreams.length>0&&(((dataStreams,selectedDataStreamName)=>{var _dataStreams$find;return!!selectedDataStreamName&&!(null===(_dataStreams$find=dataStreams.find(dataStream=>dataStream.name===selectedDataStreamName))||void 0===_dataStreams$find||!_dataStreams$find.hidden)})(dataStreams,decodedDataStreamName)&&"off"===filters.hidden.checked&&setFilters({...filters,hidden:{...filters.hidden,checked:"on"}}),content=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.dataStreamsDescription",defaultMessage:"Data streams store time-series data across multiple indices. {learnMoreLink}",values:{learnMoreLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getDataStreamsDocumentationLink(),target:"_blank",external:!0},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamListDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSwitch,{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamListControls.includeStatsSwitchLabel",{defaultMessage:"Include stats"}),checked:isIncludeStatsChecked,onChange:e=>setIsIncludeStatsChecked(e.target.checked),"data-test-subj":"includeStatsSwitch"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIconTip,{content:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.dataStreamListControls.includeStatsSwitchToolTip",{defaultMessage:"Including stats can increase reload times"}),position:"top"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(filter_list_button_FilterListButton,{filters:filters,onChange:setFilters}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(DataStreamTable,{filters:isDeepLink&&void 0!==decodedDataStreamName?`name="${decodedDataStreamName}"`:"",dataStreams:filteredDataStreams,reload:reload,history:history,includeStats:isIncludeStatsChecked}))),external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"dataStreamList"},content,decodedDataStreamName&&external_kbnSharedDeps_React_default.a.createElement(DataStreamDetailPanel,{dataStreamName:decodedDataStreamName,onClose:shouldReload=>{history.push("/"+Section.DataStreams),shouldReload&&reload()}}))},renderBadges=(index,filterChanged,extensionsService)=>{const badgeLabels=[];return extensionsService.badges.forEach(({matchIndex:matchIndex,label:label,color:color,filterExpression:filterExpression})=>{if(matchIndex(index)){const clickHandler=()=>{filterChanged&&filterExpression&&filterChanged(external_kbnSharedDeps_ElasticEui_.EuiSearchBar.Query.parse(filterExpression))},ariaLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.badgeAriaLabel",{defaultMessage:"{label}. Select to filter on this.",values:{label:label}});badgeLabels.push(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,{key:label}," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:color,onClick:clickHandler,onClickAriaLabel:ariaLabel},label)))}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,badgeLabels)},flattenPanelTree=(tree,array=[])=>(array.push(tree),tree.items&&tree.items.forEach(item=>{item.panel&&(flattenPanelTree(item.panel,array),item.panel=item.panel.id)}),array);function index_actions_context_menu_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class index_actions_context_menu_IndexActionsContextMenu extends external_kbnSharedDeps_React_.Component{constructor(props){super(props),index_actions_context_menu_defineProperty(this,"closeConfirmModal",()=>{this.setState({renderConfirmModal:null}),this.props.resetSelection&&this.props.resetSelection()}),index_actions_context_menu_defineProperty(this,"confirmAction",isActionConfirmed=>{this.setState({isActionConfirmed:isActionConfirmed})}),index_actions_context_menu_defineProperty(this,"onButtonClick",()=>{this.setState(prevState=>({isPopoverOpen:!prevState.isPopoverOpen}))}),index_actions_context_menu_defineProperty(this,"closePopoverAndExecute",func=>{this.setState({isPopoverOpen:!1,renderConfirmModal:!1}),func(),this.props.resetSelection&&this.props.resetSelection()}),index_actions_context_menu_defineProperty(this,"closePopover",()=>{this.setState({isPopoverOpen:!1})}),index_actions_context_menu_defineProperty(this,"forcemergeSegmentsError",()=>{const{forcemergeSegments:forcemergeSegments}=this.state;return!forcemergeSegments||forcemergeSegments.match(/^([1-9][0-9]*)?$/)?void 0:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.segmentsNumberErrorMessage",{defaultMessage:"The number of segments must be greater than zero."})}),index_actions_context_menu_defineProperty(this,"renderForcemergeSegmentsModal",()=>{const{forcemergeIndices:forcemergeIndices,indexNames:indexNames}=this.props,helpText=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeSegmentsHelpText",{defaultMessage:"Merge the segments in an index until the number is reduced to this or fewer segments. The default is 1."}),selectedIndexCount=indexNames.length;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiConfirmModal,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.modalTitle",{defaultMessage:"Force merge"}),onCancel:this.closeConfirmModal,onConfirm:()=>{this.forcemergeSegmentsError()||this.closePopoverAndExecute(()=>{forcemergeIndices(this.state.forcemergeSegments),this.setState({forcemergeSegments:null,showForcemergeSegmentsModal:null})})},cancelButtonText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.confirmButtonText",{defaultMessage:"Force merge"})},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeDescription",defaultMessage:"You are about to force merge {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:selectedIndexCount}})),external_kbnSharedDeps_React_default.a.createElement("ul",null,indexNames.map(indexName=>external_kbnSharedDeps_React_default.a.createElement("li",{key:indexName},indexName))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.proceedWithCautionCallOutTitle",{defaultMessage:"Proceed with caution!"}),color:"warning",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeWarningDescription",defaultMessage:" Don't force-merge indices to which you're still writing, or to which you'll write again in the future. Instead, rely on the automatic background merge process to perform merges as needed to keep the index running smoothly. If you write to a force-merged index then its performance may become much worse. "}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiForm,{isInvalid:!!this.forcemergeSegmentsError(),error:this.forcemergeSegmentsError()},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.maximumNumberOfSegmentsFormRowLabel",{defaultMessage:"Maximum number of segments per shard"}),helpText:helpText},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldNumber,{onChange:event=>{this.setState({forcemergeSegments:event.target.value})},min:1,name:"maxNumberSegments"}))))}),index_actions_context_menu_defineProperty(this,"renderConfirmDeleteModal",()=>{const{deleteIndices:deleteIndices,indexNames:indexNames,hasSystemIndex:hasSystemIndex,isSystemIndexByName:isSystemIndexByName}=this.props,{isActionConfirmed:isActionConfirmed}=this.state,selectedIndexCount=indexNames.length,standardIndexModalBody=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteDescription",defaultMessage:"You are about to delete {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:selectedIndexCount}})),external_kbnSharedDeps_React_default.a.createElement("ul",null,indexNames.map(indexName=>external_kbnSharedDeps_React_default.a.createElement("li",{key:indexName},indexName))),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteWarningDescription",defaultMessage:"You can't recover a deleted index. Make sure you have appropriate backups."}))),systemIndexModalBody=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteDescription",defaultMessage:"You are about to delete {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:selectedIndexCount}})),external_kbnSharedDeps_React_default.a.createElement("ul",null,indexNames.map(indexName=>external_kbnSharedDeps_React_default.a.createElement("li",{key:indexName},indexName,isSystemIndexByName[indexName]?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{iconType:"alert",color:"hollow"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.systemIndexLabel",defaultMessage:"System index"}))):""))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.proceedWithCautionCallOutTitle",{defaultMessage:"Deleting a system index can break Kibana"}),color:"danger",iconType:"alert"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.proceedWithCautionCallOutDescription",defaultMessage:"System indices are critical for internal operations. If you delete a system index, you can't recover it. Make sure you have appropriate backups."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCheckbox,{id:"confirmDeleteIndicesCheckbox",label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.checkboxLabel",defaultMessage:"I understand the consequences of deleting a system index"}),checked:isActionConfirmed,onChange:e=>this.confirmAction(e.target.checked)})));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiConfirmModal,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.modalTitle",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {# indices} }",values:{selectedIndexCount:selectedIndexCount}}),onCancel:()=>{this.confirmAction(!1),this.closeConfirmModal()},onConfirm:()=>this.closePopoverAndExecute(deleteIndices),buttonColor:"danger",confirmButtonDisabled:!!hasSystemIndex&&!isActionConfirmed,cancelButtonText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.confirmButtonText",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}})},hasSystemIndex?systemIndexModalBody:standardIndexModalBody)}),index_actions_context_menu_defineProperty(this,"renderConfirmCloseModal",()=>{const{closeIndices:closeIndices,indexNames:indexNames,isSystemIndexByName:isSystemIndexByName}=this.props,{isActionConfirmed:isActionConfirmed}=this.state,selectedIndexCount=indexNames.length;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiConfirmModal,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndex.confirmModal.modalTitle",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {# indices} }",values:{selectedIndexCount:selectedIndexCount}}),onCancel:()=>{this.confirmAction(!1),this.closeConfirmModal()},onConfirm:()=>this.closePopoverAndExecute(closeIndices),buttonColor:"danger",confirmButtonDisabled:!isActionConfirmed,cancelButtonText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndex.confirmModal.confirmButtonText",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}})},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.closeDescription",defaultMessage:"You are about to close {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:selectedIndexCount}})),external_kbnSharedDeps_React_default.a.createElement("ul",null,indexNames.map(indexName=>external_kbnSharedDeps_React_default.a.createElement("li",{key:indexName},indexName,isSystemIndexByName[indexName]?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{iconType:"alert",color:"hollow"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.systemIndexLabel",defaultMessage:"System index"}))):""))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndex.proceedWithCautionCallOutTitle",{defaultMessage:"Closing a system index can break Kibana"}),color:"danger",iconType:"alert"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.proceedWithCautionCallOutDescription",defaultMessage:"System indices are critical for internal operations. You can reopen the index using the Open Index API."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCheckbox,{id:"confirmCloseIndicesCheckbox",label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.checkboxLabel",defaultMessage:"I understand the consequences of closing a system index"}),checked:isActionConfirmed,onChange:e=>this.confirmAction(e.target.checked)})))}),index_actions_context_menu_defineProperty(this,"renderConfirmFreezeModal",()=>{const{freezeIndices:freezeIndices,indexNames:indexNames}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiConfirmModal,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeEntity.confirmModal.modalTitle",{defaultMessage:"Confirm freeze {count, plural, one {index} other {indices}}",values:{count:indexNames.length}}),onCancel:this.closeConfirmModal,onConfirm:()=>this.closePopoverAndExecute(freezeIndices),cancelButtonText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeEntity.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeEntity.confirmModal.confirmButtonText",{defaultMessage:"Freeze {count, plural, one {index} other {indices}}",values:{count:indexNames.length}})},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.freezeEntity.freezeDescription",defaultMessage:"You are about to freeze {count, plural, one {this index} other {these indices}}:",values:{count:indexNames.length}})),external_kbnSharedDeps_React_default.a.createElement("ul",null,indexNames.map(indexName=>external_kbnSharedDeps_React_default.a.createElement("li",{key:indexName},indexName))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeEntity.proceedWithCautionCallOutTitle",{defaultMessage:"Proceed with caution"}),color:"warning",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.freezeEntity.freezeEntityWarningDescription",defaultMessage:" A frozen index has little overhead on the cluster and is blocked for write operations. You can search a frozen index, but expect queries to be slower. "}))))}),this.state={isPopoverOpen:!1,renderConfirmModal:null,isActionConfirmed:!1}}panels({services:{extensionsService:extensionsService},core:{getUrlForApp:getUrlForApp}}){const{closeIndices:closeIndices,openIndices:openIndices,flushIndices:flushIndices,refreshIndices:refreshIndices,clearCacheIndices:clearCacheIndices,editIndex:editIndex,showMapping:showMapping,showStats:showStats,showSettings:showSettings,detailPanel:detailPanel,indexNames:indexNames,indexStatusByName:indexStatusByName,performExtensionAction:performExtensionAction,indices:indices,reloadIndices:reloadIndices,unfreezeIndices:unfreezeIndices,hasSystemIndex:hasSystemIndex}=this.props,allOpen=Object(external_kbnSharedDeps_Lodash_.every)(indexNames,indexName=>indexStatusByName[indexName]===constants.h),allFrozen=Object(external_kbnSharedDeps_Lodash_.every)(indices,index=>index.isFrozen),allUnfrozen=Object(external_kbnSharedDeps_Lodash_.every)(indices,index=>!index.isFrozen),selectedIndexCount=indexNames.length,items=[];detailPanel||1!==selectedIndexCount||(items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexSettingsLabel",{defaultMessage:"Show {selectedIndexCount, plural, one {index} other {indices} } settings",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{this.closePopoverAndExecute(showSettings)}}),items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexMappingLabel",{defaultMessage:"Show {selectedIndexCount, plural, one {index} other {indices} } mapping",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{this.closePopoverAndExecute(showMapping)}}),allOpen&&items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexStatsLabel",{defaultMessage:"Show {selectedIndexCount, plural, one {index} other {indices} } stats",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{this.closePopoverAndExecute(showStats)}}),items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.editIndexSettingsLabel",{defaultMessage:"Edit {selectedIndexCount, plural, one {index} other {indices} } settings",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{this.closePopoverAndExecute(editIndex)}})),allOpen?(items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndexLabel",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{if(hasSystemIndex)return this.closePopover(),void this.setState({renderConfirmModal:this.renderConfirmCloseModal});this.closePopoverAndExecute(closeIndices)}}),items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMergeIndexLabel",{defaultMessage:"Force merge {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:this.renderForcemergeSegmentsModal})}}),items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.refreshIndexLabel",{defaultMessage:"Refresh {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{this.closePopoverAndExecute(refreshIndices)}}),items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.clearIndexCacheLabel",{defaultMessage:"Clear {selectedIndexCount, plural, one {index} other {indices} } cache",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{this.closePopoverAndExecute(clearCacheIndices)}}),items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.flushIndexLabel",{defaultMessage:"Flush {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{this.closePopoverAndExecute(flushIndices)}}),allFrozen?items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.unfreezeIndexLabel",{defaultMessage:"Unfreeze {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{this.closePopoverAndExecute(unfreezeIndices)}}):allUnfrozen&&items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeIndexLabel",{defaultMessage:"Freeze {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:this.renderConfirmFreezeModal})}})):items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.openIndexLabel",{defaultMessage:"Open {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{this.closePopoverAndExecute(openIndices)}}),items.push({name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndexLabel",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:this.renderConfirmDeleteModal})}}),extensionsService.actions.forEach(actionExtension=>{const actionExtensionDefinition=actionExtension({indices:indices,reloadIndices:reloadIndices,getUrlForApp:getUrlForApp});if(actionExtensionDefinition){const{buttonLabel:buttonLabel,requestMethod:requestMethod,successMessage:successMessage,renderConfirmModal:renderConfirmModal}=actionExtensionDefinition;requestMethod?items.push({name:buttonLabel,onClick:()=>{this.closePopoverAndExecute(async()=>{await performExtensionAction(requestMethod,successMessage)})}}):items.push({name:buttonLabel,onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:renderConfirmModal})}})}}),items.forEach(item=>{item["data-test-subj"]="indexTableContextMenuButton"});const panelTree={id:0,title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.panelTitle",{defaultMessage:"{selectedIndexCount, plural, one {Index} other {Indices} } options",values:{selectedIndexCount:selectedIndexCount}}),items:items};return flattenPanelTree(panelTree)}render(){return external_kbnSharedDeps_React_default.a.createElement(AppContextConsumer,null,appDependencies=>{const{indexNames:indexNames}=this.props,selectedIndexCount=indexNames.length,{iconSide:iconSide="right",anchorPosition:anchorPosition="rightUp",label:label=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.manageButtonLabel",{defaultMessage:"Manage {selectedIndexCount, plural, one {index} other {indices}}",values:{selectedIndexCount:selectedIndexCount}}),iconType:iconType="arrowDown"}=this.props,panels=this.panels(appDependencies),button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{"data-test-subj":"indexActionsContextMenuButton",iconSide:iconSide,"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexActionsMenu.manageButtonAriaLabel",{defaultMessage:"{selectedIndexCount, plural, one {index} other {indices} } options",values:{selectedIndexCount:selectedIndexCount}}),onClick:this.onButtonClick,iconType:iconType,fill:!0},label);return external_kbnSharedDeps_React_default.a.createElement("div",null,this.state.renderConfirmModal?this.state.renderConfirmModal(this.closeConfirmModal):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{id:"contextMenuIndices",button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:anchorPosition,repositionOnScroll:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenu,{initialPanelId:0,panels:panels})))})}}var redux_actions_lib=__webpack_require__(35);const clearCacheIndicesStart=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_CLEAR_CACHE_INDICES_START"),clear_cache_indices_clearCacheIndices=({indexNames:indexNames})=>async dispatch=>{dispatch(clearCacheIndicesStart({indexNames:indexNames}));try{await async function(indices){const body=JSON.stringify({indices:indices}),response=await httpService.httpClient.post(constants.a+"/indices/clear_cache",{body:body}),eventName=indices.length>1?constants.u:constants.t;return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,eventName),response}(indexNames)}catch(error){return notificationService.showDangerToast(error.message),dispatch(clearRowStatus({indexNames:indexNames}))}dispatch(reload_indices_reloadIndices(indexNames)),notificationService.showSuccessToast(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.clearCacheIndicesAction.successMessage",{defaultMessage:"Successfully cleared cache: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}))},clearRowStatus=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_CLEAR_ROW_STATUS"),closeIndicesStart=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_CLOSE_INDICES_START"),close_indices_closeIndices=({indexNames:indexNames})=>async dispatch=>{dispatch(closeIndicesStart({indexNames:indexNames}));try{await async function(indices){const body=JSON.stringify({indices:indices}),response=await httpService.httpClient.post(constants.a+"/indices/close",{body:body}),eventName=indices.length>1?constants.w:constants.v;return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,eventName),response}(indexNames)}catch(error){return notificationService.showDangerToast(error.message),dispatch(clearRowStatus({indexNames:indexNames}))}dispatch(reload_indices_reloadIndices(indexNames)),notificationService.showSuccessToast(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.closeIndicesAction.successfullyClosedIndicesMessage",{defaultMessage:"Successfully closed: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}))},deleteIndicesSuccess=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_DELETE_INDICES_SUCCESS"),delete_indices_deleteIndices=({indexNames:indexNames})=>async dispatch=>{try{await async function(indices){const body=JSON.stringify({indices:indices}),response=await httpService.httpClient.post(constants.a+"/indices/delete",{body:body}),eventName=indices.length>1?constants.y:constants.x;return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,eventName),response}(indexNames)}catch(error){return notificationService.showDangerToast(error.message),dispatch(clearRowStatus({indexNames:indexNames}))}notificationService.showSuccessToast(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.deleteIndicesAction.successfullyDeletedIndicesMessage",{defaultMessage:"Successfully deleted: [{indexNames}]",values:{indexNames:indexNames.join(", ")}})),dispatch(deleteIndicesSuccess({indexNames:indexNames}))},flushIndicesStart=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_FLUSH_INDICES_START"),flush_indices_flushIndices=({indexNames:indexNames})=>async dispatch=>{dispatch(flushIndicesStart({indexNames:indexNames}));try{await async function(indices){const body=JSON.stringify({indices:indices}),response=await httpService.httpClient.post(constants.a+"/indices/flush",{body:body}),eventName=indices.length>1?constants.A:constants.z;return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,eventName),response}(indexNames)}catch(error){return notificationService.showDangerToast(error.message),dispatch(clearRowStatus({indexNames:indexNames}))}dispatch(reload_indices_reloadIndices(indexNames)),notificationService.showSuccessToast(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.flushIndicesAction.successfullyFlushedIndicesMessage",{defaultMessage:"Successfully flushed: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}))},forcemergeIndicesStart=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_FORCEMERGE_INDICES_START"),forcemerge_indices_forcemergeIndices=({indexNames:indexNames,maxNumSegments:maxNumSegments})=>async dispatch=>{dispatch(forcemergeIndicesStart({indexNames:indexNames}));try{await async function(indices,maxNumSegments){const body=JSON.stringify({indices:indices,maxNumSegments:maxNumSegments}),response=await httpService.httpClient.post(constants.a+"/indices/forcemerge",{body:body}),eventName=indices.length>1?constants.C:constants.B;return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,eventName),response}(indexNames,maxNumSegments)}catch(error){return notificationService.showDangerToast(error.message),dispatch(clearRowStatus({indexNames:indexNames}))}dispatch(reload_indices_reloadIndices(indexNames)),notificationService.showSuccessToast(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.forceMergeIndicesAction.successfullyForceMergedIndicesMessage",{defaultMessage:"Successfully force merged: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}))},loadIndicesStart=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_START"),loadIndicesSuccess=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_SUCCESS"),loadIndicesError=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_ERROR"),load_indices_loadIndices=()=>async dispatch=>{let indices;dispatch(loadIndicesStart());try{indices=await async function(){const response=await httpService.httpClient.get(constants.a+"/indices");return response.data?response.data:response}()}catch(error){return dispatch(loadIndicesError(error))}dispatch(loadIndicesSuccess({indices:indices}))},loadIndexDataSuccess=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_LOAD_INDEX_DATA_SUCCESS"),load_index_data_loadIndexData=({indexName:indexName,dataType:dataType})=>async dispatch=>{let data;try{data=await loadIndexData(dataType,indexName)}catch(error){notificationService.showDangerToast(error.message)}dispatch(loadIndexDataSuccess({data:data,indexName:indexName}))},openIndicesStart=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_OPEN_INDICES_START"),open_indices_openIndices=({indexNames:indexNames})=>async dispatch=>{dispatch(openIndicesStart({indexNames:indexNames}));try{await async function(indices){const body=JSON.stringify({indices:indices}),response=await httpService.httpClient.post(constants.a+"/indices/open",{body:body}),eventName=indices.length>1?constants.G:constants.F;return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,eventName),response}(indexNames)}catch(error){return notificationService.showDangerToast(error.message),dispatch(clearRowStatus({indexNames:indexNames}))}dispatch(reload_indices_reloadIndices(indexNames)),notificationService.showSuccessToast(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.openIndicesAction.successfullyOpenedIndicesMessage",{defaultMessage:"Successfully opened: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}))},refreshIndicesStart=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_REFRESH_INDICES_START"),refresh_indices_refreshIndices=({indexNames:indexNames})=>async dispatch=>{dispatch(refreshIndicesStart({indexNames:indexNames}));try{await async function(indices){const body=JSON.stringify({indices:indices}),response=await httpService.httpClient.post(constants.a+"/indices/refresh",{body:body}),eventName=indices.length>1?constants.I:constants.H;return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,eventName),response}(indexNames)}catch(error){return notificationService.showDangerToast(error.message),dispatch(clearRowStatus({indexNames:indexNames}))}dispatch(reload_indices_reloadIndices(indexNames)),notificationService.showSuccessToast(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.refreshIndicesAction.successfullyRefreshedIndicesMessage",{defaultMessage:"Successfully refreshed: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}))},freezeIndicesStart=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_FREEZE_INDICES_START"),freeze_indices_freezeIndices=({indexNames:indexNames})=>async dispatch=>{dispatch(freezeIndicesStart({indexNames:indexNames}));try{await async function(indices){const body=JSON.stringify({indices:indices}),response=await httpService.httpClient.post(constants.a+"/indices/freeze",{body:body}),eventName=indices.length>1?constants.E:constants.D;return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,eventName),response}(indexNames)}catch(error){return notificationService.showDangerToast(error.message),dispatch(clearRowStatus({indexNames:indexNames}))}dispatch(reload_indices_reloadIndices(indexNames)),notificationService.showSuccessToast(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.freezeIndicesAction.successfullyFrozeIndicesMessage",{defaultMessage:"Successfully froze: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}))},unfreezeIndicesStart=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_UNFREEZE_INDICES_START"),unfreeze_indices_unfreezeIndices=({indexNames:indexNames})=>async dispatch=>{dispatch(unfreezeIndicesStart({indexNames:indexNames}));try{await async function(indices){const body=JSON.stringify({indices:indices}),response=await httpService.httpClient.post(constants.a+"/indices/unfreeze",{body:body}),eventName=indices.length>1?constants.K:constants.J;return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,eventName),response}(indexNames)}catch(error){return notificationService.showDangerToast(error.message),dispatch(clearRowStatus({indexNames:indexNames}))}dispatch(reload_indices_reloadIndices(indexNames)),notificationService.showSuccessToast(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.unfreezeIndicesAction.successfullyUnfrozeIndicesMessage",{defaultMessage:"Successfully unfroze: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}))},reloadIndicesSuccess=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_RELOAD_INDICES_SUCCESS"),reload_indices_reloadIndices=(indexNames,options)=>async dispatch=>{let indices;try{indices=await async function(indexNames,{asSystemRequest:asSystemRequest}={}){const body=JSON.stringify({indexNames:indexNames}),response=await httpService.httpClient.post(constants.a+"/indices/reload",{body:body,asSystemRequest:asSystemRequest});return response.data?response.data:response}(indexNames,options)}catch(error){return 404===error.status||403===error.status?dispatch(load_indices_loadIndices()):notificationService.showDangerToast(error.message)}return indices&&indices.length>0?dispatch(reloadIndicesSuccess({indices:indices})):notificationService.showWarningToast(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.reloadIndicesAction.indicesPageRefreshFailureMessage",{defaultMessage:"Failed to refresh current page of indices."}))},table_state_filterChanged=(Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_APPLY_FILTERS"),Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_FILTERS_APPLIED"),Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_FILTER_CHANGED")),table_state_pageChanged=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_PAGE_CHANGED"),table_state_pageSizeChanged=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_PAGE_SIZE_CHANGED"),sortChanged=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_SORT_CHANGED"),table_state_toggleChanged=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_TOGGLE_CHANGED"),updateIndexSettingsSuccess=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_SUCCESS"),updateIndexSettingsError=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_ERROR"),detail_panel_openDetailPanel=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_OPEN_DETAIL_PANEL"),detail_panel_closeDetailPanel=Object(redux_actions_lib.createAction)("INDEX_MANAGEMENT_CLOSE_DETAIL_PANEL");var reselect_lib=__webpack_require__(171),query_string=__webpack_require__(52),query_string_default=__webpack_require__.n(query_string);const indexStatusLabels={[constants.b]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexStatusLabels.clearingCacheStatusLabel",{defaultMessage:"clearing cache..."}),[constants.c]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexStatusLabels.closedStatusLabel",{defaultMessage:"closed"}),[constants.d]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexStatusLabels.closingStatusLabel",{defaultMessage:"closing..."}),[constants.g]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexStatusLabels.mergingStatusLabel",{defaultMessage:"merging..."}),[constants.i]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexStatusLabels.openingStatusLabel",{defaultMessage:"opening..."}),[constants.j]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexStatusLabels.refreshingStatusLabel",{defaultMessage:"refreshing..."}),[constants.e]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexStatusLabels.flushingStatusLabel",{defaultMessage:"flushing..."}),[constants.f]:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexStatusLabels.forcingMergeStatusLabel",{defaultMessage:"forcing merge..."})};var extension_service=__webpack_require__(4);const getDetailPanelData=state=>state.detailPanel.data,getDetailPanelError=state=>state.detailPanel.error,getDetailPanelType=state=>state.detailPanel.panelType,isDetailPanelOpen=state=>!!getDetailPanelType(state),getDetailPanelIndexName=state=>state.detailPanel.indexName,getIndices=state=>state.indices.byId,selectors_indicesLoading=state=>state.indices.loading,selectors_indicesError=state=>state.indices.error,getIndicesAsArray=state=>Object.values(state.indices.byId),getIndicesByName=(state,indexNames)=>{const indices=getIndices(state);return indexNames.map(indexName=>indices[indexName])},getIndexByIndexName=(state,name)=>getIndices(state)[name],getTableState=state=>state.tableState,getIndexStatusByIndexName=(state,indexName)=>{const indices=getIndices(state),{status:status}=indices[indexName]||{};return status},getIsSystemIndexByName=indexNames=>indexNames.reduce((obj,indexName)=>(obj[indexName]=indexName.startsWith("."),obj),{}),selectors_hasSystemIndex=indexNames=>Boolean(indexNames.find(indexName=>indexName.startsWith("."))),defaultFilterFields=["name"],getFilteredIndices=Object(reselect_lib.createSelector)(getIndices,state=>state.indices.allIds,getTableState,(_,props)=>props.location,(indices,allIds,tableState,tableLocation)=>{let indexArray=allIds.map(indexName=>indices[indexName]);indexArray=((indices,toggleNameToVisibleMap)=>{const togglesByName=extension_service.a.toggles.reduce((byName,toggle)=>({...byName,[toggle.name]:toggle}),{}),toggleNames=Object.keys(togglesByName);return toggleNames.length?indices.filter(index=>toggleNames.some(toggleName=>{if(!togglesByName[toggleName].matchIndex(index))return!0;return!0===toggleNameToVisibleMap[toggleName]})):indices})(indexArray,tableState.toggleNameToVisibleMap);const{includeHiddenIndices:includeHiddenParam}=query_string.parse(tableLocation.search),filteredIndices="true"===includeHiddenParam?indexArray:indexArray.filter(index=>!(index.name+"").startsWith(".")&&!index.hidden),filter=tableState.filter||external_kbnSharedDeps_ElasticEui_.EuiSearchBar.Query.MATCH_ALL;return external_kbnSharedDeps_ElasticEui_.EuiSearchBar.Query.execute(filter,filteredIndices,{defaultFields:defaultFilterFields})}),getTotalItems=Object(reselect_lib.createSelector)(getFilteredIndices,filteredIndices=>Object.keys(filteredIndices).length),getPager=Object(reselect_lib.createSelector)(getTableState,getTotalItems,({currentPage:currentPage,pageSize:pageSize},totalItems)=>new external_kbnSharedDeps_ElasticEui_.Pager(totalItems,pageSize,currentPage)),getPageOfIndices=Object(reselect_lib.createSelector)(getFilteredIndices,getTableState,state=>state.rowStatus,getPager,(filteredIndices,tableState,rowStatuses,pager)=>{const sortedIndexes=((array=[],sortField,isSortAscending)=>{const sorted=Object(external_kbnSharedDeps_Lodash_.sortBy)(array,sorters[sortField]);return isSortAscending?sorted:sorted.reverse()})(filteredIndices,tableState.sortField,tableState.isSortAscending),{firstItemIndex:firstItemIndex,lastItemIndex:lastItemIndex}=pager;return sortedIndexes.slice(firstItemIndex,lastItemIndex+1).map(index=>{const status=indexStatusLabels[rowStatuses[index.name]]||rowStatuses[index.name]||indexStatusLabels[index.status]||index.status;return{...index,status:status}})}),getFilter=Object(reselect_lib.createSelector)(getTableState,({filter:filter})=>filter),selectors_isSortAscending=Object(reselect_lib.createSelector)(getTableState,({isSortAscending:isSortAscending})=>isSortAscending),getSortField=Object(reselect_lib.createSelector)(getTableState,({sortField:sortField})=>sortField),index_actions_context_menu_container_IndexActionsContextMenu=Object(react_redux_lib.connect)((state,ownProps)=>{const indexStatusByName={},{indexNames:indexNames}=ownProps;return indexNames.forEach(indexName=>{indexStatusByName[indexName]=getIndexStatusByIndexName(state,indexName)}),{indexStatusByName:indexStatusByName,indices:getIndicesByName(state,indexNames),isSystemIndexByName:getIsSystemIndexByName(indexNames),hasSystemIndex:selectors_hasSystemIndex(indexNames)}},(dispatch,{indexNames:indexNames})=>({editIndexSettings:()=>{dispatch((({indexName:indexName})=>async dispatch=>{let indexSettings;try{indexSettings=await loadIndexSettings(indexName)}catch(error){return notificationService.showDangerToast(error.message)}notificationService.showSuccessToast(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.editIndexSettingsAction.successfullySavedSettingsForIndicesMessage",{defaultMessage:"Successfully saved settings for {indexName}",values:{indexName:indexName}})),dispatch(loadIndexDataSuccess({data:indexSettings,panelType:"editIndexSettings",indexName:indexName}))})({indexName:indexNames[0]}))},clearCacheIndices:()=>{dispatch(clear_cache_indices_clearCacheIndices({indexNames:indexNames}))},closeIndices:()=>{dispatch(close_indices_closeIndices({indexNames:indexNames}))},flushIndices:()=>{dispatch(flush_indices_flushIndices({indexNames:indexNames}))},openIndices:()=>{dispatch(open_indices_openIndices({indexNames:indexNames}))},refreshIndices:()=>{dispatch(refresh_indices_refreshIndices({indexNames:indexNames}))},freezeIndices:()=>{dispatch(freeze_indices_freezeIndices({indexNames:indexNames}))},unfreezeIndices:()=>{dispatch(unfreeze_indices_unfreezeIndices({indexNames:indexNames}))},forcemergeIndices:maxNumSegments=>{dispatch(forcemerge_indices_forcemergeIndices({indexNames:indexNames,maxNumSegments:maxNumSegments}))},showSettings:()=>{dispatch(detail_panel_openDetailPanel({indexName:indexNames[0],panelType:"TAB_SETTINGS"}))},showMapping:()=>{dispatch(detail_panel_openDetailPanel({indexName:indexNames[0],panelType:"TAB_MAPPING"}))},showStats:()=>{dispatch(detail_panel_openDetailPanel({indexName:indexNames[0],panelType:"TAB_STATS"}))},editIndex:()=>{const indexName=indexNames?indexNames[0]:null;indexName&&dispatch(detail_panel_openDetailPanel({indexName:indexName,panelType:"TAB_EDIT_SETTINGS"}))},deleteIndices:()=>{dispatch(delete_indices_deleteIndices({indexNames:indexNames}))},reloadIndices:()=>{dispatch(reload_indices_reloadIndices(indexNames))},performExtensionAction:(requestMethod,successMessage)=>{dispatch((({requestMethod:requestMethod,indexNames:indexNames,successMessage:successMessage})=>async dispatch=>{try{await requestMethod(indexNames,httpService.httpClient)}catch(error){return void notificationService.showDangerToast(error.message)}dispatch(reload_indices_reloadIndices(indexNames)),notificationService.showSuccessToast(successMessage)})({requestMethod:requestMethod,successMessage:successMessage,indexNames:indexNames}))}}))(index_actions_context_menu_IndexActionsContextMenu);__webpack_require__(175);class show_json_ShowJson extends external_kbnSharedDeps_React_default.a.PureComponent{UNSAFE_componentWillMount(){this.props.loadIndexData(this.props)}UNSAFE_componentWillUpdate(newProps){const{data:data,loadIndexData:loadIndexData}=newProps;data||loadIndexData(newProps)}render(){const{data:data}=this.props;if(!data)return null;const json=JSON.stringify(data,null,2);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{lang:"json"},json)}}const show_json_container_mapDispatchToProps={loadIndexData:load_index_data_loadIndexData,closeDetailPanel:detail_panel_closeDetailPanel},show_json_container_ShowJson=Object(react_redux_lib.connect)(state=>{const indexName=getDetailPanelIndexName(state);return{error:getDetailPanelError(state),data:getDetailPanelData(state),dataType:getDetailPanelType(state),indexName:indexName,indexStatus:getIndexStatusByIndexName(state,indexName)}},show_json_container_mapDispatchToProps)(show_json_ShowJson);class summary_Summary extends external_kbnSharedDeps_React_default.a.PureComponent{getAdditionalContent(extensionsService,getUrlForApp){const{index:index}=this.props;return extensionsService.summaries.map((summaryExtension,i)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,{key:"summaryExtension-"+i},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHorizontalRule,null),summaryExtension(index,getUrlForApp)))}buildRows(){const{index:index}=this.props,headers={health:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.summary.headers.healthHeader",{defaultMessage:"Health"}),status:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.summary.headers.statusHeader",{defaultMessage:"Status"}),primary:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.summary.headers.primaryHeader",{defaultMessage:"Primaries"}),replica:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.summary.headers.replicaHeader",{defaultMessage:"Replicas"}),documents:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.summary.headers.documentsHeader",{defaultMessage:"Docs Count"}),documents_deleted:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.summary.headers.deletedDocumentsHeader",{defaultMessage:"Docs Deleted"}),size:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.summary.headers.storageSizeHeader",{defaultMessage:"Storage Size"}),primary_size:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.summary.headers.primaryStorageSizeHeader",{defaultMessage:"Primary Storage Size"}),aliases:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.summary.headers.aliases",{defaultMessage:"Aliases"})},rows={left:[],right:[]};return Object.keys(headers).forEach((fieldName,arrayIndex)=>{const value=index[fieldName];let content=value;"health"===fieldName&&(content=external_kbnSharedDeps_React_default.a.createElement(DataHealth,{health:value})),Array.isArray(content)&&(content=content.join(", "));const cell=[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,{key:fieldName},external_kbnSharedDeps_React_default.a.createElement("strong",null,headers[fieldName])),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,{key:fieldName+"_desc"},content)];arrayIndex%2==0?rows.left.push(cell):rows.right.push(cell)}),rows}render(){return external_kbnSharedDeps_React_default.a.createElement(AppContextConsumer,null,({services:services,core:core})=>{const{left:left,right:right}=this.buildRows(),additionalContent=this.getAdditionalContent(services.extensionsService,core.getUrlForApp);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.summary.summaryTitle",defaultMessage:"General"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{type:"column"},left)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{type:"column"},right))),additionalContent)})}}const summary_container_Summary=Object(react_redux_lib.connect)(state=>{const indexName=getDetailPanelIndexName(state);return{indexName:indexName,index:getIndexByIndexName(state,indexName)}})(summary_Summary),readOnlySettings=["index.creation_date","index.number_of_shards","index.provided_name","index.uuid","index.version.created","index.compound_format","index.data_path","index.format","index.number_of_routing_shards","index.sort.field","index.sort.missing","index.sort.mode","index.sort.order","index.routing_partition_size","index.store.type"],settingsToDisplay=["index.number_of_replicas","index.blocks.read_only_allow_delete","index.codec","index.priority","index.query.default_field","index.refresh_interval","index.write.wait_for_active_shards"];var brace=__webpack_require__(176),brace_default=__webpack_require__.n(brace);__webpack_require__(177);const splitTokens=line=>line.split(/\s+/),createAceEditor=(div,value,readOnly=!0,autocompleteArray)=>{const editor=brace_default.a.edit(div);editor.$blockScrolling=1/0,editor.setValue(value,-1);const session=editor.getSession();if(session.setUseWrapMode(!0),session.setMode("ace/mode/json"),autocompleteArray){const languageTools=brace_default.a.acequire("ace/ext/language_tools"),autocompleter=(words=autocompleteArray,{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:(editor,session,pos,prefix,callback)=>{const document=session.getDocument(),currentLine=document.getLine(pos.row),previousLine=document.getLine(pos.row-1),currentTokens=splitTokens(currentLine.slice(0,pos.column)),fullLineTokens=splitTokens(currentLine),isInArray=previousLine&&"["===splitTokens(previousLine).slice(-1)[0],[,secondToken=null]=currentTokens,[,secondFullToken=null]=fullLineTokens;if(isInArray||currentTokens.length>2)return callback(null,[]);const startQuote='"'===secondToken?"":'"',endQuote='""'===secondFullToken?"":'"';callback(null,words.map(word=>({caption:" "+word,value:`${startQuote}${word}${endQuote}`})))}});languageTools.setCompleters([autocompleter])}var words;const options={readOnly:readOnly,highlightActiveLine:!1,highlightGutterLine:!1,minLines:20,maxLines:30},autocompleteOptions=readOnly?{}:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0};return editor.setOptions({...options,...autocompleteOptions}),editor.setBehavioursEnabled(!readOnly),editor},flattenObject=(nestedObj,flattenArrays)=>{const stack=[],flatObj={};return function flattenObj(obj){external_kbnSharedDeps_Lodash_default.a.keys(obj).forEach((function(key){stack.push(key),!flattenArrays&&Array.isArray(obj[key])?flatObj[stack.join(".")]=obj[key]:external_kbnSharedDeps_Lodash_default.a.isObject(obj[key])?flattenObj(obj[key]):flatObj[stack.join(".")]=obj[key],stack.pop()}))}(nestedObj),flatObj};class edit_settings_json_EditSettingsJson extends external_kbnSharedDeps_React_default.a.PureComponent{constructor(){var obj,key,value;super(),value=()=>{const{updateIndexSettings:updateIndexSettings,indexName:indexName}=this.props,json=this.editor.getValue(),settings=JSON.parse(json);Object.keys(this.originalSettings).forEach(key=>{external_kbnSharedDeps_Lodash_default.a.isEqual(this.originalSettings[key],settings[key])&&delete settings[key]}),updateIndexSettings({indexName:indexName,settings:settings})},(key="commitSettings")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,this.state={valid:!0}}transformSettingsForApi(data,isOpen){const{defaults:defaults,settings:settings}=data,flattenedSettings=flattenObject(settings),flattenedDefaults=flattenObject(defaults),newSettings={...external_kbnSharedDeps_Lodash_default.a.pick(flattenedDefaults,settingsToDisplay),...flattenedSettings};return this.settingsKeys=Object.keys(newSettings),readOnlySettings.forEach(e=>delete newSettings[e]),isOpen&&delete newSettings["index.codec"],newSettings}UNSAFE_componentWillMount(){const{indexName:indexName}=this.props;this.props.loadIndexData({dataType:"TAB_SETTINGS",indexName:indexName})}componentDidUpdate(){const{data:data,indexStatus:indexStatus}=this.props;if(data&&!this.editor){const isOpen="open"===indexStatus,newSettings=this.transformSettingsForApi(data,isOpen);this.originalSettings=newSettings;const prettyJson=JSON.stringify(newSettings,null,2),settingsKeys=Object.keys(newSettings),session=(this.editor=createAceEditor(this.aceDiv,prettyJson,!1,settingsKeys)).getSession();session.on("changeAnnotation",()=>{const isEmptyString=""===session.getValue();this.setState({valid:!isEmptyString&&0===session.getAnnotations().length})})}}componentWillUnmount(){this.editor&&this.editor.destroy()}errorMessage(){const{error:error}=this.props;return error?external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{color:"danger",type:"alert"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextColor,{color:"danger"},error),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null)):null}render(){const{data:data}=this.props;return data?external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.saveJSONDescription",defaultMessage:"Edit, then save your JSON"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{size:"s",fill:!0,"data-test-subj":"updateEditIndexSettingsButton",onClick:this.commitSettings,disabled:!this.state.valid},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.saveJSONButtonLabel",defaultMessage:"Save"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getSettingsDocumentationLink(),target:"_blank",rel:"noopener noreferrer"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.settingsReferenceLinkText",defaultMessage:"Settings reference"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"indexJsonEditor",ref:aceDiv=>{this.aceDiv=aceDiv}}),this.errorMessage(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null)):null}}const edit_settings_json_container_mapDispatchToProps={loadIndexData:load_index_data_loadIndexData,closeDetailPanel:detail_panel_closeDetailPanel,updateIndexSettings:({indexName:indexName,settings:settings})=>async dispatch=>{if(0!==Object.keys(settings).length)try{const{error:error,message:message}=await async function(indexName,body){const response=await httpService.httpClient.put(`${constants.a}/settings/${encodeURIComponent(indexName)}`,{body:JSON.stringify(body)});return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,constants.Z),response}(indexName,settings);if(error)return dispatch(updateIndexSettingsError({error:message}))}catch(error){return dispatch(updateIndexSettingsError({error:error.message}))}dispatch(updateIndexSettingsSuccess()),dispatch(reload_indices_reloadIndices([indexName])),notificationService.showSuccessToast(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.updateIndexSettingsAction.settingsSuccessUpdateMessage",{defaultMessage:"Successfully updated settings for index {indexName}",values:{indexName:indexName}}))}},edit_settings_json_container_EditSettingsJson=Object(react_redux_lib.connect)(state=>{const indexName=getDetailPanelIndexName(state);return{error:getDetailPanelError(state),data:getDetailPanelData(state),indexName:indexName,indexStatus:getIndexStatusByIndexName(state,indexName)}},edit_settings_json_container_mapDispatchToProps)(edit_settings_json_EditSettingsJson),tabToHumanizedMap={TAB_SUMMARY:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabSummaryLabel",defaultMessage:"Summary"}),TAB_SETTINGS:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabSettingsLabel",defaultMessage:"Settings"}),TAB_MAPPING:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabMappingLabel",defaultMessage:"Mappings"}),TAB_STATS:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabStatsLabel",defaultMessage:"Stats"}),TAB_EDIT_SETTINGS:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabEditSettingsLabel",defaultMessage:"Edit settings"})},detail_panel_tabs=["TAB_SUMMARY","TAB_SETTINGS","TAB_MAPPING","TAB_STATS","TAB_EDIT_SETTINGS"],detail_panel_container_DetailPanel=Object(react_redux_lib.connect)(state=>{const indexName=getDetailPanelIndexName(state);return{panelType:getDetailPanelType(state),indexName:indexName,index:getIndexByIndexName(state,indexName)}},dispatch=>({clearCacheIndex:indexName=>{dispatch(clear_cache_indices_clearCacheIndices({indexNames:[indexName]}))},closeIndex:indexName=>{dispatch(close_indices_closeIndices({indexNames:[indexName]}))},flushIndex:indexName=>{dispatch(flush_indices_flushIndices({indexNames:[indexName]}))},openIndex:indexName=>{dispatch(open_indices_openIndices({indexNames:[indexName]}))},refreshIndex:indexName=>{dispatch(refresh_indices_refreshIndices({indexNames:[indexName]}))},forcemergeIndex:indexName=>{dispatch(forcemerge_indices_forcemergeIndices({indexNames:[indexName]}))},deleteIndex:indexName=>{dispatch(delete_indices_deleteIndices({indexNames:[indexName]}))},closeDetailPanel:()=>dispatch(detail_panel_closeDetailPanel()),openDetailPanel:(indexName,panelType)=>dispatch(detail_panel_openDetailPanel(indexName,panelType))}))(({panelType:panelType,indexName:indexName,index:index,openDetailPanel:openDetailPanel,closeDetailPanel:closeDetailPanel})=>{const{extensionsService:extensionsService}=useServices();if(!panelType)return null;let component=null;switch(panelType){case"TAB_EDIT_SETTINGS":component=external_kbnSharedDeps_React_default.a.createElement(edit_settings_json_container_EditSettingsJson,null);break;case"TAB_MAPPING":case"TAB_SETTINGS":case"TAB_STATS":component=external_kbnSharedDeps_React_default.a.createElement(show_json_container_ShowJson,null);break;default:component=external_kbnSharedDeps_React_default.a.createElement(summary_container_Summary,null)}const content=index?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutBody,null,component),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutFooter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{key:"menu",render:()=>external_kbnSharedDeps_React_default.a.createElement(index_actions_context_menu_container_IndexActionsContextMenu,{iconSide:"left",indexNames:[indexName],anchorPosition:"upRight",detailPanel:!0,iconType:"arrowUp",label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.manageContextMenuLabel",defaultMessage:"Manage"})})}))))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutBody,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.missingIndexTitle",defaultMessage:"Missing index"}),color:"danger",iconType:"cross"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.missingIndexMessage",defaultMessage:"This index does not exist. It might have been deleted by a running job or another system."})));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyout,{"data-test-subj":"indexDetailFlyout",onClose:closeDetailPanel,"aria-labelledby":"indexDetailsFlyoutTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{id:"indexDetailsFlyoutTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",null,indexName,renderBadges(index,void 0,extensionsService))),index?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTabs,null,detail_panel_tabs.map((tab,i)=>{const isSelected=tab===panelType;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTab,{onClick:()=>openDetailPanel({panelType:tab,indexName:indexName}),isSelected:isSelected,"data-test-subj":"detailPanelTab"+(isSelected?"Selected":""),disabled:"TAB_STATS"===tab&&index.status!==constants.h,key:i},tabToHumanizedMap[tab])})):null),content)});function index_table_extends(){return(index_table_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function index_table_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const HEADERS={name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.headers.nameHeader",{defaultMessage:"Name"}),health:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.headers.healthHeader",{defaultMessage:"Health"}),status:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.headers.statusHeader",{defaultMessage:"Status"}),primary:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.headers.primaryHeader",{defaultMessage:"Primaries"}),replica:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.headers.replicaHeader",{defaultMessage:"Replicas"}),documents:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.headers.documentsHeader",{defaultMessage:"Docs count"}),size:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.headers.storageSizeHeader",{defaultMessage:"Storage size"}),data_stream:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.headers.dataStreamHeader",{defaultMessage:"Data stream"})};class index_table_IndexTable extends external_kbnSharedDeps_React_.Component{static getDerivedStateFromProps(props,state){const{selectedIndicesMap:selectedIndicesMap}=state,indexNames=props.indices.map(index=>index.name),missingIndexNames=Object.keys(selectedIndicesMap).filter(selectedIndexName=>!indexNames.includes(selectedIndexName));if(missingIndexNames.length){const newMap={...selectedIndicesMap};return missingIndexNames.forEach(missingIndexName=>delete newMap[missingIndexName]),{selectedIndicesMap:newMap}}return null}constructor(props){super(props),index_table_defineProperty(this,"onSort",column=>{const{sortField:sortField,isSortAscending:isSortAscending,sortChanged:sortChanged}=this.props;sortChanged(column,sortField!==column||!isSortAscending)}),index_table_defineProperty(this,"onFilterChanged",({query:query,error:error})=>{error?this.setState({filterError:error}):(this.props.filterChanged(query),this.setState({filterError:null}))}),index_table_defineProperty(this,"getFilters",extensionsService=>{const{allIndices:allIndices}=this.props;return extensionsService.filters.reduce((accum,filterExtension)=>[...accum,...filterExtension(allIndices)],[])}),index_table_defineProperty(this,"toggleAll",()=>{if(this.areAllItemsSelected())return this.setState({selectedIndicesMap:{}});const{indices:indices}=this.props,selectedIndicesMap={};indices.forEach(({name:name})=>{selectedIndicesMap[name]=!0}),this.setState({selectedIndicesMap:selectedIndicesMap})}),index_table_defineProperty(this,"toggleItem",name=>{this.setState(({selectedIndicesMap:selectedIndicesMap})=>{const newMap={...selectedIndicesMap};return newMap[name]?delete newMap[name]:newMap[name]=!0,{selectedIndicesMap:newMap}})}),index_table_defineProperty(this,"isItemSelected",name=>!!this.state.selectedIndicesMap[name]),index_table_defineProperty(this,"areAllItemsSelected",()=>{const{indices:indices}=this.props;return-1===indices.findIndex(index=>!this.isItemSelected(index.name))}),index_table_defineProperty(this,"onItemSelectionChanged",selectedIndices=>{this.setState({selectedIndices:selectedIndices})}),this.state={selectedIndicesMap:{}}}componentDidMount(){this.props.loadIndices(),this.interval=setInterval(()=>this.props.reloadIndices(this.props.indices.map(i=>i.name),{asSystemRequest:!0}),3e4);const{location:location,filterChanged:filterChanged}=this.props,{filter:filter}=query_string_default.a.parse(location&&location.search||"");if(filter){const decodedFilter=Object(public_.attemptToURIDecode)(filter);try{filterChanged(external_kbnSharedDeps_ElasticEui_.EuiSearchBar.Query.parse(decodedFilter))}catch(e){this.setState({filterError:e})}}}componentWillUnmount(){this.props.filterChanged(""),clearInterval(this.interval)}readURLParams(){const{location:location}=this.props,{includeHiddenIndices:includeHiddenIndices}=query_string_default.a.parse(location&&location.search||"");return{includeHiddenIndices:"true"===includeHiddenIndices}}setIncludeHiddenParam(hidden){const{pathname:pathname,search:search}=this.props.location,params=query_string_default.a.parse(search);hidden?params.includeHiddenIndices="true":delete params.includeHiddenIndices,this.props.history.push(pathname+"?"+query_string_default.a.stringify(params))}renderFilterError(){const{filterError:filterError}=this.state;if(filterError)return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{iconType:"faceSad",color:"danger",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.invalidSearchErrorMessage",{defaultMessage:"Invalid search: {errorMessage}",values:{errorMessage:filterError.message}})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null))}buildHeader(){const{sortField:sortField,isSortAscending:isSortAscending}=this.props;return Object.entries(HEADERS).map(([fieldName,label])=>{const isSorted=sortField===fieldName;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTableHeaderCell,{key:fieldName,onSort:()=>this.onSort(fieldName),isSorted:isSorted,isSortAscending:isSortAscending,className:"indTable__header--"+fieldName,"data-test-subj":"indexTableHeaderCell-"+fieldName},label)})}buildRowCell(fieldName,value,index,appServices){const{openDetailPanel:openDetailPanel,filterChanged:filterChanged,history:history}=this.props;return"health"===fieldName?external_kbnSharedDeps_React_default.a.createElement(DataHealth,{health:value}):"name"===fieldName?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{"data-test-subj":"indexTableIndexNameLink",onClick:()=>{appServices.uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.CLICK,constants.L),openDetailPanel(value)}},value),renderBadges(index,filterChanged,appServices.extensionsService)):"data_stream"===fieldName?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,index_table_extends({"data-test-subj":"dataStreamLink"},Object(kibanaReact_public_.reactRouterNavigate)(history,{pathname:Object(routing.a)(value),search:"?isDeepLink=true"})),value):value}buildRowCells(index,appServices){return Object.keys(HEADERS).map(fieldName=>{const{name:name}=index,value=index[fieldName];return"name"===fieldName?external_kbnSharedDeps_React_default.a.createElement("th",{key:`${fieldName}-${name}`,className:"euiTableRowCell",scope:"row","data-test-subj":"indexTableCell-"+fieldName},external_kbnSharedDeps_React_default.a.createElement("div",{className:"euiTableCellContent indTable__cell--"+fieldName},external_kbnSharedDeps_React_default.a.createElement("span",{className:"eui-textLeft"},this.buildRowCell(fieldName,value,index,appServices)))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTableRowCell,{key:`${fieldName}-${name}`,truncateText:!1,"data-test-subj":"indexTableCell-"+fieldName,className:"indTable__cell--"+fieldName,header:fieldName},this.buildRowCell(fieldName,value,index,appServices))})}renderError(){const{indicesError:indicesError}=this.props,data=indicesError.body?indicesError.body:indicesError,{error:errorString,cause:cause,message:message}=data;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexTable.serverErrorTitle",defaultMessage:"Error loading indices"}),color:"danger",iconType:"alert"},external_kbnSharedDeps_React_default.a.createElement("div",null,message||errorString),cause&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement("ul",null,cause.map((message,i)=>external_kbnSharedDeps_React_default.a.createElement("li",{key:i},message))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xl"}))}renderBanners(extensionsService){const{allIndices:allIndices=[],filterChanged:filterChanged}=this.props;return extensionsService.banners.map((bannerExtension,i)=>{const bannerData=bannerExtension(allIndices);if(!bannerData)return null;const{type:type,title:title,message:message,filter:filter,filterLabel:filterLabel}=bannerData;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,{key:"bannerExtension"+i},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{color:type,size:"m",title:title},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,message,filter?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{onClick:()=>filterChanged(filter)},filterLabel):null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}))})}buildRows(appServices){const{indices:indices=[],detailPanelIndexName:detailPanelIndexName}=this.props;return indices.map(index=>{const{name:name}=index;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTableRow,{"data-test-subj":"indexTableRow",isSelected:this.isItemSelected(name)||name===detailPanelIndexName,isSelectable:!0,key:name+"-row"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTableRowCellCheckbox,{key:"checkbox-"+name},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCheckbox,{type:"inList",id:"checkboxSelectIndex-"+name,checked:this.isItemSelected(name),onChange:()=>{this.toggleItem(name)},"data-test-subj":"indexTableRowCheckbox","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.selectIndexAriaLabel",{defaultMessage:"Select this row"})})),this.buildRowCells(index,appServices))})}renderPager(){const{pager:pager,pageChanged:pageChanged,pageSizeChanged:pageSizeChanged}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTablePagination,{activePage:pager.getCurrentPageIndex(),itemsPerPage:pager.itemsPerPage,itemsPerPageOptions:[10,50,100],pageCount:pager.getTotalPages(),onChangeItemsPerPage:pageSizeChanged,onChangePage:pageChanged})}renderToggleControl({name:name,label:label}){const{toggleNameToVisibleMap:toggleNameToVisibleMap,toggleChanged:toggleChanged}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{key:name,grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSwitch,{id:"checkboxToggles-"+name,"data-test-subj":"checkboxToggles-"+name,checked:toggleNameToVisibleMap[name],onChange:event=>toggleChanged(name,event.target.checked),label:label}))}render(){const{filter:filter,indices:indices,loadIndices:loadIndices,indicesLoading:indicesLoading,indicesError:indicesError,allIndices:allIndices,pager:pager}=this.props,{includeHiddenIndices:includeHiddenIndices}=this.readURLParams();let emptyState;indicesLoading&&(emptyState=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceAround"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLoadingSpinner,{size:"xl"})))),indicesLoading||indicesError||(emptyState=external_kbnSharedDeps_React_default.a.createElement(NoMatch,null));const{selectedIndicesMap:selectedIndicesMap}=this.state,atLeastOneItemSelected=Object.keys(selectedIndicesMap).length>0;return indicesError&&403===indicesError.status?external_kbnSharedDeps_React_default.a.createElement(PageErrorForbidden,null):external_kbnSharedDeps_React_default.a.createElement(AppContextConsumer,null,({services:services})=>{const{extensionsService:extensionsService}=services;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.idxMgmtDescription",defaultMessage:"Update your Elasticsearch indices individually or in bulk. {learnMoreLink}",values:{learnMoreLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getIdxMgmtDocumentationLink(),target:"_blank",external:!0},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTableDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},indicesLoading&&0===allIndices.length||indicesError?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,null,extensionsService.toggles.map(toggle=>this.renderToggleControl(toggle)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSwitch,{id:"checkboxShowHiddenIndices","data-test-subj":"indexTableIncludeHiddenIndicesToggle",checked:includeHiddenIndices,onChange:event=>this.setIncludeHiddenParam(event.target.checked),label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexTable.hiddenIndicesSwitchLabel",defaultMessage:"Include hidden indices"})}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),this.renderBanners(extensionsService),indicesError&&this.renderError(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},atLeastOneItemSelected?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{key:"menu",render:()=>external_kbnSharedDeps_React_default.a.createElement(index_actions_context_menu_container_IndexActionsContextMenu,{indexNames:Object.keys(selectedIndicesMap),resetSelection:()=>{this.setState({selectedIndicesMap:{}})}})})):null,indicesLoading&&0===allIndices.length||indicesError?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSearchBar,{filters:this.getFilters(extensionsService).length>0?this.getFilters(extensionsService):null,defaultQuery:filter,query:filter,box:{incremental:!0,placeholder:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.systemIndicesSearchInputPlaceholder",{defaultMessage:"Search"})},"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.systemIndicesSearchIndicesAriaLabel",{defaultMessage:"Search indices"}),"data-test-subj":"indexTableFilterInput",onChange:this.onFilterChanged})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{isLoading:indicesLoading,color:"secondary",onClick:()=>{loadIndices()},iconType:"refresh","data-test-subj":"reloadIndicesButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexTable.reloadIndicesButton",defaultMessage:"Reload indices"}))))),this.renderFilterError(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),indices.length>0?external_kbnSharedDeps_React_default.a.createElement("div",{style:{maxWidth:"100%",overflow:"auto"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTable,{className:"indTable","data-test-subj":"indexTable"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiScreenReaderOnly,null,external_kbnSharedDeps_React_default.a.createElement("caption",{role:"status","aria-relevant":"text","aria-live":"polite"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexTable.captionText",defaultMessage:"Below is the indices table containing {count, plural, one {# row} other {# rows}} out of {total}.",values:{count:indices.length,total:pager.totalItems}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTableHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTableHeaderCellCheckbox,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCheckbox,{id:"selectAllIndexes",checked:this.areAllItemsSelected(),onChange:this.toggleAll,type:"inList","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTable.selectAllIndicesAriaLabel",{defaultMessage:"Select all rows"})})),this.buildHeader()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTableBody,null,this.buildRows(services)))):emptyState,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),indices.length>0?this.renderPager():null)})}}const index_table_container_IndexTable=Object(external_kbnSharedDeps_ReactRouterDom_.withRouter)(Object(react_redux_lib.connect)((state,props)=>({allIndices:getIndicesAsArray(state),isDetailPanelOpen:isDetailPanelOpen(state),detailPanelIndexName:getDetailPanelIndexName(state),indices:getPageOfIndices(state,props),pager:getPager(state,props),filter:getFilter(state),sortField:getSortField(state),isSortAscending:selectors_isSortAscending(state),indicesLoading:selectors_indicesLoading(state),indicesError:selectors_indicesError(state),toggleNameToVisibleMap:getTableState(state).toggleNameToVisibleMap}),dispatch=>({filterChanged:filter=>{dispatch(table_state_filterChanged({filter:filter}))},pageChanged:pageNumber=>{dispatch(table_state_pageChanged({pageNumber:pageNumber}))},pageSizeChanged:pageSize=>{dispatch(table_state_pageSizeChanged({pageSize:pageSize}))},sortChanged:(sortField,isSortAscending)=>{dispatch(sortChanged({sortField:sortField,isSortAscending:isSortAscending}))},toggleChanged:(toggleName,toggleValue)=>{dispatch(table_state_toggleChanged({toggleName:toggleName,toggleValue:toggleValue}))},openDetailPanel:indexName=>{dispatch(detail_panel_openDetailPanel({indexName:indexName}))},closeDetailPanel:()=>{dispatch(detail_panel_closeDetailPanel())},loadIndices:()=>{dispatch(load_indices_loadIndices())},reloadIndices:(indexNames,options)=>{dispatch(reload_indices_reloadIndices(indexNames,options))}}))(index_table_IndexTable)),IndexList=({history:history})=>external_kbnSharedDeps_React_default.a.createElement("div",{className:"im-snapshotTestSubject","data-test-subj":"indicesList"},external_kbnSharedDeps_React_default.a.createElement(index_table_container_IndexTable,{history:history}),external_kbnSharedDeps_React_default.a.createElement(detail_panel_container_DetailPanel,null)),getIsLegacyFromQueryParams=location=>{const{legacy:legacy}=Object(query_string.parse)(location.search.substring(1));return!(!Boolean(legacy)||"string"!=typeof legacy)&&"true"===legacy},template_type_indicator_i18nTexts={managed:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateBadgeType.managed",{defaultMessage:"Managed"}),cloudManaged:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateBadgeType.cloudManaged",{defaultMessage:"Cloud-managed"}),system:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateBadgeType.system",{defaultMessage:"System"})},TemplateTypeIndicator=({templateType:templateType})=>"default"===templateType?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{color:"hollow","data-test-subj":"templateTypeBadge"},template_type_indicator_i18nTexts[templateType]);function template_table_extends(){return(template_table_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const TemplateTable=({templates:templates,reload:reload,editTemplate:editTemplate,cloneTemplate:cloneTemplate,history:history})=>{const{uiMetricService:uiMetricService}=useServices(),[selection,setSelection]=Object(external_kbnSharedDeps_React_.useState)([]),[templatesToDelete,setTemplatesToDelete]=Object(external_kbnSharedDeps_React_.useState)([]),columns=[{field:"name",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(name,item)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,template_table_extends({},Object(kibanaReact_public_.reactRouterNavigate)(history,Object(routing.d)(name),()=>uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.CLICK,constants.W)),{"data-test-subj":"templateDetailsLink"}),name),"",external_kbnSharedDeps_React_default.a.createElement(TemplateTypeIndicator,{templateType:item._kbnMeta.type}))},{field:"indexPatterns",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.indexPatternsColumnTitle",{defaultMessage:"Index patterns"}),truncateText:!0,sortable:!0,render:indexPatterns=>external_kbnSharedDeps_React_default.a.createElement("strong",null,indexPatterns.join(", "))},{field:"composedOf",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.componentsColumnTitle",{defaultMessage:"Components"}),truncateText:!0,sortable:!0,render:(composedOf=[])=>external_kbnSharedDeps_React_default.a.createElement("span",null,composedOf.join(", "))},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.dataStreamColumnTitle",{defaultMessage:"Data stream"}),truncateText:!0,render:template=>template._kbnMeta.hasDatastream?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{type:"check"}):null},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.contentColumnTitle",{defaultMessage:"Content"}),width:"120px",render:item=>external_kbnSharedDeps_React_default.a.createElement(TemplateContentIndicator,{mappings:item.hasMappings,settings:item.hasSettings,aliases:item.hasAliases,contentWhenEmpty:external_kbnSharedDeps_React_default.a.createElement("em",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.noneDescriptionText",{defaultMessage:"None"}))})},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.actionColumnTitle",{defaultMessage:"Actions"}),width:"120px",actions:[{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.actionEditText",{defaultMessage:"Edit"}),isPrimary:!0,description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.actionEditDecription",{defaultMessage:"Edit this template"}),icon:"pencil",type:"icon",onClick:({name:name})=>{editTemplate(name)},enabled:({_kbnMeta:{type:type}})=>"cloudManaged"!==type},{type:"icon",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.actionCloneTitle",{defaultMessage:"Clone"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.actionCloneDescription",{defaultMessage:"Clone this template"}),icon:"copy",onClick:({name:name})=>{cloneTemplate(name)}},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.actionDeleteText",{defaultMessage:"Delete"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.actionDeleteDecription",{defaultMessage:"Delete this template"}),icon:"trash",color:"danger",type:"icon",onClick:({name:name,_kbnMeta:{isLegacy:isLegacy}})=>{setTemplatesToDelete([{name:name,isLegacy:isLegacy}])},isPrimary:!0,enabled:({_kbnMeta:{type:type}})=>"cloudManaged"!==type}]}],selectionConfig={onSelectionChange:setSelection,selectable:({_kbnMeta:{type:type}})=>"cloudManaged"!==type,selectableMessage:selectable=>selectable?"":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.deleteCloudManagedTemplateTooltip",{defaultMessage:"You cannot delete a cloud-managed template."})},searchConfig={box:{incremental:!0},toolsLeft:selection.length>0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{"data-test-subj":"deleteTemplatesButton",onClick:()=>setTemplatesToDelete(selection.map(({name:name,_kbnMeta:{isLegacy:isLegacy}})=>({name:name,isLegacy:isLegacy}))),color:"danger"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.deleteTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {template} other {templates} }",values:{count:selection.length}})):void 0,toolsRight:[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,template_table_extends({iconType:"plusInCircle","data-test-subj":"createTemplateButton",key:"createTemplateButton",fill:!0},Object(kibanaReact_public_.reactRouterNavigate)(history,"/create_template")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.createTemplatesButtonLabel",defaultMessage:"Create template"}))]};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,templatesToDelete&&templatesToDelete.length>0?external_kbnSharedDeps_React_default.a.createElement(TemplateDeleteModal,{callback:data=>{data&&data.hasDeletedTemplates&&(reload(),history.push("templates")),setTemplatesToDelete([])},templatesToDelete:templatesToDelete}):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiInMemoryTable,{items:templates||[],itemId:"name",columns:columns,search:searchConfig,sorting:{sort:{field:"name",direction:"asc"}},isSelectable:!0,selection:selectionConfig,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"templateTable",message:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.noIndexTemplatesMessage",defaultMessage:"No index templates found"})}))},tab_summary_i18nTexts={yes:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.yesDescriptionText",{defaultMessage:"Yes"}),no:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.noDescriptionText",{defaultMessage:"No"}),none:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.noneDescriptionText",{defaultMessage:"None"})},tab_summary_TabSummary=({templateDetails:templateDetails})=>{const{version:version,priority:priority,composedOf:composedOf,order:order,indexPatterns:indexPatterns=[],ilmPolicy:ilmPolicy,_meta:_meta,_kbnMeta:{isLegacy:isLegacy,hasDatastream:hasDatastream}}=templateDetails,numIndexPatterns=indexPatterns.length,ilmPolicyLink=useUrlGenerator({urlGeneratorId:"ILM_URL_GENERATOR_ID",urlGeneratorState:{page:"policy_edit",policyName:null==ilmPolicy?void 0:ilmPolicy.name}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{"data-test-subj":"summaryTab"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{textStyle:"reverse"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.indexPatternsDescriptionListTitle",defaultMessage:"Index {numIndexPatterns, plural, one {pattern} other {patterns}}",values:{numIndexPatterns:numIndexPatterns}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,numIndexPatterns>1?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("ul",null,indexPatterns.map((indexName,i)=>external_kbnSharedDeps_React_default.a.createElement("li",{key:`${indexName}-${i}`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,indexName)))))):indexPatterns.toString()),!0!==isLegacy?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.priorityDescriptionListTitle",defaultMessage:"Priority"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,priority||0===priority?priority:tab_summary_i18nTexts.none)):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.orderDescriptionListTitle",defaultMessage:"Order"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,order||0===order?order:tab_summary_i18nTexts.none)),!0!==isLegacy&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,{"data-test-subj":"componentsTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.componentsDescriptionListTitle",defaultMessage:"Component templates"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,composedOf&&composedOf.length>0?external_kbnSharedDeps_React_default.a.createElement("ul",null,composedOf.map(component=>external_kbnSharedDeps_React_default.a.createElement("li",{key:component},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,component))))):tab_summary_i18nTexts.none)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{textStyle:"reverse"},isLegacy&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.ilmPolicyDescriptionListTitle",defaultMessage:"ILM policy"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,null!=ilmPolicy&&ilmPolicy.name&&ilmPolicyLink?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:ilmPolicyLink},ilmPolicy.name):(null==ilmPolicy?void 0:ilmPolicy.name)||tab_summary_i18nTexts.none)),!0!==isLegacy&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.dataStreamDescriptionListTitle",defaultMessage:"Data stream"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,hasDatastream?tab_summary_i18nTexts.yes:tab_summary_i18nTexts.no)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.versionDescriptionListTitle",defaultMessage:"Version"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,version||0===version?version:tab_summary_i18nTexts.none)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{textStyle:"reverse"},!0!==isLegacy&&_meta&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.metaDescriptionListTitle",defaultMessage:"Metadata"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock,{lang:"json"},JSON.stringify(_meta,null,2))))))},TabPreview=({templateDetails:templateDetails})=>external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"previewTabContent"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.previewTab.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(SimulateTemplate,{template:templateDetails})),template_details_content_TABS=[{id:"summary",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateDetails.summaryTabTitle",{defaultMessage:"Summary"})},{id:"settings",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateDetails.settingsTabTitle",{defaultMessage:"Settings"})},{id:"mappings",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateDetails.mappingsTabTitle",{defaultMessage:"Mappings"})},{id:"aliases",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateDetails.aliasesTabTitle",{defaultMessage:"Aliases"})},{id:"preview",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateDetails.previewTabTitle",{defaultMessage:"Preview"})}],tabToUiMetricMap={summary:constants.U,settings:constants.T,mappings:constants.R,aliases:constants.Q,preview:constants.S},TemplateDetailsContent=({template:{name:templateName,isLegacy:isLegacy},onClose:onClose,editTemplate:editTemplate,cloneTemplate:cloneTemplate,reload:reload})=>{const{uiMetricService:uiMetricService}=useServices(),{error:error,data:templateDetails,isLoading:isLoading}=useLoadIndexTemplate(templateName,isLegacy),isCloudManaged="cloudManaged"===(null==templateDetails?void 0:templateDetails._kbnMeta.type),[templateToDelete,setTemplateToDelete]=Object(external_kbnSharedDeps_React_.useState)([]),[activeTab,setActiveTab]=Object(external_kbnSharedDeps_React_.useState)("summary"),[isPopoverOpen,setIsPopOverOpen]=Object(external_kbnSharedDeps_React_.useState)(!1);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",{id:"templateDetailsFlyoutTitle","data-test-subj":"title"},templateName,templateDetails&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,"",external_kbnSharedDeps_React_default.a.createElement(TemplateTypeIndicator,{templateType:templateDetails._kbnMeta.type}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutBody,{"data-test-subj":"content"},(()=>{if(isLoading)return external_kbnSharedDeps_React_default.a.createElement(SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.loadingIndexTemplateDescription",defaultMessage:"Loading template"}));if(error)return external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.loadingIndexTemplateErrorMessage",defaultMessage:"Error loading template"}),error:error,"data-test-subj":"sectionError"});if(templateDetails){const{template:{settings:settings,mappings:mappings,aliases:aliases}={}}=templateDetails,tabContent={summary:external_kbnSharedDeps_React_default.a.createElement(tab_summary_TabSummary,{templateDetails:templateDetails}),settings:external_kbnSharedDeps_React_default.a.createElement(TabSettings,{settings:settings}),mappings:external_kbnSharedDeps_React_default.a.createElement(TabMappings,{mappings:mappings}),aliases:external_kbnSharedDeps_React_default.a.createElement(TabAliases,{aliases:aliases}),preview:external_kbnSharedDeps_React_default.a.createElement(TabPreview,{templateDetails:templateDetails})}[activeTab],managedTemplateCallout=isCloudManaged&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.cloudManagedTemplateInfoTitle",defaultMessage:"Editing a cloud-managed template is not permitted."}),color:"primary",size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.cloudManagedTemplateInfoDescription",defaultMessage:"Cloud-managed templates are critical for internal operations."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,managedTemplateCallout,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTabs,null,template_details_content_TABS.filter(tab=>!isLegacy||"preview"!==tab.id).map(tab=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTab,{onClick:()=>{uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.CLICK,tabToUiMetricMap[tab.id]),setActiveTab(tab.id)},isSelected:tab.id===activeTab,key:tab.id,"data-test-subj":"tab"},tab.name))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),tabContent)}})()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutFooter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:onClose,"data-test-subj":"closeDetailsButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.closeButtonLabel",defaultMessage:"Close"}))),templateDetails&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{id:"manageTemplatePanel",button:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{fill:!0,"data-test-subj":"manageTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>setIsPopOverOpen(prev=>!prev)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.manageButtonLabel",defaultMessage:"Manage"})),isOpen:isPopoverOpen,closePopover:()=>setIsPopOverOpen(!1),panelPaddingSize:"none",anchorPosition:"rightUp",repositionOnScroll:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenu,{initialPanelId:0,panels:[{id:0,title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateDetails.manageContextMenuPanelTitle",{defaultMessage:"Template options"}),items:[{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateDetails.editButtonLabel",{defaultMessage:"Edit"}),icon:"pencil",onClick:()=>editTemplate(templateName,isLegacy),disabled:isCloudManaged},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateDetails.cloneButtonLabel",{defaultMessage:"Clone"}),icon:"copy",onClick:()=>cloneTemplate(templateName,isLegacy)},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateDetails.deleteButtonLabel",{defaultMessage:"Delete"}),icon:"trash",onClick:()=>setTemplateToDelete([{name:templateName,isLegacy:isLegacy}]),disabled:isCloudManaged}]}]}))))),templateToDelete&&templateToDelete.length>0?external_kbnSharedDeps_React_default.a.createElement(TemplateDeleteModal,{callback:data=>{data&&data.hasDeletedTemplates?reload():setTemplateToDelete([]),onClose()},templatesToDelete:templateToDelete}):null)},TemplateDetails=props=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyout,{onClose:props.onClose,"data-test-subj":"templateDetails","aria-labelledby":"templateDetailsFlyoutTitle"},external_kbnSharedDeps_React_default.a.createElement(TemplateDetailsContent,props));function template_table_template_table_extends(){return(template_table_template_table_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const LegacyTemplateTable=({templates:templates,reload:reload,editTemplate:editTemplate,cloneTemplate:cloneTemplate,history:history})=>{const{uiMetricService:uiMetricService}=useServices(),[selection,setSelection]=Object(external_kbnSharedDeps_React_.useState)([]),[templatesToDelete,setTemplatesToDelete]=Object(external_kbnSharedDeps_React_.useState)([]),columns=[{field:"name",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(name,item)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,template_table_template_table_extends({},Object(kibanaReact_public_.reactRouterNavigate)(history,Object(routing.d)(name,Boolean(item._kbnMeta.isLegacy)),()=>uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.CLICK,constants.W)),{"data-test-subj":"templateDetailsLink"}),name),"",external_kbnSharedDeps_React_default.a.createElement(TemplateTypeIndicator,{templateType:item._kbnMeta.type}))},{field:"indexPatterns",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.indexPatternsColumnTitle",{defaultMessage:"Index patterns"}),truncateText:!0,sortable:!0,render:indexPatterns=>external_kbnSharedDeps_React_default.a.createElement("strong",null,indexPatterns.join(", "))},{field:"ilmPolicy",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.ilmPolicyColumnTitle",{defaultMessage:"ILM policy"}),truncateText:!0,sortable:!0,render:ilmPolicy=>ilmPolicy&&ilmPolicy.name?external_kbnSharedDeps_React_default.a.createElement("span",{title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.ilmPolicyColumnDescription",{defaultMessage:"'{policyName}' index lifecycle policy",values:{policyName:ilmPolicy.name}})},ilmPolicy.name):null},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.contentColumnTitle",{defaultMessage:"Content"}),width:"120px",render:item=>external_kbnSharedDeps_React_default.a.createElement(TemplateContentIndicator,{mappings:item.hasMappings,settings:item.hasSettings,aliases:item.hasAliases,contentWhenEmpty:external_kbnSharedDeps_React_default.a.createElement("em",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.table.noneDescriptionText",{defaultMessage:"None"}))})},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionColumnTitle",{defaultMessage:"Actions"}),width:"120px",actions:[{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionEditText",{defaultMessage:"Edit"}),isPrimary:!0,description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionEditDecription",{defaultMessage:"Edit this template"}),icon:"pencil",type:"icon",onClick:({name:name})=>{editTemplate(name,!0)},enabled:({_kbnMeta:{type:type}})=>"cloudManaged"!==type},{type:"icon",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionCloneTitle",{defaultMessage:"Clone"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionCloneDescription",{defaultMessage:"Clone this template"}),icon:"copy",onClick:({name:name})=>{cloneTemplate(name,!0)}},{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionDeleteText",{defaultMessage:"Delete"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionDeleteDecription",{defaultMessage:"Delete this template"}),icon:"trash",color:"danger",type:"icon",onClick:({name:name,_kbnMeta:{isLegacy:isLegacy}})=>{setTemplatesToDelete([{name:name,isLegacy:isLegacy}])},isPrimary:!0,enabled:({_kbnMeta:{type:type}})=>"cloudManaged"!==type}]}],selectionConfig={onSelectionChange:setSelection,selectable:({_kbnMeta:{type:type}})=>"cloudManaged"!==type,selectableMessage:selectable=>selectable?"":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.templateList.legacyTable.deleteCloudManagedTemplateTooltip",{defaultMessage:"You cannot delete a cloud-managed template."})},searchConfig={box:{incremental:!0},toolsLeft:selection.length>0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{"data-test-subj":"deleteTemplatesButton",onClick:()=>setTemplatesToDelete(selection.map(({name:name,_kbnMeta:{isLegacy:isLegacy}})=>({name:name,isLegacy:isLegacy}))),color:"danger"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.deleteTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {template} other {templates} }",values:{count:selection.length}})):void 0,toolsRight:[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,template_table_template_table_extends({iconType:"plusInCircle","data-test-subj":"createLegacyTemplateButton",key:"createTemplateButton"},Object(kibanaReact_public_.reactRouterNavigate)(history,{pathname:"/create_template",search:"legacy=true"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.createLegacyTemplatesButtonLabel",defaultMessage:"Create legacy template"}))]};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,templatesToDelete&&templatesToDelete.length>0?external_kbnSharedDeps_React_default.a.createElement(TemplateDeleteModal,{callback:data=>{data&&data.hasDeletedTemplates&&(reload(),history.push("templates")),setTemplatesToDelete([])},templatesToDelete:templatesToDelete}):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiInMemoryTable,{items:templates||[],itemId:"name",columns:columns,search:searchConfig,sorting:{sort:{field:"name",direction:"asc"}},isSelectable:!0,selection:selectionConfig,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"legacyTemplateTable",message:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.noLegacyIndexTemplatesMessage",defaultMessage:"No legacy index templates found"})}))};function filterTemplates(templates,types){return templates.filter(template=>"default"===template._kbnMeta.type||types.includes(template._kbnMeta.type))}const TemplateList=({match:{params:{templateName:templateName}},location:location,history:history})=>{const{uiMetricService:uiMetricService}=useServices(),{error:error,isLoading:isLoading,data:allTemplates,resendRequest:reload}=use_request_useRequest({path:constants.a+"/index_templates",method:"get"}),[filters,setFilters]=Object(external_kbnSharedDeps_React_.useState)({managed:{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewManagedTemplateLabel",{defaultMessage:"Managed templates"}),checked:"on"},cloudManaged:{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewCloudManagedTemplateLabel",{defaultMessage:"Cloud-managed templates"}),checked:"off"},system:{name:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewSystemTemplateLabel",{defaultMessage:"System templates"}),checked:"off"}}),filteredTemplates=Object(external_kbnSharedDeps_React_.useMemo)(()=>{if(!allTemplates)return{templates:[],legacyTemplates:[]};const visibleTemplateTypes=Object.entries(filters).filter(([name,_filter])=>"on"===_filter.checked).map(([name])=>name);return{templates:filterTemplates(allTemplates.templates,visibleTemplateTypes),legacyTemplates:filterTemplates(allTemplates.legacyTemplates,visibleTemplateTypes)}},[allTemplates,filters]),selectedTemplate=Boolean(templateName)?{name:Object(public_.attemptToURIDecode)(templateName),isLegacy:getIsLegacyFromQueryParams(location)}:null,isTemplateDetailsVisible=null!==selectedTemplate,hasTemplates=allTemplates&&(allTemplates.legacyTemplates.length>0||allTemplates.templates.length>0),editTemplate=(name,isLegacy)=>{history.push(Object(routing.e)(name,isLegacy))},cloneTemplate=(name,isLegacy)=>{history.push(Object(routing.c)(name,isLegacy))};return Object(external_kbnSharedDeps_React_.useEffect)(()=>{uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.LOADED,constants.V)},[uiMetricService]),external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"templateList"},isLoading?external_kbnSharedDeps_React_default.a.createElement(SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.loadingIndexTemplatesDescription",defaultMessage:"Loading templates"})):error?external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.loadingIndexTemplatesErrorMessage",defaultMessage:"Error loading templates"}),error:error}):hasTemplates?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.indexTemplatesDescription",defaultMessage:"Use index templates to automatically apply settings, mappings, and aliases to indices. {learnMoreLink}",values:{learnMoreLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:documentationService.getTemplatesDocumentationLink(),target:"_blank",external:!0},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.idxMgmt.home.indexTemplatesDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(filter_list_button_FilterListButton,{filters:filters,onChange:setFilters})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{color:"secondary",iconType:"refresh",onClick:reload,"data-test-subj":"reloadButton",key:"reloadButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.reloadTemplatesButtonLabel",defaultMessage:"Reload"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(TemplateTable,{templates:filteredTemplates.templates,reload:reload,editTemplate:editTemplate,cloneTemplate:cloneTemplate,history:history})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.legacyIndexTemplatesTitle",defaultMessage:"Legacy index templates"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(LegacyTemplateTable,{templates:filteredTemplates.legacyTemplates,reload:reload,editTemplate:editTemplate,cloneTemplate:cloneTemplate,history:history}))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"managementApp",title:external_kbnSharedDeps_React_default.a.createElement("h1",{"data-test-subj":"title"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.noIndexTemplatesTitle",defaultMessage:"You don't have any templates yet"})),"data-test-subj":"emptyPrompt"}),isTemplateDetailsVisible&&external_kbnSharedDeps_React_default.a.createElement(TemplateDetails,{template:selectedTemplate,onClose:()=>{history.push(Object(routing.f)())},editTemplate:editTemplate,cloneTemplate:cloneTemplate,reload:reload}))};let Section;!function(Section){Section.Indices="indices",Section.DataStreams="data_streams",Section.IndexTemplates="templates",Section.ComponentTemplates="component_templates"}(Section||(Section={}));const homeSections=[Section.Indices,Section.DataStreams,Section.IndexTemplates,Section.ComponentTemplates],IndexManagementHome=({match:{params:{section:section}},history:history})=>{const tabs=[{id:Section.Indices,name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.indicesTabTitle",defaultMessage:"Indices"})},{id:Section.DataStreams,name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.dataStreamsTabTitle",defaultMessage:"Data Streams"})},{id:Section.IndexTemplates,name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.indexTemplatesTabTitle",defaultMessage:"Index Templates"})},{id:Section.ComponentTemplates,name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplatesTabTitle",defaultMessage:"Component Templates"})}];return Object(external_kbnSharedDeps_React_.useEffect)(()=>{breadcrumbService.setBreadcrumbs("home")},[]),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageBody,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageContent,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"l"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!0},external_kbnSharedDeps_React_default.a.createElement("h1",{"data-test-subj":"appTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.appTitle",defaultMessage:"Index Management"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{href:documentationService.getIdxMgmtDocumentationLink(),target:"_blank",iconType:"help","data-test-subj":"documentationLink"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.home.idxMgmtDocsLinkText",defaultMessage:"Index Management docs"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTabs,null,tabs.map(tab=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTab,{onClick:()=>{return newSection=tab.id,void history.push("/"+newSection);var newSection},isSelected:tab.id===section,key:tab.id,"data-test-subj":tab.id+"Tab"},tab.name))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Switch,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{exact:!0,path:["/"+Section.DataStreams,`/${Section.DataStreams}/:dataStreamName?`],component:DataStreamList}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{exact:!0,path:"/"+Section.Indices,component:IndexList}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{exact:!0,path:["/"+Section.IndexTemplates,`/${Section.IndexTemplates}/:templateName?`],component:TemplateList}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{exact:!0,path:["/"+Section.ComponentTemplates,`/${Section.ComponentTemplates}/:componentTemplateName?`],component:ComponentTemplateListContainer}))))},TemplateCreate=({history:history})=>{const[isSaving,setIsSaving]=Object(external_kbnSharedDeps_React_.useState)(!1),[saveError,setSaveError]=Object(external_kbnSharedDeps_React_.useState)(null),search=Object(query_string.parse)(Object(external_kbnSharedDeps_ReactRouterDom_.useLocation)().search.substring(1)),isLegacy=Boolean(search.legacy);return Object(external_kbnSharedDeps_React_.useEffect)(()=>{breadcrumbService.setBreadcrumbs("templateCreate")},[]),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageBody,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageContent,null,external_kbnSharedDeps_React_default.a.createElement(TemplateForm,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",{"data-test-subj":"pageTitle"},isLegacy?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.createLegacyTemplatePageTitle",defaultMessage:"Create legacy template"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.createTemplatePageTitle",defaultMessage:"Create template"}))),onSave:async template=>{const{name:name}=template;setIsSaving(!0),setSaveError(null);const{error:error}=await saveTemplate(template);setIsSaving(!1),error?setSaveError(error):history.push(Object(routing.d)(name,template._kbnMeta.isLegacy))},isSaving:isSaving,saveError:saveError,clearSaveError:()=>{setSaveError(null)},isLegacy:isLegacy})))},TemplateClone=({match:{params:{name:name}},location:location,history:history})=>{const decodedTemplateName=Object(public_.attemptToURIDecode)(name),isLegacy=getIsLegacyFromQueryParams(location),[isSaving,setIsSaving]=Object(external_kbnSharedDeps_React_.useState)(!1),[saveError,setSaveError]=Object(external_kbnSharedDeps_React_.useState)(null),{error:templateToCloneError,data:templateToClone,isLoading:isLoading}=useLoadIndexTemplate(decodedTemplateName,isLegacy),onSave=async template=>{setIsSaving(!0),setSaveError(null);const{error:error}=await saveTemplate(template,!0),{name:newTemplateName}=template;setIsSaving(!1),error?setSaveError(error):history.push(Object(routing.d)(newTemplateName,template._kbnMeta.isLegacy))},clearSaveError=()=>{setSaveError(null)};let content;if(Object(external_kbnSharedDeps_React_.useEffect)(()=>{breadcrumbService.setBreadcrumbs("templateClone")},[]),isLoading)content=external_kbnSharedDeps_React_default.a.createElement(SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateCreate.loadingTemplateToCloneDescription",defaultMessage:"Loading template to clone"}));else if(templateToCloneError)content=external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateCreate.loadingTemplateToCloneErrorMessage",defaultMessage:"Error loading template to clone"}),error:templateToCloneError,"data-test-subj":"sectionError"});else if(templateToClone){const templateData={...templateToClone,name:decodedTemplateName+"-copy"};content=external_kbnSharedDeps_React_default.a.createElement(TemplateForm,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",{"data-test-subj":"pageTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.cloneTemplatePageTitle",defaultMessage:"Clone template '{name}'",values:{name:decodedTemplateName}}))),defaultValue:templateData,onSave:onSave,isSaving:isSaving,saveError:saveError,clearSaveError:clearSaveError,isLegacy:isLegacy})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageBody,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageContent,null,content))},TemplateEdit=({match:{params:{name:name}},location:location,history:history})=>{const decodedTemplateName=Object(public_.attemptToURIDecode)(name),isLegacy=getIsLegacyFromQueryParams(location),[isSaving,setIsSaving]=Object(external_kbnSharedDeps_React_.useState)(!1),[saveError,setSaveError]=Object(external_kbnSharedDeps_React_.useState)(null),{error:error,data:template,isLoading:isLoading}=useLoadIndexTemplate(decodedTemplateName,isLegacy);Object(external_kbnSharedDeps_React_.useEffect)(()=>{breadcrumbService.setBreadcrumbs("templateEdit")},[]);const onSave=async updatedTemplate=>{setIsSaving(!0),setSaveError(null);const{error:saveErrorObject}=await async function(template){var _template$template2;const includeTypeName=doMappingsHaveType(null===(_template$template2=template.template)||void 0===_template$template2?void 0:_template$template2.mappings),{name:name}=template,result=await use_request_sendRequest({path:`${constants.a}/index_templates/${encodeURIComponent(name)}`,method:"put",body:JSON.stringify(template),query:{include_type_name:includeTypeName}});return api_uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,constants.Y),result}(updatedTemplate);setIsSaving(!1),saveErrorObject?setSaveError(saveErrorObject):history.push(Object(routing.d)(decodedTemplateName,updatedTemplate._kbnMeta.isLegacy))},clearSaveError=()=>{setSaveError(null)};let content;if(isLoading)content=external_kbnSharedDeps_React_default.a.createElement(SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.loadingIndexTemplateDescription",defaultMessage:"Loading template"}));else if(error)content=external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.loadingIndexTemplateErrorMessage",defaultMessage:"Error loading template"}),error:error,"data-test-subj":"sectionError"});else if(template){const{name:templateName,_kbnMeta:{type:type}}=template,isSystemTemplate=templateName&&templateName.startsWith(".");content="cloudManaged"===type?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.managedTemplateWarningTitle",defaultMessage:"Editing a managed template is not permitted"}),color:"danger",iconType:"alert","data-test-subj":"systemTemplateEditCallout"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.managedTemplateWarningDescription",defaultMessage:"Managed templates are critical for internal operations."})):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,isSystemTemplate&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.systemTemplateWarningTitle",defaultMessage:"Editing a system template can break Kibana"}),color:"danger",iconType:"alert","data-test-subj":"systemTemplateEditCallout"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.systemTemplateWarningDescription",defaultMessage:"System templates are critical for internal operations."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"l"})),external_kbnSharedDeps_React_default.a.createElement(TemplateForm,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",{"data-test-subj":"pageTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.idxMgmt.editTemplate.editTemplatePageTitle",defaultMessage:"Edit template '{name}'",values:{name:decodedTemplateName}}))),defaultValue:template,onSave:onSave,isSaving:isSaving,saveError:saveError,clearSaveError:clearSaveError,isEditing:!0,isLegacy:isLegacy}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageBody,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageContent,null,content))},App=({history:history})=>{const{uiMetricService:uiMetricService}=useServices();return Object(external_kbnSharedDeps_React_.useEffect)(()=>uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.LOADED,constants.m),[uiMetricService]),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Router,{history:history},external_kbnSharedDeps_React_default.a.createElement(AppWithoutRouter,null))},AppWithoutRouter=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Switch,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{exact:!0,path:"/create_template",component:TemplateCreate}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{exact:!0,path:"/clone_template/:name*",component:TemplateClone}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{exact:!0,path:"/edit_template/:name*",component:TemplateEdit}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{exact:!0,path:"/create_component_template",component:ComponentTemplateCreate}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{exact:!0,path:"/create_component_template/:sourceComponentTemplateName",component:ComponentTemplateClone}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{exact:!0,path:"/edit_component_template/:name*",component:ComponentTemplateEdit}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Route,{path:`/:section(${homeSections.join("|")})`,component:IndexManagementHome}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_.Redirect,{from:"/",to:"/indices"}));var redux=__webpack_require__(49),redux_thunk_lib=__webpack_require__(178),redux_thunk_lib_default=__webpack_require__.n(redux_thunk_lib);const defaultTableState={filter:"",pageSize:10,currentPage:0,sortField:"index.name",isSortAscending:!0},table_state_tableState=Object(redux_actions_lib.handleActions)({[table_state_filterChanged](state,action){const{filter:filter}=action.payload;return{...state,filter:filter,currentPage:0}},[table_state_toggleChanged](state,action){const{toggleName:toggleName,toggleValue:toggleValue}=action.payload,toggleNameToVisibleMap={...state.toggleNameToVisibleMap};return toggleNameToVisibleMap[toggleName]=toggleValue,{...state,toggleNameToVisibleMap:toggleNameToVisibleMap}},[sortChanged](state,action){const{sortField:sortField,isSortAscending:isSortAscending}=action.payload;return{...state,sortField:sortField,isSortAscending:isSortAscending}},[table_state_pageChanged](state,action){const{pageNumber:pageNumber}=action.payload;return{...state,currentPage:pageNumber}},[table_state_pageSizeChanged](state,action){const{pageSize:pageSize}=action.payload;return{...state,pageSize:pageSize}}},defaultTableState),defaultState={},getDetailPanelReducer=uiMetricService=>Object(redux_actions_lib.handleActions)({[deleteIndicesSuccess](state,action){const{indexNames:indexNames}=action.payload,{indexName:indexName}=state;return indexNames.includes(indexName)?{}:state},[detail_panel_openDetailPanel](state,action){const{panelType:panelType,indexName:indexName,title:title}=action.payload,panelTypeToUiMetricMap={TAB_SUMMARY:constants.s,TAB_SETTINGS:constants.q,TAB_MAPPING:constants.p,TAB_STATS:constants.r,TAB_EDIT_SETTINGS:constants.o};return panelTypeToUiMetricMap[panelType]&&uiMetricService.trackMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.COUNT,panelTypeToUiMetricMap[panelType]),{panelType:panelType||state.panelType||"TAB_SUMMARY",indexName:indexName,title:title}},[detail_panel_closeDetailPanel]:()=>({}),[loadIndexDataSuccess](state,action){const{data:data}=action.payload;return{...state,data:data}},[updateIndexSettingsError](state,action){const{error:error}=action.payload;return{...state,error:error}},[updateIndexSettingsSuccess]:()=>({})},defaultState),indices_byId=Object(redux_actions_lib.handleActions)({[deleteIndicesSuccess](state,action){const{indexNames:indexNames}=action.payload,newState={};return Object.values(state).forEach(index=>{indexNames.includes(index.name)||(newState[index.name]=index)}),newState},[loadIndicesSuccess](state,action){const{indices:indices}=action.payload,newState={};return indices.forEach(index=>{newState[index.name]=index}),newState},[reloadIndicesSuccess](state,action){const{indices:indices}=action.payload,newState={};return indices.forEach(index=>{newState[index.name]=index}),{...state,...newState}}},{}),indices_allIds=Object(redux_actions_lib.handleActions)({[deleteIndicesSuccess](state,action){const{indexNames:indexNames}=action.payload,newState=[];return state.forEach(indexName=>{indexNames.includes(indexName)||newState.push(indexName)}),newState},[loadIndicesSuccess](state,action){const{indices:indices}=action.payload;return indices.map(index=>index.name)},[reloadIndicesSuccess]:state=>state},[]),loading=Object(redux_actions_lib.handleActions)({[loadIndicesStart]:()=>!0,[loadIndicesSuccess]:()=>!1,[loadIndicesError]:()=>!1},!0),indices_error=Object(redux_actions_lib.handleActions)({[loadIndicesError]:(state,action)=>({...action.payload})},!1),indices_indices=Object(redux.combineReducers)({loading:loading,error:indices_error,byId:indices_byId,allIds:indices_allIds}),rowStatus=Object(redux_actions_lib.handleActions)({[clearRowStatus](state,action){const{indexNames:indexNames}=action.payload,newState={...state};return indexNames.forEach(indexName=>{delete newState[indexName]}),newState},[closeIndicesStart](state,action){const{indexNames:indexNames}=action.payload,statuses={};return indexNames.forEach(indexName=>{statuses[indexName]=constants.d}),{...state,...statuses}},[openIndicesStart](state,action){const{indexNames:indexNames}=action.payload,statuses={};return indexNames.forEach(indexName=>{statuses[indexName]=constants.i}),{...state,...statuses}},[refreshIndicesStart](state,action){const{indexNames:indexNames}=action.payload,statuses={};return indexNames.forEach(indexName=>{statuses[indexName]=constants.j}),{...state,...statuses}},[flushIndicesStart](state,action){const{indexNames:indexNames}=action.payload,statuses={};return indexNames.forEach(indexName=>{statuses[indexName]=constants.e}),{...state,...statuses}},[forcemergeIndicesStart](state,action){const{indexNames:indexNames}=action.payload,statuses={};return indexNames.forEach(indexName=>{statuses[indexName]=constants.f}),{...state,...statuses}},[clearCacheIndicesStart](state,action){const{indexNames:indexNames}=action.payload,statuses={};return indexNames.forEach(indexName=>{statuses[indexName]=constants.b}),{...state,...statuses}},[reloadIndicesSuccess](state,action){const{indices:indices}=action.payload,indicesByName=indices.reduce((acc,index)=>(acc[index.name]=index,acc),{}),newState={...state};for(const indexName in state)state[indexName]===constants.d&&indicesByName[indexName].status===constants.c&&delete newState[indexName],state[indexName]===constants.i&&indicesByName[indexName].status===constants.h&&delete newState[indexName],state[indexName]===constants.j&&indicesByName[indexName].status===constants.h&&delete newState[indexName],state[indexName]===constants.j&&indicesByName[indexName].status===constants.c&&delete newState[indexName],state[indexName]===constants.e&&indicesByName[indexName].status===constants.h&&delete newState[indexName],state[indexName]===constants.e&&indicesByName[indexName].status===constants.c&&delete newState[indexName],state[indexName]===constants.f&&indicesByName[indexName].status===constants.h&&delete newState[indexName],state[indexName]===constants.f&&indicesByName[indexName].status===constants.c&&delete newState[indexName],state[indexName]===constants.b&&indicesByName[indexName].status===constants.h&&delete newState[indexName],state[indexName]===constants.b&&indicesByName[indexName].status===constants.c&&delete newState[indexName];return newState}},{});function indexManagementStore(services){const toggleNameToVisibleMap={};services.extensionsService.toggles.forEach(toggleExtension=>{toggleNameToVisibleMap[toggleExtension.name]=!1});const initialState={tableState:{...defaultTableState,toggleNameToVisibleMap:toggleNameToVisibleMap}},enhancers=[Object(redux.applyMiddleware)(redux_thunk_lib_default.a)];return window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__()),Object(redux.createStore)((({uiMetricService:uiMetricService})=>Object(redux.combineReducers)({indices:indices_indices,rowStatus:rowStatus,tableState:table_state_tableState,detailPanel:getDetailPanelReducer(uiMetricService)}))(services),initialState,Object(redux.compose)(...enhancers))}const{GlobalFlyoutProvider:GlobalFlyoutProvider}=public_.GlobalFlyout;function initSetup({usageCollection:usageCollection,coreSetup:coreSetup}){const{http:http,notifications:notifications}=coreSetup;httpService.setup(http),notificationService.setup(notifications);const uiMetricService=new UiMetricService(constants.n);return api_uiMetricService=uiMetricService,uiMetricService.setup(usageCollection),{uiMetricService:uiMetricService}}async function mountManagementSection(coreSetup,usageCollection,params,extensionsService,isFleetEnabled){const{element:element,setBreadcrumbs:setBreadcrumbs,history:history}=params,[core,startDependencies]=await coreSetup.getStartServices(),{docLinks:docLinks,fatalErrors:fatalErrors,application:application,chrome:{docTitle:docTitle},uiSettings:uiSettings}=core,{urlGenerators:urlGenerators}=startDependencies.share;docTitle.change(constants_plugin.a.getI18nName(external_kbnSharedDeps_KbnI18n_.i18n)),breadcrumbService.setup(setBreadcrumbs),documentationService.setup(docLinks);const{uiMetricService:uiMetricService}=initSetup({usageCollection:usageCollection,coreSetup:coreSetup}),unmountAppCallback=((elem,{core:core,dependencies:dependencies})=>{if(!elem)return()=>{};const{i18n:i18n,docLinks:docLinks,notifications:notifications,application:application}=core,{Context:I18nContext}=i18n,{services:services,history:history,setBreadcrumbs:setBreadcrumbs,uiSettings:uiSettings}=dependencies,{Provider:KibanaReactContextProvider}=Object(kibanaReact_public_.createKibanaReactContext)({uiSettings:uiSettings}),componentTemplateProviderValues={httpClient:services.httpService.httpClient,apiBasePath:common.API_BASE_PATH,trackMetric:services.uiMetricService.trackMetric.bind(services.uiMetricService),docLinks:docLinks,toasts:notifications.toasts,setBreadcrumbs:setBreadcrumbs,getUrlForApp:application.getUrlForApp};return Object(external_kbnSharedDeps_ReactDom_.render)(external_kbnSharedDeps_React_default.a.createElement(I18nContext,null,external_kbnSharedDeps_React_default.a.createElement(KibanaReactContextProvider,null,external_kbnSharedDeps_React_default.a.createElement(react_redux_lib.Provider,{store:indexManagementStore(services)},external_kbnSharedDeps_React_default.a.createElement(AppContextProvider,{value:dependencies},external_kbnSharedDeps_React_default.a.createElement(MappingsEditorProvider,null,external_kbnSharedDeps_React_default.a.createElement(ComponentTemplatesProvider,{value:componentTemplateProviderValues},external_kbnSharedDeps_React_default.a.createElement(GlobalFlyoutProvider,null,external_kbnSharedDeps_React_default.a.createElement(App,{history:history})))))))),elem),()=>{Object(external_kbnSharedDeps_ReactDom_.unmountComponentAtNode)(elem)}})(element,{core:core,dependencies:{core:{fatalErrors:fatalErrors,getUrlForApp:application.getUrlForApp},plugins:{usageCollection:usageCollection,isFleetEnabled:isFleetEnabled},services:{httpService:httpService,notificationService:notificationService,uiMetricService:uiMetricService,extensionsService:extensionsService},history:history,setBreadcrumbs:setBreadcrumbs,uiSettings:uiSettings,urlGenerators:urlGenerators,docLinks:docLinks}});return()=>{docTitle.reset(),unmountAppCallback()}}}])]);