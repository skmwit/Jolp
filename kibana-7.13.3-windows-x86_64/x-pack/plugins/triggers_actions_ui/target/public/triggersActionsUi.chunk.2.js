/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[2],{100:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HealthCheck}));var external_kbnSharedDeps_React_=__webpack_require__(1),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),Option=__webpack_require__(89),pipeable=__webpack_require__(91),external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(52),external_kbnSharedDeps_ElasticEui_=__webpack_require__(15),external_kbnSharedDeps_KbnI18n_=__webpack_require__(0),health_context=(__webpack_require__(123),__webpack_require__(92)),kibana=__webpack_require__(72),center_justified_spinner=__webpack_require__(26);var alert_api=__webpack_require__(90);const HealthCheck=({children:children,waitForCheck:waitForCheck,inFlyout:inFlyout=!1})=>{const{http:http,docLinks:docLinks}=Object(kibana.b)().services,{setLoadingHealthCheck:setLoadingHealthCheck}=Object(health_context.b)(),[alertingHealth,setAlertingHealth]=external_kbnSharedDeps_React_default.a.useState(Option.none);external_kbnSharedDeps_React_default.a.useEffect(()=>{!async function(){setLoadingHealthCheck(!0);const healthStatus={...await async function({http:http}){return await http.get("/api/triggers_actions_ui/_health")}({http:http}),isSufficientlySecure:!1,hasPermanentEncryptionKey:!1};if(healthStatus.isAlertsAvailable){const alertingHealthResult=await Object(alert_api.a)({http:http});healthStatus.isSufficientlySecure=alertingHealthResult.isSufficientlySecure,healthStatus.hasPermanentEncryptionKey=alertingHealthResult.hasPermanentEncryptionKey}setAlertingHealth(Object(Option.some)(healthStatus)),setLoadingHealthCheck(!1)}()},[http,setLoadingHealthCheck]);const className=inFlyout?"alertingFlyoutHealthCheck":"alertingHealthCheck";return Object(pipeable.pipe)(alertingHealth,Object(Option.fold)(()=>waitForCheck?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(center_justified_spinner.a,null)):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,children),healthCheck=>null!=healthCheck&&healthCheck.isSufficientlySecure&&null!=healthCheck&&healthCheck.hasPermanentEncryptionKey?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,children):healthCheck.isAlertsAvailable?healthCheck.isSufficientlySecure||healthCheck.hasPermanentEncryptionKey?healthCheck.hasPermanentEncryptionKey?external_kbnSharedDeps_React_default.a.createElement(TlsError,{docLinks:docLinks,className:className}):external_kbnSharedDeps_React_default.a.createElement(EncryptionError,{docLinks:docLinks,className:className}):external_kbnSharedDeps_React_default.a.createElement(TlsAndEncryptionError,{docLinks:docLinks,className:className}):external_kbnSharedDeps_React_default.a.createElement(AlertsError,{docLinks:docLinks,className:className})))},EncryptionError=({docLinks:docLinks,className:className})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:className,titleSize:"xs",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.encryptionErrorTitle",defaultMessage:"Encrypted saved objects are not available"})),body:external_kbnSharedDeps_React_default.a.createElement("div",{className:className+"__body"},external_kbnSharedDeps_React_default.a.createElement("p",{role:"banner"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorBeforeKey",{defaultMessage:"To create a rule, set a value for "}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"xpack.encryptedSavedObjects.encryptionKey"),external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorAfterKey",{defaultMessage:" in your kibana.yml file and ensure the Encrypted Saved Objects plugin is enabled. "}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:docLinks.links.alerting.generalSettings,external:!0,target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorAction",{defaultMessage:"Learn how."}))))}),TlsError=({docLinks:docLinks,className:className})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:className,titleSize:"xs",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.tlsErrorTitle",defaultMessage:"You must enable Transport Layer Security"})),body:external_kbnSharedDeps_React_default.a.createElement("div",{className:className+"__body"},external_kbnSharedDeps_React_default.a.createElement("p",{role:"banner"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.components.healthCheck.tlsError",{defaultMessage:"Alerting relies on API keys, which require TLS between Elasticsearch and Kibana. "}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:docLinks.links.security.kibanaTLS,external:!0,target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.components.healthCheck.tlsErrorAction",{defaultMessage:"Learn how to enable TLS."}))))}),AlertsError=({docLinks:docLinks,className:className})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"alertsNeededEmptyPrompt",className:className,titleSize:"xs",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.alertsErrorTitle",defaultMessage:"You must enable Alerting and Actions"})),body:external_kbnSharedDeps_React_default.a.createElement("div",{className:className+"__body"},external_kbnSharedDeps_React_default.a.createElement("p",{role:"banner"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.components.healthCheck.alertsError",{defaultMessage:"To create a rule, you must enable the alerting and actions plugins. "}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:docLinks.links.alerting.generalSettings,external:!0,target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.components.healthCheck.alertsErrorAction",{defaultMessage:"Learn how."}))))}),TlsAndEncryptionError=({docLinks:docLinks,className:className})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:className,titleSize:"xs",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.tlsAndEncryptionErrorTitle",defaultMessage:"Additional setup required"})),body:external_kbnSharedDeps_React_default.a.createElement("div",{className:className+"__body"},external_kbnSharedDeps_React_default.a.createElement("p",{role:"banner"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.components.healthCheck.tlsAndEncryptionError",{defaultMessage:"You must enable Transport Layer Security between Kibana and Elasticsearch and configure an encryption key in your kibana.yml file. "}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:docLinks.links.alerting.setupPrerequisites,external:!0,target:"_blank"},external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.components.healthCheck.tlsAndEncryptionErrorAction",{defaultMessage:"Learn how."}))))})},122:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return transformActionVariables})),__webpack_require__.d(__webpack_exports__,"a",(function(){return AlertProvidedActionVariables}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function transformActionVariables(actionVariables){const alwaysProvidedVars=function(){const result=[];return result.push({name:AlertProvidedActionVariables.ruleId,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleIdLabel",{defaultMessage:"The ID of the rule."})}),result.push({name:AlertProvidedActionVariables.ruleName,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleNameLabel",{defaultMessage:"The name of the rule."})}),result.push({name:AlertProvidedActionVariables.ruleSpaceId,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleSpaceIdLabel",{defaultMessage:"The space ID of the rule."})}),result.push({name:AlertProvidedActionVariables.ruleTags,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleTagsLabel",{defaultMessage:"The tags of the rule."})}),result.push({name:AlertProvidedActionVariables.ruleType,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleTypeLabel",{defaultMessage:"The type of rule."})}),result.push({name:AlertProvidedActionVariables.date,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.dateLabel",{defaultMessage:"The date the rule scheduled the action."})}),result.push({name:AlertProvidedActionVariables.alertId,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.alertIdLabel",{defaultMessage:"The ID of the alert that scheduled actions for the rule."})}),result.push({name:AlertProvidedActionVariables.alertActionGroup,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.alertActionGroupLabel",{defaultMessage:"The action group of the alert that scheduled actions for the rule."})}),result.push({name:AlertProvidedActionVariables.alertActionSubgroup,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.alertActionSubgroupLabel",{defaultMessage:"The action subgroup of the alert that scheduled actions for the rule."})}),result.push({name:AlertProvidedActionVariables.alertActionGroupName,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.alertActionGroupNameLabel",{defaultMessage:"The human readable name of the action group of the alert that scheduled actions for the rule."})}),result.push({name:"kibanaBaseUrl",description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.kibanaBaseUrlLabel",{defaultMessage:"The configured server.publicBaseUrl value or empty string if not configured."})}),result.push({name:LegacyAlertProvidedActionVariables.alertId,deprecated:!0,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertIdLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:AlertProvidedActionVariables.ruleId}})}),result.push({name:LegacyAlertProvidedActionVariables.alertName,deprecated:!0,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertNameLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:AlertProvidedActionVariables.ruleName}})}),result.push({name:LegacyAlertProvidedActionVariables.alertInstanceId,deprecated:!0,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertInstanceIdLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:AlertProvidedActionVariables.alertId}})}),result.push({name:LegacyAlertProvidedActionVariables.alertActionGroup,deprecated:!0,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertActionGroupLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:AlertProvidedActionVariables.alertActionGroup}})}),result.push({name:LegacyAlertProvidedActionVariables.alertActionGroupName,deprecated:!0,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertActionGroupNameLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:AlertProvidedActionVariables.alertActionGroupName}})}),result.push({name:LegacyAlertProvidedActionVariables.alertActionSubgroup,deprecated:!0,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertActionSubGroupLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:AlertProvidedActionVariables.alertActionSubgroup}})}),result.push({name:LegacyAlertProvidedActionVariables.spaceId,deprecated:!0,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.legacySpaceIdLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:AlertProvidedActionVariables.ruleSpaceId}})}),result.push({name:LegacyAlertProvidedActionVariables.tags,deprecated:!0,description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyTagsLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:AlertProvidedActionVariables.ruleTags}})}),result}(),contextVars=actionVariables.context?prefixKeys(actionVariables.context,"context."):[],paramsVars=prefixKeys(actionVariables.params,"params."),stateVars=prefixKeys(actionVariables.state,"state.");return alwaysProvidedVars.concat(contextVars,paramsVars,stateVars)}let AlertProvidedActionVariables,LegacyAlertProvidedActionVariables;function prefixKeys(actionVariables,prefix){return actionVariables.map(actionVariable=>({...actionVariable,name:`${prefix}${actionVariable.name}`}))}!function(AlertProvidedActionVariables){AlertProvidedActionVariables.ruleId="rule.id",AlertProvidedActionVariables.ruleName="rule.name",AlertProvidedActionVariables.ruleSpaceId="rule.spaceId",AlertProvidedActionVariables.ruleTags="rule.tags",AlertProvidedActionVariables.ruleType="rule.type",AlertProvidedActionVariables.date="date",AlertProvidedActionVariables.alertId="alert.id",AlertProvidedActionVariables.alertActionGroup="alert.actionGroup",AlertProvidedActionVariables.alertActionGroupName="alert.actionGroupName",AlertProvidedActionVariables.alertActionSubgroup="alert.actionSubgroup"}(AlertProvidedActionVariables||(AlertProvidedActionVariables={})),function(LegacyAlertProvidedActionVariables){LegacyAlertProvidedActionVariables.alertId="alertId",LegacyAlertProvidedActionVariables.alertName="alertName",LegacyAlertProvidedActionVariables.alertInstanceId="alertInstanceId",LegacyAlertProvidedActionVariables.alertActionGroup="alertActionGroup",LegacyAlertProvidedActionVariables.alertActionGroupName="alertActionGroupName",LegacyAlertProvidedActionVariables.alertActionSubgroup="alertActionSubgroup",LegacyAlertProvidedActionVariables.tags="tags",LegacyAlertProvidedActionVariables.spaceId="spaceId"}(LegacyAlertProvidedActionVariables||(LegacyAlertProvidedActionVariables={}))},123:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(124);case"v7light":return __webpack_require__(126);case"v8dark":return __webpack_require__(128);case"v8light":return __webpack_require__(130)}},124:function(module,exports,__webpack_require__){var api=__webpack_require__(70),content=__webpack_require__(125);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},125:function(module,exports,__webpack_require__){(exports=__webpack_require__(71)(!1)).push([module.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),module.exports=exports},126:function(module,exports,__webpack_require__){var api=__webpack_require__(70),content=__webpack_require__(127);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},127:function(module,exports,__webpack_require__){(exports=__webpack_require__(71)(!1)).push([module.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),module.exports=exports},128:function(module,exports,__webpack_require__){var api=__webpack_require__(70),content=__webpack_require__(129);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},129:function(module,exports,__webpack_require__){(exports=__webpack_require__(71)(!1)).push([module.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),module.exports=exports},130:function(module,exports,__webpack_require__){var api=__webpack_require__(70),content=__webpack_require__(131);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},131:function(module,exports,__webpack_require__){(exports=__webpack_require__(71)(!1)).push([module.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),module.exports=exports},143:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ConfirmAlertClose}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(15),_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(52),_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0);const ConfirmAlertClose=({onConfirm:onConfirm,onCancel:onCancel})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiConfirmModal,{title:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.triggersActionsUI.sections.confirmAlertClose.confirmAlertCloseTitle",{defaultMessage:"Discard unsaved changes to rule?"}),onCancel:onCancel,onConfirm:onConfirm,confirmButtonText:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.triggersActionsUI.sections.confirmAlertClose.confirmAlertCloseConfirmButtonText",{defaultMessage:"Discard changes"}),cancelButtonText:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("xpack.triggersActionsUI.sections.confirmAlertClose.confirmAlertCloseCancelButtonText",{defaultMessage:"Cancel"}),defaultFocusedButton:"confirm","data-test-subj":"confirmAlertCloseModal"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__.FormattedMessage,{id:"xpack.triggersActionsUI.sections.confirmAlertClose.confirmAlertCloseMessage",defaultMessage:"You can't recover unsaved changes."})))},144:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return hasAlertChanged})),__webpack_require__.d(__webpack_exports__,"b",(function(){return haveAlertParamsChanged}));var fast_deep_equal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(196),fast_deep_equal__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(fast_deep_equal__WEBPACK_IMPORTED_MODULE_0__),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3);const DEEP_COMPARE_FIELDS=["tags","schedule","actions","notifyWhen"];function getNonNullCompareFields(alert){const{name:name,alertTypeId:alertTypeId,throttle:throttle}=alert;return{...name&&name.length>0?{name:name}:{},...alertTypeId&&alertTypeId.length>0?{alertTypeId:alertTypeId}:{},...throttle&&throttle.length>0?{throttle:throttle}:{}}}function hasAlertChanged(a,b,compareParams){let objectsAreEqual=fast_deep_equal__WEBPACK_IMPORTED_MODULE_0___default()(Object(lodash__WEBPACK_IMPORTED_MODULE_1__.pick)(a,DEEP_COMPARE_FIELDS),Object(lodash__WEBPACK_IMPORTED_MODULE_1__.pick)(b,DEEP_COMPARE_FIELDS));compareParams&&(objectsAreEqual=objectsAreEqual&&fast_deep_equal__WEBPACK_IMPORTED_MODULE_0___default()(a.params,b.params));const nonNullCompareFieldsAreEqual=fast_deep_equal__WEBPACK_IMPORTED_MODULE_0___default()(getNonNullCompareFields(a),getNonNullCompareFields(b));return!objectsAreEqual||!nonNullCompareFieldsAreEqual}function haveAlertParamsChanged(a,b){return!fast_deep_equal__WEBPACK_IMPORTED_MODULE_0___default()(a,b)}},145:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getAlertErrors})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isValidAlert})),__webpack_require__.d(__webpack_exports__,"a",(function(){return AlertForm}));var external_kbnSharedDeps_React_=__webpack_require__(1),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_KbnI18n_=__webpack_require__(0),external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(52),external_kbnSharedDeps_ElasticEui_=__webpack_require__(15),external_kbnSharedDeps_Lodash_=__webpack_require__(3),parse_duration_=__webpack_require__(59),alert_api=__webpack_require__(90),get_time_options=__webpack_require__(22),action_connector_form=__webpack_require__(17),common_=__webpack_require__(6),lib_capabilities=__webpack_require__(84);const SolutionFilter=({solutions:solutions,onChange:onChange})=>{const[selectedValues,setSelectedValues]=Object(external_kbnSharedDeps_React_.useState)([]),[isPopoverOpen,setIsPopoverOpen]=Object(external_kbnSharedDeps_React_.useState)(!1);return Object(external_kbnSharedDeps_React_.useEffect)(()=>{onChange&&onChange(selectedValues)},[selectedValues]),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterGroup,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{isOpen:isPopoverOpen,closePopover:()=>setIsPopoverOpen(!1),button:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterButton,{iconType:"arrowDown",hasActiveFilters:selectedValues.length>0,numActiveFilters:selectedValues.length,numFilters:selectedValues.length,onClick:()=>setIsPopoverOpen(!isPopoverOpen),"data-test-subj":"solutionsFilterButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.solutionFilterLabel",defaultMessage:"Filter by use case"}))},external_kbnSharedDeps_React_default.a.createElement("div",{className:"euiFilterSelect__items"},[...solutions.entries()].map(([id,title])=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterSelectItem,{key:id,onClick:()=>{const isPreviouslyChecked=selectedValues.includes(id);setSelectedValues(isPreviouslyChecked?selectedValues.filter(val=>val!==id):[...selectedValues,id])},checked:selectedValues.includes(id)?"on":void 0,"data-test-subj":`solution${id}FilterOption`},title)))))};__webpack_require__(187);var kibana=__webpack_require__(72),constants=__webpack_require__(2),types=__webpack_require__(33),action_variables=__webpack_require__(122);var Option=__webpack_require__(89),pipeable=__webpack_require__(91);const NOTIFY_WHEN_OPTIONS=[{value:"onActionGroupChange",inputDisplay:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onActionGroupChange.display",{defaultMessage:"Only on status change"}),"data-test-subj":"onActionGroupChange",dropdownDisplay:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{defaultMessage:"Only on status change",id:"xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onActionGroupChange.label"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{defaultMessage:"Actions run when the alert status changes.",id:"xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onActionGroupChange.description"}))))},{value:"onActiveAlert",inputDisplay:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onActiveAlert.display",{defaultMessage:"Every time alert is active"}),"data-test-subj":"onActiveAlert",dropdownDisplay:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{defaultMessage:"Every time alert is active",id:"xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onActiveAlert.label"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{defaultMessage:"Actions repeat at the rule interval when the alert is active.",id:"xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onActiveAlert.description"}))))},{value:"onThrottleInterval",inputDisplay:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onThrottleInterval.display",{defaultMessage:"On a custom action interval"}),"data-test-subj":"onThrottleInterval",dropdownDisplay:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{defaultMessage:"On a custom action interval",id:"xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onThrottleInterval.label"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{defaultMessage:"Actions run using the interval you set.",id:"xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onThrottleInterval.description"}))))}],AlertNotifyWhen=({alert:alert,throttle:throttle,throttleUnit:throttleUnit,onNotifyWhenChange:onNotifyWhenChange,onThrottleChange:onThrottleChange})=>{const[alertThrottle,setAlertThrottle]=Object(external_kbnSharedDeps_React_.useState)(throttle||1),[showCustomThrottleOpts,setShowCustomThrottleOpts]=Object(external_kbnSharedDeps_React_.useState)(!1),[notifyWhenValue,setNotifyWhenValue]=Object(external_kbnSharedDeps_React_.useState)("onActionGroupChange");Object(external_kbnSharedDeps_React_.useEffect)(()=>{alert.notifyWhen?setNotifyWhenValue(alert.notifyWhen):setNotifyWhenValue(alert.throttle?"onThrottleInterval":"onActiveAlert")},[alert]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{setShowCustomThrottleOpts("onThrottleInterval"===notifyWhenValue)},[notifyWhenValue]);const onNotifyWhenValueChange=Object(external_kbnSharedDeps_React_.useCallback)(newValue=>{onThrottleChange("onThrottleInterval"===newValue?alertThrottle:null,throttleUnit),onNotifyWhenChange(newValue),setNotifyWhenValue(newValue)},[]),labelForAlertRenotify=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.renotifyFieldLabel",defaultMessage:"Notify"})," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIconTip,{position:"right",type:"questionInCircle",content:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.renotifyWithTooltip",{defaultMessage:"Define how often to repeat the action while the rule is active."})}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,label:labelForAlertRenotify},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSuperSelect,{"data-test-subj":"notifyWhenSelect",options:NOTIFY_WHEN_OPTIONS,valueOfSelected:notifyWhenValue,onChange:onNotifyWhenValueChange}),showCustomThrottleOpts&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldNumber,{fullWidth:!0,min:1,value:alertThrottle,name:"throttle","data-test-subj":"throttleInput",prepend:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.label",{defaultMessage:"Every"}),onChange:e=>{Object(pipeable.pipe)(Object(Option.some)(e.target.value.trim()),Object(Option.filter)(value=>""!==value),Object(Option.map)(value=>parseInt(value,10)),Object(Option.filter)(value=>!isNaN(value)),Object(Option.map)(value=>{setAlertThrottle(value),onThrottleChange(value,throttleUnit)}))}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSelect,{"data-test-subj":"throttleUnitInput",value:throttleUnit,options:Object(get_time_options.b)(null!=throttle?throttle:1),onChange:e=>{onThrottleChange(throttle,e.target.value)}})))))))))};function checkAlertTypeEnabled(alertType){return!1===(null==alertType?void 0:alertType.enabledInLicense)?(alertType=>({isEnabled:!1,message:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.checkAlertTypeEnabled.ruleTypeDisabledByLicenseMessage",{defaultMessage:"This rule type requires a {minimumLicenseRequired} license.",values:{minimumLicenseRequired:Object(external_kbnSharedDeps_Lodash_.upperFirst)(alertType.minimumLicenseRequired)}})}))(alertType):{isEnabled:!0}}var common_constants=__webpack_require__(21),section_loading=__webpack_require__(88);function getAlertErrors(alert,actionTypeRegistry,alertTypeModel){const alertParamsErrors=alertTypeModel?alertTypeModel.validate(alert.params).errors:[],alertBaseErrors=function(alertObject){const validationResult={errors:{}},errors={name:new Array,interval:new Array,alertTypeId:new Array,actionConnectors:new Array};validationResult.errors=errors,alertObject.name||errors.name.push(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.error.requiredNameText",{defaultMessage:"Name is required."})),alertObject.schedule.interval.length<2&&errors.interval.push(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.error.requiredIntervalText",{defaultMessage:"Check interval is required."})),alertObject.alertTypeId||errors.alertTypeId.push(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.error.requiredRuleTypeIdText",{defaultMessage:"Rule type is required."}));const emptyConnectorActions=alertObject.actions.find(actionItem=>/^\d+$/.test(actionItem.id)&&Object.keys(actionItem.params).length>0);return void 0!==emptyConnectorActions&&errors.actionConnectors.push(external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.error.requiredActionConnector",{defaultMessage:"Action for {actionTypeId} connector is required.",values:{actionTypeId:emptyConnectorActions.actionTypeId}})),validationResult}(alert).errors,alertErrors={...alertParamsErrors,...alertBaseErrors};return{alertParamsErrors:alertParamsErrors,alertBaseErrors:alertBaseErrors,alertActionsErrors:alert.actions.reduce((prev,alertAction)=>{var _actionTypeRegistry$g;return{...prev,[alertAction.id]:null===(_actionTypeRegistry$g=actionTypeRegistry.get(alertAction.actionTypeId))||void 0===_actionTypeRegistry$g?void 0:_actionTypeRegistry$g.validateParams(alertAction.params).errors}},{}),alertErrors:alertErrors}}const hasObjectErrors=errors=>!!Object.values(errors).find(errorList=>Object(external_kbnSharedDeps_Lodash_.isObject)(errorList)?hasObjectErrors(errorList):errorList.length>=1);function isValidAlert(alertObject,validationResult,actionsErrors){return!hasObjectErrors(validationResult)&&void 0===Object.keys(actionsErrors).find(actionErrorsKey=>hasObjectErrors(actionsErrors[actionErrorsKey]))}function getProducerFeatureName(producer,kibanaFeatures){var _kibanaFeatures$find;return null===(_kibanaFeatures$find=kibanaFeatures.find(featureItem=>featureItem.id===producer))||void 0===_kibanaFeatures$find?void 0:_kibanaFeatures$find.name}const AlertForm=({alert:alert,canChangeTrigger:canChangeTrigger=!0,dispatch:dispatch,errors:errors,setHasActionsDisabled:setHasActionsDisabled,setHasActionsWithBrokenConnector:setHasActionsWithBrokenConnector,operation:operation,alertTypeRegistry:alertTypeRegistry,actionTypeRegistry:actionTypeRegistry,metadata:metadata})=>{var _selectedAlertType$re,_alert$notifyWhen;const{http:http,notifications:{toasts:toasts},docLinks:docLinks,application:{capabilities:capabilities},kibanaFeatures:kibanaFeatures,charts:charts,data:data}=Object(kibana.b)().services,canShowActions=Object(lib_capabilities.e)(capabilities),[alertTypeModel,setAlertTypeModel]=Object(external_kbnSharedDeps_React_.useState)(null),[alertInterval,setAlertInterval]=Object(external_kbnSharedDeps_React_.useState)(alert.schedule.interval?Object(parse_duration_.getDurationNumberInItsUnit)(alert.schedule.interval):void 0),[alertIntervalUnit,setAlertIntervalUnit]=Object(external_kbnSharedDeps_React_.useState)(alert.schedule.interval?Object(parse_duration_.getDurationUnitValue)(alert.schedule.interval):"m"),[alertThrottle,setAlertThrottle]=Object(external_kbnSharedDeps_React_.useState)(alert.throttle?Object(parse_duration_.getDurationNumberInItsUnit)(alert.throttle):null),[alertThrottleUnit,setAlertThrottleUnit]=Object(external_kbnSharedDeps_React_.useState)(alert.throttle?Object(parse_duration_.getDurationUnitValue)(alert.throttle):"h"),[defaultActionGroupId,setDefaultActionGroupId]=Object(external_kbnSharedDeps_React_.useState)(void 0),[alertTypesIndex,setAlertTypesIndex]=Object(external_kbnSharedDeps_React_.useState)(null),[availableAlertTypes,setAvailableAlertTypes]=Object(external_kbnSharedDeps_React_.useState)([]),[filteredAlertTypes,setFilteredAlertTypes]=Object(external_kbnSharedDeps_React_.useState)([]),[searchText,setSearchText]=Object(external_kbnSharedDeps_React_.useState)(),[inputText,setInputText]=Object(external_kbnSharedDeps_React_.useState)(),[solutions,setSolutions]=Object(external_kbnSharedDeps_React_.useState)(void 0),[solutionsFilter,setSolutionFilter]=Object(external_kbnSharedDeps_React_.useState)([]);let hasDisabledByLicenseAlertTypes=!1;Object(external_kbnSharedDeps_React_.useEffect)(()=>{(async()=>{try{const alertTypesResult=await Object(alert_api.l)({http:http}),index=new Map;for(const alertTypeItem of alertTypesResult)index.set(alertTypeItem.id,alertTypeItem);alert.alertTypeId&&index.has(alert.alertTypeId)&&setDefaultActionGroupId(index.get(alert.alertTypeId).defaultActionGroupId),setAlertTypesIndex(index);const availableAlertTypesResult=getAvailableAlertTypes(alertTypesResult);setAvailableAlertTypes(availableAlertTypesResult);const solutionsResult=availableAlertTypesResult.reduce((result,alertTypeItem)=>{var _ref;result.has(alertTypeItem.alertType.producer)||result.set(alertTypeItem.alertType.producer,null!==(_ref=kibanaFeatures?getProducerFeatureName(alertTypeItem.alertType.producer,kibanaFeatures):Object(external_kbnSharedDeps_Lodash_.capitalize)(alertTypeItem.alertType.producer))&&void 0!==_ref?_ref:Object(external_kbnSharedDeps_Lodash_.capitalize)(alertTypeItem.alertType.producer));return result},new Map);setSolutions(new Map([...solutionsResult.entries()].sort(([,a],[,b])=>a.localeCompare(b))))}catch(e){toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.unableToLoadRuleTypesMessage",{defaultMessage:"Unable to load rule types"})})}})()},[]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{setAlertTypeModel(alert.alertTypeId?alertTypeRegistry.get(alert.alertTypeId):null),alert.alertTypeId&&alertTypesIndex&&alertTypesIndex.has(alert.alertTypeId)&&setDefaultActionGroupId(alertTypesIndex.get(alert.alertTypeId).defaultActionGroupId)},[alert,alert.alertTypeId,alertTypesIndex,alertTypeRegistry]);const setAlertProperty=Object(external_kbnSharedDeps_React_.useCallback)((key,value)=>{dispatch({command:{type:"setProperty"},payload:{key:key,value:value}})},[dispatch]),setActions=Object(external_kbnSharedDeps_React_.useCallback)(updatedActions=>setAlertProperty("actions",updatedActions),[setAlertProperty]),setScheduleProperty=(key,value)=>{dispatch({command:{type:"setScheduleProperty"},payload:{key:key,value:value}})},setActionProperty=(key,value,index)=>{dispatch({command:{type:"setAlertActionProperty"},payload:{key:key,value:value,index:index}})},setActionParamsProperty=Object(external_kbnSharedDeps_React_.useCallback)((key,value,index)=>{dispatch({command:{type:"setAlertActionParams"},payload:{key:key,value:value,index:index}})},[dispatch]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{const searchValue=searchText?searchText.trim().toLocaleLowerCase():null;setFilteredAlertTypes(availableAlertTypes.filter(alertTypeItem=>solutionsFilter.length>0?solutionsFilter.find(item=>alertTypeItem.alertType.producer===item):alertTypeItem).filter(alertTypeItem=>searchValue?alertTypeItem.alertType.name.toString().toLocaleLowerCase().includes(searchValue)||alertTypeItem.alertType.producer.toLocaleLowerCase().includes(searchValue)||alertTypeItem.alertTypeModel.description.toLocaleLowerCase().includes(searchValue):alertTypeItem))},[alertTypeRegistry,availableAlertTypes,searchText,JSON.stringify(solutionsFilter)]);const getAvailableAlertTypes=alertTypesResult=>alertTypeRegistry.list().reduce((arr,alertTypeRegistryItem)=>{const alertType=alertTypesResult.find(item=>alertTypeRegistryItem.id===item.id);return alertType&&arr.push({alertType:alertType,alertTypeModel:alertTypeRegistryItem}),arr},[]).filter(item=>item.alertType&&Object(lib_capabilities.a)(alert,item.alertType)).filter(item=>alert.consumer===common_.ALERTS_FEATURE_ID?!item.alertTypeModel.requiresAppContext:item.alertType.producer===alert.consumer),selectedAlertType=null!=alert&&alert.alertTypeId?null==alertTypesIndex?void 0:alertTypesIndex.get(null==alert?void 0:alert.alertTypeId):void 0,recoveryActionGroup=null==selectedAlertType||null===(_selectedAlertType$re=selectedAlertType.recoveryActionGroup)||void 0===_selectedAlertType$re?void 0:_selectedAlertType$re.id,getDefaultActionParams=Object(external_kbnSharedDeps_React_.useCallback)((actionTypeId,actionGroupId)=>((actionTypeId,actionGroupId,isRecoveryActionGroup)=>{switch(actionTypeId){case".pagerduty":const pagerDutyDefaults={dedupKey:`{{${action_variables.a.ruleId}}}:{{${action_variables.a.alertId}}}`,eventAction:types.a.TRIGGER};return isRecoveryActionGroup&&(pagerDutyDefaults.eventAction=types.a.RESOLVE),pagerDutyDefaults}})(actionTypeId,0,actionGroupId===recoveryActionGroup),[recoveryActionGroup]),tagsOptions=alert.tags?alert.tags.map(label=>({label:label})):[],isActionGroupDisabledForActionType=Object(external_kbnSharedDeps_React_.useCallback)((alertType,actionGroupId,actionTypeId)=>{var _alertType$recoveryAc;return Object(common_.isActionGroupDisabledForActionTypeId)(actionGroupId===(null==alertType||null===(_alertType$recoveryAc=alertType.recoveryActionGroup)||void 0===_alertType$recoveryAc?void 0:_alertType$recoveryAc.id)?common_.RecoveredActionGroup.id:actionGroupId,actionTypeId)},[]),AlertParamsExpressionComponent=alertTypeModel?alertTypeModel.alertParamsExpression:null,alertTypesByProducer=filteredAlertTypes.reduce((result,alertTypeValue)=>{const producer=alertTypeValue.alertType.producer;if(producer){const checkEnabledResult=checkAlertTypeEnabled(alertTypeValue.alertType);checkEnabledResult.isEnabled||(hasDisabledByLicenseAlertTypes=!0),(result[producer]=result[producer]||[]).push({name:alertTypeValue.alertType.name,id:alertTypeValue.alertTypeModel.id,checkEnabledResult:checkEnabledResult,alertTypeItem:alertTypeValue.alertTypeModel})}return result},{}),alertTypeNodes=Object.entries(alertTypesByProducer).sort((a,b)=>function(left,right,groupNames){const groupNameA=left[0],groupNameB=right[0],leftAlertTypesList=left[1],rightAlertTypesList=right[1],hasEnabledAlertTypeInListLeft=void 0!==leftAlertTypesList.find(alertTypeItem=>alertTypeItem.checkEnabledResult.isEnabled),hasEnabledAlertTypeInListRight=void 0!==rightAlertTypesList.find(alertTypeItem=>alertTypeItem.checkEnabledResult.isEnabled);return hasEnabledAlertTypeInListLeft&&!hasEnabledAlertTypeInListRight?-1:!hasEnabledAlertTypeInListLeft&&hasEnabledAlertTypeInListRight?1:groupNames?groupNames.get(groupNameA).localeCompare(groupNames.get(groupNameB)):groupNameA.localeCompare(groupNameB)}(a,b,solutions)).map(([solution,items],groupIndex)=>{var _ref2;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,{key:"group"+groupIndex},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"none",alignItems:"center",className:"triggersActionsUI__alertTypeNodeHeading"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{"data-test-subj":`alertType${groupIndex}Group`,size:"xxxs",textTransform:"uppercase"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextColor,{color:"subdued"},null!==(_ref2=kibanaFeatures?getProducerFeatureName(solution,kibanaFeatures):Object(external_kbnSharedDeps_Lodash_.capitalize)(solution))&&void 0!==_ref2?_ref2:Object(external_kbnSharedDeps_Lodash_.capitalize)(solution)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiNotificationBadge,{color:"subdued"},items.length))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHorizontalRule,{size:"full",margin:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiListGroup,{flush:!0,gutterSize:"m",size:"l",maxWidth:!1},items.sort((a,b)=>function(a,b){return!0===a.checkEnabledResult.isEnabled&&!1===b.checkEnabledResult.isEnabled?-1:!1===a.checkEnabledResult.isEnabled&&!0===b.checkEnabledResult.isEnabled?1:a.name.localeCompare(b.name)}(a,b)).map((item,index)=>{const alertTypeListItemHtml=external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement("strong",null,item.name),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued",size:"s"},external_kbnSharedDeps_React_default.a.createElement("p",null,item.alertTypeItem.description)));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,{key:index},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiListGroupItem,{"data-test-subj":item.id+"-SelectOption",color:"primary",label:item.checkEnabledResult.isEnabled?alertTypeListItemHtml:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{position:"top","data-test-subj":item.id+"-disabledTooltip",content:item.checkEnabledResult.message},alertTypeListItemHtml),isDisabled:!item.checkEnabledResult.isEnabled,onClick:()=>{setAlertProperty("alertTypeId",item.id),setActions([]),setAlertTypeModel(item.alertTypeItem),setAlertProperty("params",{}),alertTypesIndex&&alertTypesIndex.has(item.id)&&setDefaultActionGroupId(alertTypesIndex.get(item.id).defaultActionGroupId)}}))})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null))}),alertTypeDetails=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHorizontalRule,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"s","data-test-subj":"selectedAlertTypeTitle"},external_kbnSharedDeps_React_default.a.createElement("h5",{id:"selectedAlertTypeTitle"},alert.alertTypeId&&alertTypesIndex&&alertTypesIndex.has(alert.alertTypeId)?alertTypesIndex.get(alert.alertTypeId).name:""))),canChangeTrigger?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconType:"cross",color:"danger","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.changeAlertTypeAriaLabel",{defaultMessage:"Delete"}),onClick:()=>{setAlertProperty("alertTypeId",null),setAlertTypeModel(null),setAlertProperty("params",{})}})):null),(null==alertTypeModel?void 0:alertTypeModel.description)&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued",size:"s","data-test-subj":"alertDescription"},alertTypeModel.description," ",(null==alertTypeModel?void 0:alertTypeModel.documentationUrl)&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{external:!0,target:"_blank","data-test-subj":"alertDocumentationLink",href:"function"==typeof alertTypeModel.documentationUrl?alertTypeModel.documentationUrl(docLinks):alertTypeModel.documentationUrl},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.documentationLabel",defaultMessage:"Documentation"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHorizontalRule,null),AlertParamsExpressionComponent&&defaultActionGroupId&&alert.alertTypeId&&selectedAlertType?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiErrorBoundary,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Suspense,{fallback:external_kbnSharedDeps_React_default.a.createElement(section_loading.a,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.loadingRuleTypeParamsDescription",defaultMessage:"Loading rule type params…"}))},external_kbnSharedDeps_React_default.a.createElement(AlertParamsExpressionComponent,{alertParams:alert.params,alertInterval:`${null!=alertInterval?alertInterval:1}${alertIntervalUnit}`,alertThrottle:`${null!=alertThrottle?alertThrottle:1}${alertThrottleUnit}`,alertNotifyWhen:null!==(_alert$notifyWhen=alert.notifyWhen)&&void 0!==_alert$notifyWhen?_alert$notifyWhen:"onActionGroupChange",errors:errors,setAlertParams:(key,value)=>{dispatch({command:{type:"setAlertParams"},payload:{key:key,value:value}})},setAlertProperty:setAlertProperty,defaultActionGroupId:defaultActionGroupId,actionGroups:selectedAlertType.actionGroups,metadata:metadata,charts:charts,data:data}))):null,canShowActions&&defaultActionGroupId&&alertTypeModel&&alert.alertTypeId&&selectedAlertType?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,errors.actionConnectors.length>=1?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{color:"danger",size:"s",title:errors.actionConnectors}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null)):null,external_kbnSharedDeps_React_default.a.createElement(action_connector_form.a,{actions:alert.actions,setHasActionsDisabled:setHasActionsDisabled,setHasActionsWithBrokenConnector:setHasActionsWithBrokenConnector,messageVariables:selectedAlertType.actionVariables,defaultActionGroupId:defaultActionGroupId,isActionGroupDisabledForActionType:(actionGroupId,actionTypeId)=>isActionGroupDisabledForActionType(selectedAlertType,actionGroupId,actionTypeId),actionGroups:selectedAlertType.actionGroups.map(actionGroup=>actionGroup.id===selectedAlertType.recoveryActionGroup.id?{...actionGroup,omitOptionalMessageVariables:!0,defaultActionMessage:constants.g}:{...actionGroup,defaultActionMessage:null==alertTypeModel?void 0:alertTypeModel.defaultActionMessage}),getDefaultActionParams:getDefaultActionParams,setActionIdByIndex:(id,index)=>setActionProperty("id",id,index),setActionGroupIdByIndex:(group,index)=>setActionProperty("group",group,index),setActions:setActions,setActionParamsProperty:setActionParamsProperty,actionTypeRegistry:actionTypeRegistry})):null),labelForAlertChecked=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.checkFieldLabel",defaultMessage:"Check every"})," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIconTip,{position:"right",type:"questionInCircle",content:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.checkWithTooltip",{defaultMessage:"Define how often to evaluate the condition."})}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiForm,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGrid,{columns:2},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,id:"alertName",label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.alertNameLabel",defaultMessage:"Name"}),isInvalid:errors.name.length>0&&void 0!==alert.name,error:errors.name},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldText,{fullWidth:!0,autoFocus:!0,isInvalid:errors.name.length>0&&void 0!==alert.name,name:"name","data-test-subj":"alertNameInput",value:alert.name||"",onChange:e=>{setAlertProperty("name",e.target.value)},onBlur:()=>{alert.name||setAlertProperty("name","")}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.tagsFieldLabel",{defaultMessage:"Tags (optional)"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiComboBox,{noSuggestions:!0,fullWidth:!0,"data-test-subj":"tagsComboBox",selectedOptions:tagsOptions,onCreateOption:searchValue=>{const newOptions=[...tagsOptions,{label:searchValue}];setAlertProperty("tags",newOptions.map(newOption=>newOption.label))},onChange:selectedOptions=>{setAlertProperty("tags",selectedOptions.map(selectedOption=>selectedOption.label))},onBlur:()=>{alert.tags||setAlertProperty("tags",[])}})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGrid,{columns:2},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,display:"rowCompressed",label:labelForAlertChecked,isInvalid:errors.interval.length>0,error:errors.interval},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldNumber,{fullWidth:!0,min:1,isInvalid:errors.interval.length>0,value:alertInterval||"",name:"interval","data-test-subj":"intervalInput",onChange:e=>{const interval=""!==e.target.value?parseInt(e.target.value,10):void 0;setAlertInterval(interval),setScheduleProperty("interval",`${e.target.value}${alertIntervalUnit}`)}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSelect,{fullWidth:!0,value:alertIntervalUnit,options:Object(get_time_options.b)(null!=alertInterval?alertInterval:1),onChange:e=>{setAlertIntervalUnit(e.target.value),setScheduleProperty("interval",`${alertInterval}${e.target.value}`)},"data-test-subj":"intervalInputUnit"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(AlertNotifyWhen,{alert:alert,throttle:alertThrottle,throttleUnit:alertThrottleUnit,onNotifyWhenChange:Object(external_kbnSharedDeps_React_.useCallback)(notifyWhen=>{setAlertProperty("notifyWhen",notifyWhen)},[setAlertProperty]),onThrottleChange:Object(external_kbnSharedDeps_React_.useCallback)((throttle,throttleUnit)=>{setAlertThrottle(throttle),setAlertThrottleUnit(throttleUnit),setAlertProperty("throttle",throttle?`${throttle}${throttleUnit}`:null)},[setAlertProperty])}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),alertTypeModel?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,alertTypeDetails):availableAlertTypes.length?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHorizontalRule,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,labelAppend:hasDisabledByLicenseAlertTypes&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xxs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{href:common_constants.VIEW_LICENSE_OPTIONS_LINK,target:"_blank",external:!0,className:"actActionForm__getMoreActionsLink"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{defaultMessage:"Get more rule types",id:"xpack.triggersActionsUI.sections.actionForm.getMoreRuleTypesTitle"}))),label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xxs"},external_kbnSharedDeps_React_default.a.createElement("h5",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.ruleTypeSelectLabel",defaultMessage:"Select rule type"})))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldSearch,{fullWidth:!0,"data-test-subj":"alertSearchField",onChange:e=>setInputText(e.target.value),onKeyUp:e=>{13===e.keyCode&&setSearchText(inputText)},placeholder:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.triggersActionsUI.sections.alertForm.searchPlaceholderTitle",{defaultMessage:"Search"})})),solutions?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(SolutionFilter,{key:"solution-filter",solutions:solutions,onChange:selectedSolutions=>setSolutionFilter(selectedSolutions)})):null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),errors.alertTypeId.length>=1&&void 0!==alert.alertTypeId?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{color:"danger",size:"s",title:errors.alertTypeId}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null)):null,alertTypeNodes):alertTypesIndex?external_kbnSharedDeps_React_default.a.createElement(NoAuthorizedAlertTypes,{operation:operation}):external_kbnSharedDeps_React_default.a.createElement(section_loading.a,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.loadingRuleTypesDescription",defaultMessage:"Loading rule types…"})))},NoAuthorizedAlertTypes=({operation:operation})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{iconType:"lock","data-test-subj":"noAuthorizedAlertTypesPrompt",titleSize:"xs",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.error.noAuthorizedRuleTypesTitle",defaultMessage:"You have not been authorized to {operation} any Rule types",values:{operation:operation}})),body:external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("p",{role:"banner"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.error.noAuthorizedRuleTypes",defaultMessage:"In order to {operation} a Rule you need to have been granted the appropriate privileges.",values:{operation:operation}})))})},187:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(188);case"v7light":return __webpack_require__(190);case"v8dark":return __webpack_require__(192);case"v8light":return __webpack_require__(194)}},188:function(module,exports,__webpack_require__){var api=__webpack_require__(70),content=__webpack_require__(189);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},189:function(module,exports,__webpack_require__){(exports=__webpack_require__(71)(!1)).push([module.i,".triggersActionsUI__alertTypeNodeHeading{margin-left:8px;margin-right:8px}\n",""]),module.exports=exports},190:function(module,exports,__webpack_require__){var api=__webpack_require__(70),content=__webpack_require__(191);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},191:function(module,exports,__webpack_require__){(exports=__webpack_require__(71)(!1)).push([module.i,".triggersActionsUI__alertTypeNodeHeading{margin-left:8px;margin-right:8px}\n",""]),module.exports=exports},192:function(module,exports,__webpack_require__){var api=__webpack_require__(70),content=__webpack_require__(193);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},193:function(module,exports,__webpack_require__){(exports=__webpack_require__(71)(!1)).push([module.i,".triggersActionsUI__alertTypeNodeHeading{margin-left:8px;margin-right:8px}\n",""]),module.exports=exports},194:function(module,exports,__webpack_require__){var api=__webpack_require__(70),content=__webpack_require__(195);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},195:function(module,exports,__webpack_require__){(exports=__webpack_require__(71)(!1)).push([module.i,".triggersActionsUI__alertTypeNodeHeading{margin-left:8px;margin-right:8px}\n",""]),module.exports=exports},196:function(module,exports,__webpack_require__){"use strict";module.exports=function equal(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var length,i,keys;if(Array.isArray(a)){if((length=a.length)!=b.length)return!1;for(i=length;0!=i--;)if(!equal(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((length=(keys=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=length;0!=i--;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return!1;for(i=length;0!=i--;){var key=keys[i];if(!equal(a[key],b[key]))return!1}return!0}return a!=a&&b!=b}},72:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return public_.KibanaContextProvider})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useTypedKibana}));var public_=__webpack_require__(51);const useTypedKibana=()=>Object(public_.useKibana)()},88:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SectionLoading}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(15);const SectionLoading=({children:children})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiEmptyPrompt,{title:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiLoadingSpinner,{size:"xl"}),body:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiText,{color:"subdued"},children),"data-test-subj":"sectionLoading"})},92:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HealthContextProvider})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useHealthContext}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);const defaultHealthContext={loadingHealthCheck:!1,setLoadingHealthCheck:loading=>{throw new Error("setLoadingHealthCheck was not initialized, set it when you invoke the context")}},HealthContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.createContext)(defaultHealthContext),HealthContextProvider=({children:children})=>{const[loading,setLoading]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),setLoadingHealthCheck=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(isLoading=>{setLoading(isLoading)},[]),value=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({loadingHealthCheck:loading,setLoadingHealthCheck:setLoadingHealthCheck}),[loading,setLoadingHealthCheck]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HealthContext.Provider,{value:value},children)},useHealthContext=()=>{const ctx=Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(HealthContext);if(!ctx)throw new Error("HealthContext has not been set.");return ctx}},98:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return alertReducer}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);const alertReducer=(state,action)=>{const{alert:alert}=state;switch(action.command.type){case"setAlert":{const{key:key,value:value}=action.payload;return"alert"===key?{...state,alert:value}:state}case"setProperty":{const{key:key,value:value}=action.payload;return Object(lodash__WEBPACK_IMPORTED_MODULE_0__.isEqual)(alert[key],value)?state:{...state,alert:{...alert,[key]:value}}}case"setScheduleProperty":{const{key:key,value:value}=action.payload;return alert.schedule&&Object(lodash__WEBPACK_IMPORTED_MODULE_0__.isEqual)(alert.schedule[key],value)?state:{...state,alert:{...alert,schedule:{...alert.schedule,[key]:value}}}}case"setAlertParams":{const{key:key,value:value}=action.payload;return Object(lodash__WEBPACK_IMPORTED_MODULE_0__.isEqual)(alert.params[key],value)?state:{...state,alert:{...alert,params:{...alert.params,[key]:value}}}}case"setAlertActionParams":{const{key:key,value:value,index:index}=action.payload;if(void 0===index||null==alert.actions[index]||Object(lodash__WEBPACK_IMPORTED_MODULE_0__.isEqual)(alert.actions[index][key],value))return state;{const oldAction=alert.actions.splice(index,1)[0],updatedAction={...oldAction,params:{...oldAction.params,[key]:value}};return alert.actions.splice(index,0,updatedAction),{...state,alert:{...alert,actions:[...alert.actions]}}}}case"setAlertActionProperty":{const{key:key,value:value,index:index}=action.payload;if(void 0===index||Object(lodash__WEBPACK_IMPORTED_MODULE_0__.isEqual)(alert.actions[index][key],value))return state;{const updatedAction={...alert.actions.splice(index,1)[0],[key]:value};return alert.actions.splice(index,0,updatedAction),{...state,alert:{...alert,actions:[...alert.actions]}}}}}}}}]);