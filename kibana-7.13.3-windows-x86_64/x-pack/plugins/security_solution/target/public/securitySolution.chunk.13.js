/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.securitySolution_bundle_jsonpfunction=window.securitySolution_bundle_jsonpfunction||[]).push([[13],{109:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return useDateFormat})),__webpack_require__.d(__webpack_exports__,"i",(function(){return useTimeZone})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useBasePath})),__webpack_require__.d(__webpack_exports__,"j",(function(){return useToasts})),__webpack_require__.d(__webpack_exports__,"g",(function(){return useHttp})),__webpack_require__.d(__webpack_exports__,"d",(function(){return useCurrentUser})),__webpack_require__.d(__webpack_exports__,"f",(function(){return useGetUserSavedObjectPermissions})),__webpack_require__.d(__webpack_exports__,"a",(function(){return public_.KibanaContextProvider})),__webpack_require__.d(__webpack_exports__,"h",(function(){return useTypedKibana})),__webpack_require__.d(__webpack_exports__,"k",(function(){return public_.useUiSetting})),__webpack_require__.d(__webpack_exports__,"l",(function(){return public_.useUiSetting$})),__webpack_require__.d(__webpack_exports__,"b",(function(){return services.a}));var external_kbnSharedDeps_MomentTimezone_=__webpack_require__(88),external_kbnSharedDeps_MomentTimezone_default=__webpack_require__.n(external_kbnSharedDeps_MomentTimezone_),external_kbnSharedDeps_React_=__webpack_require__(6),external_kbnSharedDeps_KbnI18n_=__webpack_require__(1),constants=__webpack_require__(2),toasters=__webpack_require__(116),utils=__webpack_require__(140),public_=__webpack_require__(79);const useTypedKibana=()=>Object(public_.useKibana)(),useDateFormat=()=>Object(public_.useUiSetting)(constants.r),useTimeZone=()=>{const timeZone=Object(public_.useUiSetting)(constants.s);return"Browser"===timeZone?external_kbnSharedDeps_MomentTimezone_default.a.tz.guess():timeZone},useBasePath=()=>useTypedKibana().services.http.basePath.get(),useToasts=()=>useTypedKibana().services.notifications.toasts,useHttp=()=>useTypedKibana().services.http,useCurrentUser=()=>{const[user,setUser]=Object(external_kbnSharedDeps_React_.useState)(null),[,dispatchToaster]=Object(toasters.h)(),{security:security}=useTypedKibana().services,fetchUser=Object(external_kbnSharedDeps_React_.useCallback)(()=>{let didCancel=!1;return(async()=>{try{if(null!=security){const response=await security.authc.getCurrentUser();didCancel||setUser(Object(utils.c)(response))}else setUser({username:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.securitySolution.getCurrentUser.unknownUser",{defaultMessage:"Unknown"}),email:"",fullName:"",roles:[],enabled:!1,authenticationRealm:{name:"",type:""},lookupRealm:{name:"",type:""},authenticationProvider:""})}catch(error){didCancel||(Object(toasters.g)({title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.securitySolution.getCurrentUser.Error",{defaultMessage:"Error getting user"}),error:error.body&&error.body.message?new Error(error.body.message):error,dispatchToaster:dispatchToaster}),setUser(null))}})(),()=>{didCancel=!0}},[security]);return Object(external_kbnSharedDeps_React_.useEffect)(()=>{fetchUser()},[]),user},useGetUserSavedObjectPermissions=()=>{const[savedObjectsPermissions,setSavedObjectsPermissions]=Object(external_kbnSharedDeps_React_.useState)(null),uiCapabilities=useTypedKibana().services.application.capabilities;return Object(external_kbnSharedDeps_React_.useEffect)(()=>{const capabilitiesCanUserCRUD="boolean"==typeof uiCapabilities.siem.crud&&uiCapabilities.siem.crud,capabilitiesCanUserRead="boolean"==typeof uiCapabilities.siem.show&&uiCapabilities.siem.show;setSavedObjectsPermissions({crud:capabilitiesCanUserCRUD,read:capabilitiesCanUserRead})},[uiCapabilities]),savedObjectsPermissions};var services=__webpack_require__(36)},1113:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return ServiceNowITSMFieldsComponent}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74),_translations__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_cases_common_api_connectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),_common_lib_kibana__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(109),_card__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(254),_use_get_choices__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(501),_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(487);const useGetChoicesFields=["urgency","severity","impact","category","subcategory"],defaultFields={urgency:[],severity:[],impact:[],category:[],subcategory:[]},ServiceNowITSMFieldsComponent=({isEdit:isEdit=!0,fields:fields,connector:connector,onChange:onChange})=>{const init=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!0),{severity:severity=null,urgency:urgency=null,impact:impact=null,category:category=null,subcategory:subcategory=null}=null!=fields?fields:{},{http:http,notifications:notifications}=Object(_common_lib_kibana__WEBPACK_IMPORTED_MODULE_4__.h)().services,[choices,setChoices]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultFields),categoryOptions=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>Object(_helpers__WEBPACK_IMPORTED_MODULE_7__.a)(choices.category),[choices.category]),urgencyOptions=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>Object(_helpers__WEBPACK_IMPORTED_MODULE_7__.a)(choices.urgency),[choices.urgency]),severityOptions=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>Object(_helpers__WEBPACK_IMPORTED_MODULE_7__.a)(choices.severity),[choices.severity]),impactOptions=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>Object(_helpers__WEBPACK_IMPORTED_MODULE_7__.a)(choices.impact),[choices.impact]),subcategoryOptions=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>Object(_helpers__WEBPACK_IMPORTED_MODULE_7__.a)(choices.subcategory.filter(choice=>choice.dependent_value===category)),[choices.subcategory,category]),listItems=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{var _urgencyOptions$find,_severityOptions$find,_impactOptions$find,_categoryOptions$find,_subcategoryOptions$f;return[...null!=urgency&&urgency.length>0?[{title:_translations__WEBPACK_IMPORTED_MODULE_2__.m,description:null===(_urgencyOptions$find=urgencyOptions.find(option=>""+option.value===urgency))||void 0===_urgencyOptions$find?void 0:_urgencyOptions$find.text}]:[],...null!=severity&&severity.length>0?[{title:_translations__WEBPACK_IMPORTED_MODULE_2__.j,description:null===(_severityOptions$find=severityOptions.find(option=>""+option.value===severity))||void 0===_severityOptions$find?void 0:_severityOptions$find.text}]:[],...null!=impact&&impact.length>0?[{title:_translations__WEBPACK_IMPORTED_MODULE_2__.f,description:null===(_impactOptions$find=impactOptions.find(option=>""+option.value===impact))||void 0===_impactOptions$find?void 0:_impactOptions$find.text}]:[],...null!=category&&category.length>0?[{title:_translations__WEBPACK_IMPORTED_MODULE_2__.c,description:null===(_categoryOptions$find=categoryOptions.find(option=>""+option.value===category))||void 0===_categoryOptions$find?void 0:_categoryOptions$find.text}]:[],...null!=subcategory&&subcategory.length>0?[{title:_translations__WEBPACK_IMPORTED_MODULE_2__.l,description:null===(_subcategoryOptions$f=subcategoryOptions.find(option=>""+option.value===subcategory))||void 0===_subcategoryOptions$f?void 0:_subcategoryOptions$f.text}]:[]]},[category,categoryOptions,impact,impactOptions,severity,severityOptions,subcategory,subcategoryOptions,urgency,urgencyOptions]),{isLoading:isLoadingChoices}=Object(_use_get_choices__WEBPACK_IMPORTED_MODULE_6__.a)({http:http,toastNotifications:notifications.toasts,connector:connector,fields:useGetChoicesFields,onSuccess:values=>{setChoices(values.reduce((acc,value)=>({...acc,[value.element]:[...null!=acc[value.element]?acc[value.element]:[],value]}),defaultFields))}}),onChangeCb=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((key,value)=>{onChange({...fields,[key]:value})},[fields,onChange]);return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{init.current&&(init.current=!1,onChange({urgency:urgency,severity:severity,impact:impact,category:category,subcategory:subcategory}))},[category,impact,onChange,severity,subcategory,urgency]),isEdit?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{"data-test-subj":"connector-fields-sn-itsm"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFormRow,{fullWidth:!0,label:_translations__WEBPACK_IMPORTED_MODULE_2__.m},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiSelect,{fullWidth:!0,"data-test-subj":"urgencySelect",options:urgencyOptions,value:null!=urgency?urgency:void 0,isLoading:isLoadingChoices,disabled:isLoadingChoices,hasNoInitialSelection:!0,onChange:e=>onChangeCb("urgency",e.target.value)})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiSpacer,{size:"m"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFlexGroup,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFlexItem,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFormRow,{fullWidth:!0,label:_translations__WEBPACK_IMPORTED_MODULE_2__.j},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiSelect,{fullWidth:!0,"data-test-subj":"severitySelect",options:severityOptions,value:null!=severity?severity:void 0,isLoading:isLoadingChoices,disabled:isLoadingChoices,hasNoInitialSelection:!0,onChange:e=>onChangeCb("severity",e.target.value)}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFlexItem,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFormRow,{fullWidth:!0,label:_translations__WEBPACK_IMPORTED_MODULE_2__.f},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiSelect,{fullWidth:!0,"data-test-subj":"impactSelect",options:impactOptions,value:null!=impact?impact:void 0,isLoading:isLoadingChoices,disabled:isLoadingChoices,hasNoInitialSelection:!0,onChange:e=>onChangeCb("impact",e.target.value)})))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFlexGroup,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFlexItem,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFormRow,{fullWidth:!0,label:_translations__WEBPACK_IMPORTED_MODULE_2__.c},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiSelect,{fullWidth:!0,"data-test-subj":"categorySelect",options:categoryOptions,value:null!=category?category:void 0,isLoading:isLoadingChoices,disabled:isLoadingChoices,hasNoInitialSelection:!0,onChange:e=>onChange({...fields,category:e.target.value,subcategory:null})}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFlexItem,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiFormRow,{fullWidth:!0,label:_translations__WEBPACK_IMPORTED_MODULE_2__.l},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiSelect,{fullWidth:!0,"data-test-subj":"subcategorySelect",options:subcategoryOptions,value:null!=subcategory?subcategory:"",isLoading:isLoadingChoices,disabled:isLoadingChoices,hasNoInitialSelection:!0,onChange:e=>onChangeCb("subcategory",e.target.value)}))))):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_card__WEBPACK_IMPORTED_MODULE_5__.a,{connectorType:_cases_common_api_connectors__WEBPACK_IMPORTED_MODULE_3__.c.serviceNowITSM,title:connector.name,listItems:listItems,isLoading:!1})}},116:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return displayErrorToast})),__webpack_require__.d(__webpack_exports__,"f",(function(){return displayWarningToast})),__webpack_require__.d(__webpack_exports__,"e",(function(){return displaySuccessToast})),__webpack_require__.d(__webpack_exports__,"g",(function(){return errorToToaster})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ToasterError})),__webpack_require__.d(__webpack_exports__,"h",(function(){return useStateToaster})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ManageGlobalToaster})),__webpack_require__.d(__webpack_exports__,"a",(function(){return GlobalToaster}));var external_kbnSharedDeps_ElasticEui_=__webpack_require__(74),external_kbnSharedDeps_LodashFp_=__webpack_require__(7),external_kbnSharedDeps_React_=__webpack_require__(6),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_StyledComponents_=__webpack_require__(75),external_kbnSharedDeps_StyledComponents_default=__webpack_require__.n(external_kbnSharedDeps_StyledComponents_),external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);const SEE_ALL_ERRORS=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.securitySolution.modalAllErrors.seeAllErrors.button",{defaultMessage:"See the full error(s)"}),TITLE_ERROR_MODAL=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.securitySolution.modalAllErrors.title",{defaultMessage:"Your visualization has error(s)"}),CLOSE_ERROR_MODAL=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.securitySolution.modalAllErrors.close.button",{defaultMessage:"Close"}),ModalAllErrorsComponent=({isShowing:isShowing,toast:toast,toggle:toggle})=>{const handleClose=Object(external_kbnSharedDeps_React_.useCallback)(()=>toggle(toast),[toggle,toast]);return isShowing&&null!=toast?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModal,{onClose:handleClose},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalHeaderTitle,null,TITLE_ERROR_MODAL)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalBody,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:toast.title,color:"danger",size:"s",iconType:"alert"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),Array.isArray(toast.errors)&&toast.errors.map((error,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiAccordion,{key:`${toast.id}-${index}`,id:"accordion1",initialIsOpen:0===index,buttonContent:error.length>100?error.substring(0,100)+" ...":error,"data-test-subj":"modal-all-errors-accordion"},external_kbnSharedDeps_React_default.a.createElement(MyEuiCodeBlock,null,error)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalFooter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{onClick:handleClose,fill:!0,"data-test-subj":"modal-all-errors-close"},CLOSE_ERROR_MODAL))):null},ModalAllErrors=external_kbnSharedDeps_React_default.a.memo(ModalAllErrorsComponent),MyEuiCodeBlock=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock).withConfig({displayName:"MyEuiCodeBlock",componentId:"sc-1lr0hx6-0"})(["margin-top:4px;"]);MyEuiCodeBlock.displayName="MyEuiCodeBlock";var uuid=__webpack_require__(19),uuid_default=__webpack_require__.n(uuid);class ToasterError extends Error{constructor(messages){var obj,key,value;super(messages[0]),value=void 0,(key="messages")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,this.name="ToasterError",this.messages=messages}}var api=__webpack_require__(161);const displayErrorToast=(errorTitle,errorMessages,dispatchToaster,id=uuid_default.a.v4())=>{dispatchToaster({type:"addToaster",toast:{id:id,title:errorTitle,color:"danger",iconType:"alert",errors:errorMessages}})},displayWarningToast=(title,dispatchToaster,id=uuid_default.a.v4())=>{dispatchToaster({type:"addToaster",toast:{id:id,title:title,color:"warning",iconType:"help"}})},displaySuccessToast=(title,dispatchToaster,id=uuid_default.a.v4())=>{dispatchToaster({type:"addToaster",toast:{id:id,title:title,color:"success",iconType:"check"}})},errorToToaster=({id:id=uuid_default.a.v4(),title:title,error:error,color:color="danger",iconType:iconType="alert",dispatchToaster:dispatchToaster})=>{let toast;toast=(error=>error instanceof ToasterError)(error)?{id:id,title:title,color:color,iconType:iconType,errors:error.messages}:Object(api.a)(error)?{id:id,title:title,color:color,iconType:iconType,errors:[error.body.message]}:Object(external_kbnSharedDeps_LodashFp_.isError)(error)?{id:id,title:title,color:color,iconType:iconType,errors:[error.message]}:{id:id,title:title,color:color,iconType:iconType,errors:["Network Error"]},dispatchToaster({type:"addToaster",toast:toast})},initialToasterState={toasts:[]},StateToasterContext=Object(external_kbnSharedDeps_React_.createContext)([initialToasterState,()=>external_kbnSharedDeps_LodashFp_.noop]),useStateToaster=()=>Object(external_kbnSharedDeps_React_.useContext)(StateToasterContext),ManageGlobalToaster=({children:children})=>external_kbnSharedDeps_React_default.a.createElement(StateToasterContext.Provider,{value:Object(external_kbnSharedDeps_React_.useReducer)((state,action)=>{switch(action.type){case"addToaster":return{...state,toasts:[...state.toasts,action.toast]};case"deleteToaster":return{...state,toasts:state.toasts.filter(msg=>msg.id!==action.id)};default:return state}},initialToasterState)},children),GlobalToasterListContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"GlobalToasterListContainer",componentId:"fvmqid-0"})(["position:absolute;right:0;bottom:0;"]),GlobalToaster=({toastLifeTimeMs:toastLifeTimeMs=5e3})=>{const[{toasts:toasts},dispatch]=useStateToaster(),[isShowing,setIsShowing]=Object(external_kbnSharedDeps_React_.useState)(!1),[toastInModal,setToastInModal]=Object(external_kbnSharedDeps_React_.useState)(null),toggle=toast=>{isShowing?(dispatch({type:"deleteToaster",id:toast.id}),setToastInModal(null)):setToastInModal(toast),setIsShowing(!isShowing)};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,toasts.length>0&&!isShowing&&external_kbnSharedDeps_React_default.a.createElement(GlobalToasterListContainer,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiGlobalToastList,{toasts:[formatToErrorToastIfNeeded(toasts[0],toggle)],dismissToast:({id:id})=>{dispatch({type:"deleteToaster",id:id})},toastLifeTimeMs:toastLifeTimeMs})),null!=toastInModal&&external_kbnSharedDeps_React_default.a.createElement(ModalAllErrors,{isShowing:isShowing,toast:toastInModal,toggle:toggle}))},formatToErrorToastIfNeeded=(toast,toggle)=>(null!=toast&&null!=toast.errors&&toast.errors.length>0&&(toast.text=external_kbnSharedDeps_React_default.a.createElement(ErrorToastContainer,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{"data-test-subj":"toaster-show-all-error-modal",size:"s",color:"danger",onClick:()=>null!=toast&&toggle(toast)},SEE_ALL_ERRORS))),toast),ErrorToastContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"ErrorToastContainer",componentId:"fvmqid-1"})(["text-align:right;"]);ErrorToastContainer.displayName="ErrorToastContainer"},127:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return ERROR_TITLE})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ERROR_DELETING})),__webpack_require__.d(__webpack_exports__,"j",(function(){return UPDATED_CASE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DELETED_CASES})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CLOSED_CASES})),__webpack_require__.d(__webpack_exports__,"f",(function(){return REOPENED_CASES})),__webpack_require__.d(__webpack_exports__,"e",(function(){return MARK_IN_PROGRESS_CASES})),__webpack_require__.d(__webpack_exports__,"h",(function(){return SUCCESS_SEND_TO_EXTERNAL_SERVICE})),__webpack_require__.d(__webpack_exports__,"i",(function(){return SYNC_CASE})),__webpack_require__.d(__webpack_exports__,"g",(function(){return STATUS_CHANGED_TOASTER_TEXT}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);__webpack_require__(34);const ERROR_TITLE=_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.errorTitle",{defaultMessage:"Error fetching data"}),ERROR_DELETING=_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.errorDeletingTitle",{defaultMessage:"Error deleting data"}),UPDATED_CASE=caseTitle=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.updatedCase",{values:{caseTitle:caseTitle},defaultMessage:'Updated "{caseTitle}"'}),DELETED_CASES=(totalCases,caseTitle)=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.deletedCases",{values:{caseTitle:caseTitle,totalCases:totalCases},defaultMessage:'Deleted {totalCases, plural, =1 {"{caseTitle}"} other {{totalCases} cases}}'}),CLOSED_CASES=({totalCases:totalCases,caseTitle:caseTitle})=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.closedCases",{values:{caseTitle:caseTitle,totalCases:totalCases},defaultMessage:'Closed {totalCases, plural, =1 {"{caseTitle}"} other {{totalCases} cases}}'}),REOPENED_CASES=({totalCases:totalCases,caseTitle:caseTitle})=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.reopenedCases",{values:{caseTitle:caseTitle,totalCases:totalCases},defaultMessage:'Opened {totalCases, plural, =1 {"{caseTitle}"} other {{totalCases} cases}}'}),MARK_IN_PROGRESS_CASES=({totalCases:totalCases,caseTitle:caseTitle})=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.markInProgressCases",{values:{caseTitle:caseTitle,totalCases:totalCases},defaultMessage:'Marked {totalCases, plural, =1 {"{caseTitle}"} other {{totalCases} cases}} as in progress'}),SUCCESS_SEND_TO_EXTERNAL_SERVICE=serviceName=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.pushToExternalService",{values:{serviceName:serviceName},defaultMessage:"Successfully sent to { serviceName }"}),SYNC_CASE=(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.cases.configure.errorGetFields",{defaultMessage:"Error getting fields from service"}),caseTitle=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.syncCase",{values:{caseTitle:caseTitle},defaultMessage:'Alerts in "{caseTitle}" have been synced'})),STATUS_CHANGED_TOASTER_TEXT=_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.cases.containers.statusChangeToasterText",{defaultMessage:"Alerts in this case have been also had their status updated"})},140:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"l",(function(){return getTypedPayload})),__webpack_require__.d(__webpack_exports__,"m",(function(){return parseString})),__webpack_require__.d(__webpack_exports__,"b",(function(){return convertArrayToCamelCase})),__webpack_require__.d(__webpack_exports__,"c",(function(){return convertToCamelCase})),__webpack_require__.d(__webpack_exports__,"a",(function(){return convertAllCasesToCamel})),__webpack_require__.d(__webpack_exports__,"k",(function(){return decodeCasesStatusResponse})),__webpack_require__.d(__webpack_exports__,"d",(function(){return createToasterPlainError})),__webpack_require__.d(__webpack_exports__,"g",(function(){return decodeCaseResponse})),__webpack_require__.d(__webpack_exports__,"j",(function(){return decodeCasesResponse})),__webpack_require__.d(__webpack_exports__,"i",(function(){return decodeCasesFindResponse})),__webpack_require__.d(__webpack_exports__,"f",(function(){return decodeCaseConfigureResponse})),__webpack_require__.d(__webpack_exports__,"h",(function(){return decodeCaseUserActionsResponse})),__webpack_require__.d(__webpack_exports__,"e",(function(){return createUpdateSuccessToaster}));var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),uuid__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_0__),_elastic_safer_lodash_set__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(89),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(80),fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_cases_common_api__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(33),_common_components_toasters__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(116),_translations__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(127);const getTypedPayload=a=>a,parseString=params=>{try{return JSON.parse(params)}catch{return null}},convertArrayToCamelCase=arrayOfSnakes=>arrayOfSnakes.reduce((acc,value)=>Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isArray)(value)?[...acc,convertArrayToCamelCase(value)]:Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(value)?[...acc,convertToCamelCase(value)]:[...acc,value],[]),convertToCamelCase=snakeCase=>Object.entries(snakeCase).reduce((acc,[key,value])=>(Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isArray)(value)?Object(_elastic_safer_lodash_set__WEBPACK_IMPORTED_MODULE_1__.set)(acc,Object(lodash__WEBPACK_IMPORTED_MODULE_2__.camelCase)(key),convertArrayToCamelCase(value)):Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(value)?Object(_elastic_safer_lodash_set__WEBPACK_IMPORTED_MODULE_1__.set)(acc,Object(lodash__WEBPACK_IMPORTED_MODULE_2__.camelCase)(key),convertToCamelCase(value)):Object(_elastic_safer_lodash_set__WEBPACK_IMPORTED_MODULE_1__.set)(acc,Object(lodash__WEBPACK_IMPORTED_MODULE_2__.camelCase)(key),value),acc),{}),convertAllCasesToCamel=snakeCases=>({cases:snakeCases.cases.map(snakeCase=>convertToCamelCase(snakeCase)),countOpenCases:snakeCases.count_open_cases,countInProgressCases:snakeCases.count_in_progress_cases,countClosedCases:snakeCases.count_closed_cases,page:snakeCases.page,perPage:snakeCases.per_page,total:snakeCases.total}),decodeCasesStatusResponse=respCase=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__.pipe)(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.j.decode(respCase),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__.fold)(Object(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.o)(createToasterPlainError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__.identity)),createToasterPlainError=message=>new _common_components_toasters__WEBPACK_IMPORTED_MODULE_7__.c([message]),decodeCaseResponse=respCase=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__.pipe)(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.d.decode(respCase),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__.fold)(Object(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.o)(createToasterPlainError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__.identity)),decodeCasesResponse=respCase=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__.pipe)(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.i.decode(respCase),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__.fold)(Object(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.o)(createToasterPlainError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__.identity)),decodeCasesFindResponse=respCases=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__.pipe)(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.h.decode(respCases),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__.fold)(Object(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.o)(createToasterPlainError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__.identity)),decodeCaseConfigureResponse=respCase=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__.pipe)(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.c.decode(respCase),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__.fold)(Object(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.o)(createToasterPlainError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__.identity)),decodeCaseUserActionsResponse=respUserActions=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__.pipe)(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.g.decode(respUserActions),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__.fold)(Object(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.o)(createToasterPlainError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__.identity)),createUpdateSuccessToaster=(caseBeforeUpdate,caseAfterUpdate,key,value)=>{const caseHasAlerts=caseBeforeUpdate.comments.some(comment=>comment.type===_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.k.alert),toast={id:uuid__WEBPACK_IMPORTED_MODULE_0___default.a.v4(),color:"success",iconType:"check",title:_translations__WEBPACK_IMPORTED_MODULE_8__.j(caseAfterUpdate.title)};return((key,value)=>"settings"===key)(key)&&null!=value&&value.syncAlerts&&caseHasAlerts?{...toast,title:_translations__WEBPACK_IMPORTED_MODULE_8__.i(caseAfterUpdate.title)}:((key,value)=>"status"===key)(key)&&caseHasAlerts&&caseBeforeUpdate.settings.syncAlerts?{...toast,text:_translations__WEBPACK_IMPORTED_MODULE_8__.g}:toast}},161:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return isKibanaError})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isSecurityAppError})),__webpack_require__.d(__webpack_exports__,"a",(function(){return isAppError}));var lodash_fp__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);const isKibanaError=error=>Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.has)("message",error)&&Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.has)("body.message",error)&&Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.has)("body.statusCode",error),isSecurityAppError=error=>Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.has)("message",error)&&Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.has)("body.message",error)&&Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.has)("body.status_code",error),isAppError=error=>isKibanaError(error)||isSecurityAppError(error)},254:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ConnectorCard}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(75),styled_components__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(styled_components__WEBPACK_IMPORTED_MODULE_2__),___WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(38);const StyledText=styled_components__WEBPACK_IMPORTED_MODULE_2___default.a.span.withConfig({displayName:"StyledText",componentId:"sc-15m9dva-0"})(["span{display:block;}"]),ConnectorCardDisplay=({connectorType:connectorType,title:title,listItems:listItems,isLoading:isLoading})=>{const description=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StyledText,null,listItems.length>0&&listItems.map((item,i)=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{"data-test-subj":"card-list-item",key:`${item.title}-${i}`},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong",null,item.title+": "),item.description))),[listItems]),icon=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{var _connectorsConfigurat,_connectorsConfigurat2;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiIcon,{size:"xl",type:null!==(_connectorsConfigurat=null===(_connectorsConfigurat2=___WEBPACK_IMPORTED_MODULE_3__.a[""+connectorType])||void 0===_connectorsConfigurat2?void 0:_connectorsConfigurat2.logo)&&void 0!==_connectorsConfigurat?_connectorsConfigurat:""})},[connectorType]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,isLoading&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiLoadingSpinner,{"data-test-subj":"connector-card-loading"}),!isLoading&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiCard,{"data-test-subj":"connector-card",description:description,display:"plain",icon:icon,layout:"horizontal",paddingSize:"none",title:title,titleSize:"xs"}))},ConnectorCard=Object(react__WEBPACK_IMPORTED_MODULE_0__.memo)(ConnectorCardDisplay)},487:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return choicesToEuiOptions}));const choicesToEuiOptions=choices=>choices.map(choice=>({value:choice.value,text:choice.label}))},501:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useGetChoices}));var external_kbnSharedDeps_React_=__webpack_require__(6);var translations=__webpack_require__(22);const useGetChoices=({http:http,connector:connector,toastNotifications:toastNotifications,fields:fields,onSuccess:onSuccess})=>{const[isLoading,setIsLoading]=Object(external_kbnSharedDeps_React_.useState)(!1),[choices,setChoices]=Object(external_kbnSharedDeps_React_.useState)([]),didCancel=Object(external_kbnSharedDeps_React_.useRef)(!1),abortCtrl=Object(external_kbnSharedDeps_React_.useRef)(new AbortController);return Object(external_kbnSharedDeps_React_.useEffect)(()=>(didCancel.current=!1,abortCtrl.current.abort(),(async()=>{if(connector)try{abortCtrl.current=new AbortController,setIsLoading(!0);const res=await async function({http:http,signal:signal,connectorId:connectorId,fields:fields}){return http.post(`/api/actions/action/${connectorId}/_execute`,{body:JSON.stringify({params:{subAction:"getChoices",subActionParams:{fields:fields}}}),signal:signal})}({http:http,signal:abortCtrl.current.signal,connectorId:connector.id,fields:fields});var _res$data,_res$serviceMessage;if(!didCancel.current)if(setIsLoading(!1),setChoices(null!==(_res$data=res.data)&&void 0!==_res$data?_res$data:[]),res.status&&"error"===res.status)toastNotifications.addDanger({title:translations.d,text:""+(null!==(_res$serviceMessage=res.serviceMessage)&&void 0!==_res$serviceMessage?_res$serviceMessage:res.message)});else if(onSuccess){var _res$data2;onSuccess(null!==(_res$data2=res.data)&&void 0!==_res$data2?_res$data2:[])}}catch(error){didCancel.current||(setIsLoading(!1),"AbortError"!==error.name&&toastNotifications.addDanger({title:translations.d,text:error.message}))}else setIsLoading(!1)})(),()=>{didCancel.current=!0,abortCtrl.current.abort()}),[http,connector,toastNotifications,fields]),{choices:choices,isLoading:isLoading}}}}]);