/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.securitySolution_bundle_jsonpfunction=window.securitySolution_bundle_jsonpfunction||[]).push([[17],{109:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return useDateFormat})),__webpack_require__.d(__webpack_exports__,"i",(function(){return useTimeZone})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useBasePath})),__webpack_require__.d(__webpack_exports__,"j",(function(){return useToasts})),__webpack_require__.d(__webpack_exports__,"g",(function(){return useHttp})),__webpack_require__.d(__webpack_exports__,"d",(function(){return useCurrentUser})),__webpack_require__.d(__webpack_exports__,"f",(function(){return useGetUserSavedObjectPermissions})),__webpack_require__.d(__webpack_exports__,"a",(function(){return public_.KibanaContextProvider})),__webpack_require__.d(__webpack_exports__,"h",(function(){return useTypedKibana})),__webpack_require__.d(__webpack_exports__,"k",(function(){return public_.useUiSetting})),__webpack_require__.d(__webpack_exports__,"l",(function(){return public_.useUiSetting$})),__webpack_require__.d(__webpack_exports__,"b",(function(){return services.a}));var external_kbnSharedDeps_MomentTimezone_=__webpack_require__(88),external_kbnSharedDeps_MomentTimezone_default=__webpack_require__.n(external_kbnSharedDeps_MomentTimezone_),external_kbnSharedDeps_React_=__webpack_require__(6),external_kbnSharedDeps_KbnI18n_=__webpack_require__(1),constants=__webpack_require__(2),toasters=__webpack_require__(116),utils=__webpack_require__(140),public_=__webpack_require__(79);const useTypedKibana=()=>Object(public_.useKibana)(),useDateFormat=()=>Object(public_.useUiSetting)(constants.r),useTimeZone=()=>{const timeZone=Object(public_.useUiSetting)(constants.s);return"Browser"===timeZone?external_kbnSharedDeps_MomentTimezone_default.a.tz.guess():timeZone},useBasePath=()=>useTypedKibana().services.http.basePath.get(),useToasts=()=>useTypedKibana().services.notifications.toasts,useHttp=()=>useTypedKibana().services.http,useCurrentUser=()=>{const[user,setUser]=Object(external_kbnSharedDeps_React_.useState)(null),[,dispatchToaster]=Object(toasters.h)(),{security:security}=useTypedKibana().services,fetchUser=Object(external_kbnSharedDeps_React_.useCallback)(()=>{let didCancel=!1;return(async()=>{try{if(null!=security){const response=await security.authc.getCurrentUser();didCancel||setUser(Object(utils.c)(response))}else setUser({username:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.securitySolution.getCurrentUser.unknownUser",{defaultMessage:"Unknown"}),email:"",fullName:"",roles:[],enabled:!1,authenticationRealm:{name:"",type:""},lookupRealm:{name:"",type:""},authenticationProvider:""})}catch(error){didCancel||(Object(toasters.g)({title:external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.securitySolution.getCurrentUser.Error",{defaultMessage:"Error getting user"}),error:error.body&&error.body.message?new Error(error.body.message):error,dispatchToaster:dispatchToaster}),setUser(null))}})(),()=>{didCancel=!0}},[security]);return Object(external_kbnSharedDeps_React_.useEffect)(()=>{fetchUser()},[]),user},useGetUserSavedObjectPermissions=()=>{const[savedObjectsPermissions,setSavedObjectsPermissions]=Object(external_kbnSharedDeps_React_.useState)(null),uiCapabilities=useTypedKibana().services.application.capabilities;return Object(external_kbnSharedDeps_React_.useEffect)(()=>{const capabilitiesCanUserCRUD="boolean"==typeof uiCapabilities.siem.crud&&uiCapabilities.siem.crud,capabilitiesCanUserRead="boolean"==typeof uiCapabilities.siem.show&&uiCapabilities.siem.show;setSavedObjectsPermissions({crud:capabilitiesCanUserCRUD,read:capabilitiesCanUserRead})},[uiCapabilities]),savedObjectsPermissions};var services=__webpack_require__(36)},1124:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return CaseParamsFields}));var external_kbnSharedDeps_React_=__webpack_require__(6),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_StyledComponents_=__webpack_require__(75),external_kbnSharedDeps_StyledComponents_default=__webpack_require__.n(external_kbnSharedDeps_StyledComponents_),external_kbnSharedDeps_ElasticEui_=__webpack_require__(74),api=__webpack_require__(33),use_get_cases=__webpack_require__(397),form_context=__webpack_require__(504),create_form=__webpack_require__(490),submit_button=__webpack_require__(467),translations=__webpack_require__(34);const Container=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Container",componentId:"sc-9l7qtj-0"})(["",""],({theme:theme})=>`\n    margin-top: ${theme.eui.euiSize};\n    text-align: right;\n  `),CreateModalComponent=({isModalOpen:isModalOpen,onCloseCaseModal:onCloseCaseModal,onSuccess:onSuccess,caseType:caseType=api.f.individual,hideConnectorServiceNowSir:hideConnectorServiceNowSir=!1})=>isModalOpen?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModal,{onClose:onCloseCaseModal,"data-test-subj":"all-cases-modal"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalHeaderTitle,null,translations.o)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalBody,null,external_kbnSharedDeps_React_default.a.createElement(form_context.a,{hideConnectorServiceNowSir:hideConnectorServiceNowSir,caseType:caseType,onSuccess:onSuccess},external_kbnSharedDeps_React_default.a.createElement(create_form.a,{withSteps:!1,hideConnectorServiceNowSir:hideConnectorServiceNowSir}),external_kbnSharedDeps_React_default.a.createElement(Container,null,external_kbnSharedDeps_React_default.a.createElement(submit_button.a,null))))):null,CreateCaseModal=Object(external_kbnSharedDeps_React_.memo)(CreateModalComponent);CreateCaseModal.displayName="CreateCaseModal";var case_translations=__webpack_require__(23);const addNewCase={value:"add-case",inputDisplay:external_kbnSharedDeps_React_default.a.createElement("span",{className:"euiButtonEmpty euiButtonEmpty--primary euiButtonEmpty--xSmall euiButtonEmpty--flushLeft"},case_translations.a),"data-test-subj":"dropdown-connector-add-connector"},CasesDropdownComponent=({isLoading:isLoading,cases:cases,selectedCase:selectedCase,onCaseChanged:onCaseChanged})=>{const caseOptions=Object(external_kbnSharedDeps_React_.useMemo)(()=>cases.reduce((acc,theCase)=>[...acc,{value:theCase.id,inputDisplay:external_kbnSharedDeps_React_default.a.createElement("span",null,theCase.title),"data-test-subj":"case-connector-cases-dropdown-"+theCase.id}],[]),[cases]),options=Object(external_kbnSharedDeps_React_.useMemo)(()=>[...caseOptions,addNewCase],[caseOptions]),onChange=Object(external_kbnSharedDeps_React_.useCallback)(id=>onCaseChanged(id),[onCaseChanged]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:case_translations.d,fullWidth:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSuperSelect,{options:options,"data-test-subj":"case-connector-cases-dropdown",disabled:isLoading,fullWidth:!0,isLoading:isLoading,valueOfSelected:selectedCase,onChange:onChange}))},CasesDropdown=Object(external_kbnSharedDeps_React_.memo)(CasesDropdownComponent),ExistingCaseComponent=({onCaseChanged:onCaseChanged,selectedCase:selectedCase})=>{const{data:cases,loading:isLoadingCases,refetchCases:refetchCases}=Object(use_get_cases.c)(use_get_cases.b,{...use_get_cases.a,onlyCollectionType:!0}),onCaseCreated=Object(external_kbnSharedDeps_React_.useCallback)(newCase=>{refetchCases(),onCaseChanged(newCase.id)},[onCaseChanged,refetchCases]),{modal:modal,openModal:openModal}=(({caseType:caseType=api.f.individual,onCaseCreated:onCaseCreated,hideConnectorServiceNowSir:hideConnectorServiceNowSir=!1})=>{const[isModalOpen,setIsModalOpen]=Object(external_kbnSharedDeps_React_.useState)(!1),closeModal=Object(external_kbnSharedDeps_React_.useCallback)(()=>setIsModalOpen(!1),[]),openModal=Object(external_kbnSharedDeps_React_.useCallback)(()=>setIsModalOpen(!0),[]),onSuccess=Object(external_kbnSharedDeps_React_.useCallback)(async theCase=>{onCaseCreated(theCase),closeModal()},[onCaseCreated,closeModal]);return Object(external_kbnSharedDeps_React_.useMemo)(()=>({modal:external_kbnSharedDeps_React_default.a.createElement(CreateCaseModal,{caseType:caseType,hideConnectorServiceNowSir:hideConnectorServiceNowSir,isModalOpen:isModalOpen,onCloseCaseModal:closeModal,onSuccess:onSuccess}),isModalOpen:isModalOpen,closeModal:closeModal,openModal:openModal}),[caseType,closeModal,hideConnectorServiceNowSir,isModalOpen,onSuccess,openModal])})({onCaseCreated:onCaseCreated,caseType:api.f.collection,hideConnectorServiceNowSir:!0}),onChange=Object(external_kbnSharedDeps_React_.useCallback)(id=>{"add-case"!==id?onCaseChanged(id):openModal()},[onCaseChanged,openModal]),isCasesLoading=Object(external_kbnSharedDeps_React_.useMemo)(()=>isLoadingCases.includes("cases")||isLoadingCases.includes("caseUpdate"),[isLoadingCases]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(CasesDropdown,{isLoading:isCasesLoading,cases:cases.cases,selectedCase:null!=selectedCase?selectedCase:void 0,onCaseChanged:onChange}),modal)},ExistingCase=Object(external_kbnSharedDeps_React_.memo)(ExistingCaseComponent),alert_fields_Container=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Container",componentId:"sc-16vbcqj-0"})(["",""],({theme:theme})=>{var _theme$eui$euiSizeS,_theme$eui,_theme$eui$euiSizeL,_theme$eui2,_theme$eui$euiSizeL2,_theme$eui3,_theme$eui$euiSizeL3,_theme$eui4;return`\n    padding:  ${null!==(_theme$eui$euiSizeS=null===(_theme$eui=theme.eui)||void 0===_theme$eui?void 0:_theme$eui.euiSizeS)&&void 0!==_theme$eui$euiSizeS?_theme$eui$euiSizeS:"8px"} ${null!==(_theme$eui$euiSizeL=null===(_theme$eui2=theme.eui)||void 0===_theme$eui2?void 0:_theme$eui2.euiSizeL)&&void 0!==_theme$eui$euiSizeL?_theme$eui$euiSizeL:"24px"} ${null!==(_theme$eui$euiSizeL2=null===(_theme$eui3=theme.eui)||void 0===_theme$eui3?void 0:_theme$eui3.euiSizeL)&&void 0!==_theme$eui$euiSizeL2?_theme$eui$euiSizeL2:"24px"} ${null!==(_theme$eui$euiSizeL3=null===(_theme$eui4=theme.eui)||void 0===_theme$eui4?void 0:_theme$eui4.euiSizeL)&&void 0!==_theme$eui$euiSizeL3?_theme$eui$euiSizeL3:"24px"};\n  `}),defaultAlertComment={type:api.k.generatedAlert,alerts:'[{{#context.alerts}}{"_id": "{{_id}}", "_index": "{{_index}}", "ruleId": "{{signal.rule.id}}", "ruleName": "{{signal.rule.name}}"}__SEPARATOR__{{/context.alerts}}]'},CaseParamsFields=({actionParams:actionParams,editAction:editAction,index:index,errors:errors,messageVariables:messageVariables,actionConnector:actionConnector})=>{var _actionParams$subActi,_actionParams$subActi4,_actionParams$subActi5;const{caseId:caseId=null,comment:comment=defaultAlertComment}=null!==(_actionParams$subActi=actionParams.subActionParams)&&void 0!==_actionParams$subActi?_actionParams$subActi:{},[selectedCase,setSelectedCase]=Object(external_kbnSharedDeps_React_.useState)(null),editSubActionProperty=Object(external_kbnSharedDeps_React_.useCallback)((key,value)=>{const newProps={...actionParams.subActionParams,[key]:value};editAction("subActionParams",newProps,index)},[actionParams.subActionParams,index]),onCaseChanged=Object(external_kbnSharedDeps_React_.useCallback)(id=>{setSelectedCase(id),editSubActionProperty("caseId",id)},[editSubActionProperty]);return Object(external_kbnSharedDeps_React_.useEffect)(()=>{var _actionParams$subActi2,_actionParams$subActi3;actionParams.subAction||editAction("subAction","addComment",index),null!==(_actionParams$subActi2=actionParams.subActionParams)&&void 0!==_actionParams$subActi2&&_actionParams$subActi2.caseId||editSubActionProperty("caseId",caseId),null!==(_actionParams$subActi3=actionParams.subActionParams)&&void 0!==_actionParams$subActi3&&_actionParams$subActi3.comment||editSubActionProperty("comment",comment),null!=caseId&&setSelectedCase(prevCaseId=>prevCaseId!==caseId?caseId:prevCaseId)},[actionConnector,index,null===(_actionParams$subActi4=actionParams.subActionParams)||void 0===_actionParams$subActi4?void 0:_actionParams$subActi4.caseId,null===(_actionParams$subActi5=actionParams.subActionParams)||void 0===_actionParams$subActi5?void 0:_actionParams$subActi5.comment,caseId,comment,actionParams.subAction]),external_kbnSharedDeps_React_default.a.createElement(alert_fields_Container,null,external_kbnSharedDeps_React_default.a.createElement(ExistingCase,{onCaseChanged:onCaseChanged,selectedCase:selectedCase}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{size:"s",title:case_translations.c,iconType:"iInCircle"},external_kbnSharedDeps_React_default.a.createElement("p",null,case_translations.b)))}},116:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return displayErrorToast})),__webpack_require__.d(__webpack_exports__,"f",(function(){return displayWarningToast})),__webpack_require__.d(__webpack_exports__,"e",(function(){return displaySuccessToast})),__webpack_require__.d(__webpack_exports__,"g",(function(){return errorToToaster})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ToasterError})),__webpack_require__.d(__webpack_exports__,"h",(function(){return useStateToaster})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ManageGlobalToaster})),__webpack_require__.d(__webpack_exports__,"a",(function(){return GlobalToaster}));var external_kbnSharedDeps_ElasticEui_=__webpack_require__(74),external_kbnSharedDeps_LodashFp_=__webpack_require__(7),external_kbnSharedDeps_React_=__webpack_require__(6),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_StyledComponents_=__webpack_require__(75),external_kbnSharedDeps_StyledComponents_default=__webpack_require__.n(external_kbnSharedDeps_StyledComponents_),external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);const SEE_ALL_ERRORS=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.securitySolution.modalAllErrors.seeAllErrors.button",{defaultMessage:"See the full error(s)"}),TITLE_ERROR_MODAL=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.securitySolution.modalAllErrors.title",{defaultMessage:"Your visualization has error(s)"}),CLOSE_ERROR_MODAL=external_kbnSharedDeps_KbnI18n_.i18n.translate("xpack.securitySolution.modalAllErrors.close.button",{defaultMessage:"Close"}),ModalAllErrorsComponent=({isShowing:isShowing,toast:toast,toggle:toggle})=>{const handleClose=Object(external_kbnSharedDeps_React_.useCallback)(()=>toggle(toast),[toggle,toast]);return isShowing&&null!=toast?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModal,{onClose:handleClose},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalHeaderTitle,null,TITLE_ERROR_MODAL)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalBody,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:toast.title,color:"danger",size:"s",iconType:"alert"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),Array.isArray(toast.errors)&&toast.errors.map((error,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiAccordion,{key:`${toast.id}-${index}`,id:"accordion1",initialIsOpen:0===index,buttonContent:error.length>100?error.substring(0,100)+" ...":error,"data-test-subj":"modal-all-errors-accordion"},external_kbnSharedDeps_React_default.a.createElement(MyEuiCodeBlock,null,error)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalFooter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{onClick:handleClose,fill:!0,"data-test-subj":"modal-all-errors-close"},CLOSE_ERROR_MODAL))):null},ModalAllErrors=external_kbnSharedDeps_React_default.a.memo(ModalAllErrorsComponent),MyEuiCodeBlock=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_.EuiCodeBlock).withConfig({displayName:"MyEuiCodeBlock",componentId:"sc-1lr0hx6-0"})(["margin-top:4px;"]);MyEuiCodeBlock.displayName="MyEuiCodeBlock";var uuid=__webpack_require__(19),uuid_default=__webpack_require__.n(uuid);class ToasterError extends Error{constructor(messages){var obj,key,value;super(messages[0]),value=void 0,(key="messages")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,this.name="ToasterError",this.messages=messages}}var api=__webpack_require__(161);const displayErrorToast=(errorTitle,errorMessages,dispatchToaster,id=uuid_default.a.v4())=>{dispatchToaster({type:"addToaster",toast:{id:id,title:errorTitle,color:"danger",iconType:"alert",errors:errorMessages}})},displayWarningToast=(title,dispatchToaster,id=uuid_default.a.v4())=>{dispatchToaster({type:"addToaster",toast:{id:id,title:title,color:"warning",iconType:"help"}})},displaySuccessToast=(title,dispatchToaster,id=uuid_default.a.v4())=>{dispatchToaster({type:"addToaster",toast:{id:id,title:title,color:"success",iconType:"check"}})},errorToToaster=({id:id=uuid_default.a.v4(),title:title,error:error,color:color="danger",iconType:iconType="alert",dispatchToaster:dispatchToaster})=>{let toast;toast=(error=>error instanceof ToasterError)(error)?{id:id,title:title,color:color,iconType:iconType,errors:error.messages}:Object(api.a)(error)?{id:id,title:title,color:color,iconType:iconType,errors:[error.body.message]}:Object(external_kbnSharedDeps_LodashFp_.isError)(error)?{id:id,title:title,color:color,iconType:iconType,errors:[error.message]}:{id:id,title:title,color:color,iconType:iconType,errors:["Network Error"]},dispatchToaster({type:"addToaster",toast:toast})},initialToasterState={toasts:[]},StateToasterContext=Object(external_kbnSharedDeps_React_.createContext)([initialToasterState,()=>external_kbnSharedDeps_LodashFp_.noop]),useStateToaster=()=>Object(external_kbnSharedDeps_React_.useContext)(StateToasterContext),ManageGlobalToaster=({children:children})=>external_kbnSharedDeps_React_default.a.createElement(StateToasterContext.Provider,{value:Object(external_kbnSharedDeps_React_.useReducer)((state,action)=>{switch(action.type){case"addToaster":return{...state,toasts:[...state.toasts,action.toast]};case"deleteToaster":return{...state,toasts:state.toasts.filter(msg=>msg.id!==action.id)};default:return state}},initialToasterState)},children),GlobalToasterListContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"GlobalToasterListContainer",componentId:"fvmqid-0"})(["position:absolute;right:0;bottom:0;"]),GlobalToaster=({toastLifeTimeMs:toastLifeTimeMs=5e3})=>{const[{toasts:toasts},dispatch]=useStateToaster(),[isShowing,setIsShowing]=Object(external_kbnSharedDeps_React_.useState)(!1),[toastInModal,setToastInModal]=Object(external_kbnSharedDeps_React_.useState)(null),toggle=toast=>{isShowing?(dispatch({type:"deleteToaster",id:toast.id}),setToastInModal(null)):setToastInModal(toast),setIsShowing(!isShowing)};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,toasts.length>0&&!isShowing&&external_kbnSharedDeps_React_default.a.createElement(GlobalToasterListContainer,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiGlobalToastList,{toasts:[formatToErrorToastIfNeeded(toasts[0],toggle)],dismissToast:({id:id})=>{dispatch({type:"deleteToaster",id:id})},toastLifeTimeMs:toastLifeTimeMs})),null!=toastInModal&&external_kbnSharedDeps_React_default.a.createElement(ModalAllErrors,{isShowing:isShowing,toast:toastInModal,toggle:toggle}))},formatToErrorToastIfNeeded=(toast,toggle)=>(null!=toast&&null!=toast.errors&&toast.errors.length>0&&(toast.text=external_kbnSharedDeps_React_default.a.createElement(ErrorToastContainer,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{"data-test-subj":"toaster-show-all-error-modal",size:"s",color:"danger",onClick:()=>null!=toast&&toggle(toast)},SEE_ALL_ERRORS))),toast),ErrorToastContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"ErrorToastContainer",componentId:"fvmqid-1"})(["text-align:right;"]);ErrorToastContainer.displayName="ErrorToastContainer"},127:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return ERROR_TITLE})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ERROR_DELETING})),__webpack_require__.d(__webpack_exports__,"j",(function(){return UPDATED_CASE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DELETED_CASES})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CLOSED_CASES})),__webpack_require__.d(__webpack_exports__,"f",(function(){return REOPENED_CASES})),__webpack_require__.d(__webpack_exports__,"e",(function(){return MARK_IN_PROGRESS_CASES})),__webpack_require__.d(__webpack_exports__,"h",(function(){return SUCCESS_SEND_TO_EXTERNAL_SERVICE})),__webpack_require__.d(__webpack_exports__,"i",(function(){return SYNC_CASE})),__webpack_require__.d(__webpack_exports__,"g",(function(){return STATUS_CHANGED_TOASTER_TEXT}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);__webpack_require__(34);const ERROR_TITLE=_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.errorTitle",{defaultMessage:"Error fetching data"}),ERROR_DELETING=_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.errorDeletingTitle",{defaultMessage:"Error deleting data"}),UPDATED_CASE=caseTitle=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.updatedCase",{values:{caseTitle:caseTitle},defaultMessage:'Updated "{caseTitle}"'}),DELETED_CASES=(totalCases,caseTitle)=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.deletedCases",{values:{caseTitle:caseTitle,totalCases:totalCases},defaultMessage:'Deleted {totalCases, plural, =1 {"{caseTitle}"} other {{totalCases} cases}}'}),CLOSED_CASES=({totalCases:totalCases,caseTitle:caseTitle})=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.closedCases",{values:{caseTitle:caseTitle,totalCases:totalCases},defaultMessage:'Closed {totalCases, plural, =1 {"{caseTitle}"} other {{totalCases} cases}}'}),REOPENED_CASES=({totalCases:totalCases,caseTitle:caseTitle})=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.reopenedCases",{values:{caseTitle:caseTitle,totalCases:totalCases},defaultMessage:'Opened {totalCases, plural, =1 {"{caseTitle}"} other {{totalCases} cases}}'}),MARK_IN_PROGRESS_CASES=({totalCases:totalCases,caseTitle:caseTitle})=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.markInProgressCases",{values:{caseTitle:caseTitle,totalCases:totalCases},defaultMessage:'Marked {totalCases, plural, =1 {"{caseTitle}"} other {{totalCases} cases}} as in progress'}),SUCCESS_SEND_TO_EXTERNAL_SERVICE=serviceName=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.pushToExternalService",{values:{serviceName:serviceName},defaultMessage:"Successfully sent to { serviceName }"}),SYNC_CASE=(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.cases.configure.errorGetFields",{defaultMessage:"Error getting fields from service"}),caseTitle=>_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.containers.cases.syncCase",{values:{caseTitle:caseTitle},defaultMessage:'Alerts in "{caseTitle}" have been synced'})),STATUS_CHANGED_TOASTER_TEXT=_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("xpack.securitySolution.cases.containers.statusChangeToasterText",{defaultMessage:"Alerts in this case have been also had their status updated"})},140:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"l",(function(){return getTypedPayload})),__webpack_require__.d(__webpack_exports__,"m",(function(){return parseString})),__webpack_require__.d(__webpack_exports__,"b",(function(){return convertArrayToCamelCase})),__webpack_require__.d(__webpack_exports__,"c",(function(){return convertToCamelCase})),__webpack_require__.d(__webpack_exports__,"a",(function(){return convertAllCasesToCamel})),__webpack_require__.d(__webpack_exports__,"k",(function(){return decodeCasesStatusResponse})),__webpack_require__.d(__webpack_exports__,"d",(function(){return createToasterPlainError})),__webpack_require__.d(__webpack_exports__,"g",(function(){return decodeCaseResponse})),__webpack_require__.d(__webpack_exports__,"j",(function(){return decodeCasesResponse})),__webpack_require__.d(__webpack_exports__,"i",(function(){return decodeCasesFindResponse})),__webpack_require__.d(__webpack_exports__,"f",(function(){return decodeCaseConfigureResponse})),__webpack_require__.d(__webpack_exports__,"h",(function(){return decodeCaseUserActionsResponse})),__webpack_require__.d(__webpack_exports__,"e",(function(){return createUpdateSuccessToaster}));var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),uuid__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_0__),_elastic_safer_lodash_set__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(89),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(80),fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_cases_common_api__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(33),_common_components_toasters__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(116),_translations__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(127);const getTypedPayload=a=>a,parseString=params=>{try{return JSON.parse(params)}catch{return null}},convertArrayToCamelCase=arrayOfSnakes=>arrayOfSnakes.reduce((acc,value)=>Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isArray)(value)?[...acc,convertArrayToCamelCase(value)]:Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(value)?[...acc,convertToCamelCase(value)]:[...acc,value],[]),convertToCamelCase=snakeCase=>Object.entries(snakeCase).reduce((acc,[key,value])=>(Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isArray)(value)?Object(_elastic_safer_lodash_set__WEBPACK_IMPORTED_MODULE_1__.set)(acc,Object(lodash__WEBPACK_IMPORTED_MODULE_2__.camelCase)(key),convertArrayToCamelCase(value)):Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(value)?Object(_elastic_safer_lodash_set__WEBPACK_IMPORTED_MODULE_1__.set)(acc,Object(lodash__WEBPACK_IMPORTED_MODULE_2__.camelCase)(key),convertToCamelCase(value)):Object(_elastic_safer_lodash_set__WEBPACK_IMPORTED_MODULE_1__.set)(acc,Object(lodash__WEBPACK_IMPORTED_MODULE_2__.camelCase)(key),value),acc),{}),convertAllCasesToCamel=snakeCases=>({cases:snakeCases.cases.map(snakeCase=>convertToCamelCase(snakeCase)),countOpenCases:snakeCases.count_open_cases,countInProgressCases:snakeCases.count_in_progress_cases,countClosedCases:snakeCases.count_closed_cases,page:snakeCases.page,perPage:snakeCases.per_page,total:snakeCases.total}),decodeCasesStatusResponse=respCase=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__.pipe)(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.j.decode(respCase),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__.fold)(Object(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.o)(createToasterPlainError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__.identity)),createToasterPlainError=message=>new _common_components_toasters__WEBPACK_IMPORTED_MODULE_7__.c([message]),decodeCaseResponse=respCase=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__.pipe)(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.d.decode(respCase),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__.fold)(Object(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.o)(createToasterPlainError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__.identity)),decodeCasesResponse=respCase=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__.pipe)(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.i.decode(respCase),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__.fold)(Object(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.o)(createToasterPlainError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__.identity)),decodeCasesFindResponse=respCases=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__.pipe)(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.h.decode(respCases),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__.fold)(Object(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.o)(createToasterPlainError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__.identity)),decodeCaseConfigureResponse=respCase=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__.pipe)(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.c.decode(respCase),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__.fold)(Object(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.o)(createToasterPlainError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__.identity)),decodeCaseUserActionsResponse=respUserActions=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_5__.pipe)(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.g.decode(respUserActions),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_3__.fold)(Object(_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.o)(createToasterPlainError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_4__.identity)),createUpdateSuccessToaster=(caseBeforeUpdate,caseAfterUpdate,key,value)=>{const caseHasAlerts=caseBeforeUpdate.comments.some(comment=>comment.type===_cases_common_api__WEBPACK_IMPORTED_MODULE_6__.k.alert),toast={id:uuid__WEBPACK_IMPORTED_MODULE_0___default.a.v4(),color:"success",iconType:"check",title:_translations__WEBPACK_IMPORTED_MODULE_8__.j(caseAfterUpdate.title)};return((key,value)=>"settings"===key)(key)&&null!=value&&value.syncAlerts&&caseHasAlerts?{...toast,title:_translations__WEBPACK_IMPORTED_MODULE_8__.i(caseAfterUpdate.title)}:((key,value)=>"status"===key)(key)&&caseHasAlerts&&caseBeforeUpdate.settings.syncAlerts?{...toast,text:_translations__WEBPACK_IMPORTED_MODULE_8__.g}:toast}},161:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return isKibanaError})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isSecurityAppError})),__webpack_require__.d(__webpack_exports__,"a",(function(){return isAppError}));var lodash_fp__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);const isKibanaError=error=>Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.has)("message",error)&&Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.has)("body.message",error)&&Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.has)("body.statusCode",error),isSecurityAppError=error=>Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.has)("message",error)&&Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.has)("body.message",error)&&Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.has)("body.status_code",error),isAppError=error=>isKibanaError(error)||isSecurityAppError(error)},208:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return appendSearch}));var lodash_fp__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);const appendSearch=search=>Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.isEmpty)(search)?"":""+(null!=search&&search.startsWith("?")?search:"?"+search)}}]);