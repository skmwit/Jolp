!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()()}var installedModules={},installedChunks={3:0};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.e=function(chunkId){var promises=[],installedChunkData=installedChunks[chunkId];if(0!==installedChunkData)if(installedChunkData)promises.push(installedChunkData[2]);else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var onScriptComplete,script=document.createElement("script");script.charset="utf-8",script.timeout=120,__webpack_require__.nc&&script.setAttribute("nonce",__webpack_require__.nc),script.src=function(chunkId){return __webpack_require__.p+"discover.chunk."+chunkId+".js"}(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null,clearTimeout(timeout);var chunk=installedChunks[chunkId];if(0!==chunk){if(chunk){var errorType=event&&("load"===event.type?"missing":event.type),realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")",error.name="ChunkLoadError",error.type=errorType,error.request=realSrc,chunk[1](error)}installedChunks[chunkId]=void 0}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete,document.head.appendChild(script)}return Promise.all(promises)},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__.oe=function(err){throw console.error(err),err};var jsonpArray=window.discover_bundle_jsonpfunction=window.discover_bundle_jsonpfunction||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;__webpack_require__(__webpack_require__.s=33)}([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"j",(function(){return setAngularModule})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getAngularModule})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getServices})),__webpack_require__.d(__webpack_exports__,"n",(function(){return setServices})),__webpack_require__.d(__webpack_exports__,"o",(function(){return setUiActions})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getUiActions})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getHeaderActionMenuMounter})),__webpack_require__.d(__webpack_exports__,"l",(function(){return setHeaderActionMenuMounter})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getUrlTracker})),__webpack_require__.d(__webpack_exports__,"p",(function(){return setUrlTracker})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getDocViewsRegistry})),__webpack_require__.d(__webpack_exports__,"k",(function(){return setDocViewsRegistry})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getHistory})),__webpack_require__.d(__webpack_exports__,"r",(function(){return syncHistoryLocations})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getScopedHistory})),__webpack_require__.d(__webpack_exports__,"m",(function(){return setScopedHistory})),__webpack_require__.d(__webpack_exports__,"s",(function(){return tabifyAggResponse}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(20),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__),history__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(19),_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_data_public__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4);__webpack_require__.d(__webpack_exports__,"i",(function(){return _kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__.redirectWhenMissing}));var _kibana_legacy_public__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13);__webpack_require__.d(__webpack_exports__,"q",(function(){return _kibana_legacy_public__WEBPACK_IMPORTED_MODULE_4__.subscribeWithScope}));let uiActions,angularModule=null,services=null;function setAngularModule(module){angularModule=module}function getAngularModule(){return angularModule}function getServices(){if(!services)throw new Error("Discover services are not yet available");return services}function setServices(newServices){services=newServices}const setUiActions=pluginUiActions=>uiActions=pluginUiActions,getUiActions=()=>uiActions,[getHeaderActionMenuMounter,setHeaderActionMenuMounter]=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__.createGetterSetter)("headerActionMenuMounter"),[getUrlTracker,setUrlTracker]=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__.createGetterSetter)("urlTracker"),[getDocViewsRegistry,setDocViewsRegistry]=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__.createGetterSetter)("DocViewsRegistry"),getHistory=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.once(()=>{const history=Object(history__WEBPACK_IMPORTED_MODULE_1__.createHashHistory)();return history.listen(()=>{}),history}),syncHistoryLocations=()=>{const h=getHistory();return Object.assign(h.location,Object(history__WEBPACK_IMPORTED_MODULE_1__.createHashHistory)().location),h},[getScopedHistory,setScopedHistory]=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__.createGetterSetter)("scopedHistory"),{tabifyAggResponse:tabifyAggResponse}=_data_public__WEBPACK_IMPORTED_MODULE_3__.search},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DISCOVER_APP_URL_GENERATOR})),__webpack_require__.d(__webpack_exports__,"d",(function(){return SEARCH_SESSION_ID_QUERY_PARAM})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DiscoverUrlGenerator}));var _data_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_kibana_utils_public__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const DISCOVER_APP_URL_GENERATOR="DISCOVER_APP_URL_GENERATOR",SEARCH_SESSION_ID_QUERY_PARAM="searchSessionId";class DiscoverUrlGenerator{constructor(params){this.params=params,_defineProperty(this,"id",DISCOVER_APP_URL_GENERATOR),_defineProperty(this,"createUrl",async({useHash:useHash=this.params.useHash,filters:filters,indexPatternId:indexPatternId,query:query,refreshInterval:refreshInterval,savedSearchId:savedSearchId,timeRange:timeRange,searchSessionId:searchSessionId,columns:columns,savedQuery:savedQuery,sort:sort,interval:interval})=>{const savedSearchPath=savedSearchId?"view/"+encodeURIComponent(savedSearchId):"",appState={},queryState={};query&&(appState.query=query),filters&&filters.length&&(appState.filters=null==filters?void 0:filters.filter(f=>!_data_public__WEBPACK_IMPORTED_MODULE_0__.esFilters.isFilterPinned(f))),indexPatternId&&(appState.index=indexPatternId),columns&&(appState.columns=columns),savedQuery&&(appState.savedQuery=savedQuery),sort&&(appState.sort=sort),interval&&(appState.interval=interval),timeRange&&(queryState.time=timeRange),filters&&filters.length&&(queryState.filters=null==filters?void 0:filters.filter(f=>_data_public__WEBPACK_IMPORTED_MODULE_0__.esFilters.isFilterPinned(f))),refreshInterval&&(queryState.refreshInterval=refreshInterval);let url=`${this.params.appBasePath}#/${savedSearchPath}`;return url=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_1__.setStateToKbnUrl)("_g",queryState,{useHash:useHash},url),url=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_1__.setStateToKbnUrl)("_a",appState,{useHash:useHash},url),searchSessionId&&(url=`${url}&${SEARCH_SESSION_ID_QUERY_PARAM}=${searchSessionId}`),url})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14);__webpack_require__.d(__webpack_exports__,"SEARCH_EMBEDDABLE_TYPE",(function(){return _constants__WEBPACK_IMPORTED_MODULE_0__.a}));var _types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28);__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_1__,"ISearchEmbeddable")&&__webpack_require__.d(__webpack_exports__,"ISearchEmbeddable",(function(){return _types__WEBPACK_IMPORTED_MODULE_1__.ISearchEmbeddable})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_1__,"SearchEmbeddableFactory")&&__webpack_require__.d(__webpack_exports__,"SearchEmbeddableFactory",(function(){return _types__WEBPACK_IMPORTED_MODULE_1__.SearchEmbeddableFactory})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_1__,"SearchInput")&&__webpack_require__.d(__webpack_exports__,"SearchInput",(function(){return _types__WEBPACK_IMPORTED_MODULE_1__.SearchInput}));var _search_embeddable_factory__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(29);__webpack_require__.d(__webpack_exports__,"SearchEmbeddableFactory",(function(){return _search_embeddable_factory__WEBPACK_IMPORTED_MODULE_2__.a}))},function(module,exports){module.exports=__kbnSharedDeps__.Angular},function(module,exports,__webpack_require__){"use strict";var memo,isOldIE=function(){return void 0===memo&&(memo=Boolean(window&&document&&document.all&&!window.atob)),memo},getTarget=function(){var memo={};return function(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}}(),stylesInDom=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDom.length;i++)if(stylesInDom[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3]};-1!==index?(stylesInDom[index].references++,stylesInDom[index].updater(obj)):stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1}),identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style"),attributes=options.attributes||{};if(void 0===attributes.nonce){var nonce=__webpack_require__.nc;nonce&&(attributes.nonce=nonce)}if(Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])})),"function"==typeof options.insert)options.insert(style);else{var target=getTarget(options.insert||"head");if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}return style}var textStore,replaceText=(textStore=[],function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")});function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet)style.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=style.childNodes;childNodes[index]&&style.removeChild(childNodes[index]),childNodes.length?style.insertBefore(cssNode,childNodes[index]):style.appendChild(cssNode)}}function applyToTag(style,options,obj){var css=obj.css,media=obj.media,sourceMap=obj.sourceMap;if(media?style.setAttribute("media",media):style.removeAttribute("media"),sourceMap&&btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),style.styleSheet)style.styleSheet.cssText=css;else{for(;style.firstChild;)style.removeChild(style.firstChild);style.appendChild(document.createTextNode(css))}}var singleton=null,singletonCounter=0;function addStyle(obj,options){var style,update,remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options)),update=applyToSingletonTag.bind(null,style,styleIndex,!1),remove=applyToSingletonTag.bind(null,style,styleIndex,!0)}else style=insertStyleElement(options),update=applyToTag.bind(null,style,options),remove=function(){!function(style){if(null===style.parentNode)return!1;style.parentNode.removeChild(style)}(style)};return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}module.exports=function(list,options){(options=options||{}).singleton||"boolean"==typeof options.singleton||(options.singleton=isOldIE());var lastIdentifiers=modulesToDom(list=list||[],options);return function(newList){if(newList=newList||[],"[object Array]"===Object.prototype.toString.call(newList)){for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDom[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDom[_index].references&&(stylesInDom[_index].updater(),stylesInDom.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map((function(item){var content=function(item,useSourceMap){var content=item[1]||"",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&"function"==typeof btoa){var sourceMapping=(sourceMap=cssMapping,base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),"/*# ".concat(data," */")),sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}var sourceMap,base64,data;return[content].join("\n")}(item,useSourceMap);return item[2]?"@media ".concat(item[2]," {").concat(content,"}"):content})).join("")},list.i=function(modules,mediaQuery,dedupe){"string"==typeof modules&&(modules=[[null,modules,""]]);var alreadyImportedModules={};if(dedupe)for(var i=0;i<this.length;i++){var id=this[i][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);dedupe&&alreadyImportedModules[item[0]]||(mediaQuery&&(item[2]?item[2]="".concat(mediaQuery," and ").concat(item[2]):item[2]=mediaQuery),list.push(item))}},list}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaLegacy/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SEARCH_EMBEDDABLE_TYPE}));const SEARCH_EMBEDDABLE_TYPE="search"},function(module,exports){module.exports=__kbnSharedDeps__.RxjsOperators},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnMonaco},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(44)},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)&&arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},function(module,exports){module.exports=__kbnSharedDeps__.Rxjs},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/savedObjects/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DocViewerError}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);const DocViewerErrorWrapper=({error:error})=>{throw error},DocViewerError=({error:error})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__.EuiErrorBoundary,{"data-test-subj":"docViewerError"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DocViewerErrorWrapper,{error:error}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isNestedFieldParent}));var lodash_fp__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31);function isNestedFieldParent(fieldName,indexPattern){return!indexPattern.fields.getByName(fieldName)&&!!indexPattern.fields.getAll().find(patternField=>{var _patternField$subType,_patternField$subType2,_patternField$subType3;return new RegExp(Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp)(fieldName)+"(\\.|$)").test(null!==(_patternField$subType=null===(_patternField$subType2=patternField.subType)||void 0===_patternField$subType2||null===(_patternField$subType3=_patternField$subType2.nested)||void 0===_patternField$subType3?void 0:_patternField$subType3.path)&&void 0!==_patternField$subType?_patternField$subType:"")})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return JsonCodeEditor}));__webpack_require__(35);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_kbn_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_kbn_monaco__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18),_elastic_eui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),_kibana_react_public__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(12);const codeEditorAriaLabel=_kbn_i18n__WEBPACK_IMPORTED_MODULE_2__.i18n.translate("discover.json.codeEditorAriaLabel",{defaultMessage:"Read only JSON view of an elasticsearch document"}),copyToClipboardLabel=_kbn_i18n__WEBPACK_IMPORTED_MODULE_2__.i18n.translate("discover.json.copyToClipboardLabel",{defaultMessage:"Copy to clipboard"}),JsonCodeEditor=({json:json,width:width,hasLineNumbers:hasLineNumbers})=>{const jsonValue=JSON.stringify(json,null,2),setEditorCalculatedHeight=Object(react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(editor=>{var _editor$getModel;const editorElement=editor.getDomNode();if(!editorElement)return;const lineHeight=editor.getOption(_kbn_monaco__WEBPACK_IMPORTED_MODULE_3__.monaco.editor.EditorOption.lineHeight),lineCount=(null===(_editor$getModel=editor.getModel())||void 0===_editor$getModel?void 0:_editor$getModel.getLineCount())||1,height=editor.getTopForLineNumber(lineCount+1)+lineHeight;editorElement.style.height=height+"px",editor.layout()},[]);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__.EuiFlexGroup,{className:"dscJsonCodeEditor",direction:"column",gutterSize:"s"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__.EuiFlexItem,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__.EuiSpacer,{size:"s"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"eui-textRight"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__.EuiCopy,{textToCopy:jsonValue},copy=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__.EuiButtonEmpty,{size:"xs",flush:"right",iconType:"copyClipboard",onClick:copy},copyToClipboardLabel)))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__.EuiFlexItem,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_kibana_react_public__WEBPACK_IMPORTED_MODULE_5__.CodeEditor,{languageId:_kbn_monaco__WEBPACK_IMPORTED_MODULE_3__.XJsonLang.ID,width:width,value:jsonValue,onChange:()=>{},editorDidMount:setEditorCalculatedHeight,"aria-label":codeEditorAriaLabel,options:{automaticLayout:!0,fontSize:12,lineNumbers:hasLineNumbers?"on":"off",minimap:{enabled:!1},overviewRulerBorder:!1,readOnly:!0,scrollbar:{alwaysConsumeMouseWheel:!1},scrollBeyondLastLine:!1,wordWrap:"on",wrappingIndent:"indent"}})))}},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SearchEmbeddableFactory}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_kibana_services__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_embeddable_public__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class SearchEmbeddableFactory{constructor(getStartServices,getInjector){this.getStartServices=getStartServices,_defineProperty(this,"type",_constants__WEBPACK_IMPORTED_MODULE_3__.a),_defineProperty(this,"$injector",void 0),_defineProperty(this,"getInjector",void 0),_defineProperty(this,"savedObjectMetaData",{name:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("discover.savedSearch.savedObjectName",{defaultMessage:"Saved search"}),type:"search",getIconForSavedObject:()=>"discoverApp"}),_defineProperty(this,"isEditable",async()=>(await this.getStartServices()).isEditable()),_defineProperty(this,"createFromSavedObject",async(savedObjectId,input,parent)=>{this.$injector||(this.$injector=await this.getInjector());const $injector=this.$injector,$compile=$injector.get("$compile"),$rootScope=$injector.get("$rootScope"),filterManager=Object(_kibana_services__WEBPACK_IMPORTED_MODULE_1__.f)().filterManager,url=await Object(_kibana_services__WEBPACK_IMPORTED_MODULE_1__.f)().getSavedSearchUrlById(savedObjectId),editUrl=Object(_kibana_services__WEBPACK_IMPORTED_MODULE_1__.f)().addBasePath("/app/discover"+url);try{const savedObject=await Object(_kibana_services__WEBPACK_IMPORTED_MODULE_1__.f)().getSavedSearchById(savedObjectId),indexPattern=savedObject.searchSource.getField("index"),{executeTriggerActions:executeTriggerActions}=await this.getStartServices(),{SearchEmbeddable:SearchEmbeddableClass}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(5)]).then(__webpack_require__.bind(null,65));return new SearchEmbeddableClass({savedSearch:savedObject,$rootScope:$rootScope,$compile:$compile,editUrl:editUrl,editPath:url,filterManager:filterManager,editable:Object(_kibana_services__WEBPACK_IMPORTED_MODULE_1__.f)().capabilities.discover.save,indexPatterns:indexPattern?[indexPattern]:[],services:Object(_kibana_services__WEBPACK_IMPORTED_MODULE_1__.f)()},input,executeTriggerActions,parent)}catch(e){return console.error(e),new _embeddable_public__WEBPACK_IMPORTED_MODULE_2__.ErrorEmbeddable(e,input,parent)}}),this.$injector=null,this.getInjector=getInjector}canCreateNew(){return!1}getDisplayName(){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("discover.embeddable.search.displayName",{defaultMessage:"search"})}async create(input){return new _embeddable_public__WEBPACK_IMPORTED_MODULE_2__.ErrorEmbeddable("Saved searches can only be created from a saved object",input)}}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("entry/core/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.LodashFp},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/home/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(34);__kbnBundles__.define("plugin/discover/public",__webpack_require__,49)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__.discover},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(36);case"v7light":return __webpack_require__(38);case"v8dark":return __webpack_require__(40);case"v8light":return __webpack_require__(42)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(37);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscJsonCodeEditor{width:100%}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(39);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscJsonCodeEditor{width:100%}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(41);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscJsonCodeEditor{width:100%}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(43);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscJsonCodeEditor{width:100%}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){"use strict";function _interopDefault(n){return n&&"object"==typeof n&&"default"in n?n.default:n}Object.defineProperty(exports,"__esModule",{value:!0});var resolvePathname=_interopDefault(__webpack_require__(45)),valueEqual=_interopDefault(__webpack_require__(46));__webpack_require__(47);var invariant=_interopDefault(__webpack_require__(48));function _extends(){return(_extends=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n}).apply(this,arguments)}function addLeadingSlash(n){return"/"===n.charAt(0)?n:"/"+n}function stripLeadingSlash(n){return"/"===n.charAt(0)?n.substr(1):n}function stripBasename(n,t){return function(n,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(n)}(n,t)?n.substr(t.length):n}function stripTrailingSlash(n){return"/"===n.charAt(n.length-1)?n.slice(0,-1):n}function parsePath(n){var t=n||"/",e="",a="",o=t.indexOf("#");-1!==o&&(a=t.substr(o),t=t.substr(0,o));var r=t.indexOf("?");return-1!==r&&(e=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===e?"":e,hash:"#"===a?"":a}}function createPath(n){var t=n.pathname,e=n.search,a=n.hash,o=t||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),a&&"#"!==a&&(o+="#"===a.charAt(0)?a:"#"+a),o}function createLocation(n,t,e,a){var o;"string"==typeof n?(o=parsePath(n)).state=t:(void 0===(o=_extends({},n)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(n){throw n instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):n}return e&&(o.key=e),a?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=resolvePathname(o.pathname,a.pathname)):o.pathname=a.pathname:o.pathname||(o.pathname="/"),o}function locationsAreEqual(n,t){return n.pathname===t.pathname&&n.search===t.search&&n.hash===t.hash&&n.key===t.key&&valueEqual(n.state,t.state)}function createTransitionManager(){var r=null,a=[];return{setPrompt:function(n){return r=n,function(){r===n&&(r=null)}},confirmTransitionTo:function(n,t,e,a){if(null!=r){var o="function"==typeof r?r(n,t):r;"string"==typeof o?"function"==typeof e?e(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(n){var t=!0;function e(){t&&n.apply(void 0,arguments)}return a.push(e),function(){t=!1,a=a.filter((function(n){return n!==e}))}},notifyListeners:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];a.forEach((function(n){return n.apply(void 0,t)}))}}}var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement);function getConfirmation(n,t){t(window.confirm(n))}function getHistoryState(){try{return window.history.state||{}}catch(n){return{}}}var HashPathCoders={hashbang:{encodePath:function(n){return"!"===n.charAt(0)?n:"!/"+stripLeadingSlash(n)},decodePath:function(n){return"!"===n.charAt(0)?n.substr(1):n}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function getHashPath(){var n=window.location.href,t=n.indexOf("#");return-1===t?"":n.substring(t+1)}function replaceHashPath(n){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,0<=t?t:0)+"#"+n)}function clamp(n,t,e){return Math.min(Math.max(n,t),e)}exports.createBrowserHistory=function(n){void 0===n&&(n={}),canUseDOM||invariant(!1);var c=window.history,s=function(){var n=window.navigator.userAgent;return(-1===n.indexOf("Android 2.")&&-1===n.indexOf("Android 4.0")||-1===n.indexOf("Mobile Safari")||-1!==n.indexOf("Chrome")||-1!==n.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),t=!(-1===window.navigator.userAgent.indexOf("Trident")),e=n,a=e.forceRefresh,h=void 0!==a&&a,o=e.getUserConfirmation,u=void 0===o?getConfirmation:o,r=e.keyLength,i=void 0===r?6:r,f=n.basename?stripTrailingSlash(addLeadingSlash(n.basename)):"";function l(n){var t=n||{},e=t.key,a=t.state,o=window.location,r=o.pathname+o.search+o.hash;return f&&(r=stripBasename(r,f)),createLocation(r,a,e)}function d(){return Math.random().toString(36).substr(2,i)}var v=createTransitionManager();function p(n){_extends(T,n),T.length=c.length,v.notifyListeners(T.location,T.action)}function g(n){(function(n){void 0===n.state&&navigator.userAgent.indexOf("CriOS")})(n)||w(l(n.state))}function P(){w(l(getHistoryState()))}var m=!1;function w(t){m?(m=!1,p()):v.confirmTransitionTo(t,"POP",u,(function(n){n?p({action:"POP",location:t}):function(n){var t=T.location,e=H.indexOf(t.key);-1===e&&(e=0);var a=H.indexOf(n.key);-1===a&&(a=0);var o=e-a;o&&(m=!0,L(o))}(t)}))}var y=l(getHistoryState()),H=[y.key];function x(n){return f+createPath(n)}function L(n){c.go(n)}var O=0;function E(n){1===(O+=n)&&1===n?(window.addEventListener("popstate",g),t&&window.addEventListener("hashchange",P)):0===O&&(window.removeEventListener("popstate",g),t&&window.removeEventListener("hashchange",P))}var S=!1,T={length:c.length,action:"POP",location:y,createHref:x,push:function(n,t){var i=createLocation(n,t,d(),T.location);v.confirmTransitionTo(i,"PUSH",u,(function(n){if(n){var t=x(i),e=i.key,a=i.state;if(s)if(c.pushState({key:e,state:a},null,t),h)window.location.href=t;else{var o=H.indexOf(T.location.key),r=H.slice(0,-1===o?0:o+1);r.push(i.key),H=r,p({action:"PUSH",location:i})}else window.location.href=t}}))},replace:function(n,t){var r="REPLACE",i=createLocation(n,t,d(),T.location);v.confirmTransitionTo(i,r,u,(function(n){if(n){var t=x(i),e=i.key,a=i.state;if(s)if(c.replaceState({key:e,state:a},null,t),h)window.location.replace(t);else{var o=H.indexOf(T.location.key);-1!==o&&(H[o]=i.key),p({action:r,location:i})}else window.location.replace(t)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(n){void 0===n&&(n=!1);var t=v.setPrompt(n);return S||(E(1),S=!0),function(){return S&&(S=!1,E(-1)),t()}},listen:function(n){var t=v.appendListener(n);return E(1),function(){E(-1),t()}}};return T},exports.createHashHistory=function(n){void 0===n&&(n={}),canUseDOM||invariant(!1);var t=window.history,e=(window.navigator.userAgent.indexOf("Firefox"),n),a=e.getUserConfirmation,i=void 0===a?getConfirmation:a,o=e.hashType,r=void 0===o?"slash":o,c=n.basename?stripTrailingSlash(addLeadingSlash(n.basename)):"",s=HashPathCoders[r],h=s.encodePath,u=s.decodePath;function f(){var n=u(getHashPath());return c&&(n=stripBasename(n,c)),createLocation(n)}var l=createTransitionManager();function d(n){_extends(E,n),E.length=t.length,l.notifyListeners(E.location,E.action)}var v=!1,p=null;function g(){var n=getHashPath(),t=h(n);if(n!==t)replaceHashPath(t);else{var e=f(),a=E.location;if(!v&&locationsAreEqual(a,e))return;if(p===createPath(e))return;p=null,function(t){v?(v=!1,d()):l.confirmTransitionTo(t,"POP",i,(function(n){n?d({action:"POP",location:t}):function(n){var t=E.location,e=y.lastIndexOf(createPath(t));-1===e&&(e=0);var a=y.lastIndexOf(createPath(n));-1===a&&(a=0);var o=e-a;o&&(v=!0,H(o))}(t)}))}(e)}}var P=getHashPath(),m=h(P);P!==m&&replaceHashPath(m);var w=f(),y=[createPath(w)];function H(n){t.go(n)}var x=0;function L(n){1===(x+=n)&&1===n?window.addEventListener("hashchange",g):0===x&&window.removeEventListener("hashchange",g)}var O=!1,E={length:t.length,action:"POP",location:w,createHref:function(n){return"#"+h(c+createPath(n))},push:function(n,t){var r=createLocation(n,void 0,void 0,E.location);l.confirmTransitionTo(r,"PUSH",i,(function(n){if(n){var t=createPath(r),e=h(c+t);if(getHashPath()!==e){p=t,function(n){window.location.hash=n}(e);var a=y.lastIndexOf(createPath(E.location)),o=y.slice(0,-1===a?0:a+1);o.push(t),y=o,d({action:"PUSH",location:r})}else d()}}))},replace:function(n,t){var o="REPLACE",r=createLocation(n,void 0,void 0,E.location);l.confirmTransitionTo(r,o,i,(function(n){if(n){var t=createPath(r),e=h(c+t);getHashPath()!==e&&(p=t,replaceHashPath(e));var a=y.indexOf(createPath(E.location));-1!==a&&(y[a]=t),d({action:o,location:r})}}))},go:H,goBack:function(){H(-1)},goForward:function(){H(1)},block:function(n){void 0===n&&(n=!1);var t=l.setPrompt(n);return O||(L(1),O=!0),function(){return O&&(O=!1,L(-1)),t()}},listen:function(n){var t=l.appendListener(n);return L(1),function(){L(-1),t()}}};return E},exports.createMemoryHistory=function(n){void 0===n&&(n={});var t=n,o=t.getUserConfirmation,e=t.initialEntries,a=void 0===e?["/"]:e,r=t.initialIndex,i=void 0===r?0:r,c=t.keyLength,s=void 0===c?6:c,h=createTransitionManager();function u(n){_extends(g,n),g.length=g.entries.length,h.notifyListeners(g.location,g.action)}function f(){return Math.random().toString(36).substr(2,s)}var l=clamp(i,0,a.length-1),d=a.map((function(n){return createLocation(n,void 0,"string"==typeof n?f():n.key||f())})),v=createPath;function p(n){var t=clamp(g.index+n,0,g.entries.length-1),e=g.entries[t];h.confirmTransitionTo(e,"POP",o,(function(n){n?u({action:"POP",location:e,index:t}):u()}))}var g={length:d.length,action:"POP",location:d[l],index:l,entries:d,createHref:v,push:function(n,t){var a=createLocation(n,t,f(),g.location);h.confirmTransitionTo(a,"PUSH",o,(function(n){if(n){var t=g.index+1,e=g.entries.slice(0);e.length>t?e.splice(t,e.length-t,a):e.push(a),u({action:"PUSH",location:a,index:t,entries:e})}}))},replace:function(n,t){var e="REPLACE",a=createLocation(n,t,f(),g.location);h.confirmTransitionTo(a,e,o,(function(n){n&&(g.entries[g.index]=a,u({action:e,location:a}))}))},go:p,goBack:function(){p(-1)},goForward:function(){p(1)},canGo:function(n){var t=g.index+n;return 0<=t&&t<g.entries.length},block:function(n){return void 0===n&&(n=!1),h.setPrompt(n)},listen:function(n){return h.appendListener(n)}};return g},exports.createLocation=createLocation,exports.locationsAreEqual=locationsAreEqual,exports.parsePath=parsePath,exports.createPath=createPath},function(module,exports,__webpack_require__){"use strict";function isAbsolute(pathname){return"/"===pathname.charAt(0)}function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1)list[i]=list[k];list.pop()}exports.__esModule=!0,exports.default=function(to){var from=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",toParts=to&&to.split("/")||[],fromParts=from&&from.split("/")||[],isToAbs=to&&isAbsolute(to),isFromAbs=from&&isAbsolute(from),mustEndAbs=isToAbs||isFromAbs;if(to&&isAbsolute(to)?fromParts=toParts:toParts.length&&(fromParts.pop(),fromParts=fromParts.concat(toParts)),!fromParts.length)return"/";var hasTrailingSlash=void 0;if(fromParts.length){var last=fromParts[fromParts.length-1];hasTrailingSlash="."===last||".."===last||""===last}else hasTrailingSlash=!1;for(var up=0,i=fromParts.length;i>=0;i--){var part=fromParts[i];"."===part?spliceOne(fromParts,i):".."===part?(spliceOne(fromParts,i),up++):up&&(spliceOne(fromParts,i),up--)}if(!mustEndAbs)for(;up--;up)fromParts.unshift("..");!mustEndAbs||""===fromParts[0]||fromParts[0]&&isAbsolute(fromParts[0])||fromParts.unshift("");var result=fromParts.join("/");return hasTrailingSlash&&"/"!==result.substr(-1)&&(result+="/"),result},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=function valueEqual(a,b){if(a===b)return!0;if(null==a||null==b)return!1;if(Array.isArray(a))return Array.isArray(b)&&a.length===b.length&&a.every((function(item,index){return valueEqual(item,b[index])}));var aType=void 0===a?"undefined":_typeof(a);if(aType!==(void 0===b?"undefined":_typeof(b)))return!1;if("object"===aType){var aValue=a.valueOf(),bValue=b.valueOf();if(aValue!==a||bValue!==b)return valueEqual(aValue,bValue);var aKeys=Object.keys(a),bKeys=Object.keys(b);return aKeys.length===bKeys.length&&aKeys.every((function(key){return valueEqual(a[key],b[key])}))}return!1},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";module.exports=function(condition,message){}},function(module,exports,__webpack_require__){"use strict";module.exports=function(condition,message){if(!condition)throw new Error("Invariant failed")}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DiscoverSetup",(function(){})),__webpack_require__.d(__webpack_exports__,"DiscoverStart",(function(){})),__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin})),__webpack_require__.d(__webpack_exports__,"SavedSearch",(function(){return types.SavedSearch})),__webpack_require__.d(__webpack_exports__,"SavedSearchLoader",(function(){return types.SavedSearchLoader})),__webpack_require__.d(__webpack_exports__,"createSavedSearchesLoader",(function(){return createSavedSearchesLoader})),__webpack_require__.d(__webpack_exports__,"ISearchEmbeddable",(function(){return embeddable.ISearchEmbeddable})),__webpack_require__.d(__webpack_exports__,"SEARCH_EMBEDDABLE_TYPE",(function(){return embeddable.SEARCH_EMBEDDABLE_TYPE})),__webpack_require__.d(__webpack_exports__,"SearchInput",(function(){return embeddable.SearchInput})),__webpack_require__.d(__webpack_exports__,"loadSharingDataHelpers",(function(){return loadSharingDataHelpers})),__webpack_require__.d(__webpack_exports__,"DISCOVER_APP_URL_GENERATOR",(function(){return url_generator.a})),__webpack_require__.d(__webpack_exports__,"DiscoverUrlGeneratorState",(function(){return url_generator.DiscoverUrlGeneratorState}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1),external_kbnSharedDeps_React_=__webpack_require__(0),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_Angular_=__webpack_require__(9),external_kbnSharedDeps_Angular_default=__webpack_require__.n(external_kbnSharedDeps_Angular_),external_kbnSharedDeps_Rxjs_=__webpack_require__(23),external_kbnSharedDeps_RxjsOperators_=__webpack_require__(15),public_=__webpack_require__(4),kibanaUtils_public_=__webpack_require__(5),core_public_=__webpack_require__(30),external_kbnSharedDeps_ReactDom_=__webpack_require__(21),doc_viewer_render_error=__webpack_require__(25);function convertDirectiveToRenderFn(directive,getInjector){return(domNode,props)=>{let rejected=!1;const cleanupFnPromise=async function(domNode,template,scopeProps,Controller,getInjector){const $injector=await getInjector(),rootScope=$injector.get("$rootScope"),$compile=$injector.get("$compile"),newScope=Object.assign(rootScope.$new(),scopeProps);"function"==typeof Controller&&(newScope.$ctrl=$injector.instantiate(Controller,{$scope:newScope}));const $target=external_kbnSharedDeps_Angular_default.a.element(domNode),$element=external_kbnSharedDeps_Angular_default.a.element(template);return newScope.$apply(()=>{const linkFn=$compile($element);$target.empty().append($element),linkFn(newScope)}),()=>{newScope.$destroy()}}(domNode,directive.template,props,directive.controller,getInjector);return cleanupFnPromise.catch(e=>{rejected=!0,Object(external_kbnSharedDeps_ReactDom_.render)(external_kbnSharedDeps_React_default.a.createElement(doc_viewer_render_error.a,{error:e}),domNode)}),()=>{rejected||cleanupFnPromise.then(cleanup=>cleanup())}}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class doc_views_registry_DocViewsRegistry{constructor(){_defineProperty(this,"docViews",[]),_defineProperty(this,"angularInjectorGetter",null),_defineProperty(this,"setAngularInjectorGetter",injectorGetter=>{this.angularInjectorGetter=injectorGetter})}addDocView(docViewRaw){const docView="function"==typeof docViewRaw?docViewRaw():docViewRaw;docView.directive&&(docView.render=convertDirectiveToRenderFn(docView.directive,()=>{if(!this.angularInjectorGetter)throw new Error("Angular was not initialized");return this.angularInjectorGetter()})),"function"!=typeof docView.shouldShow&&(docView.shouldShow=()=>!0),this.docViews.push(docView)}getDocViewsSorted(hit){return this.docViews.filter(docView=>docView.shouldShow(hit)).sort((a,b)=>Number(a.order)>Number(b.order)?1:-1)}}var classnames=__webpack_require__(22),classnames_default=__webpack_require__.n(classnames),external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(6),external_kbnSharedDeps_ElasticEui_=__webpack_require__(2);function DocViewTableRowBtnFilterAdd({onClick:onClick,disabled:disabled=!1}){const tooltipContent=disabled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.docViews.table.unindexedFieldsCanNotBeSearchedTooltip",defaultMessage:"Unindexed fields can not be searched"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.docViews.table.filterForValueButtonTooltip",defaultMessage:"Filter for value"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:tooltipContent},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docViews.table.filterForValueButtonAriaLabel",{defaultMessage:"Filter for value"}),className:"kbnDocViewer__actionButton","data-test-subj":"addInclusiveFilterButton",disabled:disabled,onClick:onClick,iconType:"plusInCircle",iconSize:"s"}))}function DocViewTableRowBtnFilterRemove({onClick:onClick,disabled:disabled=!1}){const tooltipContent=disabled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.docViews.table.unindexedFieldsCanNotBeSearchedTooltip",defaultMessage:"Unindexed fields can not be searched"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.docViews.table.filterOutValueButtonTooltip",defaultMessage:"Filter out value"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:tooltipContent},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docViews.table.filterOutValueButtonAriaLabel",{defaultMessage:"Filter out value"}),className:"kbnDocViewer__actionButton","data-test-subj":"removeInclusiveFilterButton",disabled:disabled,onClick:onClick,iconType:"minusInCircle",iconSize:"s"}))}function DocViewTableRowBtnToggleColumn({onClick:onClick,active:active,disabled:disabled=!1,fieldname:fieldname=""}){return disabled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docViews.table.toggleColumnInTableButtonAriaLabel",{defaultMessage:"Toggle column in table"}),className:"kbnDocViewer__actionButton","data-test-subj":"toggleColumnButton",disabled:!0,iconType:"listAdd",iconSize:"s"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.docViews.table.toggleColumnInTableButtonTooltip",defaultMessage:"Toggle column in table"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docViews.table.toggleColumnInTableButtonAriaLabel",{defaultMessage:"Toggle column in table"}),"aria-pressed":active,onClick:onClick,className:"kbnDocViewer__actionButton","data-test-subj":"toggleColumnButton_"+fieldname,iconType:"listAdd",iconSize:"s"}))}function DocViewTableRowBtnCollapse({onClick:onClick,isCollapsed:isCollapsed}){const label=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docViews.table.toggleFieldDetails",{defaultMessage:"Toggle field details"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:label},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{"aria-expanded":!isCollapsed,"aria-label":label,"data-test-subj":"collapseBtn",onClick:()=>onClick(),iconType:isCollapsed?"arrowRight":"arrowDown",iconSize:"s"}))}function DocViewTableRowBtnFilterExists({onClick:onClick,disabled:disabled=!1,scripted:scripted=!1}){const tooltipContent=disabled?scripted?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.docViews.table.unableToFilterForPresenceOfScriptedFieldsTooltip",defaultMessage:"Unable to filter for presence of scripted fields"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.docViews.table.unableToFilterForPresenceOfMetaFieldsTooltip",defaultMessage:"Unable to filter for presence of meta fields"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.docViews.table.filterForFieldPresentButtonTooltip",defaultMessage:"Filter for field present"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:tooltipContent},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docViews.table.filterForFieldPresentButtonAriaLabel",{defaultMessage:"Filter for field present"}),onClick:onClick,className:"kbnDocViewer__actionButton","data-test-subj":"addExistsFilterButton",disabled:disabled,iconType:"filter",iconSize:"s"}))}function DocViewTableRowIconUnderscore(){const ariaLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docViews.table.fieldNamesBeginningWithUnderscoreUnsupportedAriaLabel",{defaultMessage:"Warning"}),tooltipContent=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docViews.table.fieldNamesBeginningWithUnderscoreUnsupportedTooltip",{defaultMessage:"Field names beginning with {underscoreSign} are not supported",values:{underscoreSign:"_"}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIconTip,{"aria-label":ariaLabel,content:tooltipContent,color:"warning",iconProps:{className:"kbnDocViewer__warning","data-test-subj":"underscoreWarning"},size:"s",type:"alert"})}var kibanaReact_public_=__webpack_require__(12);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function FieldName({fieldName:fieldName,fieldMapping:fieldMapping,fieldType:fieldType,fieldIconProps:fieldIconProps,className:className,scripted:scripted=!1}){const typeName=function(type){switch(type){case"boolean":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.booleanAriaLabel",{defaultMessage:"Boolean field"});case"conflict":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.conflictFieldAriaLabel",{defaultMessage:"Conflicting field"});case"date":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.dateFieldAriaLabel",{defaultMessage:"Date field"});case"geo_point":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.geoPointFieldAriaLabel",{defaultMessage:"Geo point field"});case"geo_shape":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.geoShapeFieldAriaLabel",{defaultMessage:"Geo shape field"});case"ip":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.ipAddressFieldAriaLabel",{defaultMessage:"IP address field"});case"murmur3":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.murmur3FieldAriaLabel",{defaultMessage:"Murmur3 field"});case"number":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.numberFieldAriaLabel",{defaultMessage:"Number field"});case"source":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.sourceFieldAriaLabel",{defaultMessage:"Source field"});case"string":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.stringFieldAriaLabel",{defaultMessage:"String field"});case"nested":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.nestedFieldAriaLabel",{defaultMessage:"Nested field"});default:return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.unknownFieldAriaLabel",{defaultMessage:"Unknown field"})}}(fieldType),displayName=fieldMapping&&fieldMapping.displayName?fieldMapping.displayName:fieldName,tooltip=displayName!==fieldName?`${fieldName} (${displayName})`:fieldName;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{className:className,alignItems:"center",gutterSize:"s",responsive:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_.FieldIcon,_extends({type:fieldType,label:typeName,scripted:scripted},fieldIconProps))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{className:"eui-textTruncate"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{position:"top",content:tooltip,delay:"long",anchorClassName:"eui-textTruncate"},external_kbnSharedDeps_React_default.a.createElement("span",null,displayName))))}function DocViewTableRow({field:field,fieldMapping:fieldMapping,fieldType:fieldType,displayUnderscoreWarning:displayUnderscoreWarning,isCollapsible:isCollapsible,isCollapsed:isCollapsed,isColumnActive:isColumnActive,onFilter:onFilter,onToggleCollapse:onToggleCollapse,onToggleColumn:onToggleColumn,value:value,valueRaw:valueRaw}){const valueClassName=classnames_default()({kbnDocViewer__value:!0,"truncate-by-height":isCollapsible&&isCollapsed}),key=field||(null==fieldMapping?void 0:fieldMapping.displayName);return external_kbnSharedDeps_React_default.a.createElement("tr",{key:key,"data-test-subj":"tableDocViewRow-"+key},"function"==typeof onFilter&&external_kbnSharedDeps_React_default.a.createElement("td",{className:"kbnDocViewer__buttons"},external_kbnSharedDeps_React_default.a.createElement(DocViewTableRowBtnFilterAdd,{disabled:!fieldMapping||!fieldMapping.filterable,onClick:()=>onFilter(fieldMapping,valueRaw,"+")}),external_kbnSharedDeps_React_default.a.createElement(DocViewTableRowBtnFilterRemove,{disabled:!fieldMapping||!fieldMapping.filterable,onClick:()=>onFilter(fieldMapping,valueRaw,"-")}),"function"==typeof onToggleColumn&&external_kbnSharedDeps_React_default.a.createElement(DocViewTableRowBtnToggleColumn,{active:isColumnActive,onClick:onToggleColumn,fieldname:String(key)}),external_kbnSharedDeps_React_default.a.createElement(DocViewTableRowBtnFilterExists,{disabled:!fieldMapping||!fieldMapping.filterable,onClick:()=>onFilter("_exists_",field,"+"),scripted:fieldMapping&&fieldMapping.scripted})),external_kbnSharedDeps_React_default.a.createElement("td",{className:"kbnDocViewer__field"},field?external_kbnSharedDeps_React_default.a.createElement(FieldName,{fieldName:field,fieldType:fieldType,fieldMapping:fieldMapping,scripted:Boolean(null==fieldMapping?void 0:fieldMapping.scripted)}):external_kbnSharedDeps_React_default.a.createElement("span",null,"")),external_kbnSharedDeps_React_default.a.createElement("td",null,isCollapsible&&external_kbnSharedDeps_React_default.a.createElement(DocViewTableRowBtnCollapse,{onClick:onToggleCollapse,isCollapsed:isCollapsed}),displayUnderscoreWarning&&external_kbnSharedDeps_React_default.a.createElement(DocViewTableRowIconUnderscore,null),field?null:external_kbnSharedDeps_React_default.a.createElement("div",{className:valueClassName},key,":"),external_kbnSharedDeps_React_default.a.createElement("div",{className:valueClassName,"data-test-subj":`tableDocViewRow-${key}-value`,dangerouslySetInnerHTML:{__html:value}})))}var nested_fields=__webpack_require__(26);function DocViewTable({hit:hit,indexPattern:indexPattern,filter:filter,columns:columns,onAddColumn:onAddColumn,onRemoveColumn:onRemoveColumn}){const[fieldRowOpen,setFieldRowOpen]=Object(external_kbnSharedDeps_React_.useState)({}),[multiFields,setMultiFields]=Object(external_kbnSharedDeps_React_.useState)({}),[fieldsWithParents,setFieldsWithParents]=Object(external_kbnSharedDeps_React_.useState)([]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{if(!indexPattern)return;const mapping=indexPattern.fields.getByName,flattened=indexPattern.flattenHit(hit),map={},arr=[];Object.keys(flattened).forEach(key=>{var _field$spec,_field$spec$subType,_field$spec$subType$m;const field=mapping(key);if(field&&null!==(_field$spec=field.spec)&&void 0!==_field$spec&&null!==(_field$spec$subType=_field$spec.subType)&&void 0!==_field$spec$subType&&null!==(_field$spec$subType$m=_field$spec$subType.multi)&&void 0!==_field$spec$subType$m&&_field$spec$subType$m.parent){const parent=field.spec.subType.multi.parent;map[parent]||(map[parent]=[]);const value=map[parent];value.push(key),map[parent]=value,arr.push(key)}}),setMultiFields(map),setFieldsWithParents(arr)},[indexPattern,hit]);const toggleColumn=Object(external_kbnSharedDeps_React_.useCallback)(field=>{onRemoveColumn&&onAddColumn&&columns&&(columns.includes(field)?onRemoveColumn(field):onAddColumn(field))},[onRemoveColumn,onAddColumn,columns]);if(!indexPattern)return null;const mapping=indexPattern.fields.getByName,flattened=indexPattern.flattenHit(hit),formatted=indexPattern.formatHit(hit,"html");function toggleValueCollapse(field){fieldRowOpen[field]=!fieldRowOpen[field],setFieldRowOpen({...fieldRowOpen})}return external_kbnSharedDeps_React_default.a.createElement("table",{className:"table table-condensed kbnDocViewerTable"},external_kbnSharedDeps_React_default.a.createElement("tbody",null,Object.keys(flattened).filter(field=>!fieldsWithParents.includes(field)).sort((fieldA,fieldB)=>{const mappingA=mapping(fieldA),mappingB=mapping(fieldB),nameA=mappingA&&mappingA.displayName?mappingA.displayName:fieldA,nameB=mappingB&&mappingB.displayName?mappingB.displayName:fieldB;return nameA.localeCompare(nameB)}).map(field=>{var _indexPattern$fields$;const valueRaw=flattened[field],value=String(formatted[field]).replace(/^<span ng-non-bindable>/,"").replace(/<\/span>$/,"");const isCollapsible=value.length>350,isCollapsed=isCollapsible&&!fieldRowOpen[field],displayUnderscoreWarning=!mapping(field)&&0===field.indexOf("_"),fieldType=Object(nested_fields.a)(field,indexPattern)?"nested":null===(_indexPattern$fields$=indexPattern.fields.getByName(field))||void 0===_indexPattern$fields$?void 0:_indexPattern$fields$.type;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,{key:field},external_kbnSharedDeps_React_default.a.createElement(DocViewTableRow,{field:field,fieldMapping:mapping(field),fieldType:String(fieldType),displayUnderscoreWarning:displayUnderscoreWarning,isCollapsed:isCollapsed,isCollapsible:isCollapsible,isColumnActive:!(null==columns||!columns.includes(field)),onFilter:filter,onToggleCollapse:()=>toggleValueCollapse(field),onToggleColumn:()=>toggleColumn(field),value:value,valueRaw:valueRaw}),multiFields[field]?external_kbnSharedDeps_React_default.a.createElement("tr",{key:"tableDocViewRow-multifieldsTitle-"+field,className:"kbnDocViewer__multifield_row","data-test-subj":"tableDocViewRow-multifieldsTitle-"+field},external_kbnSharedDeps_React_default.a.createElement("td",{className:"kbnDocViewer__field"},""),external_kbnSharedDeps_React_default.a.createElement("td",{className:"kbnDocViewer__multifield_title",colSpan:2},external_kbnSharedDeps_React_default.a.createElement("b",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.discoverField.multiFields",{defaultMessage:"Multi fields"})))):null,multiFields[field]?multiFields[field].map(multiField=>external_kbnSharedDeps_React_default.a.createElement(DocViewTableRow,{key:multiField,fieldMapping:mapping(multiField),fieldType:String(fieldType),displayUnderscoreWarning:displayUnderscoreWarning,isCollapsed:isCollapsed,isCollapsible:isCollapsible,isColumnActive:Array.isArray(columns)&&columns.includes(multiField),onFilter:filter,onToggleCollapse:()=>{toggleValueCollapse(multiField)},onToggleColumn:()=>toggleColumn(multiField),value:value,valueRaw:valueRaw})):null)})))}var json_code_editor=__webpack_require__(27),kibana_services=__webpack_require__(3),savedObjects_public_=__webpack_require__(24);function _saved_search_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function createSavedSearchesLoader({savedObjectsClient:savedObjectsClient,savedObjects:savedObjects}){const SavedSearchClass=function(savedObjects){class SavedSearch extends savedObjects.SavedObjectClass{constructor(id){super({id:id,type:"search",mapping:{title:"text",description:"text",hideChart:"boolean",hits:"integer",columns:"keyword",grid:"object",sort:"keyword",version:"integer"},searchSource:!0,defaults:{title:"",description:"",columns:[],hits:0,sort:[],version:1}}),_saved_search_defineProperty(this,"id",void 0),_saved_search_defineProperty(this,"showInRecentlyAccessed",void 0),this.showInRecentlyAccessed=!0,this.id=id,this.getFullPath=()=>"/app/discover#/view/"+String(id)}}return _saved_search_defineProperty(SavedSearch,"type","search"),_saved_search_defineProperty(SavedSearch,"mapping",{title:"text",description:"text",hideChart:"boolean",hits:"integer",columns:"keyword",grid:"object",sort:"keyword",version:"integer"}),_saved_search_defineProperty(SavedSearch,"fieldOrder",["title","description"]),_saved_search_defineProperty(SavedSearch,"searchSource",!0),SavedSearch}(savedObjects),savedSearchLoader=new savedObjects_public_.SavedObjectLoader(SavedSearchClass,savedObjectsClient);return savedSearchLoader.loaderProperties={name:"searches",noun:"Saved Search",nouns:"saved searches"},savedSearchLoader.urlFor=id=>id?"#/view/"+encodeURIComponent(id):"#/",savedSearchLoader}var types=__webpack_require__(16),home_public_=__webpack_require__(32);var url_generator=__webpack_require__(7),embeddable=__webpack_require__(8);function plugin_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class plugin_DiscoverPlugin{constructor(initializerContext){this.initializerContext=initializerContext,plugin_defineProperty(this,"appStateUpdater",new external_kbnSharedDeps_Rxjs_.BehaviorSubject(()=>({}))),plugin_defineProperty(this,"docViewsRegistry",null),plugin_defineProperty(this,"embeddableInjector",null),plugin_defineProperty(this,"stopUrlTracking",void 0),plugin_defineProperty(this,"servicesInitialized",!1),plugin_defineProperty(this,"innerAngularInitialized",!1),plugin_defineProperty(this,"urlGenerator",void 0),plugin_defineProperty(this,"initializeInnerAngular",void 0),plugin_defineProperty(this,"initializeServices",void 0),plugin_defineProperty(this,"getEmbeddableInjector",async()=>{if(!this.embeddableInjector){if(!this.initializeServices)throw Error("Discover plugin getEmbeddableInjector:  initializeServices is undefined");const{core:core,plugins:plugins}=await this.initializeServices();Object(kibana_services.f)().kibanaLegacy.loadFontAwesome();const{getInnerAngularModuleEmbeddable:getInnerAngularModuleEmbeddable}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(2)]).then(__webpack_require__.bind(null,241));getInnerAngularModuleEmbeddable("app/discoverEmbeddable",core,plugins);const mountpoint=document.createElement("div");this.embeddableInjector=external_kbnSharedDeps_Angular_default.a.bootstrap(mountpoint,["app/discoverEmbeddable"])}return this.embeddableInjector})}setup(core,plugins){const baseUrl=core.http.basePath.prepend("/app/discover");plugins.share&&(this.urlGenerator=plugins.share.urlGenerators.registerUrlGenerator(new url_generator.b({appBasePath:baseUrl,useHash:core.uiSettings.get("state:storeInSessionStorage")}))),this.docViewsRegistry=new doc_views_registry_DocViewsRegistry,Object(kibana_services.k)(this.docViewsRegistry),this.docViewsRegistry.addDocView({title:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docViews.table.tableTitle",{defaultMessage:"Table"}),order:10,component:DocViewTable}),this.docViewsRegistry.addDocView({title:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docViews.json.jsonTitle",{defaultMessage:"JSON"}),order:20,component:({hit:hit})=>external_kbnSharedDeps_React_default.a.createElement(json_code_editor.a,{json:hit,hasLineNumbers:!0})});const{appMounted:appMounted,appUnMounted:appUnMounted,stop:stopUrlTracker,setActiveUrl:setTrackedUrl,restorePreviousUrl:restorePreviousUrl}=Object(kibanaUtils_public_.createKbnUrlTracker)({getHistory:kibana_services.e,baseUrl:baseUrl,defaultSubUrl:"#/",storageKey:`lastUrl:${core.http.basePath.get()}:discover`,navLinkUpdater$:this.appStateUpdater,toastNotifications:core.notifications.toasts,stateParams:[{kbnUrlKey:"_g",stateUpdate$:plugins.data.query.state$.pipe(Object(external_kbnSharedDeps_RxjsOperators_.filter)(({changes:changes})=>!!(changes.globalFilters||changes.time||changes.refreshInterval)),Object(external_kbnSharedDeps_RxjsOperators_.map)(({state:state})=>{var _state$filters;return{...state,filters:null===(_state$filters=state.filters)||void 0===_state$filters?void 0:_state$filters.filter(public_.esFilters.isFilterPinned)}}))}],onBeforeNavLinkSaved:newNavLink=>(newNavLink.includes(url_generator.d)&&(newNavLink=Object(kibanaUtils_public_.replaceUrlHashQuery)(newNavLink,query=>(delete query[url_generator.d],query))),newNavLink)});return Object(kibana_services.p)({setTrackedUrl:setTrackedUrl,restorePreviousUrl:restorePreviousUrl}),this.stopUrlTracking=()=>{stopUrlTracker()},this.docViewsRegistry.setAngularInjectorGetter(this.getEmbeddableInjector),core.application.register({id:"discover",title:"Discover",updater$:this.appStateUpdater.asObservable(),order:1e3,euiIconType:"logoKibana",defaultPath:"#/",category:core_public_.DEFAULT_APP_CATEGORIES.kibana,mount:async params=>{if(!this.initializeServices)throw Error("Discover plugin method initializeServices is undefined");if(!this.initializeInnerAngular)throw Error("Discover plugin method initializeInnerAngular is undefined");Object(kibana_services.m)(params.history),Object(kibana_services.l)(params.setHeaderActionMenu),Object(kibana_services.r)(),appMounted();const{plugins:{data:dataStart}}=await this.initializeServices();await this.initializeInnerAngular(),await dataStart.indexPatterns.clearCache();const{renderApp:renderApp}=await __webpack_require__.e(6).then(__webpack_require__.bind(null,240));params.element.classList.add("dscAppWrapper");const unmount=await renderApp("app/discover",params.element);return()=>{params.element.classList.remove("dscAppWrapper"),unmount(),appUnMounted()}}}),plugins.urlForwarding.forwardApp("doc","discover",path=>"#"+path),plugins.urlForwarding.forwardApp("context","discover",path=>{const urlParts=path.split("/");if(urlParts[4]){return"#"+[...urlParts.slice(0,3),...urlParts.slice(4)].join("/")}return"#"+path}),plugins.urlForwarding.forwardApp("discover","discover",path=>{const[,id,tail]=/discover\/([^\?]+)(.*)/.exec(path)||[];return id?`#/view/${id}${tail||""}`:"#"+(path.replace("/discover","")||"/")}),plugins.home&&plugins.home.featureCatalogue.register({id:"discover",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.discoverTitle",{defaultMessage:"Discover"}),subtitle:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.discoverSubtitle",{defaultMessage:"Search and find insights."}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.discoverDescription",{defaultMessage:"Interactively explore your data by querying and filtering raw documents."}),icon:"discoverApp",path:"/app/discover#/",showOnHomePage:!1,category:home_public_.FeatureCatalogueCategory.DATA,solutionId:"kibana",order:200}),this.registerEmbeddable(core,plugins),{docViews:{addDocView:this.docViewsRegistry.addDocView.bind(this.docViewsRegistry)}}}start(core,plugins){return this.initializeInnerAngular=async()=>{if(this.innerAngularInitialized)return;const{getInnerAngularModule:getInnerAngularModule}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(2)]).then(__webpack_require__.bind(null,241)),module=getInnerAngularModule("app/discover",core,plugins,this.initializerContext);Object(kibana_services.j)(module),this.innerAngularInitialized=!0},Object(kibana_services.o)(plugins.uiActions),this.initializeServices=async()=>{if(this.servicesInitialized)return{core:core,plugins:plugins};const services=await async function(core,plugins,context,getEmbeddableInjector){const savedObjectService=createSavedSearchesLoader({savedObjectsClient:core.savedObjects.client,savedObjects:plugins.savedObjects}),{usageCollection:usageCollection}=plugins;return{addBasePath:core.http.basePath.prepend,capabilities:core.application.capabilities,chrome:core.chrome,core:core,data:plugins.data,docLinks:core.docLinks,theme:plugins.charts.theme,filterManager:plugins.data.query.filterManager,getEmbeddableInjector:getEmbeddableInjector,getSavedSearchById:async id=>savedObjectService.get(id),getSavedSearchUrlById:async id=>savedObjectService.urlFor(id),history:kibana_services.d,indexPatterns:plugins.data.indexPatterns,inspector:plugins.inspector,metadata:{branch:context.env.packageInfo.branch},navigation:plugins.navigation,share:plugins.share,kibanaLegacy:plugins.kibanaLegacy,urlForwarding:plugins.urlForwarding,timefilter:plugins.data.query.timefilter.timefilter,toastNotifications:core.notifications.toasts,uiSettings:core.uiSettings,trackUiMetric:null==usageCollection?void 0:usageCollection.reportUiCounter.bind(usageCollection,"discover"),indexPatternFieldEditor:plugins.indexPatternFieldEditor}}(core,plugins,this.initializerContext,this.getEmbeddableInjector);return Object(kibana_services.n)(services),this.servicesInitialized=!0,{core:core,plugins:plugins}},{urlGenerator:this.urlGenerator,savedSearchLoader:createSavedSearchesLoader({savedObjectsClient:core.savedObjects.client,savedObjects:plugins.savedObjects})}}stop(){this.stopUrlTracking&&this.stopUrlTracking()}registerEmbeddable(core,plugins){if(!this.getEmbeddableInjector)throw Error("Discover plugin method getEmbeddableInjector is undefined");const factory=new embeddable.SearchEmbeddableFactory(async()=>{const[coreStart,deps]=await core.getStartServices();return{executeTriggerActions:deps.uiActions.executeTriggerActions,isEditable:()=>coreStart.application.capabilities.discover.save}},this.getEmbeddableInjector);plugins.embeddable.registerEmbeddableFactory(factory.type,factory)}}async function loadSharingDataHelpers(){return await __webpack_require__.e(4).then(__webpack_require__.bind(null,100))}function public_plugin(initializerContext){return new plugin_DiscoverPlugin(initializerContext)}},function(module,exports){module.exports=__kbnSharedDeps__.Moment},function(module,exports){module.exports=__kbnSharedDeps__.Jquery},function(module,exports){module.exports=__kbnSharedDeps__.RisonNode},function(module,exports){module.exports=__kbnSharedDeps__.Theme.euiLightVars},function(module,exports){module.exports=__kbnSharedDeps__.Theme.euiDarkVars},function(module,exports){module.exports=__kbnSharedDeps__.KbnAnalytics},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/inspector/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nAngular},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.TsLib},function(module,exports){module.exports=__kbnSharedDeps__.MomentTimezone},function(module,exports){module.exports=__kbnSharedDeps__.ElasticCharts},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))}]);