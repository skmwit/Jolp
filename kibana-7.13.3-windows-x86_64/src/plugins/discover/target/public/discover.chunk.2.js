(window.discover_bundle_jsonpfunction=window.discover_bundle_jsonpfunction||[]).push([[2],Array(74).concat([function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(75);case"v7light":return __webpack_require__(77);case"v8dark":return __webpack_require__(79);case"v8light":return __webpack_require__(81)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(76);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscHistogram__header--partial{font-weight:400;min-width:192px}.cxtSizePicker{text-align:center;width:80px}.cxtSizePicker::-webkit-outer-spin-button,.cxtSizePicker::-webkit-inner-spin-button{-webkit-appearance:none;appearance:none;margin:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(78);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscHistogram__header--partial{font-weight:400;min-width:192px}.cxtSizePicker{text-align:center;width:80px}.cxtSizePicker::-webkit-outer-spin-button,.cxtSizePicker::-webkit-inner-spin-button{-webkit-appearance:none;appearance:none;margin:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(80);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscHistogram__header--partial{font-weight:400;min-width:192px}.cxtSizePicker{text-align:center;width:80px}.cxtSizePicker::-webkit-outer-spin-button,.cxtSizePicker::-webkit-inner-spin-button{-webkit-appearance:none;appearance:none;margin:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(82);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscHistogram__header--partial{font-weight:400;min-width:192px}.cxtSizePicker{text-align:center;width:80px}.cxtSizePicker::-webkit-outer-spin-button,.cxtSizePicker::-webkit-inner-spin-button{-webkit-appearance:none;appearance:none;margin:0}\n",""]),module.exports=exports},,,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return addColumn})),__webpack_require__.d(__webpack_exports__,"d",(function(){return removeColumn})),__webpack_require__.d(__webpack_exports__,"c",(function(){return moveColumn})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getStateColumnActions}));var _helpers_popularize_field__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(72),_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(66);function buildColumns(columns,useNewFieldsApi=!1){return columns.length>1&&-1!==columns.indexOf("_source")?columns.filter(col=>"_source"!==col):0!==columns.length?columns:useNewFieldsApi?[]:["_source"]}function addColumn(columns,columnName,useNewFieldsApi){return columns.includes(columnName)?columns:buildColumns([...columns,columnName],useNewFieldsApi)}function removeColumn(columns,columnName,useNewFieldsApi){return columns.includes(columnName)?buildColumns(columns.filter(col=>col!==columnName),useNewFieldsApi):columns}function moveColumn(columns,columnName,newIndex){if(newIndex<0||newIndex>=columns.length||!columns.includes(columnName))return columns;const modifiedColumns=[...columns];return modifiedColumns.splice(modifiedColumns.indexOf(columnName),1),modifiedColumns.splice(newIndex,0,columnName),modifiedColumns}function getStateColumnActions({capabilities:capabilities,config:config,indexPattern:indexPattern,indexPatterns:indexPatterns,useNewFieldsApi:useNewFieldsApi,setAppState:setAppState,state:state}){return{onAddColumn:function(columnName){var _state$sort;capabilities.discover.save&&Object(_helpers_popularize_field__WEBPACK_IMPORTED_MODULE_0__.a)(indexPattern,columnName,indexPatterns);const columns=addColumn(state.columns||[],columnName,useNewFieldsApi),defaultOrder=config.get(_common__WEBPACK_IMPORTED_MODULE_1__.m),sort="_score"!==columnName||null!==(_state$sort=state.sort)&&void 0!==_state$sort&&_state$sort.length?state.sort:[["_score",defaultOrder]];setAppState({columns:columns,sort:sort})},onRemoveColumn:function(columnName){capabilities.discover.save&&Object(_helpers_popularize_field__WEBPACK_IMPORTED_MODULE_0__.a)(indexPattern,columnName,indexPatterns);const columns=removeColumn(state.columns||[],columnName,useNewFieldsApi),sort=state.sort&&state.sort.length?state.sort.filter(subArr=>subArr[0]!==columnName):[];setAppState({columns:columns,sort:sort})},onMoveColumn:function(columnName,newIndex){const columns=moveColumn(state.columns||[],columnName,newIndex);setAppState({columns:columns})},onSetColumns:function(columns){const actualColumns=indexPattern.timeFieldName&&indexPattern.timeFieldName===columns[0]?columns.slice(1):columns;setAppState({columns:actualColumns})}}}},,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getSharingData",(function(){return getSharingData})),__webpack_require__.d(__webpack_exports__,"showPublicUrlSwitch",(function(){return showPublicUrlSwitch}));var _common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(66),_angular_doc_table__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(68);async function getSharingData(currentSearchSource,state,config){const searchSource=currentSearchSource.createCopy(),index=searchSource.getField("index");searchSource.setField("sort",Object(_angular_doc_table__WEBPACK_IMPORTED_MODULE_1__.c)(state.sort,index,config.get(_common__WEBPACK_IMPORTED_MODULE_0__.m))),searchSource.removeField("highlight"),searchSource.removeField("highlightAll"),searchSource.removeField("aggs"),searchSource.removeField("size");let columns=state.columns||[];if(columns&&columns.length>0){let timeFieldName;!config.get(_common__WEBPACK_IMPORTED_MODULE_0__.e)&&index&&index.timeFieldName&&(timeFieldName=index.timeFieldName),timeFieldName&&!columns.includes(timeFieldName)&&(columns=[timeFieldName,...columns])}return{searchSource:searchSource.getSerializedFields(!0),columns:columns}}const showPublicUrlSwitch=anonymousUserCapabilities=>{if(!anonymousUserCapabilities.discover)return!1;return!!anonymousUserCapabilities.discover.show}},,,,,,,function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(108),decodeComponent=__webpack_require__(109),splitOnFirst=__webpack_require__(110);function validateArrayFormatSeparator(value){if("string"!=typeof value||1!==value.length)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(value,options){return options.encode?options.strict?strictUriEncode(value):encodeURIComponent(value):value}function decode(value,options){return options.decode?decodeComponent(value):value}function removeHash(input){const hashStart=input.indexOf("#");return-1!==hashStart&&(input=input.slice(0,hashStart)),input}function extract(input){const queryStart=(input=removeHash(input)).indexOf("?");return-1===queryStart?"":input.slice(queryStart+1)}function parseValue(value,options){return options.parseNumbers&&!Number.isNaN(Number(value))&&"string"==typeof value&&""!==value.trim()?value=Number(value):!options.parseBooleans||null===value||"true"!==value.toLowerCase()&&"false"!==value.toLowerCase()||(value="true"===value.toLowerCase()),value}function parse(input,options){validateArrayFormatSeparator((options=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},options)).arrayFormatSeparator);const formatter=function(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key),key=key.replace(/\[\d*\]$/,""),result?(void 0===accumulator[key]&&(accumulator[key]={}),accumulator[key][result[1]]=value):accumulator[key]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key),key=key.replace(/\[\]$/,""),result?void 0!==accumulator[key]?accumulator[key]=[].concat(accumulator[key],value):accumulator[key]=[value]:accumulator[key]=value};case"comma":case"separator":return(key,value,accumulator)=>{const newValue="string"==typeof value&&value.split("").indexOf(options.arrayFormatSeparator)>-1?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):null===value?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{void 0!==accumulator[key]?accumulator[key]=[].concat(accumulator[key],value):accumulator[key]=value}}}(options),ret=Object.create(null);if("string"!=typeof input)return ret;if(!(input=input.trim().replace(/^[?#&]/,"")))return ret;for(const param of input.split("&")){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=void 0===value?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options),formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if("object"==typeof value&&null!==value)for(const k of Object.keys(value))value[k]=parseValue(value[k],options);else ret[key]=parseValue(value,options)}return!1===options.sort?ret:(!0===options.sort?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];return Boolean(value)&&"object"==typeof value&&!Array.isArray(value)?result[key]=function keysSorter(input){return Array.isArray(input)?input.sort():"object"==typeof input?keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key]):input}(value):result[key]=value,result},Object.create(null))}exports.extract=extract,exports.parse=parse,exports.stringify=(object,options)=>{if(!object)return"";validateArrayFormatSeparator((options=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},options)).arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&null==object[key]||options.skipEmptyString&&""===object[key],formatter=function(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;return void 0===value||options.skipNull&&null===value||options.skipEmptyString&&""===value?result:null===value?[...result,[encode(key,options),"[",index,"]"].join("")]:[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>void 0===value||options.skipNull&&null===value||options.skipEmptyString&&""===value?result:null===value?[...result,[encode(key,options),"[]"].join("")]:[...result,[encode(key,options),"[]=",encode(value,options)].join("")];case"comma":case"separator":return key=>(result,value)=>null==value||0===value.length?result:0===result.length?[[encode(key,options),"=",encode(value,options)].join("")]:[[result,encode(value,options)].join(options.arrayFormatSeparator)];default:return key=>(result,value)=>void 0===value||options.skipNull&&null===value||options.skipEmptyString&&""===value?result:null===value?[...result,encode(key,options)]:[...result,[encode(key,options),"=",encode(value,options)].join("")]}}(options),objectCopy={};for(const key of Object.keys(object))shouldFilter(key)||(objectCopy[key]=object[key]);const keys=Object.keys(objectCopy);return!1!==options.sort&&keys.sort(options.sort),keys.map(key=>{const value=object[key];return void 0===value?"":null===value?encode(key,options):Array.isArray(value)?value.reduce(formatter(key),[]).join("&"):encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")},exports.parseUrl=(input,options)=>{options=Object.assign({decode:!0},options);const[url,hash]=splitOnFirst(input,"#");return Object.assign({url:url.split("?")[0]||"",query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})},exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:!0,strict:!0},options);const url=removeHash(input.url).split("?")[0]||"",queryFromUrl=exports.extract(input.url),parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:!1}),query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);queryString&&(queryString="?"+queryString);let hash=function(url){let hash="";const hashStart=url.indexOf("#");return-1!==hashStart&&(hash=url.slice(hashStart)),hash}(input.url);return input.fragmentIdentifier&&(hash="#"+encode(input.fragmentIdentifier,options)),`${url}${queryString}${hash}`}},function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>"%"+x.charCodeAt(0).toString(16).toUpperCase())},function(module,exports,__webpack_require__){"use strict";var singleMatcher=new RegExp("%[a-f0-9]{2}","gi"),multiMatcher=new RegExp("(%[a-f0-9]{2})+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(1===components.length)return components;split=split||1;var left=components.slice(0,split),right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){for(var tokens=input.match(singleMatcher),i=1;i<tokens.length;i++)tokens=(input=decodeComponents(tokens,i).join("")).match(singleMatcher);return input}}module.exports=function(encodedURI){if("string"!=typeof encodedURI)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`");try{return encodedURI=encodedURI.replace(/\+/g," "),decodeURIComponent(encodedURI)}catch(err){return function(input){for(var replaceMap={"%FE%FF":"��","%FF%FE":"��"},match=multiMatcher.exec(input);match;){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);result!==match[0]&&(replaceMap[match[0]]=result)}match=multiMatcher.exec(input)}replaceMap["%C2"]="�";for(var entries=Object.keys(replaceMap),i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}(encodedURI)}}},function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if("string"!=typeof string||"string"!=typeof separator)throw new TypeError("Expected the arguments to be of type `string`");if(""===separator)return[string];const separatorIndex=string.indexOf(separator);return-1===separatorIndex?[string]:[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},,,,,,,,,,function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(121);case"v7light":return __webpack_require__(123);case"v8dark":return __webpack_require__(125);case"v8light":return __webpack_require__(127)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(122);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscDiscoverGrid{width:100%;max-width:100%;height:100%;overflow:hidden}.dscDiscoverGrid .euiDataGrid__controls{border:none;border-bottom:1px solid #343741}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--firstColumn{border-left:none;padding:0}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--lastColumn{border-right:none}.dscDiscoverGrid .euiDataGridRowCell:first-of-type,.dscDiscoverGrid .euiDataGrid--headerShade.euiDataGrid--bordersAll .euiDataGridHeaderCell:first-of-type{border-left:none;border-right:none}.dscDiscoverGrid .euiDataGridRowCell:last-of-type,.dscDiscoverGrid .euiDataGridHeaderCell:last-of-type{border-right:none}.dscDiscoverGrid__footer{background-color:#343741;padding:8px 16px;margin-top:4px;text-align:center}.dscTable__flyoutHeader{white-space:nowrap}.dscTable__flyoutDocumentNavigation{justify-content:flex-end}.euiDataGridHeader .euiDataGridHeaderCell__content{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;overflow:hidden;white-space:nowrap;flex-grow:1}.euiDataGridHeader .euiDataGridHeaderCell__popover{flex-grow:0;flex-basis:auto;width:auto;padding-left:4px}.euiDataGridRowCell--numeric{text-align:right}.euiDataGrid__noResults{display:flex;flex-direction:column;justify-content:center;flex:1 0 100%;text-align:center;height:100%;width:100%}.dscFormatSource{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.dscDiscoverGrid__descriptionListDescription{word-break:normal !important}@media only screen and (max-width: 574px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 768px) and (max-width: 991px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(124);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscDiscoverGrid{width:100%;max-width:100%;height:100%;overflow:hidden}.dscDiscoverGrid .euiDataGrid__controls{border:none;border-bottom:1px solid #D3DAE6}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--firstColumn{border-left:none;padding:0}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--lastColumn{border-right:none}.dscDiscoverGrid .euiDataGridRowCell:first-of-type,.dscDiscoverGrid .euiDataGrid--headerShade.euiDataGrid--bordersAll .euiDataGridHeaderCell:first-of-type{border-left:none;border-right:none}.dscDiscoverGrid .euiDataGridRowCell:last-of-type,.dscDiscoverGrid .euiDataGridHeaderCell:last-of-type{border-right:none}.dscDiscoverGrid__footer{background-color:#D3DAE6;padding:8px 16px;margin-top:4px;text-align:center}.dscTable__flyoutHeader{white-space:nowrap}.dscTable__flyoutDocumentNavigation{justify-content:flex-end}.euiDataGridHeader .euiDataGridHeaderCell__content{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;overflow:hidden;white-space:nowrap;flex-grow:1}.euiDataGridHeader .euiDataGridHeaderCell__popover{flex-grow:0;flex-basis:auto;width:auto;padding-left:4px}.euiDataGridRowCell--numeric{text-align:right}.euiDataGrid__noResults{display:flex;flex-direction:column;justify-content:center;flex:1 0 100%;text-align:center;height:100%;width:100%}.dscFormatSource{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.dscDiscoverGrid__descriptionListDescription{word-break:normal !important}@media only screen and (max-width: 574px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 768px) and (max-width: 991px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(126);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscDiscoverGrid{width:100%;max-width:100%;height:100%;overflow:hidden}.dscDiscoverGrid .euiDataGrid__controls{border:none;border-bottom:1px solid #343741}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--firstColumn{border-left:none;padding:0}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--lastColumn{border-right:none}.dscDiscoverGrid .euiDataGridRowCell:first-of-type,.dscDiscoverGrid .euiDataGrid--headerShade.euiDataGrid--bordersAll .euiDataGridHeaderCell:first-of-type{border-left:none;border-right:none}.dscDiscoverGrid .euiDataGridRowCell:last-of-type,.dscDiscoverGrid .euiDataGridHeaderCell:last-of-type{border-right:none}.dscDiscoverGrid__footer{background-color:#343741;padding:8px 16px;margin-top:4px;text-align:center}.dscTable__flyoutHeader{white-space:nowrap}.dscTable__flyoutDocumentNavigation{justify-content:flex-end}.euiDataGridHeader .euiDataGridHeaderCell__content{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;overflow:hidden;white-space:nowrap;flex-grow:1}.euiDataGridHeader .euiDataGridHeaderCell__popover{flex-grow:0;flex-basis:auto;width:auto;padding-left:4px}.euiDataGridRowCell--numeric{text-align:right}.euiDataGrid__noResults{display:flex;flex-direction:column;justify-content:center;flex:1 0 100%;text-align:center;height:100%;width:100%}.dscFormatSource{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.dscDiscoverGrid__descriptionListDescription{word-break:normal !important}@media only screen and (max-width: 574px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 768px) and (max-width: 991px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(128);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscDiscoverGrid{width:100%;max-width:100%;height:100%;overflow:hidden}.dscDiscoverGrid .euiDataGrid__controls{border:none;border-bottom:1px solid #D3DAE6}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--firstColumn{border-left:none;padding:0}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--lastColumn{border-right:none}.dscDiscoverGrid .euiDataGridRowCell:first-of-type,.dscDiscoverGrid .euiDataGrid--headerShade.euiDataGrid--bordersAll .euiDataGridHeaderCell:first-of-type{border-left:none;border-right:none}.dscDiscoverGrid .euiDataGridRowCell:last-of-type,.dscDiscoverGrid .euiDataGridHeaderCell:last-of-type{border-right:none}.dscDiscoverGrid__footer{background-color:#D3DAE6;padding:8px 16px;margin-top:4px;text-align:center}.dscTable__flyoutHeader{white-space:nowrap}.dscTable__flyoutDocumentNavigation{justify-content:flex-end}.euiDataGridHeader .euiDataGridHeaderCell__content{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;overflow:hidden;white-space:nowrap;flex-grow:1}.euiDataGridHeader .euiDataGridHeaderCell__popover{flex-grow:0;flex-basis:auto;width:auto;padding-left:4px}.euiDataGridRowCell--numeric{text-align:right}.euiDataGrid__noResults{display:flex;flex-direction:column;justify-content:center;flex:1 0 100%;text-align:center;height:100%;width:100%}.dscFormatSource{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.dscDiscoverGrid__descriptionListDescription{word-break:normal !important}@media only screen and (max-width: 574px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 768px) and (max-width: 991px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(130);case"v7light":return __webpack_require__(132);case"v8dark":return __webpack_require__(134);case"v8light":return __webpack_require__(136)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(131);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,'discover-app{flex-grow:1}.dscPage{flex-direction:column;overflow:hidden;padding:0}@media only screen and (min-width: 768px) and (max-width: 991px){.dscPage{height:calc(100vh - 98px)}.kbnBody--chromeHidden .dscPage{height:calc(100vh - 0px)}.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 130px)}.kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 32px)}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dscPage{height:calc(100vh - 98px)}.kbnBody--chromeHidden .dscPage{height:calc(100vh - 0px)}.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 130px)}.kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 32px)}}@media only screen and (min-width: 1200px){.dscPage{height:calc(100vh - 98px)}.kbnBody--chromeHidden .dscPage{height:calc(100vh - 0px)}.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 130px)}.kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 32px)}}.dscPage .dscPageBody{overflow:hidden}.dscPageBody__inner{overflow:hidden;height:100%}.dscPageBody__contents{overflow:hidden;padding-top:2px}.dscPageContent__wrapper{padding:0 16px 16px 0;overflow:hidden}@media only screen and (max-width: 574px){.dscPageContent__wrapper{padding:0 16px 16px}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscPageContent__wrapper{padding:0 16px 16px}}.dscPageContent{border:1px solid #343741}.dscPageContent,.dscPageContent__inner{height:100%}.dscPageContent--centered{height:auto}.dscResultCount{padding:8px;min-height:48px}@media only screen and (max-width: 574px){.dscResultCount .dscResultCount__toggle{align-items:flex-end}.dscResultCount .dscResuntCount__title,.dscResultCount .dscResultCount__actions{margin-bottom:0 !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscResultCount .dscResultCount__toggle{align-items:flex-end}.dscResultCount .dscResuntCount__title,.dscResultCount .dscResultCount__actions{margin-bottom:0 !important}}.dscTimechart{display:block;position:relative}.dscTimechart .series>rect{fill-opacity:.5;stroke-width:1}.dscHistogram{display:flex;height:200px;padding:8px}.dscHistogramGrid{display:flex;height:128px;padding:8px 8px 0 8px}.dscTable .kbnDocTable__row{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;font-size:12px}.dscTable__footer{background-color:#343741;padding:4px 8px;text-align:center}\n',""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(133);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,'discover-app{flex-grow:1}.dscPage{flex-direction:column;overflow:hidden;padding:0}@media only screen and (min-width: 768px) and (max-width: 991px){.dscPage{height:calc(100vh - 98px)}.kbnBody--chromeHidden .dscPage{height:calc(100vh - 0px)}.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 130px)}.kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 32px)}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dscPage{height:calc(100vh - 98px)}.kbnBody--chromeHidden .dscPage{height:calc(100vh - 0px)}.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 130px)}.kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 32px)}}@media only screen and (min-width: 1200px){.dscPage{height:calc(100vh - 98px)}.kbnBody--chromeHidden .dscPage{height:calc(100vh - 0px)}.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 130px)}.kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 32px)}}.dscPage .dscPageBody{overflow:hidden}.dscPageBody__inner{overflow:hidden;height:100%}.dscPageBody__contents{overflow:hidden;padding-top:2px}.dscPageContent__wrapper{padding:0 16px 16px 0;overflow:hidden}@media only screen and (max-width: 574px){.dscPageContent__wrapper{padding:0 16px 16px}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscPageContent__wrapper{padding:0 16px 16px}}.dscPageContent{border:1px solid #D3DAE6}.dscPageContent,.dscPageContent__inner{height:100%}.dscPageContent--centered{height:auto}.dscResultCount{padding:8px;min-height:48px}@media only screen and (max-width: 574px){.dscResultCount .dscResultCount__toggle{align-items:flex-end}.dscResultCount .dscResuntCount__title,.dscResultCount .dscResultCount__actions{margin-bottom:0 !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscResultCount .dscResultCount__toggle{align-items:flex-end}.dscResultCount .dscResuntCount__title,.dscResultCount .dscResultCount__actions{margin-bottom:0 !important}}.dscTimechart{display:block;position:relative}.dscTimechart .series>rect{fill-opacity:.5;stroke-width:1}.dscHistogram{display:flex;height:200px;padding:8px}.dscHistogramGrid{display:flex;height:128px;padding:8px 8px 0 8px}.dscTable .kbnDocTable__row{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;font-size:12px}.dscTable__footer{background-color:#D3DAE6;padding:4px 8px;text-align:center}\n',""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(135);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,'discover-app{flex-grow:1}.dscPage{flex-direction:column;overflow:hidden;padding:0}@media only screen and (min-width: 768px) and (max-width: 991px){.dscPage{height:calc(100vh - 96px)}.kbnBody--chromeHidden .dscPage{height:calc(100vh - 0px)}.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 128px)}.kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 32px)}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dscPage{height:calc(100vh - 96px)}.kbnBody--chromeHidden .dscPage{height:calc(100vh - 0px)}.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 128px)}.kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 32px)}}@media only screen and (min-width: 1200px){.dscPage{height:calc(100vh - 96px)}.kbnBody--chromeHidden .dscPage{height:calc(100vh - 0px)}.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 128px)}.kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 32px)}}.dscPage .dscPageBody{overflow:hidden}.dscPageBody__inner{overflow:hidden;height:100%}.dscPageBody__contents{overflow:hidden;padding-top:2px}.dscPageContent__wrapper{padding:0 16px 16px 0;overflow:hidden}@media only screen and (max-width: 574px){.dscPageContent__wrapper{padding:0 16px 16px}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscPageContent__wrapper{padding:0 16px 16px}}.dscPageContent{border:1px solid #343741}.dscPageContent,.dscPageContent__inner{height:100%}.dscPageContent--centered{height:auto}.dscResultCount{padding:8px;min-height:48px}@media only screen and (max-width: 574px){.dscResultCount .dscResultCount__toggle{align-items:flex-end}.dscResultCount .dscResuntCount__title,.dscResultCount .dscResultCount__actions{margin-bottom:0 !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscResultCount .dscResultCount__toggle{align-items:flex-end}.dscResultCount .dscResuntCount__title,.dscResultCount .dscResultCount__actions{margin-bottom:0 !important}}.dscTimechart{display:block;position:relative}.dscTimechart .series>rect{fill-opacity:.5;stroke-width:1}.dscHistogram{display:flex;height:200px;padding:8px}.dscHistogramGrid{display:flex;height:128px;padding:8px 8px 0 8px}.dscTable .kbnDocTable__row{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;font-size:12px}.dscTable__footer{background-color:#343741;padding:4px 8px;text-align:center}\n',""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(137);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,'discover-app{flex-grow:1}.dscPage{flex-direction:column;overflow:hidden;padding:0}@media only screen and (min-width: 768px) and (max-width: 991px){.dscPage{height:calc(100vh - 96px)}.kbnBody--chromeHidden .dscPage{height:calc(100vh - 0px)}.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 128px)}.kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 32px)}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dscPage{height:calc(100vh - 96px)}.kbnBody--chromeHidden .dscPage{height:calc(100vh - 0px)}.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 128px)}.kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 32px)}}@media only screen and (min-width: 1200px){.dscPage{height:calc(100vh - 96px)}.kbnBody--chromeHidden .dscPage{height:calc(100vh - 0px)}.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 128px)}.kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage{height:calc(100vh - 32px)}}.dscPage .dscPageBody{overflow:hidden}.dscPageBody__inner{overflow:hidden;height:100%}.dscPageBody__contents{overflow:hidden;padding-top:2px}.dscPageContent__wrapper{padding:0 16px 16px 0;overflow:hidden}@media only screen and (max-width: 574px){.dscPageContent__wrapper{padding:0 16px 16px}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscPageContent__wrapper{padding:0 16px 16px}}.dscPageContent{border:1px solid #D3DAE6}.dscPageContent,.dscPageContent__inner{height:100%}.dscPageContent--centered{height:auto}.dscResultCount{padding:8px;min-height:48px}@media only screen and (max-width: 574px){.dscResultCount .dscResultCount__toggle{align-items:flex-end}.dscResultCount .dscResuntCount__title,.dscResultCount .dscResultCount__actions{margin-bottom:0 !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscResultCount .dscResultCount__toggle{align-items:flex-end}.dscResultCount .dscResuntCount__title,.dscResultCount .dscResultCount__actions{margin-bottom:0 !important}}.dscTimechart{display:block;position:relative}.dscTimechart .series>rect{fill-opacity:.5;stroke-width:1}.dscHistogram{display:flex;height:200px;padding:8px}.dscHistogramGrid{display:flex;height:128px;padding:8px 8px 0 8px}.dscTable .kbnDocTable__row{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;font-size:12px}.dscTable__footer{background-color:#D3DAE6;padding:4px 8px;text-align:center}\n',""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(139);case"v7light":return __webpack_require__(141);case"v8dark":return __webpack_require__(143);case"v8light":return __webpack_require__(145)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(140);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscHitsCounter{flex-grow:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(142);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscHitsCounter{flex-grow:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(144);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscHitsCounter{flex-grow:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(146);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscHitsCounter{flex-grow:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(148);case"v7light":return __webpack_require__(150);case"v8dark":return __webpack_require__(152);case"v8light":return __webpack_require__(154)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(149);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscTimeIntervalSelect{align-items:center}.dscTimeChartHeader{flex-grow:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(151);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscTimeIntervalSelect{align-items:center}.dscTimeChartHeader{flex-grow:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(153);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscTimeIntervalSelect{align-items:center}.dscTimeChartHeader{flex-grow:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(155);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscTimeIntervalSelect{align-items:center}.dscTimeChartHeader{flex-grow:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(157);case"v7light":return __webpack_require__(159);case"v8dark":return __webpack_require__(161);case"v8light":return __webpack_require__(163)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(158);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscNoResults{padding:16px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(160);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscNoResults{padding:16px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(162);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscNoResults{padding:16px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(164);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscNoResults{padding:16px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(166);case"v7light":return __webpack_require__(168);case"v8dark":return __webpack_require__(170);case"v8light":return __webpack_require__(172)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(167);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscLoading{text-align:center;padding:24px 0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(169);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscLoading{text-align:center;padding:24px 0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(171);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscLoading{text-align:center;padding:24px 0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(173);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscLoading{text-align:center;padding:24px 0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(175);case"v7light":return __webpack_require__(177);case"v8dark":return __webpack_require__(179);case"v8light":return __webpack_require__(181)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(176);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscSidebar{margin:0 !important;flex-grow:1;padding-left:16px;width:304px;height:100%}@media only screen and (max-width: 574px){.dscSidebar{width:100%;padding:16px 16px 0 16px;background-color:#141519}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscSidebar{width:100%;padding:16px 16px 0 16px;background-color:#141519}}.dscSidebar__group{height:100%}.dscSidebar__mobile{width:100%;padding:16px 16px 0}.dscSidebar__mobile .dscSidebar__mobileBadge{margin-left:8px;vertical-align:text-bottom}.dscSidebar__flyoutHeader{align-items:center}.dscFieldList{padding:0 4px 4px}.dscFieldListHeader{padding:8px 8px 0 8px;background-color:#343741}.dscFieldList--popular{padding-bottom:8px;background-color:#343741}.dscSidebarItem:hover .dscSidebarItem__action,.dscSidebarItem:focus-within .dscSidebarItem__action,.dscSidebarItem[class*='-isActive'] .dscSidebarItem__action{opacity:1}.dscSidebarItem__action{opacity:0}.dscSidebarItem__action.dscSidebarItem__mobile{opacity:1}.dscSidebarItem__action:focus{opacity:1}.dscSidebar__indexPatternSwitcher{min-width:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(178);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscSidebar{margin:0 !important;flex-grow:1;padding-left:16px;width:304px;height:100%}@media only screen and (max-width: 574px){.dscSidebar{width:100%;padding:16px 16px 0 16px;background-color:#fafbfd}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscSidebar{width:100%;padding:16px 16px 0 16px;background-color:#fafbfd}}.dscSidebar__group{height:100%}.dscSidebar__mobile{width:100%;padding:16px 16px 0}.dscSidebar__mobile .dscSidebar__mobileBadge{margin-left:8px;vertical-align:text-bottom}.dscSidebar__flyoutHeader{align-items:center}.dscFieldList{padding:0 4px 4px}.dscFieldListHeader{padding:8px 8px 0 8px;background-color:#e6f0f8}.dscFieldList--popular{padding-bottom:8px;background-color:#e6f0f8}.dscSidebarItem:hover .dscSidebarItem__action,.dscSidebarItem:focus-within .dscSidebarItem__action,.dscSidebarItem[class*='-isActive'] .dscSidebarItem__action{opacity:1}.dscSidebarItem__action{opacity:0}.dscSidebarItem__action.dscSidebarItem__mobile{opacity:1}.dscSidebarItem__action:focus{opacity:1}.dscSidebar__indexPatternSwitcher{min-width:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(180);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscSidebar{margin:0 !important;flex-grow:1;padding-left:16px;width:304px;height:100%}@media only screen and (max-width: 574px){.dscSidebar{width:100%;padding:16px 16px 0 16px;background-color:#141519}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscSidebar{width:100%;padding:16px 16px 0 16px;background-color:#141519}}.dscSidebar__group{height:100%}.dscSidebar__mobile{width:100%;padding:16px 16px 0}.dscSidebar__mobile .dscSidebar__mobileBadge{margin-left:8px;vertical-align:text-bottom}.dscSidebar__flyoutHeader{align-items:center}.dscFieldList{padding:0 4px 4px}.dscFieldListHeader{padding:8px 8px 0 8px;background-color:#343741}.dscFieldList--popular{padding-bottom:8px;background-color:#343741}.dscSidebarItem:hover .dscSidebarItem__action,.dscSidebarItem:focus-within .dscSidebarItem__action,.dscSidebarItem[class*='-isActive'] .dscSidebarItem__action{opacity:1}.dscSidebarItem__action{opacity:0}.dscSidebarItem__action.dscSidebarItem__mobile{opacity:1}.dscSidebarItem__action:focus{opacity:1}.dscSidebar__indexPatternSwitcher{min-width:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(182);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscSidebar{margin:0 !important;flex-grow:1;padding-left:16px;width:304px;height:100%}@media only screen and (max-width: 574px){.dscSidebar{width:100%;padding:16px 16px 0 16px;background-color:#fafbfd}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscSidebar{width:100%;padding:16px 16px 0 16px;background-color:#fafbfd}}.dscSidebar__group{height:100%}.dscSidebar__mobile{width:100%;padding:16px 16px 0}.dscSidebar__mobile .dscSidebar__mobileBadge{margin-left:8px;vertical-align:text-bottom}.dscSidebar__flyoutHeader{align-items:center}.dscFieldList{padding:0 4px 4px}.dscFieldListHeader{padding:8px 8px 0 8px;background-color:#e6f1fa}.dscFieldList--popular{padding-bottom:8px;background-color:#e6f1fa}.dscSidebarItem:hover .dscSidebarItem__action,.dscSidebarItem:focus-within .dscSidebarItem__action,.dscSidebarItem[class*='-isActive'] .dscSidebarItem__action{opacity:1}.dscSidebarItem__action{opacity:0}.dscSidebarItem__action.dscSidebarItem__mobile{opacity:1}.dscSidebarItem__action:focus{opacity:1}.dscSidebar__indexPatternSwitcher{min-width:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(184);case"v7light":return __webpack_require__(186);case"v8dark":return __webpack_require__(188);case"v8light":return __webpack_require__(190)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(185);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscSidebarItem__fieldPopoverPanel{min-width:260px;max-width:300px}.dscSidebarItem--multi .kbnFieldButton__button{padding-left:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(187);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscSidebarItem__fieldPopoverPanel{min-width:260px;max-width:300px}.dscSidebarItem--multi .kbnFieldButton__button{padding-left:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(189);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscSidebarItem__fieldPopoverPanel{min-width:260px;max-width:300px}.dscSidebarItem--multi .kbnFieldButton__button{padding-left:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(191);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscSidebarItem__fieldPopoverPanel{min-width:260px;max-width:300px}.dscSidebarItem--multi .kbnFieldButton__button{padding-left:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(193);case"v7light":return __webpack_require__(195);case"v8dark":return __webpack_require__(197);case"v8light":return __webpack_require__(199)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(194);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscFieldDetails__barContainer{min-width:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(196);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscFieldDetails__barContainer{min-width:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(198);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscFieldDetails__barContainer{min-width:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(200);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscFieldDetails__barContainer{min-width:0}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(202);case"v7light":return __webpack_require__(204);case"v8dark":return __webpack_require__(206);case"v8light":return __webpack_require__(208)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(203);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscFieldDetails{color:#DFE5EF;margin-bottom:8px}.dscFieldDetails__visualizeBtn{font-size:12px;font-size:.75rem;line-height:1.5;height:24px !important;min-width:64px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(205);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscFieldDetails{color:#343741;margin-bottom:8px}.dscFieldDetails__visualizeBtn{font-size:12px;font-size:.75rem;line-height:1.5;height:24px !important;min-width:64px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(207);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscFieldDetails{color:#DFE5EF;margin-bottom:8px}.dscFieldDetails__visualizeBtn{font-size:12px;font-size:.85714rem;line-height:1.14286rem;height:24px !important;min-width:64px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(209);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscFieldDetails{color:#343741;margin-bottom:8px}.dscFieldDetails__visualizeBtn{font-size:12px;font-size:.85714rem;line-height:1.14286rem;height:24px !important;min-width:64px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(211);case"v7light":return __webpack_require__(213);case"v8dark":return __webpack_require__(215);case"v8light":return __webpack_require__(217)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(212);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscFieldSearch__formWrapper{padding:12px}.dscFieldSearch__filterWrapper{width:100%}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(214);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscFieldSearch__formWrapper{padding:12px}.dscFieldSearch__filterWrapper{width:100%}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(216);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscFieldSearch__formWrapper{padding:12px}.dscFieldSearch__filterWrapper{width:100%}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(218);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscFieldSearch__formWrapper{padding:12px}.dscFieldSearch__filterWrapper{width:100%}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(220);case"v7light":return __webpack_require__(222);case"v8dark":return __webpack_require__(224);case"v8light":return __webpack_require__(226)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(221);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscOptionsPopover{width:288px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(223);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscOptionsPopover{width:288px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(225);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscOptionsPopover{width:288px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10),content=__webpack_require__(227);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(11)(!1)).push([module.i,".dscOptionsPopover{width:288px}\n",""]),module.exports=exports},,,,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getInnerAngularModule",(function(){return getInnerAngularModule})),__webpack_require__.d(__webpack_exports__,"getInnerAngularModuleEmbeddable",(function(){return getInnerAngularModuleEmbeddable})),__webpack_require__.d(__webpack_exports__,"initializeInnerAngularModule",(function(){return initializeInnerAngularModule}));__webpack_require__(74);var external_kbnSharedDeps_Angular_=__webpack_require__(9),external_kbnSharedDeps_Angular_default=__webpack_require__.n(external_kbnSharedDeps_Angular_),external_kbnSharedDeps_ElasticEui_=(__webpack_require__(97),__webpack_require__(2)),external_kbnSharedDeps_KbnI18nAngular_=__webpack_require__(57),public_=__webpack_require__(5),doc_table=__webpack_require__(68),external_kbnSharedDeps_React_=__webpack_require__(0),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);const sortDirectionToIcon={desc:"fa fa-sort-down",asc:"fa fa-sort-up","":"fa fa-sort"};function TableHeaderColumn({colLeftIdx:colLeftIdx,colRightIdx:colRightIdx,displayName:displayName,isRemoveable:isRemoveable,isSortable:isSortable,name:name,onChangeSortOrder:onChangeSortOrder,onMoveColumn:onMoveColumn,onRemoveColumn:onRemoveColumn,sortOrder:sortOrder}){const[,sortDirection=""]=sortOrder.find(sortPair=>name===sortPair[0])||[],currentSortWithoutColumn=sortOrder.filter(pair=>pair[0]!==name),currentColumnSort=sortOrder.find(pair=>pair[0]===name),currentColumnSortDirection=currentColumnSort&&currentColumnSort[1]||"",btnSortIcon=sortDirectionToIcon[sortDirection],btnSortClassName=""!==sortDirection?btnSortIcon:"kbnDocTableHeader__sortChange "+btnSortIcon,getSortButtonAriaLabel=()=>{const sortAscendingMessage=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docTable.tableHeader.sortByColumnAscendingAriaLabel",{defaultMessage:"Sort {columnName} ascending",values:{columnName:name}}),sortDescendingMessage=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docTable.tableHeader.sortByColumnDescendingAriaLabel",{defaultMessage:"Sort {columnName} descending",values:{columnName:name}}),stopSortingMessage=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docTable.tableHeader.sortByColumnUnsortedAriaLabel",{defaultMessage:"Stop sorting on {columnName}",values:{columnName:name}});return void 0===currentColumnSort?sortAscendingMessage:"asc"===sortDirection?sortDescendingMessage:"desc"===sortDirection&&0===currentSortWithoutColumn.length?sortAscendingMessage:stopSortingMessage},buttons=[{active:isSortable&&"function"==typeof onChangeSortOrder,ariaLabel:getSortButtonAriaLabel(),className:btnSortClassName,onClick:()=>{onChangeSortOrder&&(void 0===currentColumnSort?onChangeSortOrder([...currentSortWithoutColumn,[name,"asc"]]):"asc"===currentColumnSortDirection?onChangeSortOrder([...currentSortWithoutColumn,[name,"desc"]]):"desc"===currentColumnSortDirection&&0===currentSortWithoutColumn.length?onChangeSortOrder([[name,"asc"]]):onChangeSortOrder(currentSortWithoutColumn))},testSubject:"docTableHeaderFieldSort_"+name,tooltip:getSortButtonAriaLabel()},{active:isRemoveable&&"function"==typeof onRemoveColumn,ariaLabel:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docTable.tableHeader.removeColumnButtonAriaLabel",{defaultMessage:"Remove {columnName} column",values:{columnName:name}}),className:"fa fa-remove kbnDocTableHeader__move",onClick:()=>onRemoveColumn&&onRemoveColumn(name),testSubject:"docTableRemoveHeader-"+name,tooltip:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docTable.tableHeader.removeColumnButtonTooltip",{defaultMessage:"Remove Column"})},{active:colLeftIdx>=0&&"function"==typeof onMoveColumn,ariaLabel:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docTable.tableHeader.moveColumnLeftButtonAriaLabel",{defaultMessage:"Move {columnName} column to the left",values:{columnName:name}}),className:"fa fa-angle-double-left kbnDocTableHeader__move",onClick:()=>onMoveColumn&&onMoveColumn(name,colLeftIdx),testSubject:"docTableMoveLeftHeader-"+name,tooltip:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docTable.tableHeader.moveColumnLeftButtonTooltip",{defaultMessage:"Move column to the left"})},{active:colRightIdx>=0&&"function"==typeof onMoveColumn,ariaLabel:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docTable.tableHeader.moveColumnRightButtonAriaLabel",{defaultMessage:"Move {columnName} column to the right",values:{columnName:name}}),className:"fa fa-angle-double-right kbnDocTableHeader__move",onClick:()=>onMoveColumn&&onMoveColumn(name,colRightIdx),testSubject:"docTableMoveRightHeader-"+name,tooltip:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docTable.tableHeader.moveColumnRightButtonTooltip",{defaultMessage:"Move column to the right"})}];return external_kbnSharedDeps_React_default.a.createElement("th",{"data-test-subj":"docTableHeaderField"},external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"docTableHeader-"+name},displayName,buttons.filter(button=>button.active).map((button,idx)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{id:`docTableHeader-${name}-tt`,content:button.tooltip,key:"button-"+idx},external_kbnSharedDeps_React_default.a.createElement("button",{"aria-label":button.ariaLabel,className:button.className,"data-test-subj":button.testSubject,onClick:button.onClick})))))}var get_default_sort=__webpack_require__(92);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function TableHeader({columns:columns,defaultSortOrder:defaultSortOrder,hideTimeColumn:hideTimeColumn,indexPattern:indexPattern,isShortDots:isShortDots,onChangeSortOrder:onChangeSortOrder,onMoveColumn:onMoveColumn,onRemoveColumn:onRemoveColumn,sortOrder:sortOrder}){const displayedColumns=function(columns,indexPattern,hideTimeField,isShortDots){if(!Array.isArray(columns)||"object"!=typeof indexPattern||!indexPattern.getFieldByName)return[];const columnProps=0===columns.length?[{name:"__document__",displayName:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docTable.tableHeader.documentHeader",{defaultMessage:"Document"}),isSortable:!1,isRemoveable:!1,colLeftIdx:-1,colRightIdx:-1}]:columns.map((column,idx)=>{var _field$displayName;const field=indexPattern.getFieldByName(column);return{name:column,displayName:null!==(_field$displayName=null==field?void 0:field.displayName)&&void 0!==_field$displayName?_field$displayName:column,isSortable:!(!field||!field.sortable),isRemoveable:"_source"!==column||columns.length>1,colLeftIdx:idx-1<0?-1:idx-1,colRightIdx:idx+1>=columns.length?-1:idx+1}});return!hideTimeField&&indexPattern.timeFieldName?[(timeFieldName=indexPattern.timeFieldName,{name:timeFieldName,displayName:"Time",isSortable:!0,isRemoveable:!1,colLeftIdx:-1,colRightIdx:-1}),...columnProps]:columnProps;var timeFieldName}(columns,indexPattern,hideTimeColumn);return external_kbnSharedDeps_React_default.a.createElement("tr",{"data-test-subj":"docTableHeader",className:"kbnDocTableHeader"},external_kbnSharedDeps_React_default.a.createElement("th",{style:{width:"24px"}}),displayedColumns.map(col=>external_kbnSharedDeps_React_default.a.createElement(TableHeaderColumn,_extends({key:col.name},col,{sortOrder:sortOrder.length?sortOrder:Object(get_default_sort.a)(indexPattern,defaultSortOrder),onMoveColumn:onMoveColumn,onRemoveColumn:onRemoveColumn,onChangeSortOrder:onChangeSortOrder}))))}var kibana_services=__webpack_require__(3),common=__webpack_require__(66),data_public_=__webpack_require__(4);function createTableHeaderDirective(reactDirective){const{uiSettings:config}=Object(kibana_services.f)();return reactDirective(TableHeader,[["columns",{watchDepth:"collection"}],["hideTimeColumn",{watchDepth:"value"}],["indexPattern",{watchDepth:"reference"}],["isShortDots",{watchDepth:"value"}],["onChangeSortOrder",{watchDepth:"reference"}],["onMoveColumn",{watchDepth:"reference"}],["onRemoveColumn",{watchDepth:"reference"}],["sortOrder",{watchDepth:"collection"}]],{restrict:"A"},{hideTimeColumn:config.get(common.e,!1),isShortDots:config.get(data_public_.UI_SETTINGS.SHORT_DOTS_ENABLE),defaultSortOrder:config.get(common.m,"desc")})}var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(6);function ToolBarPagerText({startItem:startItem,endItem:endItem,totalItems:totalItems}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.I18nProvider,null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"kuiToolBarText","data-test-subj":"toolBarPagerText"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.docTable.pagerControl.pagesCountLabel",defaultMessage:"{startItem}–{endItem} of {totalItems}",values:{startItem:startItem,endItem:endItem,totalItems:totalItems}})))}function ToolBarPagerButtons(props){return external_kbnSharedDeps_React_default.a.createElement("div",{className:"kuiButtonGroup"},external_kbnSharedDeps_React_default.a.createElement("button",{className:"kuiButton kuiButton--basic kuiButton--icon",onClick:()=>props.onPagePrevious(),disabled:!props.hasPreviousPage,"data-test-subj":"btnPrevPage","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docTable.pager.toolbarPagerButtons.previousButtonAriaLabel",{defaultMessage:"Previous page in table"})},external_kbnSharedDeps_React_default.a.createElement("span",{className:"kuiButton__icon kuiIcon fa-chevron-left"})),external_kbnSharedDeps_React_default.a.createElement("button",{className:"kuiButton kuiButton--basic kuiButton--icon",onClick:()=>props.onPageNext(),disabled:!props.hasNextPage,"data-test-subj":"btnNextPage","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.docTable.pager.toolbarPagerButtons.nextButtonAriaLabel",{defaultMessage:"Next page in table"})},external_kbnSharedDeps_React_default.a.createElement("span",{className:"kuiButton__icon kuiIcon fa-chevron-right"})))}function createToolBarPagerTextDirective(reactDirective){return reactDirective(ToolBarPagerText)}function createToolBarPagerButtonsDirective(reactDirective){return reactDirective(ToolBarPagerButtons)}var context_query=__webpack_require__(102);function ContextErrorMessage({status:status,reason:reason}){return status!==context_query.b.FAILED?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.I18nProvider,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.context.failedToLoadAnchorDocumentDescription",defaultMessage:"Failed to load the anchor document"}),color:"danger",iconType:"alert","data-test-subj":"contextErrorMessageTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{"data-test-subj":"contextErrorMessageBody"},reason===context_query.a.UNKNOWN&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.context.reloadPageDescription.reloadOrVisitTextMessage",defaultMessage:"Please reload or go back to the document list to select a valid anchor document."}))))}var external_kbnSharedDeps_ReactDom_=__webpack_require__(21),external_kbnSharedDeps_ReactDom_default=__webpack_require__.n(external_kbnSharedDeps_ReactDom_);function SkipBottomButton({onClick:onClick}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSkipLink,{size:"s",onClick:event=>{event.preventDefault(),onClick()},className:"dscSkipButton",id:"dscSkipButton",destinationId:"","data-test-subj":"discoverSkipTableButton",position:"absolute"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.skipToBottomButtonLabel",defaultMessage:"Go to end of table"}))}function getRenderFn(domNode,props){const directive={template:'<doc-table\n                columns="renderProps.columns"\n                data-description="{{renderProps.searchDescription}}"\n                data-shared-item\n                data-test-subj="discoverDocTable"\n                data-title="{{renderProps.searchTitle}}"\n                filter="renderProps.onFilter"\n                hits="renderProps.rows"\n                index-pattern="renderProps.indexPattern"\n                infinite-scroll="true"\n                minimum-visible-rows="renderProps.minimumVisibleRows"\n                on-add-column="renderProps.onAddColumn"\n                on-change-sort-order="renderProps.onSort"\n                on-move-column="renderProps.onMoveColumn"\n                on-remove-column="renderProps.onRemoveColumn"\n                render-complete\n                use-new-fields-api="renderProps.useNewFieldsApi"\n                sorting="renderProps.sort"></doc_table>'};return async()=>{try{const injector=await Object(kibana_services.f)().getEmbeddableInjector();return await async function(domNode,template,renderProps,injector){const rootScope=injector.get("$rootScope"),$compile=injector.get("$compile"),newScope=Object.assign(rootScope.$new(),{renderProps:renderProps}),$target=external_kbnSharedDeps_Angular_default.a.element(domNode),$element=external_kbnSharedDeps_Angular_default.a.element(template);return newScope.$apply(()=>{const linkFn=$compile($element);$target.empty().append($element),linkFn(newScope)}),newScope}(domNode,directive.template,props,injector)}catch(e){Object(external_kbnSharedDeps_ReactDom_.render)(external_kbnSharedDeps_React_default.a.createElement("div",null,"error"),domNode)}}}function DocTableLegacy(renderProps){const ref=Object(external_kbnSharedDeps_React_.useRef)(null),scope=Object(external_kbnSharedDeps_React_.useRef)(),[rows,setRows]=Object(external_kbnSharedDeps_React_.useState)(renderProps.rows),[minimumVisibleRows,setMinimumVisibleRows]=Object(external_kbnSharedDeps_React_.useState)(50),onSkipBottomButtonClick=Object(external_kbnSharedDeps_React_.useCallback)(async()=>{const bottomMarker=document.getElementById("discoverBottomMarker"),wait=ms=>new Promise(resolve=>setTimeout(resolve,ms));for(setMinimumVisibleRows(renderProps.rows.length);renderProps.rows.length!==document.getElementsByClassName("kbnDocTable__row").length;)await wait(50);bottomMarker.focus(),await wait(50),bottomMarker.blur()},[setMinimumVisibleRows,renderProps.rows]);return Object(external_kbnSharedDeps_React_.useEffect)(()=>{minimumVisibleRows>50&&setMinimumVisibleRows(50),setRows(renderProps.rows)},[renderProps.rows,minimumVisibleRows,setMinimumVisibleRows]),Object(external_kbnSharedDeps_React_.useEffect)(()=>{if(ref&&ref.current&&!scope.current){getRenderFn(ref.current,{...renderProps,rows:rows,minimumVisibleRows:minimumVisibleRows})().then(newScope=>{scope.current=newScope})}else scope&&scope.current&&(scope.current.renderProps={...renderProps,rows:rows,minimumVisibleRows:minimumVisibleRows},scope.current.$apply())},[renderProps,minimumVisibleRows,rows]),Object(external_kbnSharedDeps_React_.useEffect)(()=>()=>{scope.current&&scope.current.$destroy()},[]),external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(SkipBottomButton,{onClick:onSkipBottomButtonClick}),external_kbnSharedDeps_React_default.a.createElement("div",{ref:ref}),renderProps.rows.length===renderProps.sampleSize?external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscTable__footer","data-test-subj":"discoverDocTableFooter",tabIndex:-1,id:"discoverBottomMarker"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.howToSeeOtherMatchingDocumentsDescription",defaultMessage:"These are the first {sampleSize} documents matching your search, refine your search to see others.",values:{sampleSize:renderProps.sampleSize}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{onClick:renderProps.onBackToTop,"data-test-subj":"discoverBackToTop"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.backToTopLinkText",defaultMessage:"Back to top."}))):external_kbnSharedDeps_React_default.a.createElement("span",{tabIndex:-1,id:"discoverBottomMarker"},"​"))}var constants=__webpack_require__(73),action_bar=__webpack_require__(104);function context_app_legacy_isLoading(status){return status!==constants.b.LOADED&&status!==constants.b.FAILED}function ContextAppLegacy(renderProps){const status=renderProps.status,isLoaded=status===constants.b.LOADED,isFailed=status===constants.b.FAILED,actionBarProps=type=>{const{defaultStepSize:defaultStepSize,successorCount:successorCount,predecessorCount:predecessorCount,predecessorAvailable:predecessorAvailable,successorAvailable:successorAvailable,predecessorStatus:predecessorStatus,successorStatus:successorStatus,onChangePredecessorCount:onChangePredecessorCount,onChangeSuccessorCount:onChangeSuccessorCount}=renderProps,isPredecessorType="predecessors"===type;return{defaultStepSize:defaultStepSize,docCount:isPredecessorType?predecessorCount:successorCount,docCountAvailable:isPredecessorType?predecessorAvailable:successorAvailable,onChangeCount:isPredecessorType?onChangePredecessorCount:onChangeSuccessorCount,isLoading:context_app_legacy_isLoading(isPredecessorType?predecessorStatus:successorStatus),type:type,isDisabled:!isLoaded}},TopNavMenu=renderProps.topNavMenu;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.I18nProvider,null,isFailed?external_kbnSharedDeps_React_default.a.createElement(ContextErrorMessage,{status:status,reason:renderProps.reason}):external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(TopNavMenu,{appName:"context",showSearchBar:!0,showQueryBar:!1,showFilterBar:!0,showSaveQuery:!1,showDatePicker:!1,indexPatterns:[renderProps.indexPattern],useDefaultBehaviors:!0}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPage,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageContent,{paddingSize:"s",className:"dscCxtAppContent"},external_kbnSharedDeps_React_default.a.createElement(action_bar.a,actionBarProps("predecessors")),status===constants.b.UNINITIALIZED||status===constants.b.LOADING?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{textAlign:"center","data-test-subj":"contextApp_loadingIndicator"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.context.loadingDescription",defaultMessage:"Loading..."})):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHorizontalRule,{margin:"xs"}),isLoaded?external_kbnSharedDeps_React_default.a.createElement("div",{className:"discover-table"},external_kbnSharedDeps_React_default.a.createElement(DocTableLegacy,(()=>{const{hits:hits,filter:filter,sorting:sorting,columns:columns,indexPattern:indexPattern,minimumVisibleRows:minimumVisibleRows,useNewFieldsApi:useNewFieldsApi}=renderProps;return{columns:columns,indexPattern:indexPattern,minimumVisibleRows:minimumVisibleRows,rows:hits,onFilter:filter,sort:sorting.map(el=>[el]),useNewFieldsApi:useNewFieldsApi}})())):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHorizontalRule,{margin:"xs"}),external_kbnSharedDeps_React_default.a.createElement(action_bar.a,actionBarProps("successors"))))))}function createContextAppLegacy(reactDirective){return reactDirective(ContextAppLegacy,[["filter",{watchDepth:"reference"}],["hits",{watchDepth:"reference"}],["indexPattern",{watchDepth:"reference"}],["sorting",{watchDepth:"reference"}],["columns",{watchDepth:"collection"}],["minimumVisibleRows",{watchDepth:"reference"}],["status",{watchDepth:"reference"}],["reason",{watchDepth:"reference"}],["defaultStepSize",{watchDepth:"reference"}],["predecessorCount",{watchDepth:"reference"}],["predecessorAvailable",{watchDepth:"reference"}],["predecessorStatus",{watchDepth:"reference"}],["onChangePredecessorCount",{watchDepth:"reference"}],["successorCount",{watchDepth:"reference"}],["successorAvailable",{watchDepth:"reference"}],["successorStatus",{watchDepth:"reference"}],["onChangeSuccessorCount",{watchDepth:"reference"}],["useNewFieldsApi",{watchDepth:"reference"}],["topNavMenu",{watchDepth:"reference"}]])}var external_kbnSharedDeps_Lodash_=__webpack_require__(20),external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_),external_kbnSharedDeps_Jquery_=__webpack_require__(51),external_kbnSharedDeps_Jquery_default=__webpack_require__.n(external_kbnSharedDeps_Jquery_),query_string=__webpack_require__(107),external_kbnSharedDeps_RisonNode_=__webpack_require__(52),external_kbnSharedDeps_RisonNode_default=__webpack_require__.n(external_kbnSharedDeps_RisonNode_),common_=__webpack_require__(58);function getContextUrl(documentId,indexPatternId,columns,filterManager,addBasePath){const globalFilters=filterManager.getGlobalFilters(),appFilters=filterManager.getAppFilters(),hash=Object(query_string.stringify)(common_.url.encodeQuery({_g:external_kbnSharedDeps_RisonNode_default.a.encode({filters:globalFilters||[]}),_a:external_kbnSharedDeps_RisonNode_default.a.encode({columns:columns,filters:(appFilters||[]).map(data_public_.esFilters.disableFilter)})}),{encode:!1,sort:!1});return addBasePath(`/app/discover#/context/${encodeURIComponent(indexPatternId)}/${encodeURIComponent(documentId)}?${hash}`)}var helpers=__webpack_require__(71);const TAGS_WITH_WS=/>\s+</g;function noWhiteSpace(html){return html.replace(TAGS_WITH_WS,"><")}function createTableRowDirective($compile){const cellTemplate=Object(external_kbnSharedDeps_Lodash_.template)(noWhiteSpace('<%\nvar attributes = \'\';\nif (timefield) {\n  attributes=\'class="eui-textNoWrap" width="1%"\';\n} else if (sourcefield) {\n  attributes=\'class="eui-textBreakAll eui-textBreakWord"\';\n} else {\n  attributes=\'class="kbnDocTableCell__dataField eui-textBreakAll eui-textBreakWord"\';\n}\n%>\n<td <%= attributes %> data-test-subj="docTableField">\n  <%= formatted %>\n  <span class="kbnDocTableCell__filter">\n    <% if (filterable) { %>\n      <button\n        ng-click="inlineFilter($event, \'+\')"\n        class="kbnDocTableRowFilterButton"\n        data-column="<%- column %>"\n        tooltip-append-to-body="1"\n        data-test-subj="docTableCellFilter"\n        tooltip="{{ ::\'discover.docTable.tableRow.filterForValueButtonTooltip\' | i18n: {defaultMessage: \'Filter for value\'} }}"\n        tooltip-placement="bottom"\n        aria-label="{{ ::\'discover.docTable.tableRow.filterForValueButtonAriaLabel\' | i18n: {defaultMessage: \'Filter for value\'} }}"\n      ><icon type="\'plusInCircle\'" size="\'s\'" color="\'primary\'"></icon></button>\n      <button\n        ng-click="inlineFilter($event, \'-\')"\n        class="kbnDocTableRowFilterButton"\n        data-column="<%- column %>"\n        data-test-subj="docTableCellFilterNegate"\n        tooltip="{{ ::\'discover.docTable.tableRow.filterOutValueButtonTooltip\' | i18n: {defaultMessage: \'Filter out value\'} }}"\n        aria-label="{{ ::\'discover.docTable.tableRow.filterOutValueButtonAriaLabel\' | i18n: {defaultMessage: \'Filter out value\'} }}"\n        tooltip-append-to-body="1"\n        tooltip-placement="bottom"\n      ><icon type="\'minusInCircle\'" size="\'s\'" color="\'primary\'"></icon></button>\n    <% } %>\n  </span>\n</td>\n')),truncateByHeightTemplate=Object(external_kbnSharedDeps_Lodash_.template)(noWhiteSpace('<div class="truncate-by-height">\n  <%= body %>\n</div>'));return{restrict:"A",scope:{columns:"=",filter:"=",indexPattern:"=",row:"=kbnTableRow",onAddColumn:"=?",onRemoveColumn:"=?",useNewFieldsApi:"<"},link:($scope,$el)=>{let $detailsScope,$toggleScope;function _displayField(row,fieldName,truncate=!1){const text=$scope.indexPattern.formatField(row,fieldName);return truncate&&text.length>20?truncateByHeightTemplate({body:text}):text}$el.after('<tr data-test-subj="docTableDetailsRow" class="kbnDocTableDetails__row">'),$el.empty(),$scope.toggleRow=()=>{const $detailsTr=$el.next();$scope.open=!$scope.open,$detailsTr.toggle($scope.open),$scope.open?($detailsScope=$scope.$new(),$detailsTr.html('<td colspan="{{ (columns.length || 1) + 2 }}">\n  <div class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--directionRow euiFlexGroup--justifyContentSpaceBetween">\n    <div class="euiFlexItem euiFlexItem--flexGrowZero euiText euiText--small">\n      <div class="euiFlexGroup euiFlexGroup--gutterSmall euiFlexGroup--directionRow">\n        <div class="euiFlexItem euiFlexItem--flexGrowZero">\n          <icon type="\'folderOpen\'" size="\'m\'"></icon>\n        </div>\n        <div class="euiFlexItem euiFlexItem--flexGrowZero">\n          <h4\n            data-test-subj="docTableRowDetailsTitle"\n            class="euiTitle euiTitle--xsmall"\n            i18n-id="discover.docTable.tableRow.detailHeading"\n            i18n-default-message="Expanded document"\n          ></h4>\n        </div>\n      </div>\n    </div>\n    <div class="euiFlexItem euiFlexItem--flexGrowZero euiText euiText--small">\n      <div class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--directionRow">\n        <div class="euiFlexItem euiFlexItem--flexGrowZero euiText euiText--small">\n          <a\n            class="euiLink"\n            data-test-subj="docTableRowAction"\n            ng-href="{{ getContextAppHref() }}"\n            ng-if="indexPattern.isTimeBased()"\n            i18n-id="discover.docTable.tableRow.viewSurroundingDocumentsLinkText"\n            i18n-default-message="View surrounding documents"\n          ></a>\n        </div>\n        <div class="euiFlexItem euiFlexItem--flexGrowZero euiText euiText--small">\n          <a\n            class="euiLink"\n            data-test-subj="docTableRowAction"\n            ng-href="{{ getSingleDocHref() }}"\n            i18n-id="discover.docTable.tableRow.viewSingleDocumentLinkText"\n            i18n-default-message="View single document"\n          ></a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div data-test-subj="docViewer">\n    <doc-viewer\n      columns="columns"\n      filter="filter"\n      hit="hit"\n      index-pattern="indexPattern"\n      on-add-column="onAddColumn"\n      on-remove-column="onRemoveColumn"\n    ></doc-viewer>\n  </div>\n\n</td>\n'),$detailsScope.row=$scope.row,$detailsScope.hit=$scope.row,$detailsScope.uriEncodedId=encodeURIComponent($detailsScope.hit._id),$compile($detailsTr)($detailsScope)):$detailsScope.$destroy()},$scope.$watchMulti(["indexPattern.timeFieldName","row.highlight","[]columns"],()=>{!function(row){const indexPattern=$scope.indexPattern;$scope.flattenedRow=indexPattern.flattenHit(row);const newHtmls=['<td ng-click="toggleRow()" data-test-subj="docTableExpandToggleColumn" class="kbnDocTableCell__toggleDetails">\n  <button\n    class="euiButtonIcon euiButtonIcon--text euiButtonIcon--empty euiButtonIcon--xSmall"\n    aria-expanded="{{!!open}}"\n    aria-label="{{ ::\'discover.docTable.tableRow.toggleRowDetailsButtonAriaLabel\' | i18n: {defaultMessage: \'Toggle row details\'} }}"\n  >\n    <icon ng-if="open" type="\'arrowDown\'" size="\'s\'"></icon>\n    <icon ng-if="!open" type="\'arrowRight\'" size="\'s\'"></icon>\n  </button>\n</td>\n'],mapping=indexPattern.fields.getByName,hideTimeColumn=Object(kibana_services.f)().uiSettings.get(common.e,!1);indexPattern.timeFieldName&&!hideTimeColumn&&newHtmls.push(cellTemplate({timefield:!0,formatted:_displayField(row,indexPattern.timeFieldName),filterable:mapping(indexPattern.timeFieldName).filterable&&$scope.filter,column:indexPattern.timeFieldName}));if(0===$scope.columns.length&&$scope.useNewFieldsApi){const formatted=Object(helpers.b)(row,indexPattern);newHtmls.push(cellTemplate({timefield:!1,sourcefield:!0,formatted:formatted,filterable:!1,column:"__document__"}))}else $scope.columns.forEach((function(column){const isFilterable=mapping(column)&&mapping(column).filterable&&$scope.filter;if(!$scope.useNewFieldsApi||mapping(column)||row.fields[column])newHtmls.push(cellTemplate({timefield:!1,sourcefield:"_source"===column,formatted:_displayField(row,column,!0),filterable:isFilterable,column:column}));else{const innerColumns=Object.fromEntries(Object.entries(row.fields).filter(([key])=>0===key.indexOf(column+".")));newHtmls.push(cellTemplate({timefield:!1,sourcefield:!0,formatted:Object(helpers.c)(row,innerColumns,indexPattern),filterable:!1,column:column}))}}));let $cells=$el.children();newHtmls.forEach((function(html,i){if($cells.eq(i).data("discover:html")===html)return;const reuse=Object(external_kbnSharedDeps_Lodash_.find)($cells.slice(i+1),(function(cell){return external_kbnSharedDeps_Jquery_default.a.data(cell,"discover:html")===html})),$target=reuse?external_kbnSharedDeps_Jquery_default()(reuse).detach():external_kbnSharedDeps_Jquery_default()(html);$target.data("discover:html",html);const $before=$cells.eq(i-1);$before.length?$before.after($target):$el.append($target),$cells=$el.children(),reuse||($toggleScope=$scope.$new(),$compile($target)($toggleScope))})),$scope.open&&($detailsScope.row=row);$cells.filter(":gt("+(newHtmls.length-1)+")").remove(),Object(public_.dispatchRenderComplete)($el[0])}($scope.row)}),$scope.inlineFilter=function($event,type){const column=external_kbnSharedDeps_Jquery_default()($event.currentTarget).data().column,field=$scope.indexPattern.fields.getByName(column);$scope.filter(field,$scope.flattenedRow[column],type)},$scope.getContextAppHref=()=>getContextUrl($scope.row._id,$scope.indexPattern.id,$scope.columns,Object(kibana_services.f)().filterManager,Object(kibana_services.f)().addBasePath),$scope.getSingleDocHref=()=>Object(kibana_services.f)().addBasePath(`/app/discover#/doc/${$scope.indexPattern.id}/${$scope.row._index}?id=${encodeURIComponent($scope.row._id)}`)}}}function clamp(val,min,max){return Math.min(Math.max(min,val),max)}class Pager{constructor(totalItems,pageSize,startingPage){this.currentPage=startingPage,this.totalItems=totalItems,this.pageSize=pageSize,this.startIndex=0,this.updateMeta()}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get hasNextPage(){return this.currentPage<this.totalPages}get hasPreviousPage(){return this.currentPage>1}nextPage(){this.currentPage+=1,this.updateMeta()}previousPage(){this.currentPage-=1,this.updateMeta()}setTotalItems(count){this.totalItems=count,this.updateMeta()}setPageSize(count){this.pageSize=count,this.updateMeta()}updateMeta(){this.totalPages=Math.ceil(this.totalItems/this.pageSize),this.currentPage=clamp(this.currentPage,1,this.totalPages),this.startItem=(this.currentPage-1)*this.pageSize+1,this.startItem=clamp(this.startItem,0,this.totalItems),this.endItem=this.startItem-1+this.pageSize,this.endItem=clamp(this.endItem,0,this.totalItems),this.startIndex=this.startItem-1}}function createPagerFactory(){return{create:(...args)=>new Pager(...args)}}function createInfiniteScrollDirective(){return{restrict:"E",scope:{more:"="},link:($scope,$element)=>{let checkTimer;const scrollDiv=$element.parents(".dscTable"),scrollDivMobile=external_kbnSharedDeps_Jquery_default()(window);function scheduleCheck(){checkTimer||(checkTimer=setTimeout((function(){checkTimer=null,function(){if(!$scope.more)return;const usedScrollDiv=document.getElementsByClassName("dscSidebar__mobile").length>0?scrollDivMobile:scrollDiv,scrollTop=usedScrollDiv.scrollTop(),winHeight=Number(usedScrollDiv.height()),winBottom=Number(winHeight)+Number(scrollTop);($element.get(0).offsetTop||0)-winBottom<=winHeight&&$scope[$scope.$$phase?"$eval":"$apply"]((function(){$scope.more()}))}()}),50))}scrollDiv.on("scroll",scheduleCheck),window.addEventListener("scroll",scheduleCheck),$scope.$on("$destroy",(function(){clearTimeout(checkTimer),scrollDiv.off("scroll",scheduleCheck),window.removeEventListener("scroll",scheduleCheck)})),scheduleCheck()}}}var doc_viewer=__webpack_require__(99);__webpack_require__(120);const gridStyle={border:"all",fontSize:"s",cellPadding:"s",rowHover:"none"},pageSizeArr=[25,50,100,250],toolbarVisibility={showColumnSelector:{allowHide:!1,allowReorder:!0},showStyleSelector:!1};var data_common_=__webpack_require__(59);function getSchemaByKbnType(kbnType){switch(kbnType){case data_common_.KBN_FIELD_TYPES.IP:case data_common_.KBN_FIELD_TYPES.GEO_SHAPE:case data_common_.KBN_FIELD_TYPES.NUMBER:return"numeric";case data_common_.KBN_FIELD_TYPES.BOOLEAN:return"boolean";case data_common_.KBN_FIELD_TYPES.STRING:return"string";case data_common_.KBN_FIELD_TYPES.DATE:return"datetime";default:return"kibana-json"}}var doc_viewer_doc_viewer=__webpack_require__(96);function getDocFingerprintId(doc){const routing=doc._routing||"";return[doc._index,doc._id,routing].join("||")}function DiscoverGridFlyout({hit:hit,hits:hits,indexPattern:indexPattern,columns:columns,onFilter:onFilter,onClose:onClose,onRemoveColumn:onRemoveColumn,onAddColumn:onAddColumn,services:services,setExpandedDoc:setExpandedDoc}){const pageCount=Object(external_kbnSharedDeps_React_.useMemo)(()=>hits?hits.length:0,[hits]),activePage=Object(external_kbnSharedDeps_React_.useMemo)(()=>{const id=getDocFingerprintId(hit);return!hits||pageCount<=1?-1:function(hits,id){return hits.findIndex(h=>getDocFingerprintId(h)===id)}(hits,id)},[hits,hit,pageCount]),setPage=Object(external_kbnSharedDeps_React_.useCallback)(pageIdx=>{hits&&hits[pageIdx]&&setExpandedDoc(hits[pageIdx])},[hits,setExpandedDoc]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPortal,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyout,{onClose:onClose,size:"m","data-test-subj":"docTableDetailsFlyout"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutHeader,{hasBorder:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"s",className:"dscTable__flyoutHeader","data-test-subj":"docTableRowDetailsTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.tableRow.detailHeading",{defaultMessage:"Expanded document"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHideFor,{sizes:["xs","s","m"]},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s"},external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.tableRow.viewText",{defaultMessage:"View:"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"xs",iconType:"document",flush:"left",href:services.addBasePath(`/app/discover#/doc/${indexPattern.id}/${hit._index}?id=${encodeURIComponent(hit._id)}`),"data-test-subj":"docTableRowAction"},external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.tableRow.viewSingleDocumentLinkTextSimple",{defaultMessage:"Single document"}))),indexPattern.isTimeBased()&&indexPattern.id&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"xs",iconType:"documents",flush:"left",href:getContextUrl(String(hit._id),indexPattern.id,columns,services.filterManager,services.addBasePath),"data-test-subj":"docTableRowAction"},external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.tableRow.viewSurroundingDocumentsLinkTextSimple",{defaultMessage:"Surrounding documents"}))),-1!==activePage&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPagination,{"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.flyout.documentNavigation",{defaultMessage:"Document navigation"}),pageCount:pageCount,activePage:activePage,onPageClick:setPage,className:"dscTable__flyoutDocumentNavigation",compressed:!0,"data-test-subj":"dscDocNavigation"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutBody,null,external_kbnSharedDeps_React_default.a.createElement(doc_viewer_doc_viewer.a,{hit:hit,columns:columns,indexPattern:indexPattern,filter:(mapping,value,mode)=>{onFilter(mapping,value,mode),services.toastNotifications.addSuccess(external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.flyout.toastFilterAdded",{defaultMessage:"Filter was added"}))},onRemoveColumn:columnName=>{onRemoveColumn(columnName),services.toastNotifications.addSuccess(external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.flyout.toastColumnRemoved",{defaultMessage:"Column '{columnName}' was removed",values:{columnName:columnName}}))},onAddColumn:columnName=>{onAddColumn(columnName),services.toastNotifications.addSuccess(external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.flyout.toastColumnAdded",{defaultMessage:"Column '{columnName}' was added",values:{columnName:columnName}}))}}))))}const defaultContext={},DiscoverGridContext=external_kbnSharedDeps_React_default.a.createContext(defaultContext);var external_kbnSharedDeps_Theme_euiLightVars_=__webpack_require__(53),external_kbnSharedDeps_Theme_euiLightVars_default=__webpack_require__.n(external_kbnSharedDeps_Theme_euiLightVars_),external_kbnSharedDeps_Theme_euiDarkVars_=__webpack_require__(54),external_kbnSharedDeps_Theme_euiDarkVars_default=__webpack_require__.n(external_kbnSharedDeps_Theme_euiDarkVars_),json_code_editor=__webpack_require__(27);const ExpandButton=({rowIndex:rowIndex,setCellProps:setCellProps})=>{const{expanded:expanded,setExpanded:setExpanded,rows:rows,isDarkMode:isDarkMode}=Object(external_kbnSharedDeps_React_.useContext)(DiscoverGridContext),current=rows[rowIndex];Object(external_kbnSharedDeps_React_.useEffect)(()=>{expanded&&current&&expanded._id===current._id?setCellProps({style:{backgroundColor:isDarkMode?external_kbnSharedDeps_Theme_euiDarkVars_default.a.euiColorHighlight:external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorHighlight}}):setCellProps({style:void 0})},[expanded,current,setCellProps,isDarkMode]);const isCurrentRowExpanded=current===expanded,buttonLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.viewDoc",{defaultMessage:"Toggle dialog with details"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:buttonLabel,delay:"long"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{size:"xs",iconSize:"s","aria-label":buttonLabel,"data-test-subj":"docTableExpandToggleColumn",onClick:()=>setExpanded(isCurrentRowExpanded?void 0:current),color:isCurrentRowExpanded?"primary":"subdued",iconType:isCurrentRowExpanded?"minimize":"expand",isSelected:isCurrentRowExpanded}))},FilterInBtn=({Component:Component,rowIndex:rowIndex,columnId:columnId})=>{const context=Object(external_kbnSharedDeps_React_.useContext)(DiscoverGridContext),buttonTitle=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.filterForAria",{defaultMessage:"Filter for this {value}",values:{value:columnId}});return external_kbnSharedDeps_React_default.a.createElement(Component,{onClick:()=>{const row=context.rows[rowIndex],flattened=context.indexPattern.flattenHit(row);flattened&&context.onFilter(columnId,flattened[columnId],"+")},iconType:"plusInCircle","aria-label":buttonTitle,title:buttonTitle,"data-test-subj":"filterForButton"},external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.filterFor",{defaultMessage:"Filter for"}))},FilterOutBtn=({Component:Component,rowIndex:rowIndex,columnId:columnId})=>{const context=Object(external_kbnSharedDeps_React_.useContext)(DiscoverGridContext),buttonTitle=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.filterOutAria",{defaultMessage:"Filter out this {value}",values:{value:columnId}});return external_kbnSharedDeps_React_default.a.createElement(Component,{onClick:()=>{const row=context.rows[rowIndex],flattened=context.indexPattern.flattenHit(row);flattened&&context.onFilter(columnId,flattened[columnId],"-")},iconType:"minusInCircle","aria-label":buttonTitle,title:buttonTitle,"data-test-subj":"filterOutButton"},external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.filterOut",{defaultMessage:"Filter out"}))};function buildCellActions(field){if(field.aggregatable||field.searchable)return[FilterInBtn,FilterOutBtn]}var classnames=__webpack_require__(22),classnames_default=__webpack_require__.n(classnames);const getDocId=doc=>{const routing=doc._routing?doc._routing:"";return[doc._index,doc._id,routing].join("::")},SelectButton=({rowIndex:rowIndex})=>{const ctx=Object(external_kbnSharedDeps_React_.useContext)(DiscoverGridContext),doc=Object(external_kbnSharedDeps_React_.useMemo)(()=>ctx.rows[rowIndex],[ctx.rows,rowIndex]),id=Object(external_kbnSharedDeps_React_.useMemo)(()=>getDocId(doc),[doc]),checked=Object(external_kbnSharedDeps_React_.useMemo)(()=>ctx.selectedDocs.includes(id),[ctx.selectedDocs,id]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCheckbox,{id:id,label:"",checked:checked,"data-test-subj":"dscGridSelectDoc-"+id,onChange:()=>{if(checked){const newSelection=ctx.selectedDocs.filter(docId=>docId!==id);ctx.setSelectedDocs(newSelection)}else ctx.setSelectedDocs([...ctx.selectedDocs,id])}})};function DiscoverGridDocumentToolbarBtn({isFilterActive:isFilterActive,rows:rows,selectedDocs:selectedDocs,setIsFilterActive:setIsFilterActive,setSelectedDocs:setSelectedDocs}){const[isSelectionPopoverOpen,setIsSelectionPopoverOpen]=Object(external_kbnSharedDeps_React_.useState)(!1),getMenuItems=Object(external_kbnSharedDeps_React_.useCallback)(()=>[isFilterActive?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuItem,{"data-test-subj":"dscGridShowAllDocuments",key:"showAllDocuments",icon:"eye",onClick:()=>{setIsSelectionPopoverOpen(!1),setIsFilterActive(!1)}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.showAllDocuments",defaultMessage:"Show all documents"})):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuItem,{"data-test-subj":"dscGridShowSelectedDocuments",key:"showSelectedDocuments",icon:"eye",onClick:()=>{setIsSelectionPopoverOpen(!1),setIsFilterActive(!0)}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.showSelectedDocumentsOnly",defaultMessage:"Show selected documents only"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuItem,{"data-test-subj":"dscGridClearSelectedDocuments",key:"clearSelection",icon:"cross",onClick:()=>{setIsSelectionPopoverOpen(!1),setSelectedDocs([]),setIsFilterActive(!1)}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.clearSelection",defaultMessage:"Clear selection"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCopy,{key:"copyJsonWrapper","data-test-subj":"dscGridCopySelectedDocumentsJSON",textToCopy:rows?JSON.stringify(rows.filter(row=>selectedDocs.includes(getDocId(row)))):""},copy=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuItem,{key:"copyJSON",icon:"copyClipboard",onClick:copy},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.copyToClipboardJSON",defaultMessage:"Copy documents to clipboard (JSON)"})))],[isFilterActive,rows,selectedDocs,setIsFilterActive,setIsSelectionPopoverOpen,setSelectedDocs]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{closePopover:()=>setIsSelectionPopoverOpen(!1),isOpen:isSelectionPopoverOpen,panelPaddingSize:"none",button:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"xs",color:"text",iconType:"documents",onClick:()=>setIsSelectionPopoverOpen(!0),"data-selected-documents":selectedDocs.length,"data-test-subj":"dscGridSelectionBtn",isSelected:isFilterActive,className:classnames_default()({euiDataGrid__controlBtn:!0,"euiDataGrid__controlBtn--active":isFilterActive})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.selectedDocumentsNumber",defaultMessage:"{nr} documents selected",values:{nr:selectedDocs.length}}))},isSelectionPopoverOpen&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuPanel,{items:getMenuItems()}))}function buildEuiGridColumn(columnName,columnWidth=0,indexPattern,defaultColumns){const timeString=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.timeLabel",{defaultMessage:"Time"}),indexPatternField=indexPattern.getFieldByName(columnName),column={id:columnName,schema:getSchemaByKbnType(null==indexPatternField?void 0:indexPatternField.type),isSortable:!0===(null==indexPatternField?void 0:indexPatternField.sortable),display:"_source"===columnName?external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.grid.documentHeader",{defaultMessage:"Document"}):null==indexPatternField?void 0:indexPatternField.displayName,actions:{showHide:!defaultColumns&&columnName!==indexPattern.timeFieldName&&{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.removeColumnLabel",{defaultMessage:"Remove column"}),iconType:"cross"},showMoveLeft:!defaultColumns,showMoveRight:!defaultColumns},cellActions:indexPatternField?buildCellActions(indexPatternField):[]};return column.id===indexPattern.timeFieldName&&(column.display=`${timeString} (${indexPattern.timeFieldName})`,column.initialWidth=180),columnWidth>0&&(column.initialWidth=Number(columnWidth)),column}function getVisibleColumns(columns,indexPattern,showTimeCol){const timeFieldName=indexPattern.timeFieldName;return showTimeCol&&!columns.find(col=>col===timeFieldName)?[timeFieldName,...columns]:columns}var kibanaReact_public_=__webpack_require__(12);const EuiDataGridMemoized=external_kbnSharedDeps_React_default.a.memo(props=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDataGrid,props)),DiscoverGrid=({ariaLabelledBy:ariaLabelledBy,columns:columns,indexPattern:indexPattern,isLoading:isLoading,expandedDoc:expandedDoc,onAddColumn:onAddColumn,onFilter:onFilter,onRemoveColumn:onRemoveColumn,onResize:onResize,onSetColumns:onSetColumns,onSort:onSort,rows:rows,sampleSize:sampleSize,searchDescription:searchDescription,searchTitle:searchTitle,services:services,setExpandedDoc:setExpandedDoc,settings:settings,showTimeCol:showTimeCol,sort:sort,useNewFieldsApi:useNewFieldsApi})=>{const[selectedDocs,setSelectedDocs]=Object(external_kbnSharedDeps_React_.useState)([]),[isFilterActive,setIsFilterActive]=Object(external_kbnSharedDeps_React_.useState)(!1),displayedColumns=function(stateColumns=[],indexPattern){return stateColumns&&stateColumns.length>0&&(1!==stateColumns.length||stateColumns[0]!==indexPattern.timeFieldName)?stateColumns:["_source"]}(columns,indexPattern),defaultColumns=displayedColumns.includes("_source"),usedSelectedDocs=Object(external_kbnSharedDeps_React_.useMemo)(()=>{if(!selectedDocs.length||null==rows||!rows.length)return[];const idMap=rows.reduce((map,row)=>map.set(getDocId(row),!0),new Map),result=selectedDocs.filter(docId=>idMap.get(docId));return 0===result.length&&isFilterActive&&setIsFilterActive(!1),result},[selectedDocs,rows,isFilterActive]),displayedRows=Object(external_kbnSharedDeps_React_.useMemo)(()=>{if(!rows)return[];if(!isFilterActive||0===usedSelectedDocs.length)return rows;const rowsFiltered=rows.filter(row=>usedSelectedDocs.includes(getDocId(row)));return rowsFiltered.length?rowsFiltered:rows},[rows,usedSelectedDocs,isFilterActive]),[pagination,setPagination]=Object(external_kbnSharedDeps_React_.useState)({pageIndex:0,pageSize:100}),rowCount=Object(external_kbnSharedDeps_React_.useMemo)(()=>displayedRows?displayedRows.length:0,[displayedRows]),pageCount=Object(external_kbnSharedDeps_React_.useMemo)(()=>Math.ceil(rowCount/pagination.pageSize),[rowCount,pagination]),isOnLastPage=pagination.pageIndex===pageCount-1,paginationObj=Object(external_kbnSharedDeps_React_.useMemo)(()=>({onChangeItemsPerPage:pageSize=>setPagination(paginationData=>({...paginationData,pageSize:pageSize})),onChangePage:pageIndex=>setPagination(paginationData=>({...paginationData,pageIndex:pageIndex})),pageIndex:pagination.pageIndex>pageCount-1?0:pagination.pageIndex,pageSize:pagination.pageSize,pageSizeOptions:pageSizeArr}),[pagination,pageCount]),sortingColumns=Object(external_kbnSharedDeps_React_.useMemo)(()=>sort.map(([id,direction])=>({id:id,direction:direction})),[sort]),onTableSort=Object(external_kbnSharedDeps_React_.useCallback)(sortingColumnsData=>{onSort(sortingColumnsData.map(({id:id,direction:direction})=>[id,direction]))},[onSort]),renderCellValue=Object(external_kbnSharedDeps_React_.useMemo)(()=>((indexPattern,rows,rowsFlattened,useNewFieldsApi,maxDocFieldsDisplayed)=>({rowIndex:rowIndex,columnId:columnId,isDetails:isDetails,setCellProps:setCellProps})=>{const row=rows?rows[rowIndex]:void 0,rowFlattened=rowsFlattened?rowsFlattened[rowIndex]:void 0,field=indexPattern.fields.getByName(columnId),ctx=Object(external_kbnSharedDeps_React_.useContext)(DiscoverGridContext);if(Object(external_kbnSharedDeps_React_.useEffect)(()=>{ctx.expanded&&row&&ctx.expanded._id===row._id?setCellProps({style:{backgroundColor:ctx.isDarkMode?external_kbnSharedDeps_Theme_euiDarkVars_default.a.euiColorHighlight:external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorHighlight}}):setCellProps({style:void 0})},[ctx,row,setCellProps]),void 0===row||void 0===rowFlattened)return external_kbnSharedDeps_React_default.a.createElement("span",null,"-");if(useNewFieldsApi&&!field&&row&&row.fields&&!row.fields[columnId]){var _ref;const innerColumns=Object.fromEntries(Object.entries(row.fields).filter(([key])=>0===key.indexOf(columnId+".")));if(isDetails)return external_kbnSharedDeps_React_default.a.createElement("span",null,JSON.stringify(innerColumns,null,2));const highlights=null!==(_ref=row.highlight)&&void 0!==_ref?_ref:{},highlightPairs=[],sourcePairs=[];return Object.entries(innerColumns).forEach(([key,values])=>{var _indexPattern$fields$;const subField=indexPattern.getFieldByName(key),displayKey=indexPattern.fields.getByName?null===(_indexPattern$fields$=indexPattern.fields.getByName(key))||void 0===_indexPattern$fields$?void 0:_indexPattern$fields$.displayName:void 0,formatter=subField?indexPattern.getFormatterForField(subField):{convert:(v,...rest)=>String(v)},formatted=values.map(val=>formatter.convert(val,"html",{field:subField,hit:row,indexPattern:indexPattern})).join(", ");(highlights[key]?highlightPairs:sourcePairs).push([displayKey||key,formatted])}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{type:"inline",compressed:!0,className:"dscDiscoverGrid__descriptionList"},[...highlightPairs,...sourcePairs].slice(0,maxDocFieldsDisplayed).map(([key,value])=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,{key:key},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,key),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,{dangerouslySetInnerHTML:{__html:value},className:"dscDiscoverGrid__descriptionListDescription"}))))}if("object"==typeof rowFlattened[columnId]&&isDetails)return external_kbnSharedDeps_React_default.a.createElement(json_code_editor.a,{json:rowFlattened[columnId],width:370});if(field&&"_source"===field.type){var _ref2;if(isDetails)return external_kbnSharedDeps_React_default.a.createElement(json_code_editor.a,{json:row,width:370});const formatted=indexPattern.formatHit(row),highlights=null!==(_ref2=row.highlight)&&void 0!==_ref2?_ref2:{},highlightPairs=[],sourcePairs=[];return Object.entries(formatted).forEach(([key,val])=>{var _indexPattern$fields$2;const pairs=highlights[key]?highlightPairs:sourcePairs,displayKey=indexPattern.fields.getByName?null===(_indexPattern$fields$2=indexPattern.fields.getByName(key))||void 0===_indexPattern$fields$2?void 0:_indexPattern$fields$2.displayName:void 0;pairs.push([displayKey||key,val])}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{type:"inline",compressed:!0,className:"dscDiscoverGrid__descriptionList"},[...highlightPairs,...sourcePairs].slice(0,maxDocFieldsDisplayed).map(([key,value])=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,{key:key},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListTitle,null,key),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionListDescription,{dangerouslySetInnerHTML:{__html:value},className:"dscDiscoverGrid__descriptionListDescription"}))))}if((null==field||!field.type)&&rowFlattened&&"object"==typeof rowFlattened[columnId])return isDetails?external_kbnSharedDeps_React_default.a.createElement("span",null,JSON.stringify(rowFlattened[columnId],null,2)):external_kbnSharedDeps_React_default.a.createElement("span",null,JSON.stringify(rowFlattened[columnId]));return void 0===indexPattern.formatField(row,columnId)?external_kbnSharedDeps_React_default.a.createElement("span",null,"-"):external_kbnSharedDeps_React_default.a.createElement("span",{dangerouslySetInnerHTML:{__html:indexPattern.formatField(row,columnId)}})})(indexPattern,displayedRows,displayedRows?displayedRows.map(hit=>indexPattern.flattenHit(hit)):[],useNewFieldsApi,services.uiSettings.get(common.h)),[displayedRows,indexPattern,useNewFieldsApi,services.uiSettings]),showDisclaimer=rowCount===sampleSize&&isOnLastPage,randomId=Object(external_kbnSharedDeps_React_.useMemo)(()=>Object(external_kbnSharedDeps_ElasticEui_.htmlIdGenerator)()(),[]),euiGridColumns=Object(external_kbnSharedDeps_React_.useMemo)(()=>function(columns,settings,indexPattern,showTimeCol,defaultColumns){const timeFieldName=indexPattern.timeFieldName,getColWidth=column=>{var _settings$columns$col,_settings$columns,_settings$columns$col2;return null!==(_settings$columns$col=null==settings||null===(_settings$columns=settings.columns)||void 0===_settings$columns||null===(_settings$columns$col2=_settings$columns[column])||void 0===_settings$columns$col2?void 0:_settings$columns$col2.width)&&void 0!==_settings$columns$col?_settings$columns$col:0};if(showTimeCol&&indexPattern.timeFieldName&&!columns.find(col=>col===timeFieldName)){return[indexPattern.timeFieldName,...columns].map(column=>buildEuiGridColumn(column,getColWidth(column),indexPattern,defaultColumns))}return columns.map(column=>buildEuiGridColumn(column,getColWidth(column),indexPattern,defaultColumns))}(displayedColumns,settings,indexPattern,showTimeCol,defaultColumns),[displayedColumns,indexPattern,showTimeCol,settings,defaultColumns]),schemaDetectors=Object(external_kbnSharedDeps_React_.useMemo)(()=>[{type:"kibana-json",detector:()=>0,sortTextAsc:"",sortTextDesc:"",icon:"",color:""}],[]),columnsVisibility=Object(external_kbnSharedDeps_React_.useMemo)(()=>({visibleColumns:getVisibleColumns(displayedColumns,indexPattern,showTimeCol),setVisibleColumns:newColumns=>{onSetColumns(newColumns)}}),[displayedColumns,indexPattern,showTimeCol,onSetColumns]),sorting=Object(external_kbnSharedDeps_React_.useMemo)(()=>({columns:sortingColumns,onSort:onTableSort}),[sortingColumns,onTableSort]),lead=Object(external_kbnSharedDeps_React_.useMemo)(()=>[{id:"openDetails",width:24,headerCellRender:()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiScreenReaderOnly,null,external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.controlColumnHeader",{defaultMessage:"Control column"}))),rowCellRender:ExpandButton},{id:"select",width:24,rowCellRender:SelectButton,headerCellRender:()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiScreenReaderOnly,null,external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.selectColumnHeader",{defaultMessage:"Select column"})))}],[]),additionalControls=Object(external_kbnSharedDeps_React_.useMemo)(()=>usedSelectedDocs.length?external_kbnSharedDeps_React_default.a.createElement(DiscoverGridDocumentToolbarBtn,{isFilterActive:isFilterActive,rows:rows,selectedDocs:usedSelectedDocs,setSelectedDocs:setSelectedDocs,setIsFilterActive:setIsFilterActive}):null,[usedSelectedDocs,isFilterActive,rows,setIsFilterActive]);return rowCount?external_kbnSharedDeps_React_default.a.createElement(DiscoverGridContext.Provider,{value:{expanded:expandedDoc,setExpanded:setExpandedDoc,rows:displayedRows,onFilter:onFilter,indexPattern:indexPattern,isDarkMode:services.uiSettings.get("theme:darkMode"),selectedDocs:usedSelectedDocs,setSelectedDocs:newSelectedDocs=>{setSelectedDocs(newSelectedDocs),isFilterActive&&0===newSelectedDocs.length&&setIsFilterActive(!1)}}},external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"discoverDocTable","data-render-complete":isLoading?"false":"true","data-shared-item":"","data-title":searchTitle,"data-description":searchDescription,"data-document-number":displayedRows.length},external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_.KibanaContextProvider,{services:{uiSettings:services.uiSettings}},external_kbnSharedDeps_React_default.a.createElement(EuiDataGridMemoized,{"aria-describedby":randomId,"aria-labelledby":ariaLabelledBy,columns:euiGridColumns,columnVisibility:columnsVisibility,"data-test-subj":"docTable",gridStyle:gridStyle,leadingControlColumns:lead,onColumnResize:col=>{onResize&&onResize(col)},pagination:paginationObj,renderCellValue:renderCellValue,rowCount:rowCount,schemaDetectors:schemaDetectors,sorting:sorting,toolbarVisibility:defaultColumns?{...toolbarVisibility,showColumnSelector:!1,additionalControls:additionalControls}:{...toolbarVisibility,additionalControls:additionalControls}})),showDisclaimer&&external_kbnSharedDeps_React_default.a.createElement("p",{className:"dscDiscoverGrid__footer"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.howToSeeOtherMatchingDocumentsDescriptionGrid",defaultMessage:"These are the first {sampleSize} documents matching your search, refine your search to see others.",values:{sampleSize:sampleSize}}),external_kbnSharedDeps_React_default.a.createElement("a",{href:"#"+ariaLabelledBy},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.backToTopLinkText",defaultMessage:"Back to top."}))),searchTitle&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiScreenReaderOnly,null,external_kbnSharedDeps_React_default.a.createElement("p",{id:String(randomId)},searchDescription?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.searchGenerationWithDescriptionGrid",defaultMessage:"Table generated by search {searchTitle} ({searchDescription})",values:{searchTitle:searchTitle,searchDescription:searchDescription}}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.searchGenerationWithDescription",defaultMessage:"Table generated by search {searchTitle}",values:{searchTitle:searchTitle}}))),expandedDoc&&external_kbnSharedDeps_React_default.a.createElement(DiscoverGridFlyout,{indexPattern:indexPattern,hit:expandedDoc,hits:displayedRows,columns:defaultColumns?[]:displayedColumns,onFilter:onFilter,onRemoveColumn:onRemoveColumn,onAddColumn:onAddColumn,onClose:()=>setExpandedDoc(void 0),setExpandedDoc:setExpandedDoc,services:services}))):external_kbnSharedDeps_React_default.a.createElement("div",{className:"euiDataGrid__noResults"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"xs",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{type:"discoverApp",size:"m",color:"subdued"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResultsFound",defaultMessage:"No results found"})))};function create_discover_grid_directive_extends(){return(create_discover_grid_directive_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const DataGridMemoized=external_kbnSharedDeps_React_default.a.memo(props=>external_kbnSharedDeps_React_default.a.createElement(DiscoverGrid,props));function DiscoverGridEmbeddable(props){const[expandedDoc,setExpandedDoc]=Object(external_kbnSharedDeps_React_.useState)(void 0);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.I18nProvider,null,external_kbnSharedDeps_React_default.a.createElement(DataGridMemoized,create_discover_grid_directive_extends({},props,{setExpandedDoc:setExpandedDoc,expandedDoc:expandedDoc,services:Object(kibana_services.f)()})))}function createDiscoverGridDirective(reactDirective){return reactDirective(DiscoverGridEmbeddable,[["columns",{watchDepth:"collection"}],["indexPattern",{watchDepth:"reference"}],["isLoading",{watchDepth:"reference"}],["onAddColumn",{watchDepth:"reference",wrapApply:!1}],["onFilter",{watchDepth:"reference",wrapApply:!1}],["onRemoveColumn",{watchDepth:"reference",wrapApply:!1}],["onSetColumns",{watchDepth:"reference",wrapApply:!1}],["onSort",{watchDepth:"reference",wrapApply:!1}],["rows",{watchDepth:"collection"}],["sampleSize",{watchDepth:"reference"}],["searchDescription",{watchDepth:"reference"}],["searchTitle",{watchDepth:"reference"}],["settings",{watchDepth:"reference"}],["showTimeCol",{watchDepth:"value"}],["sort",{watchDepth:"value"}]])}function createRenderCompleteDirective(){return{controller($scope,$element){const el=$element[0],renderCompleteListener=new public_.RenderCompleteListener(el);$scope.$on("$destroy",renderCompleteListener.destroy)}}}var kibanaLegacy_public_=__webpack_require__(13),external_kbnSharedDeps_Moment_=(__webpack_require__(129),__webpack_require__(50)),external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_),external_kbnSharedDeps_KbnAnalytics_=__webpack_require__(55);__webpack_require__(138);const COMMA_SEPARATOR_RE=/(\d)(?=(\d{3})+(?!\d))/g;function HitsCounter({hits:hits,showResetButton:showResetButton,onResetQuery:onResetQuery}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.I18nProvider,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{className:"dscHitsCounter",gutterSize:"s",responsive:!1,justifyContent:"center",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("strong",{"data-test-subj":"discoverQueryHits"},String(hits).replace(COMMA_SEPARATOR_RE,"$1,"))," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.hitsPluralTitle",defaultMessage:"{hits, plural, one {hit} other {hits}}",values:{hits:hits}}))),showResetButton&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{iconType:"refresh","data-test-subj":"resetSavedSearch",onClick:onResetQuery,size:"s","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.reloadSavedSearchButton",{defaultMessage:"Reset search"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.reloadSavedSearchButton",defaultMessage:"Reset search"})))))}var target=__webpack_require__(94),target_default=__webpack_require__.n(target);__webpack_require__(147);function TimechartHeader({bucketInterval:bucketInterval,dateFormat:dateFormat,data:data,options:options,onChangeInterval:onChangeInterval,stateInterval:stateInterval}){const{timefilter:timefilter}=data.query.timefilter,{from:from,to:to}=timefilter.getTime(),timeRange={from:target_default.a.parse(from),to:target_default.a.parse(to,{roundUp:!0})},[interval,setInterval]=Object(external_kbnSharedDeps_React_.useState)(stateInterval),toMoment=Object(external_kbnSharedDeps_React_.useCallback)(datetime=>datetime?dateFormat?datetime.format(dateFormat):String(datetime):"",[dateFormat]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{setInterval(stateInterval)},[stateInterval]);return timeRange&&bucketInterval?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{className:"dscTimeChartHeader",gutterSize:"s",responsive:!1,wrap:!0,justifyContent:"center",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"eui-hideFor--m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.howToChangeTheTimeTooltip",{defaultMessage:"To change the time, use the global time filter."}),delay:"long"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{"data-test-subj":"discoverIntervalDateRange",textAlign:"center",size:"s"},`${toMoment(timeRange.from)} - ${toMoment(timeRange.to)} ${"auto"!==interval?external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.timechartHeader.timeIntervalSelect.per",{defaultMessage:"per"}):""}`))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{className:"dscTimeIntervalSelect",grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSelect,{"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.timechartHeader.timeIntervalSelect.ariaLabel",{defaultMessage:"Time interval"}),compressed:!0,id:"dscResultsIntervalSelector","data-test-subj":"discoverIntervalSelect",options:options.filter(({val:val})=>"custom"!==val).map(({display:display,val:val})=>({text:display,value:val,label:display})),value:interval,onChange:e=>{setInterval(e.target.value),onChangeInterval(e.target.value)},append:bucketInterval.scaled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIconTip,{id:"discoverIntervalIconTip",content:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.bucketIntervalTooltip",{defaultMessage:"This interval creates {bucketsDescription} to show in the selected time range, so it has been scaled to {bucketIntervalDescription}.",values:{bucketsDescription:bucketInterval.scale&&bucketInterval.scale>1?external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.bucketIntervalTooltip.tooLargeBucketsText",{defaultMessage:"buckets that are too large"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.bucketIntervalTooltip.tooManyBucketsText",{defaultMessage:"too many buckets"}),bucketIntervalDescription:bucketInterval.description}}),color:"warning",size:"s",type:"alert"}):void 0}))):null}var directives=__webpack_require__(103);__webpack_require__(156);function DiscoverNoResults({timeFieldName:timeFieldName,queryLanguage:queryLanguage,error:error,data:data}){const callOut=error?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!0,className:"dscNoResults"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResults.searchExamples.noResultsBecauseOfError",defaultMessage:"We encountered an error retrieving search results"}),color:"danger",iconType:"alert","data-test-subj":"discoverNoResultsError"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{size:"s",color:"danger",onClick:()=>data?data.search.showError(error):void 0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.showErrorMessageAgain",defaultMessage:"Show error message"})))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"dscNoResults"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResults.searchExamples.noResultsMatchSearchCriteriaTitle",defaultMessage:"No results match your search criteria"}),color:"warning",iconType:"help","data-test-subj":"discoverNoResults"}),timeFieldName?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"discoverNoResultsTimefilter"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResults.expandYourTimeRangeTitle",defaultMessage:"Expand your time range"})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResults.queryMayNotMatchTitle",defaultMessage:"One or more of the indices you’re looking at contains a date field. Your query may not match anything in the current time range, or there may not be any data at all in the currently selected time range. You can try changing the time range to one which contains data."})))):null,"lucene"===queryLanguage?function(link){const searchExamples=[{description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"200"),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResults.searchExamples.anyField200StatusCodeExampleTitle",defaultMessage:"Find requests that contain the number 200, in any field"})))},{description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"status:200"),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResults.searchExamples.statusField200StatusCodeExampleTitle",defaultMessage:"Find 200 in the status field"})))},{description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"status:[400 TO 499]"),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResults.searchExamples.400to499StatusCodeExampleTitle",defaultMessage:"Find all status codes between 400-499"})))},{description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"status:[400 TO 499] AND extension:PHP"),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResults.searchExamples.400to499StatusCodeWithPhpExtensionExampleTitle",defaultMessage:"Find status codes 400-499 with the extension php"})))},{description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,null,"status:[400 TO 499] AND (extension:php OR extension:html)"),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResults.searchExamples.400to499StatusCodeWithPhpOrHtmlExtensionExampleTitle",defaultMessage:"Find status codes 400-499 with the extension php or html"})))}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{"data-test-subj":"discoverNoResultsLucene"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResults.searchExamples.refineYourQueryTitle",defaultMessage:"Refine your query"})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResults.searchExamples.howTosearchForWebServerLogsDescription",defaultMessage:"The search bar at the top uses Elasticsearch’s support for Lucene {queryStringSyntaxLink}. Here are some examples of how you can search for web server logs that have been parsed into a few fields.",values:{queryStringSyntaxLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{target:"_blank",href:link},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.noResults.searchExamples.queryStringSyntaxLinkText",defaultMessage:"Query String syntax"}))}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiDescriptionList,{type:"column",listItems:searchExamples}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xl"}))}(Object(kibana_services.f)().docLinks.links.query.luceneQuerySyntax):null);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"center"},callOut))}__webpack_require__(165);function LoadingSpinner(){return external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscLoading"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"s","data-test-subj":"loadingSpinnerText"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.searchingTitle",defaultMessage:"Searching"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLoadingSpinner,{size:"l","data-test-subj":"loadingSpinner"}))}__webpack_require__(174),__webpack_require__(183);function StringFieldProgressBar({value:value,percent:percent,count:count}){const ariaLabel=`${value}: ${count} (${percent}%)`;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiProgress,{value:percent,max:100,color:"secondary","aria-label":ariaLabel,size:"s"})}__webpack_require__(192);function DiscoverFieldBucket({field:field,bucket:bucket,onAddFilter:onAddFilter}){const emptyTxt=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.detailViews.emptyStringText",{defaultMessage:"Empty string"}),addLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.detailViews.filterValueButtonAriaLabel",{defaultMessage:'Filter for {field}: "{value}"',values:{value:bucket.value,field:field.name}}),removeLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.detailViews.filterOutValueButtonAriaLabel",{defaultMessage:'Filter out {field}: "{value}"',values:{value:bucket.value,field:field.name}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween",responsive:!1,gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{className:"dscFieldDetails__barContainer",grow:1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"spaceBetween",gutterSize:"xs",responsive:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:1,className:"eui-textTruncate"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{title:""===bucket.display?emptyTxt:`${bucket.display}: ${bucket.count} (${bucket.percent}%)`,size:"xs",className:"eui-textTruncate"},""===bucket.display?emptyTxt:bucket.display)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"eui-textTruncate"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"secondary",size:"xs",className:"eui-textTruncate"},bucket.percent,"%"))),external_kbnSharedDeps_React_default.a.createElement(StringFieldProgressBar,{value:bucket.value,percent:bucket.percent,count:bucket.count})),field.filterable&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconSize:"s",iconType:"plusInCircle",onClick:()=>onAddFilter(field,bucket.value,"+"),"aria-label":addLabel,"data-test-subj":`plus-${field.name}-${bucket.value}`,style:{minHeight:"auto",minWidth:"auto",paddingRight:2,paddingLeft:2,paddingTop:0,paddingBottom:0}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconSize:"s",iconType:"minusInCircle",onClick:()=>onAddFilter(field,bucket.value,"-"),"aria-label":removeLabel,"data-test-subj":`minus-${field.name}-${bucket.value}`,style:{minHeight:"auto",minWidth:"auto",paddingTop:0,paddingBottom:0,paddingRight:2,paddingLeft:2}})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}))}var uiActions_public_=__webpack_require__(64);function getTriggerConstant(type){return type===data_public_.KBN_FIELD_TYPES.GEO_POINT||type===data_public_.KBN_FIELD_TYPES.GEO_SHAPE?uiActions_public_.VISUALIZE_GEO_FIELD_TRIGGER:uiActions_public_.VISUALIZE_FIELD_TRIGGER}async function getCompatibleActions(fieldName,indexPatternId,contextualFields,trigger){return await Object(kibana_services.g)().getTriggerCompatibleActions(trigger,{indexPatternId:indexPatternId,fieldName:fieldName,contextualFields:contextualFields})}__webpack_require__(201);function DiscoverFieldDetailsFooter({field:field,indexPattern:indexPattern,details:details,onAddFilter:onAddFilter}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopoverFooter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"xs",textAlign:"center"},indexPattern.metaFields.includes(field.name)||field.scripted?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.fieldChooser.detailViews.valueOfRecordsText",defaultMessage:"{value} / {totalValue} records",values:{value:details.exists,totalValue:details.total}}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{onClick:()=>onAddFilter("_exists_",field.name,"+"),"data-test-subj":"onAddFilterButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.fieldChooser.detailViews.existsInRecordsText",defaultMessage:"Exists in {value} / {totalValue} records",values:{value:details.exists,totalValue:details.total}}))))}function DiscoverFieldDetails({field:field,indexPattern:indexPattern,details:details,onAddFilter:onAddFilter,trackUiMetric:trackUiMetric,showFooter:showFooter=!0}){const warnings=function(field){let warnings=[];return field.scripted&&warnings.push(external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.discoverField.scriptedFieldsTakeLongExecuteDescription",{defaultMessage:"Scripted fields can take a long time to execute."})),warnings.length>1&&(warnings=warnings.map((function(warning,i){return(i>0?"\n":"")+(i+1)+" - "+warning}))),warnings}(field),[showVisualizeLink,setShowVisualizeLink]=Object(external_kbnSharedDeps_React_.useState)(!1),[visualizeLink,setVisualizeLink]=Object(external_kbnSharedDeps_React_.useState)("");Object(external_kbnSharedDeps_React_.useEffect)(()=>{(async function(field,indexPatternId,contextualFields){if("_id"===field.name||!indexPatternId)return!1;const trigger=getTriggerConstant(field.type);return(await getCompatibleActions(field.name,indexPatternId,contextualFields,trigger)).length>0&&field.visualizable})(field,indexPattern.id,details.columns).then(flag=>{setShowVisualizeLink(flag),async function(field,indexPatternId,contextualFields){var _compatibleActions$0$,_compatibleActions$;if(!indexPatternId)return;const triggerOptions={indexPatternId:indexPatternId,fieldName:field.name,contextualFields:contextualFields,trigger:(type=field.type,type===data_public_.KBN_FIELD_TYPES.GEO_POINT||type===data_public_.KBN_FIELD_TYPES.GEO_SHAPE?uiActions_public_.visualizeGeoFieldTrigger:uiActions_public_.visualizeFieldTrigger)};var type;const compatibleActions=await getCompatibleActions(field.name,indexPatternId,contextualFields,getTriggerConstant(field.type));return 1===compatibleActions.length?null===(_compatibleActions$0$=(_compatibleActions$=compatibleActions[0]).getHref)||void 0===_compatibleActions$0$?void 0:_compatibleActions$0$.call(_compatibleActions$,triggerOptions):void 0}(field,indexPattern.id,details.columns).then(uri=>{uri&&setVisualizeLink(uri)},()=>{setVisualizeLink("")})},()=>{setShowVisualizeLink(!1)})},[field,indexPattern.id,details.columns]);const handleVisualizeLinkClick=event=>{event.preventDefault(),trackUiMetric&&trackUiMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.CLICK,"visualize_link_click"),function(field,indexPatternId,contextualFields){if(!indexPatternId)return;const trigger=getTriggerConstant(field.type),triggerOptions={indexPatternId:indexPatternId,fieldName:field.name,contextualFields:contextualFields};Object(kibana_services.g)().getTrigger(trigger).exec(triggerOptions)}(field,indexPattern.id,details.columns)};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscFieldDetails"},details.error&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"xs"},details.error),!details.error&&external_kbnSharedDeps_React_default.a.createElement("div",{style:{marginTop:"4px"}},details.buckets.map((bucket,idx)=>external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldBucket,{key:"bucket"+idx,bucket:bucket,field:field,onAddFilter:onAddFilter}))),showVisualizeLink&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{onClick:e=>handleVisualizeLinkClick(e),href:visualizeLink,size:"s",className:"dscFieldDetails__visualizeBtn","data-test-subj":"fieldVisualize-"+field.name},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.fieldChooser.detailViews.visualizeLinkText",defaultMessage:"Visualize"})),warnings.length>0&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIconTip,{type:"alert",color:"warning",content:warnings.join(" ")}))),!details.error&&showFooter&&external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldDetailsFooter,{field:field,indexPattern:indexPattern,details:details,onAddFilter:onAddFilter}))}function getFieldTypeName(type){switch(type){case"boolean":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.booleanAriaLabel",{defaultMessage:"Boolean field"});case"conflict":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.conflictFieldAriaLabel",{defaultMessage:"Conflicting field"});case"date":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.dateFieldAriaLabel",{defaultMessage:"Date field"});case"geo_point":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.geoPointFieldAriaLabel",{defaultMessage:"Geo point field"});case"geo_shape":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.geoShapeFieldAriaLabel",{defaultMessage:"Geo shape field"});case"ip":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.ipAddressFieldAriaLabel",{defaultMessage:"IP address field"});case"murmur3":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.murmur3FieldAriaLabel",{defaultMessage:"Murmur3 field"});case"number":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.numberFieldAriaLabel",{defaultMessage:"Number field"});case"source":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.sourceFieldAriaLabel",{defaultMessage:"Source field"});case"string":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.stringFieldAriaLabel",{defaultMessage:"String field"});case"nested":return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.nestedFieldAriaLabel",{defaultMessage:"Nested field"});default:return external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldNameIcons.unknownFieldAriaLabel",{defaultMessage:"Unknown field"})}}function DiscoverField({alwaysShowActionButton:alwaysShowActionButton=!1,field:field,indexPattern:indexPattern,onAddField:onAddField,onRemoveField:onRemoveField,onAddFilter:onAddFilter,getDetails:getDetails,selected:selected,trackUiMetric:trackUiMetric,multiFields:multiFields,onEditField:onEditField,onDeleteField:onDeleteField}){var _indexPattern$getFiel;const addLabelAria=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.discoverField.addButtonAriaLabel",{defaultMessage:"Add {field} to table",values:{field:field.name}}),removeLabelAria=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.discoverField.removeButtonAriaLabel",{defaultMessage:"Remove {field} from table",values:{field:field.name}}),[infoIsOpen,setOpen]=Object(external_kbnSharedDeps_React_.useState)(!1),toggleDisplay=(f,isSelected)=>{isSelected?onRemoveField(f.name):onAddField(f.name)};function togglePopover(){setOpen(!infoIsOpen)}const getDscFieldIcon=indexPatternField=>external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_.FieldIcon,{type:indexPatternField.type,label:getFieldTypeName(indexPatternField.type),scripted:indexPatternField.scripted}),dscFieldIcon=getDscFieldIcon(field),getTitle=indexPatternField=>indexPatternField.displayName!==indexPatternField.name?external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.field.title",{defaultMessage:"{fieldName} ({fieldDisplayName})",values:{fieldName:indexPatternField.name,fieldDisplayName:indexPatternField.displayName}}):indexPatternField.displayName,getFieldName=indexPatternField=>{return external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"field-"+indexPatternField.name,title:getTitle(indexPatternField),className:"dscSidebarField__name"},(str=indexPatternField.displayName)?str.replace(/\./g,".​"):"");var str},fieldName=getFieldName(field),actionBtnClassName=classnames_default()("dscSidebarItem__action",{dscSidebarItem__mobile:alwaysShowActionButton}),getActionButton=(f,isSelected)=>"_source"===f.name||isSelected?"_source"!==f.name&&isSelected?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{delay:"long",content:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.discoverField.removeFieldTooltip",{defaultMessage:"Remove field from table"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{color:"danger",iconType:"cross",className:actionBtnClassName,onClick:ev=>{"click"===ev.type&&ev.currentTarget.focus(),ev.preventDefault(),ev.stopPropagation(),toggleDisplay(f,isSelected)},"data-test-subj":"fieldToggle-"+f.name,"aria-label":removeLabelAria})):void 0:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{delay:"long",content:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.discoverField.addFieldTooltip",{defaultMessage:"Add field as column"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconType:"plusInCircleFilled",className:actionBtnClassName,onClick:ev=>{"click"===ev.type&&ev.currentTarget.focus(),ev.preventDefault(),ev.stopPropagation(),toggleDisplay(f,!1)},"data-test-subj":"fieldToggle-"+f.name,"aria-label":addLabelAria})),actionButton=getActionButton(field,selected);if("_source"===field.type)return external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_.FieldButton,{size:"s",className:"dscSidebarItem",dataTestSubj:`field-${field.name}-showDetails`,fieldIcon:dscFieldIcon,fieldAction:actionButton,fieldName:fieldName});const fieldInfoIcon="conflict"!==field.type?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{position:"bottom",content:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.field.mappingConflict",{defaultMessage:"This field is defined as several types (string, integer, etc) across the indices that match this pattern.You may still be able to use this conflicting field, but it will be unavailable for functions that require Kibana to know their type. Correcting this issue will require reindexing your data."})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{tabIndex:0,type:"alert",title:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.field.mappingConflict.title",{defaultMessage:"Mapping Conflict"}),size:"s"})),shouldRenderMultiFields=!!multiFields,isRuntimeField=Boolean(null===(_indexPattern$getFiel=indexPattern.getFieldByName(field.name))||void 0===_indexPattern$getFiel?void 0:_indexPattern$getFiel.runtimeField),isUnknownField="unknown"===field.type||"unknown_selected"===field.type,canEditField=onEditField&&(!isUnknownField||isRuntimeField),canDeleteField=onDeleteField&&isRuntimeField,popoverTitle=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopoverTitle,{style:{textTransform:"none"},className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{responsive:!1,gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!0},external_kbnSharedDeps_React_default.a.createElement("h5",null,field.displayName)),canEditField&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,"data-test-subj":"discoverFieldListPanelEditItem"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{onClick:()=>{onEditField&&(togglePopover(),onEditField(field.name))},iconType:"pencil","data-test-subj":"discoverFieldListPanelEdit-"+field.name,"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.discoverField.editFieldLabel",{defaultMessage:"Edit index pattern field"})})),canDeleteField&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,"data-test-subj":"discoverFieldListPanelDeleteItem"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiToolTip,{content:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.discoverField.deleteFieldLabel",{defaultMessage:"Delete index pattern field"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{onClick:()=>{onDeleteField&&onDeleteField(field.name)},iconType:"trash","data-test-subj":"discoverFieldListPanelDelete-"+field.name,color:"danger","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.discoverField.deleteFieldLabel",{defaultMessage:"Delete index pattern field"})})))));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{display:"block",button:external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_.FieldButton,{size:"s",className:"dscSidebarItem",isActive:infoIsOpen,onClick:()=>{togglePopover()},dataTestSubj:`field-${field.name}-showDetails`,fieldIcon:dscFieldIcon,fieldAction:actionButton,fieldName:fieldName,fieldInfoIcon:fieldInfoIcon}),isOpen:infoIsOpen,closePopover:()=>setOpen(!1),anchorPosition:"rightUp",panelClassName:"dscSidebarItem__fieldPopoverPanel"},popoverTitle,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xxxs"},external_kbnSharedDeps_React_default.a.createElement("h5",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.discoverField.fieldTopValuesLabel",{defaultMessage:"Top 5 values"}))),infoIsOpen&&external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldDetails,{indexPattern:indexPattern,field:field,details:getDetails(field),onAddFilter:onAddFilter,trackUiMetric:trackUiMetric,showFooter:!shouldRenderMultiFields}),shouldRenderMultiFields?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,multiFields?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xxxs"},external_kbnSharedDeps_React_default.a.createElement("h5",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.discoverField.multiFields",{defaultMessage:"Multi fields"}))),multiFields.map(entry=>external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_.FieldButton,{size:"s",className:"dscSidebarItem dscSidebarItem--multi",isActive:!1,onClick:()=>{},dataTestSubj:`field-${entry.field.name}-showDetails`,fieldIcon:getDscFieldIcon(entry.field),fieldAction:getActionButton(entry.field,entry.isSelected),fieldName:getFieldName(entry.field),key:entry.field.name}))):null,external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldDetailsFooter,{indexPattern:indexPattern,field:field,details:getDetails(field),onAddFilter:onAddFilter})):null)}function change_indexpattern_extends(){return(change_indexpattern_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ChangeIndexPattern({indexPatternRefs:indexPatternRefs,indexPatternId:indexPatternId,onChangeIndexPattern:onChangeIndexPattern,trigger:trigger,selectableProps:selectableProps}){const[isPopoverOpen,setPopoverIsOpen]=Object(external_kbnSharedDeps_React_.useState)(!1);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{button:function(){const{label:label,title:title,...rest}=trigger;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,change_indexpattern_extends({fullWidth:!0,color:"text",iconSide:"right",iconType:"arrowDown",title:title,onClick:()=>setPopoverIsOpen(!isPopoverOpen)},rest),external_kbnSharedDeps_React_default.a.createElement("strong",null,label))}(),isOpen:isPopoverOpen,closePopover:()=>setPopoverIsOpen(!1),display:"block",panelPaddingSize:"s"},external_kbnSharedDeps_React_default.a.createElement("div",{style:{width:320}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopoverTitle,null,external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.indexPattern.changeIndexPatternTitle",{defaultMessage:"Change index pattern"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSelectable,change_indexpattern_extends({"data-test-subj":"indexPattern-switcher"},selectableProps,{searchable:!0,singleSelection:"always",options:indexPatternRefs.map(({title:title,id:id})=>({label:title,key:id,value:id,checked:id===indexPatternId?"on":void 0})),onChange:choices=>{const choice=choices.find(({checked:checked})=>checked);onChangeIndexPattern(choice.value),setPopoverIsOpen(!1)},searchProps:{compressed:!0,...selectableProps?selectableProps.searchProps:void 0}}),(list,search)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,search,list))))}function DiscoverIndexPattern({config:config,indexPatternList:indexPatternList,selectedIndexPattern:selectedIndexPattern,indexPatterns:indexPatterns,state:state,setAppState:setAppState}){const options=(indexPatternList||[]).map(entity=>({id:entity.id,title:entity.attributes.title})),{id:selectedId,title:selectedTitle}=selectedIndexPattern||{},setIndexPattern=Object(external_kbnSharedDeps_React_.useCallback)(async id=>{const nextIndexPattern=await indexPatterns.get(id);if(nextIndexPattern&&selectedIndexPattern){const nextAppState=function(currentIndexPattern,nextIndexPattern,currentColumns,currentSort,modifyColumns=!0,sortDirection="desc"){const nextColumns=modifyColumns?currentColumns.filter(column=>nextIndexPattern.fields.getByName(column)||!currentIndexPattern.fields.getByName(column)):currentColumns,columns=nextColumns.length?nextColumns:[],nextSort=Object(doc_table.b)(currentSort,nextIndexPattern).filter(value=>nextIndexPattern.timeFieldName||value[0]!==currentIndexPattern.timeFieldName);return{index:nextIndexPattern.id,columns:columns,sort:nextIndexPattern.timeFieldName&&!nextSort.length?[[nextIndexPattern.timeFieldName,sortDirection]]:nextSort}}(selectedIndexPattern,nextIndexPattern,state.columns||[],state.sort||[],config.get(common.i),config.get(common.m));setAppState(nextAppState)}},[selectedIndexPattern,state,config,indexPatterns,setAppState]),[selected,setSelected]=Object(external_kbnSharedDeps_React_.useState)({id:selectedId,title:selectedTitle||""});return Object(external_kbnSharedDeps_React_.useEffect)(()=>{const{id:id,title:title}=selectedIndexPattern;setSelected({id:id,title:title})},[selectedIndexPattern]),selectedId?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.I18nProvider,null,external_kbnSharedDeps_React_default.a.createElement(ChangeIndexPattern,{trigger:{label:selected.title,title:selected.title,"data-test-subj":"indexPattern-switch-link"},indexPatternId:selected.id,indexPatternRefs:options,onChangeIndexPattern:id=>{const indexPattern=options.find(pattern=>pattern.id===id);indexPattern&&(setIndexPattern(id),setSelected(indexPattern))}})):null}__webpack_require__(210);function DiscoverFieldSearch({onChange:onChange,value:value,types:types,useNewFieldsApi:useNewFieldsApi}){const searchPlaceholder=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.searchPlaceHolder",{defaultMessage:"Search field names"}),aggregatableLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.filter.aggregatableLabel",{defaultMessage:"Aggregatable"}),searchableLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.filter.searchableLabel",{defaultMessage:"Searchable"}),typeLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.filter.typeLabel",{defaultMessage:"Type"}),typeOptions=types?types.map(type=>({value:type,text:type})):[{value:"any",text:"any"}],[activeFiltersCount,setActiveFiltersCount]=Object(external_kbnSharedDeps_React_.useState)(0),[isPopoverOpen,setPopoverOpen]=Object(external_kbnSharedDeps_React_.useState)(!1),[values,setValues]=Object(external_kbnSharedDeps_React_.useState)({searchable:"any",aggregatable:"any",type:"any",missing:!0});if("string"!=typeof value)return null;const filterBtnAriaLabel=isPopoverOpen?external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.toggleFieldFilterButtonHideAriaLabel",{defaultMessage:"Hide field filter settings"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.toggleFieldFilterButtonShowAriaLabel",{defaultMessage:"Show field filter settings"}),isFilterActive=(name,filterValue)=>"missing"!==name&&"any"!==filterValue,handleValueChange=(name,filterValue)=>{const previousValue=values[name];updateFilterCount(name,previousValue,filterValue);const updatedValues={...values};updatedValues[name]=filterValue,setValues(updatedValues),((id,filterValue)=>{switch(filterValue){case"any":onChange(id,"type"!==id?void 0:filterValue);break;case"true":onChange(id,!0);break;case"false":onChange(id,!1);break;default:onChange(id,filterValue)}})(name,filterValue)},updateFilterCount=(name,previousValue,currentValue)=>{const previouslyFilterActive=isFilterActive(name,previousValue),filterActive=isFilterActive(name,currentValue),diff=Number(filterActive)-Number(previouslyFilterActive);setActiveFiltersCount(activeFiltersCount+diff)},handleMissingChange=e=>{const missingValue=e.target.checked;handleValueChange("missing",missingValue)},buttonContent=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterButton,{"aria-label":filterBtnAriaLabel,"data-test-subj":"toggleFieldFilterButton",iconType:"arrowDown",isSelected:activeFiltersCount>0,numFilters:0,hasActiveFilters:activeFiltersCount>0,numActiveFilters:activeFiltersCount,onClick:()=>{setPopoverOpen(!isPopoverOpen)}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.fieldChooser.fieldFilterButtonLabel",defaultMessage:"Filter by type"})),toggleButtons=id=>[{id:id+"-any",label:"any"},{id:id+"-true",label:"yes"},{id:id+"-false",label:"no"}],buttonGroup=(id,legend)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonGroup,{legend:legend,options:toggleButtons(id),idSelected:`${id}-${values[id]}`,onChange:optionId=>handleValueChange(id,optionId.replace(id+"-","")),buttonSize:"compressed",isFullWidth:!0,"data-test-subj":id+"ButtonGroup"}),selectionPanel=external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscFieldSearch__formWrapper"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiForm,{"data-test-subj":"filterSelectionPanel"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,label:aggregatableLabel,display:"columnCompressed"},buttonGroup("aggregatable",aggregatableLabel)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,label:searchableLabel,display:"columnCompressed"},buttonGroup("searchable",searchableLabel)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,label:typeLabel,display:"columnCompressed"},(id="type",selectOptions=typeOptions,selectValue=values.type,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSelect,{id:id+"-select",options:selectOptions,value:selectValue,onChange:e=>handleValueChange(id,e.target.value),"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.filter.fieldSelectorLabel",{defaultMessage:"Selection of {id} filter options",values:{id:id}}),"data-test-subj":id+"Select",compressed:!0})))));var id,selectOptions,selectValue;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{responsive:!1,gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldSearch,{"aria-label":searchPlaceholder,"data-test-subj":"fieldFilterSearchInput",fullWidth:!0,onChange:event=>onChange("name",event.currentTarget.value),placeholder:searchPlaceholder,value:value}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiOutsideClickDetector,{onOutsideClick:()=>{},isDisabled:!isPopoverOpen},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterGroup,{className:"dscFieldSearch__filterWrapper"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{id:"dataPanelTypeFilter",panelClassName:"euiFilterGroup__popoverPanel",panelPaddingSize:"none",anchorPosition:"rightUp",display:"block",isOpen:isPopoverOpen,closePopover:()=>{setPopoverOpen(!1)},button:buttonContent},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopoverTitle,{paddingSize:"s"},external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.filter.filterByTypeLabel",{defaultMessage:"Filter by type"})),selectionPanel,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopoverFooter,{paddingSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSwitch,{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.filter.hideMissingFieldsLabel",{defaultMessage:"Hide missing fields"}),checked:values.missing,onChange:handleMissingChange,"data-test-subj":"missingSwitch"}))))))}function isFieldFiltered(field,filterState,fieldCounts){const matchFilter="any"===filterState.type||field.type===filterState.type,isAggregatable=null===filterState.aggregatable||field.aggregatable===filterState.aggregatable,isSearchable=null===filterState.searchable||field.searchable===filterState.searchable,scriptedOrMissing=!filterState.missing||"_source"===field.type||"unknown_selected"===field.type||field.scripted||fieldCounts[field.name]>0,needle=filterState.name?filterState.name.toLowerCase():"",haystack=`${field.name}${field.displayName||""}`.toLowerCase(),matchName=!filterState.name||-1!==haystack.indexOf(needle);return matchFilter&&isAggregatable&&isSearchable&&scriptedOrMissing&&matchName}function getFieldValues(hits,field,indexPattern){const name=field.name,flattenHit=indexPattern.flattenHit;return external_kbnSharedDeps_Lodash_default.a.map(hits,(function(hit){return flattenHit(hit)[name]}))}function _countMissing(array){return array.length-external_kbnSharedDeps_Lodash_default.a.without(array,void 0,null).length}function _groupValues(allValues,params){const groups={};let k;return allValues.forEach((function(value){if(external_kbnSharedDeps_Lodash_default.a.isObject(value)&&!Array.isArray(value))throw new Error(external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.fieldCalculator.analysisIsNotAvailableForObjectFieldsErrorMessage",{defaultMessage:"Analysis is not available for object fields."}));k=Array.isArray(value)&&!params.grouped?value:null==value?void 0:[value],external_kbnSharedDeps_Lodash_default.a.each(k,(function(key){groups.hasOwnProperty(key)?groups[key].count++:groups[key]={value:params.grouped?value:key,count:1}}))})),groups}const fieldCalculator={_groupValues:_groupValues,_countMissing:_countMissing,getFieldValues:getFieldValues,getFieldValueCounts:function(params){if("geo_point"===(params=external_kbnSharedDeps_Lodash_default.a.defaults(params,{count:5,grouped:!1})).field.type||"geo_shape"===params.field.type||"attachment"===params.field.type)return{error:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.fieldCalculator.analysisIsNotAvailableForGeoFieldsErrorMessage",{defaultMessage:"Analysis is not available for geo fields."})};const allValues=getFieldValues(params.hits,params.field,params.indexPattern);let counts;const missing=_countMissing(allValues);try{const groups=_groupValues(allValues,params);return counts=external_kbnSharedDeps_Lodash_default.a.map(external_kbnSharedDeps_Lodash_default.a.sortBy(groups,"count").reverse().slice(0,params.count),(function(bucket){return{value:bucket.value,count:bucket.count,percent:(bucket.count/(params.hits.length-missing)*100).toFixed(1)}})),params.hits.length-missing==0?{error:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.fieldCalculator.fieldIsNotPresentInDocumentsErrorMessage",{defaultMessage:"This field is present in your Elasticsearch mapping but not in the {hitsLength} documents shown in the doc table. You may still be able to visualize or search on it.",values:{hitsLength:params.hits.length}})}:{total:params.hits.length,exists:params.hits.length-missing,missing:missing,buckets:counts}}catch(e){return{error:e.message}}}};var nested_fields=__webpack_require__(26);function DiscoverIndexPatternManagement(props){const{indexPatternFieldEditor:indexPatternFieldEditor,core:core}=props.services,{useNewFieldsApi:useNewFieldsApi,selectedIndexPattern:selectedIndexPattern,editField:editField}=props,canEditIndexPatternField=!!(null==indexPatternFieldEditor?void 0:indexPatternFieldEditor.userPermissions.editIndexPattern())&&useNewFieldsApi,[isAddIndexPatternFieldPopoverOpen,setIsAddIndexPatternFieldPopoverOpen]=Object(external_kbnSharedDeps_React_.useState)(!1);if(!useNewFieldsApi||!selectedIndexPattern||!canEditIndexPatternField)return null;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{panelPaddingSize:"s",isOpen:isAddIndexPatternFieldPopoverOpen,closePopover:()=>{setIsAddIndexPatternFieldPopoverOpen(!1)},ownFocus:!0,"data-test-subj":"discover-addRuntimeField-popover",button:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{color:"text",iconType:"boxesHorizontal","data-test-subj":"discoverIndexPatternActions","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.indexPatterns.actionsPopoverLabel",{defaultMessage:"Index pattern settings"}),onClick:()=>{setIsAddIndexPatternFieldPopoverOpen(!isAddIndexPatternFieldPopoverOpen)}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuPanel,{size:"s",items:[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuItem,{key:"add",icon:"indexOpen","data-test-subj":"indexPattern-add-field",onClick:()=>{setIsAddIndexPatternFieldPopoverOpen(!1),editField(void 0)}},external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.indexPatterns.addFieldButton",{defaultMessage:"Add field to index pattern"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuItem,{key:"manage",icon:"indexSettings",onClick:()=>{var _props$selectedIndexP;setIsAddIndexPatternFieldPopoverOpen(!1),core.application.navigateToApp("management",{path:"/kibana/indexPatterns/patterns/"+(null===(_props$selectedIndexP=props.selectedIndexPattern)||void 0===_props$selectedIndexP?void 0:_props$selectedIndexP.id)})}},external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.indexPatterns.manageFieldButton",{defaultMessage:"Manage index pattern fields"}))]}))}function DiscoverSidebar({alwaysShowActionButtons:alwaysShowActionButtons=!1,columns:columns,config:config,fieldCounts:fieldCounts,fieldFilter:fieldFilter,hits:hits,indexPatternList:indexPatternList,indexPatterns:indexPatterns,onAddField:onAddField,onAddFilter:onAddFilter,onRemoveField:onRemoveField,selectedIndexPattern:selectedIndexPattern,services:services,setAppState:setAppState,setFieldFilter:setFieldFilter,state:state,trackUiMetric:trackUiMetric,useNewFieldsApi:useNewFieldsApi=!1,useFlyout:useFlyout=!1,unmappedFieldsConfig:unmappedFieldsConfig,onEditRuntimeField:onEditRuntimeField,setFieldEditorRef:setFieldEditorRef,closeFlyout:closeFlyout,editField:editField}){const[fields,setFields]=Object(external_kbnSharedDeps_React_.useState)(null),{indexPatternFieldEditor:indexPatternFieldEditor}=services,canEditIndexPatternField=!!(null==indexPatternFieldEditor?void 0:indexPatternFieldEditor.userPermissions.editIndexPattern())&&useNewFieldsApi,[scrollContainer,setScrollContainer]=Object(external_kbnSharedDeps_React_.useState)(null),[fieldsToRender,setFieldsToRender]=Object(external_kbnSharedDeps_React_.useState)(50),[fieldsPerPage,setFieldsPerPage]=Object(external_kbnSharedDeps_React_.useState)(50),availableFieldsContainer=Object(external_kbnSharedDeps_React_.useRef)(null);Object(external_kbnSharedDeps_React_.useEffect)(()=>{const newFields=function(indexPattern,fieldCounts){if(!indexPattern||!fieldCounts)return[];const fieldNamesInDocs=Object.keys(fieldCounts),fieldNamesInIndexPattern=indexPattern.fields.getAll().map(fld=>fld.name),unknownFields=[];return Object(external_kbnSharedDeps_Lodash_.difference)(fieldNamesInDocs,fieldNamesInIndexPattern).forEach(unknownFieldName=>{Object(nested_fields.a)(unknownFieldName,indexPattern)?unknownFields.push({displayName:String(unknownFieldName),name:String(unknownFieldName),type:"nested"}):unknownFields.push({displayName:String(unknownFieldName),name:String(unknownFieldName),type:"unknown"})}),[...indexPattern.fields.getAll(),...unknownFields]}(selectedIndexPattern,fieldCounts);setFields(newFields)},[selectedIndexPattern,fieldCounts,hits]);const scrollDimensions=Object(external_kbnSharedDeps_ElasticEui_.useResizeObserver)(scrollContainer),onChangeFieldSearch=Object(external_kbnSharedDeps_React_.useCallback)((field,value)=>{const newState=function(state,name,value){const newState={...state};return"missing"===name?newState.missing=Boolean(value):"aggregatable"===name?newState.aggregatable="boolean"!=typeof value?null:value:"searchable"===name?newState.searchable="boolean"!=typeof value?null:value:"name"===name?newState.name=String(value):"type"===name&&(newState.type=String(value)),newState}(fieldFilter,field,value);setFieldFilter(newState),setFieldsToRender(fieldsPerPage)},[fieldFilter,setFieldFilter,setFieldsToRender,fieldsPerPage]),getDetailsByField=Object(external_kbnSharedDeps_React_.useCallback)(ipField=>function(field,hits,columns,indexPattern){if(!indexPattern)return{};const details={...fieldCalculator.getFieldValueCounts({hits:hits,field:field,indexPattern:indexPattern,count:5,grouped:!1}),columns:columns};if(details.buckets)for(const bucket of details.buckets)bucket.display=indexPattern.getFormatterForField(field).convert(bucket.value);return details}(ipField,hits,columns,selectedIndexPattern),[hits,columns,selectedIndexPattern]),popularLimit=Object(external_kbnSharedDeps_React_.useMemo)(()=>services.uiSettings.get(common.g),[services.uiSettings]),{selected:selectedFields,popular:popularFields,unpopular:unpopularFields}=Object(external_kbnSharedDeps_React_.useMemo)(()=>function(fields,columns,popularLimit,fieldCounts,fieldFilterState,useNewFieldsApi,showUnmappedFields=!0){const result={selected:[],popular:[],unpopular:[]};if(!Array.isArray(fields)||!Array.isArray(columns)||"object"!=typeof fieldCounts)return result;const popular=fields.filter(field=>!columns.includes(field.name)&&field.count).sort((a,b)=>(b.count||0)-(a.count||0)).map(field=>field.name).slice(0,popularLimit),fieldsSorted=fields.sort((a,b)=>a.displayName?a.displayName.localeCompare(b.displayName||""):0);for(const field of fieldsSorted){var _field$spec,_field$spec$subType,_field$spec$subType$m;if(!isFieldFiltered(field,fieldFilterState,fieldCounts))continue;const isSubfield=useNewFieldsApi&&(null===(_field$spec=field.spec)||void 0===_field$spec||null===(_field$spec$subType=_field$spec.subType)||void 0===_field$spec$subType||null===(_field$spec$subType$m=_field$spec$subType.multi)||void 0===_field$spec$subType$m?void 0:_field$spec$subType$m.parent);columns.includes(field.name)?result.selected.push(field):popular.includes(field.name)&&"_source"!==field.type?isSubfield||result.popular.push(field):"_source"!==field.type&&((!useNewFieldsApi||"unknown"===field.type&&!showUnmappedFields||isSubfield)&&useNewFieldsApi||result.unpopular.push(field))}for(const column of columns){const tmpField={name:column,displayName:column,type:"unknown_selected"};!result.selected.find(field=>field.name===column)&&isFieldFiltered(tmpField,fieldFilterState,fieldCounts)&&result.selected.push(tmpField)}return result.selected.sort((a,b)=>columns.indexOf(a.name)-columns.indexOf(b.name)),result}(fields,columns,popularLimit,fieldCounts,fieldFilter,useNewFieldsApi,!(null==unmappedFieldsConfig||!unmappedFieldsConfig.showUnmappedFields)),[fields,columns,popularLimit,fieldCounts,fieldFilter,useNewFieldsApi,null==unmappedFieldsConfig?void 0:unmappedFieldsConfig.showUnmappedFields]),paginate=Object(external_kbnSharedDeps_React_.useCallback)(()=>{const newFieldsToRender=fieldsToRender+Math.round(.5*fieldsPerPage);setFieldsToRender(Math.max(fieldsPerPage,Math.min(newFieldsToRender,unpopularFields.length)))},[setFieldsToRender,fieldsToRender,unpopularFields,fieldsPerPage]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{if(scrollContainer&&unpopularFields.length&&availableFieldsContainer.current){const{clientHeight:clientHeight,scrollHeight:scrollHeight}=scrollContainer,isScrollable=scrollHeight>clientHeight,allFieldsRendered=fieldsToRender>=unpopularFields.length;if(!isScrollable&&!allFieldsRendered){const fieldsRenderedHeight=availableFieldsContainer.current.clientHeight,avgHeightPerItem=Math.round(fieldsRenderedHeight/fieldsToRender),newFieldsPerPage=Math.round(clientHeight/avgHeightPerItem)+10;newFieldsPerPage>=50&&newFieldsPerPage!==fieldsPerPage&&(setFieldsPerPage(newFieldsPerPage),setFieldsToRender(newFieldsPerPage))}}},[fieldsPerPage,scrollContainer,unpopularFields,fieldsToRender,setFieldsPerPage,setFieldsToRender,scrollDimensions]);const lazyScroll=Object(external_kbnSharedDeps_React_.useCallback)(()=>{if(scrollContainer){const{scrollTop:scrollTop,clientHeight:clientHeight,scrollHeight:scrollHeight}=scrollContainer;scrollTop+clientHeight>.9*scrollHeight&&unpopularFields&&paginate()}},[paginate,scrollContainer,unpopularFields]),fieldTypes=Object(external_kbnSharedDeps_React_.useMemo)(()=>{const result=["any"];if(Array.isArray(fields))for(const field of fields)-1===result.indexOf(field.type)&&result.push(field.type);return result},[fields]),multiFields=Object(external_kbnSharedDeps_React_.useMemo)(()=>{if(!useNewFieldsApi||!fields)return;const map=new Map;return fields.forEach(field=>{var _field$spec,_field$spec$subType,_field$spec$subType$m,_map$get;const parent=null===(_field$spec=field.spec)||void 0===_field$spec||null===(_field$spec$subType=_field$spec.subType)||void 0===_field$spec$subType||null===(_field$spec$subType$m=_field$spec$subType.multi)||void 0===_field$spec$subType$m?void 0:_field$spec$subType$m.parent;if(!parent)return;const multiField={field:field,isSelected:selectedFields.includes(field)},value=null!==(_map$get=map.get(parent))&&void 0!==_map$get?_map$get:[];value.push(multiField),map.set(parent,value)}),map},[fields,useNewFieldsApi,selectedFields]),deleteField=Object(external_kbnSharedDeps_React_.useMemo)(()=>canEditIndexPatternField&&selectedIndexPattern?async fieldName=>{const ref=indexPatternFieldEditor.openDeleteModal({ctx:{indexPattern:selectedIndexPattern},fieldName:fieldName,onDelete:async()=>{onEditRuntimeField()}});setFieldEditorRef&&setFieldEditorRef(ref),closeFlyout&&closeFlyout()}:void 0,[selectedIndexPattern,canEditIndexPatternField,setFieldEditorRef,closeFlyout,onEditRuntimeField,indexPatternFieldEditor]),getPaginated=Object(external_kbnSharedDeps_React_.useCallback)(list=>list.slice(0,fieldsToRender),[fieldsToRender]),filterChanged=Object(external_kbnSharedDeps_React_.useMemo)(()=>Object(external_kbnSharedDeps_Lodash_.isEqual)(fieldFilter,{missing:!0,type:"any",name:"",aggregatable:null,searchable:null}),[fieldFilter]);return selectedIndexPattern&&fields?useFlyout?external_kbnSharedDeps_React_default.a.createElement("section",{"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.filter.indexAndFieldsSectionAriaLabel",{defaultMessage:"Index and fields"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{direction:"row",gutterSize:"s",alignItems:"center",responsive:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!0},external_kbnSharedDeps_React_default.a.createElement(DiscoverIndexPattern,{config:config,selectedIndexPattern:selectedIndexPattern,indexPatternList:Object(external_kbnSharedDeps_Lodash_.sortBy)(indexPatternList,o=>o.attributes.title),indexPatterns:indexPatterns,state:state,setAppState:setAppState})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(DiscoverIndexPatternManagement,{services:services,selectedIndexPattern:selectedIndexPattern,editField:editField,useNewFieldsApi:useNewFieldsApi})))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageSideBar,{className:"dscSidebar","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.filter.indexAndFieldsSectionAriaLabel",{defaultMessage:"Index and fields"}),id:"discover-sidebar","data-test-subj":"discover-sidebar"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{className:"dscSidebar__group",direction:"column",alignItems:"stretch",gutterSize:"s",responsive:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{direction:"row",alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!0,className:"dscSidebar__indexPatternSwitcher"},external_kbnSharedDeps_React_default.a.createElement(DiscoverIndexPattern,{config:config,selectedIndexPattern:selectedIndexPattern,indexPatternList:Object(external_kbnSharedDeps_Lodash_.sortBy)(indexPatternList,o=>o.attributes.title),indexPatterns:indexPatterns,state:state,setAppState:setAppState})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(DiscoverIndexPatternManagement,{services:services,selectedIndexPattern:selectedIndexPattern,useNewFieldsApi:useNewFieldsApi,editField:editField})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement("form",null,external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldSearch,{onChange:onChangeFieldSearch,value:fieldFilter.name,types:fieldTypes,useNewFieldsApi:useNewFieldsApi}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{className:"eui-yScroll"},external_kbnSharedDeps_React_default.a.createElement("div",{ref:el=>{el&&!el.dataset.dynamicScroll&&(el.dataset.dynamicScroll="true",setScrollContainer(el))},onScroll:Object(external_kbnSharedDeps_Lodash_.throttle)(lazyScroll,100),className:"eui-yScroll"},fields.length>0&&external_kbnSharedDeps_React_default.a.createElement("div",null,selectedFields&&selectedFields.length>0&&"_source"!==selectedFields[0].displayName?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiAccordion,{id:"dscSelectedFields",initialIsOpen:!0,buttonContent:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"xs",id:"selected_fields"},external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.fieldChooser.filter.selectedFieldsTitle",defaultMessage:"Selected fields"}))),extraAction:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiNotificationBadge,{color:filterChanged?"subdued":"accent",size:"m"},selectedFields.length)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement("ul",{className:"dscFieldList","aria-labelledby":"selected_fields","data-test-subj":"fieldList-selected"},selectedFields.map(field=>external_kbnSharedDeps_React_default.a.createElement("li",{key:"field"+field.name,"data-attr-field":field.name},external_kbnSharedDeps_React_default.a.createElement(DiscoverField,{alwaysShowActionButton:alwaysShowActionButtons,field:field,indexPattern:selectedIndexPattern,onAddField:onAddField,onRemoveField:onRemoveField,onAddFilter:onAddFilter,getDetails:getDetailsByField,selected:!0,trackUiMetric:trackUiMetric,multiFields:null==multiFields?void 0:multiFields.get(field.name),onEditField:canEditIndexPatternField?editField:void 0,onDeleteField:canEditIndexPatternField?deleteField:void 0}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"})," "):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiAccordion,{id:"dscAvailableFields",initialIsOpen:!0,buttonContent:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"xs",id:"available_fields"},external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.fieldChooser.filter.availableFieldsTitle",defaultMessage:"Available fields"}))),extraAction:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiNotificationBadge,{size:"m",color:filterChanged?"subdued":"accent"},popularFields.length+unpopularFields.length)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),popularFields.length>0&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xxxs",className:"dscFieldListHeader"},external_kbnSharedDeps_React_default.a.createElement("h4",{id:"available_fields_popular"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.fieldChooser.filter.popularTitle",defaultMessage:"Popular"}))),external_kbnSharedDeps_React_default.a.createElement("ul",{className:"dscFieldList dscFieldList--popular","aria-labelledby":"available_fields available_fields_popular","data-test-subj":"fieldList-popular"},popularFields.map(field=>external_kbnSharedDeps_React_default.a.createElement("li",{key:"field"+field.name,"data-attr-field":field.name},external_kbnSharedDeps_React_default.a.createElement(DiscoverField,{alwaysShowActionButton:alwaysShowActionButtons,field:field,indexPattern:selectedIndexPattern,onAddField:onAddField,onRemoveField:onRemoveField,onAddFilter:onAddFilter,getDetails:getDetailsByField,trackUiMetric:trackUiMetric,multiFields:null==multiFields?void 0:multiFields.get(field.name),onEditField:canEditIndexPatternField?editField:void 0,onDeleteField:canEditIndexPatternField?deleteField:void 0}))))),external_kbnSharedDeps_React_default.a.createElement("ul",{className:"dscFieldList dscFieldList--unpopular","aria-labelledby":"available_fields","data-test-subj":"fieldList-unpopular",ref:availableFieldsContainer},getPaginated(unpopularFields).map(field=>external_kbnSharedDeps_React_default.a.createElement("li",{key:"field"+field.name,"data-attr-field":field.name},external_kbnSharedDeps_React_default.a.createElement(DiscoverField,{alwaysShowActionButton:alwaysShowActionButtons,field:field,indexPattern:selectedIndexPattern,onAddField:onAddField,onRemoveField:onRemoveField,onAddFilter:onAddFilter,getDetails:getDetailsByField,trackUiMetric:trackUiMetric,multiFields:null==multiFields?void 0:multiFields.get(field.name),onEditField:canEditIndexPatternField?editField:void 0,onDeleteField:canEditIndexPatternField?deleteField:void 0})))))))))):null}function discover_sidebar_responsive_extends(){return(discover_sidebar_responsive_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function DiscoverSidebarResponsive(props){const[fieldFilter,setFieldFilter]=Object(external_kbnSharedDeps_React_.useState)({missing:!0,type:"any",name:"",aggregatable:null,searchable:null}),[isFlyoutVisible,setIsFlyoutVisible]=Object(external_kbnSharedDeps_React_.useState)(!1),closeFieldEditor=Object(external_kbnSharedDeps_React_.useRef)();if(Object(external_kbnSharedDeps_React_.useEffect)(()=>()=>{null!=closeFieldEditor&&closeFieldEditor.current&&(null==closeFieldEditor||closeFieldEditor.current())},[]),!props.selectedIndexPattern)return null;const setFieldEditorRef=ref=>{closeFieldEditor.current=ref},closeFlyout=()=>{setIsFlyoutVisible(!1)},{indexPatternFieldEditor:indexPatternFieldEditor}=props.services,canEditIndexPatternField=!!(null==indexPatternFieldEditor?void 0:indexPatternFieldEditor.userPermissions.editIndexPattern())&&props.useNewFieldsApi,editField=fieldName=>{if(!canEditIndexPatternField||!props.selectedIndexPattern)return;const ref=indexPatternFieldEditor.openEditor({ctx:{indexPattern:props.selectedIndexPattern},fieldName:fieldName,onSave:async()=>{props.onEditRuntimeField()}});setFieldEditorRef&&setFieldEditorRef(ref),closeFlyout&&closeFlyout()};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,props.isClosed?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHideFor,{sizes:["xs","s"]},external_kbnSharedDeps_React_default.a.createElement(DiscoverSidebar,discover_sidebar_responsive_extends({},props,{fieldFilter:fieldFilter,setFieldFilter:setFieldFilter,editField:editField}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiShowFor,{sizes:["xs","s"]},external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscSidebar__mobile"},external_kbnSharedDeps_React_default.a.createElement("section",{"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldChooser.filter.indexAndFieldsSectionAriaLabel",{defaultMessage:"Index and fields"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{direction:"row",gutterSize:"s",alignItems:"center",responsive:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!0},external_kbnSharedDeps_React_default.a.createElement(DiscoverIndexPattern,{config:props.config,selectedIndexPattern:props.selectedIndexPattern,indexPatternList:Object(external_kbnSharedDeps_Lodash_.sortBy)(props.indexPatternList,o=>o.attributes.title),indexPatterns:props.indexPatterns,state:props.state,setAppState:props.setAppState})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(DiscoverIndexPatternManagement,{services:props.services,selectedIndexPattern:props.selectedIndexPattern,editField:editField,useNewFieldsApi:props.useNewFieldsApi})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{contentProps:{className:"dscSidebar__mobileButton"},fullWidth:!0,onClick:()=>setIsFlyoutVisible(!0)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.fieldChooser.fieldsMobileButtonLabel",defaultMessage:"Fields"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiBadge,{className:"dscSidebar__mobileBadge",color:"_source"===props.columns[0]?"default":"accent"},"_source"===props.columns[0]?0:props.columns.length))),isFlyoutVisible&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPortal,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyout,{size:"s",onClose:()=>setIsFlyoutVisible(!1),"aria-labelledby":"flyoutTitle",ownFocus:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutHeader,{hasBorder:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",{id:"flyoutTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLink,{color:"text",onClick:()=>setIsFlyoutVisible(!1)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{className:"eui-alignBaseline","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldList.flyoutBackIcon",{defaultMessage:"Back"}),type:"arrowLeft"})," ",external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.fieldList.flyoutHeading",{defaultMessage:"Field list"})))))),external_kbnSharedDeps_React_default.a.createElement("div",{className:"euiFlyoutBody"},external_kbnSharedDeps_React_default.a.createElement(DiscoverSidebar,discover_sidebar_responsive_extends({},props,{fieldFilter:fieldFilter,setFieldFilter:setFieldFilter,alwaysShowActionButtons:!0,setFieldEditorRef:setFieldEditorRef,closeFlyout:closeFlyout,editField:editField})))))))}var popularize_field=__webpack_require__(72),actions_columns=__webpack_require__(95),savedObjects_public_=__webpack_require__(24);function OpenSearchPanel(props){const{core:{uiSettings:uiSettings,savedObjects:savedObjects},addBasePath:addBasePath}=Object(kibana_services.f)();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyout,{ownFocus:!0,onClose:props.onClose,"data-test-subj":"loadSearchForm"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutHeader,{hasBorder:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.topNav.openSearchPanel.openSearchTitle",defaultMessage:"Open search"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutBody,null,external_kbnSharedDeps_React_default.a.createElement(savedObjects_public_.SavedObjectFinderUi,{noItemsMessage:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.topNav.openSearchPanel.noSearchesFoundDescription",defaultMessage:"No matching searches found."}),savedObjectMetaData:[{type:"search",getIconForSavedObject:()=>"discoverApp",name:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.savedSearch.savedObjectName",{defaultMessage:"Saved search"})}],onChoose:id=>{window.location.assign(props.makeUrl(id)),props.onClose()},uiSettings:uiSettings,savedObjects:savedObjects})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlyoutFooter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{fill:!0,onClick:props.onClose,href:addBasePath("/app/management/kibana/objects?_a="+external_kbnSharedDeps_RisonNode_default.a.encode({tab:"search"}))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.topNav.openSearchPanel.manageSearchesButtonLabel",defaultMessage:"Manage searches"}))))))}let isOpen=!1;var get_sharing_data=__webpack_require__(100),breadcrumbs=__webpack_require__(70),update_search_source=__webpack_require__(101);async function saveDataSource({indexPattern:indexPattern,navigateTo:navigateTo,savedSearch:savedSearch,saveOptions:saveOptions,services:services,state:state}){const prevSavedSearchId=savedSearch.id;return async function(savedSearch,{indexPattern:indexPattern,onError:onError,onSuccess:onSuccess,services:services,saveOptions:saveOptions,state:state}){Object(update_search_source.a)({persistentSearchSource:savedSearch.searchSource,indexPattern:indexPattern,services:services,sort:state.sort,columns:state.columns||[],useNewFieldsApi:!1}),savedSearch.columns=state.columns||[],savedSearch.sort=state.sort||[],state.grid&&(savedSearch.grid=state.grid),void 0!==state.hideChart&&(savedSearch.hideChart=state.hideChart);try{const id=await savedSearch.save(saveOptions);return onSuccess(id),{id:id}}catch(saveError){return onError(saveError,savedSearch),{error:saveError}}}(savedSearch,{indexPattern:indexPattern,onError:function(error){services.toastNotifications.addDanger({title:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.notifications.notSavedSearchTitle",{defaultMessage:"Search '{savedSearchTitle}' was not saved.",values:{savedSearchTitle:savedSearch.title}}),text:error.message})},onSuccess:function(id){id&&(services.toastNotifications.addSuccess({title:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.notifications.savedSearchTitle",{defaultMessage:"Search '{savedSearchTitle}' was saved",values:{savedSearchTitle:savedSearch.title}}),"data-test-subj":"saveSearchSuccess"}),savedSearch.id!==prevSavedSearchId?navigateTo("/view/"+encodeURIComponent(savedSearch.id)):(state.resetAppState(),services.chrome.docTitle.change(savedSearch.lastSavedTitle),Object(breadcrumbs.c)(savedSearch,services.chrome)))},saveOptions:saveOptions,services:services,state:state.appStateContainer.getState()})}__webpack_require__(219);let open_options_popover_isOpen=!1;function OptionsPopover(props){const{core:{uiSettings:uiSettings},addBasePath:addBasePath}=Object(kibana_services.f)(),mode=uiSettings.get(common.f)?external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.openOptionsPopover.legacyTableText",{defaultMessage:"Classic table"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.openOptionsPopover.dataGridText",{defaultMessage:"New table"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiWrappingPopover,{ownFocus:!0,button:props.anchorElement,closePopover:props.onClose,isOpen:!0},external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscOptionsPopover"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued",size:"s"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.topNav.optionsPopover.currentViewMode",defaultMessage:"{viewModeLabel}: {currentViewMode}",values:{viewModeLabel:external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.topNav.optionsPopover.currentViewModeLabel",defaultMessage:"Current view mode"})),currentViewMode:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCode,{"data-test-subj":"docTableMode"},mode)}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{color:"subdued",size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.topNav.openOptionsPopover.description",defaultMessage:"Great news! Discover has better ways to sort data, drag and drop columns, and compare documents. Toggle 'Use classic table' in Advanced Settings to get started."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{iconType:"tableDensityNormal",fullWidth:!0,href:addBasePath("/app/management/kibana/settings?query="+common.f)},external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.openOptionsPopover.goToAdvancedSettings",{defaultMessage:"Get started"}))))}const getTopNavLinks=({getFieldCounts:getFieldCounts,indexPattern:indexPattern,navigateTo:navigateTo,savedSearch:savedSearch,services:services,state:state,onOpenInspector:onOpenInspector,searchSource:searchSource})=>{const options={id:"options",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.localMenu.optionsTitle",{defaultMessage:"Options"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.optionsDescription",{defaultMessage:"Options"}),run:anchorElement=>function({I18nContext:I18nContext,anchorElement:anchorElement}){if(open_options_popover_isOpen)return;open_options_popover_isOpen=!0;const container=document.createElement("div");document.body.appendChild(container);const element=external_kbnSharedDeps_React_default.a.createElement(I18nContext,null,external_kbnSharedDeps_React_default.a.createElement(OptionsPopover,{onClose:()=>{external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(container),document.body.removeChild(container),open_options_popover_isOpen=!1},anchorElement:anchorElement}));external_kbnSharedDeps_ReactDom_default.a.render(element,container)}({I18nContext:services.core.i18n.Context,anchorElement:anchorElement}),testId:"discoverOptionsButton"},newSearch={id:"new",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.localMenu.newSearchTitle",{defaultMessage:"New"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.newSearchDescription",{defaultMessage:"New Search"}),run:()=>navigateTo("/"),testId:"discoverNewButton"},saveSearch={id:"save",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.saveTitle",{defaultMessage:"Save"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.saveSearchDescription",{defaultMessage:"Save Search"}),testId:"discoverSaveButton",run:()=>async function({indexPattern:indexPattern,navigateTo:navigateTo,savedSearch:savedSearch,services:services,state:state}){const saveModal=external_kbnSharedDeps_React_default.a.createElement(savedObjects_public_.SavedObjectSaveModal,{onSave:async({newTitle:newTitle,newCopyOnSave:newCopyOnSave,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate})=>{const currentTitle=savedSearch.title;savedSearch.title=newTitle,savedSearch.copyOnSave=newCopyOnSave;const saveOptions={confirmOverwrite:!1,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate},response=await saveDataSource({indexPattern:indexPattern,saveOptions:saveOptions,services:services,navigateTo:navigateTo,savedSearch:savedSearch,state:state});return!response.id||response.error?savedSearch.title=currentTitle:state.resetInitialAppState(),response},onClose:()=>{},title:savedSearch.title,showCopyOnSave:!!savedSearch.id,objectType:"search",description:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.saveSaveSearchDescription",{defaultMessage:"Save your Discover search so you can use it in visualizations and dashboards"}),showDescription:!1});Object(savedObjects_public_.showSaveModal)(saveModal,services.core.i18n.Context)}({savedSearch:savedSearch,services:services,indexPattern:indexPattern,navigateTo:navigateTo,state:state})},openSearch={id:"open",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.openTitle",{defaultMessage:"Open"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.openSavedSearchDescription",{defaultMessage:"Open Saved Search"}),testId:"discoverOpenButton",run:()=>function({makeUrl:makeUrl,I18nContext:I18nContext}){if(isOpen)return;isOpen=!0;const container=document.createElement("div");document.body.appendChild(container);const element=external_kbnSharedDeps_React_default.a.createElement(I18nContext,null,external_kbnSharedDeps_React_default.a.createElement(OpenSearchPanel,{onClose:()=>{external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(container),document.body.removeChild(container),isOpen=!1},makeUrl:makeUrl}));external_kbnSharedDeps_ReactDom_default.a.render(element,container)}({makeUrl:searchId=>"#/view/"+encodeURIComponent(searchId),I18nContext:services.core.i18n.Context})},shareSearch={id:"share",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.shareTitle",{defaultMessage:"Share"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.shareSearchDescription",{defaultMessage:"Share Search"}),testId:"shareTopNavButton",run:async anchorElement=>{if(!services.share)return;const sharingData=await Object(get_sharing_data.getSharingData)(searchSource,state.appStateContainer.getState(),services.uiSettings);services.share.toggleShareContextMenu({anchorElement:anchorElement,allowEmbed:!1,allowShortUrl:!!services.capabilities.discover.createShortUrl,shareableUrl:Object(public_.unhashUrl)(window.location.href),objectId:savedSearch.id,objectType:"search",sharingData:{...sharingData,title:savedSearch.title},isDirty:!savedSearch.id||state.isAppStateDirty(),showPublicUrlSwitch:get_sharing_data.showPublicUrlSwitch})}},inspectSearch={id:"inspect",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.inspectTitle",{defaultMessage:"Inspect"}),description:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.localMenu.openInspectorForSearchDescription",{defaultMessage:"Open Inspector for search"}),testId:"openInspectorButton",run:()=>{onOpenInspector()}};return[...services.capabilities.advancedSettings.save?[options]:[],newSearch,...services.capabilities.discover.save?[saveSearch]:[],openSearch,shareSearch,inspectSearch]},DiscoverTopNav=({indexPattern:indexPattern,opts:opts,onOpenInspector:onOpenInspector,query:query,savedQuery:savedQuery,updateQuery:updateQuery,searchSource:searchSource})=>{const showDatePicker=Object(external_kbnSharedDeps_React_.useMemo)(()=>indexPattern.isTimeBased(),[indexPattern]),{TopNavMenu:TopNavMenu}=opts.services.navigation.ui,topNavMenu=Object(external_kbnSharedDeps_React_.useMemo)(()=>getTopNavLinks({getFieldCounts:opts.getFieldCounts,indexPattern:indexPattern,navigateTo:opts.navigateTo,savedSearch:opts.savedSearch,services:opts.services,state:opts.stateContainer,onOpenInspector:onOpenInspector,searchSource:searchSource}),[indexPattern,opts,onOpenInspector,searchSource]);return external_kbnSharedDeps_React_default.a.createElement(TopNavMenu,{appName:"discover",config:topNavMenu,indexPatterns:[indexPattern],onQuerySubmit:updateQuery,onSavedQueryIdChange:newSavedQueryId=>{const{appStateContainer:appStateContainer,setAppState:setAppState}=opts.stateContainer;if(newSavedQueryId)setAppState({savedQuery:newSavedQueryId});else{const newState={...appStateContainer.getState()};delete newState.savedQuery,appStateContainer.set(newState)}},query:query,setMenuMountPoint:opts.setHeaderActionMenu,savedQueryId:savedQuery,screenTitle:opts.savedSearch.title,showDatePicker:showDatePicker,showSaveQuery:!!opts.services.capabilities.discover.saveQuery,showSearchBar:!0,useDefaultBehaviors:!0})};const DocTableLegacyMemoized=external_kbnSharedDeps_React_default.a.memo(DocTableLegacy),SidebarMemoized=external_kbnSharedDeps_React_default.a.memo(DiscoverSidebarResponsive),discover_DataGridMemoized=external_kbnSharedDeps_React_default.a.memo(DiscoverGrid),TopNavMemoized=external_kbnSharedDeps_React_default.a.memo(DiscoverTopNav),TimechartHeaderMemoized=external_kbnSharedDeps_React_default.a.memo(TimechartHeader),DiscoverHistogramMemoized=external_kbnSharedDeps_React_default.a.memo(directives.a);function Discover({fetch:fetch,fetchCounter:fetchCounter,fetchError:fetchError,fieldCounts:fieldCounts,fetchStatus:fetchStatus,histogramData:histogramData,hits:hits,indexPattern:indexPattern,minimumVisibleRows:minimumVisibleRows,opts:opts,resetQuery:resetQuery,resultState:resultState,rows:rows,searchSource:searchSource,state:state,unmappedFieldsConfig:unmappedFieldsConfig,refreshAppState:refreshAppState}){var _state$query;const[expandedDoc,setExpandedDoc]=Object(external_kbnSharedDeps_React_.useState)(void 0),[inspectorSession,setInspectorSession]=Object(external_kbnSharedDeps_React_.useState)(void 0),scrollableDesktop=Object(external_kbnSharedDeps_React_.useRef)(null),collapseIcon=Object(external_kbnSharedDeps_React_.useRef)(null),toggleHideChart=Object(external_kbnSharedDeps_React_.useCallback)(()=>{opts.stateContainer.setAppState({hideChart:!state.hideChart})},[state,opts]),hideChart=Object(external_kbnSharedDeps_React_.useMemo)(()=>state.hideChart,[state]),{savedSearch:savedSearch,indexPatternList:indexPatternList,config:config,services:services,data:data,setAppState:setAppState}=opts,{trackUiMetric:trackUiMetric,capabilities:capabilities,indexPatterns:indexPatterns,chrome:chrome,docLinks:docLinks}=services,[isSidebarClosed,setIsSidebarClosed]=Object(external_kbnSharedDeps_React_.useState)(!1),bucketInterval=Object(external_kbnSharedDeps_React_.useMemo)(()=>{var _opts$chartAggConfigs,_bucketAggConfig$buck;const bucketAggConfig=null===(_opts$chartAggConfigs=opts.chartAggConfigs)||void 0===_opts$chartAggConfigs?void 0:_opts$chartAggConfigs.aggs[1];return bucketAggConfig&&data_public_.search.aggs.isDateHistogramBucketAggConfig(bucketAggConfig)?null===(_bucketAggConfig$buck=bucketAggConfig.buckets)||void 0===_bucketAggConfig$buck?void 0:_bucketAggConfig$buck.getInterval():void 0},[opts.chartAggConfigs]),contentCentered="uninitialized"===resultState,isLegacy=services.uiSettings.get("doc_table:legacy"),useNewFieldsApi=!services.uiSettings.get(common.k),updateQuery=Object(external_kbnSharedDeps_React_.useCallback)((_payload,isUpdate)=>{!1===isUpdate&&(opts.searchSessionManager.removeSearchSessionIdFromURL({replace:!1}),opts.refetch$.next())},[opts]);Object(external_kbnSharedDeps_React_.useEffect)(()=>{const pageTitleSuffix=savedSearch.id&&savedSearch.title?": "+savedSearch.title:"";chrome.docTitle.change("Discover"+pageTitleSuffix),Object(breadcrumbs.c)(savedSearch,chrome),function(chrome,docLinks){chrome.setHelpExtension({appName:external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.helpMenu.appName",{defaultMessage:"Discover"}),links:[{linkType:"documentation",href:""+docLinks.links.discover.guide}]})}(chrome,docLinks)},[savedSearch,chrome,docLinks]);const{onAddColumn:onAddColumn,onRemoveColumn:onRemoveColumn,onMoveColumn:onMoveColumn,onSetColumns:onSetColumns}=Object(external_kbnSharedDeps_React_.useMemo)(()=>Object(actions_columns.b)({capabilities:capabilities,config:config,indexPattern:indexPattern,indexPatterns:indexPatterns,setAppState:setAppState,state:state,useNewFieldsApi:useNewFieldsApi}),[capabilities,config,indexPattern,indexPatterns,setAppState,state,useNewFieldsApi]),onOpenInspector=Object(external_kbnSharedDeps_React_.useCallback)(()=>{setExpandedDoc(void 0);const session=services.inspector.open(opts.inspectorAdapters,{title:savedSearch.title});setInspectorSession(session)},[setExpandedDoc,opts.inspectorAdapters,savedSearch,services.inspector]);Object(external_kbnSharedDeps_React_.useEffect)(()=>()=>{inspectorSession&&inspectorSession.close()},[inspectorSession]);const onSort=Object(external_kbnSharedDeps_React_.useCallback)(sort=>{setAppState({sort:sort})},[setAppState]),onAddFilter=Object(external_kbnSharedDeps_React_.useCallback)((field,values,operation)=>{const fieldName="string"==typeof field?field:field.name;Object(popularize_field.a)(indexPattern,fieldName,indexPatterns);const newFilters=data_public_.esFilters.generateFilters(opts.filterManager,field,values,operation,String(indexPattern.id));return trackUiMetric&&trackUiMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.CLICK,"filter_added"),opts.filterManager.addFilters(newFilters)},[opts,indexPattern,indexPatterns,trackUiMetric]),onChangeInterval=Object(external_kbnSharedDeps_React_.useCallback)(interval=>{interval&&setAppState({interval:interval})},[setAppState]),timefilterUpdateHandler=Object(external_kbnSharedDeps_React_.useCallback)(ranges=>{data.query.timefilter.timefilter.setTime({from:external_kbnSharedDeps_Moment_default()(ranges.from).toISOString(),to:external_kbnSharedDeps_Moment_default()(ranges.to).toISOString(),mode:"absolute"})},[data]),onBackToTop=Object(external_kbnSharedDeps_React_.useCallback)(()=>{scrollableDesktop&&scrollableDesktop.current&&scrollableDesktop.current.focus(),collapseIcon&&!collapseIcon.current||!scrollableDesktop.current?window&&window.scrollTo(0,0):scrollableDesktop.current.scrollTo(0,0)},[scrollableDesktop]),onResize=Object(external_kbnSharedDeps_React_.useCallback)(colSettings=>{const grid={...state.grid}||{},newColumns={...grid.columns}||{};newColumns[colSettings.columnId]={width:colSettings.width};const newGrid={...grid,columns:newColumns};opts.setAppState({grid:newGrid})},[opts,state]),columns=Object(external_kbnSharedDeps_React_.useMemo)(()=>state.columns?useNewFieldsApi?state.columns.filter(col=>"_source"!==col):state.columns:[],[state,useNewFieldsApi]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.I18nProvider,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPage,{className:"dscPage","data-fetch-counter":fetchCounter},external_kbnSharedDeps_React_default.a.createElement(TopNavMemoized,{indexPattern:indexPattern,opts:opts,onOpenInspector:onOpenInspector,query:state.query,savedQuery:state.savedQuery,updateQuery:updateQuery,searchSource:searchSource}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageBody,{className:"dscPageBody","aria-describedby":"savedSearchTitle"},external_kbnSharedDeps_React_default.a.createElement("h1",{id:"savedSearchTitle",className:"euiScreenReaderOnly"},savedSearch.title),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{className:"dscPageBody__contents",gutterSize:"none"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(SidebarMemoized,{config:config,columns:columns,fieldCounts:fieldCounts,hits:rows,indexPatternList:indexPatternList,indexPatterns:indexPatterns,onAddField:onAddColumn,onAddFilter:onAddFilter,onRemoveField:onRemoveColumn,selectedIndexPattern:searchSource&&searchSource.getField("index"),services:services,setAppState:setAppState,state:state,isClosed:isSidebarClosed,trackUiMetric:trackUiMetric,unmappedFieldsConfig:unmappedFieldsConfig,useNewFieldsApi:useNewFieldsApi,onEditRuntimeField:()=>{refreshAppState&&refreshAppState()}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHideFor,{sizes:["xs","s"]},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonIcon,{iconType:isSidebarClosed?"menuRight":"menuLeft",iconSize:"m",size:"xs",onClick:()=>setIsSidebarClosed(!isSidebarClosed),"data-test-subj":"collapseSideBarButton","aria-controls":"discover-sidebar","aria-expanded":isSidebarClosed?"false":"true","aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.toggleSidebarAriaLabel",{defaultMessage:"Toggle sidebar"}),buttonRef:collapseIcon})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{className:"dscPageContent__wrapper"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPageContent,{verticalPosition:contentCentered?"center":void 0,horizontalPosition:contentCentered?"center":void 0,paddingSize:"none",className:classnames_default()("dscPageContent",{"dscPageContent--centered":contentCentered})},"none"===resultState&&external_kbnSharedDeps_React_default.a.createElement(DiscoverNoResults,{timeFieldName:opts.timefield,queryLanguage:(null===(_state$query=state.query)||void 0===_state$query?void 0:_state$query.language)||"",data:opts.data,error:fetchError}),"uninitialized"===resultState&&external_kbnSharedDeps_React_default.a.createElement(directives.b,{onRefresh:fetch}),"loading"===resultState&&external_kbnSharedDeps_React_default.a.createElement(LoadingSpinner,null),"ready"===resultState&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{className:"dscPageContent__inner",direction:"column",alignItems:"stretch",gutterSize:"none",responsive:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"dscResultCount"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1,className:"dscResuntCount__title eui-textTruncate eui-textNoWrap"},external_kbnSharedDeps_React_default.a.createElement(HitsCounter,{hits:hits>0?hits:0,showResetButton:!(!savedSearch||!savedSearch.id),onResetQuery:resetQuery})),!hideChart&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{className:"dscResultCount__actions"},external_kbnSharedDeps_React_default.a.createElement(TimechartHeaderMemoized,{data:opts.data,dateFormat:opts.config.get("dateFormat"),options:data_public_.search.aggs.intervalOptions,onChangeInterval:onChangeInterval,stateInterval:state.interval||"",bucketInterval:bucketInterval})),opts.timefield&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{className:"dscResultCount__toggle",grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{size:"xs",iconType:hideChart?"eye":"eyeClosed",onClick:()=>{toggleHideChart()},"data-test-subj":"discoverChartToggle"},hideChart?external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.showChart",{defaultMessage:"Show chart"}):external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.hideChart",{defaultMessage:"Hide chart"}))))),!hideChart&&opts.timefield&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement("section",{"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("discover.histogramOfFoundDocumentsAriaLabel",{defaultMessage:"Histogram of found documents"}),className:"dscTimechart"},opts.chartAggConfigs&&histogramData&&0!==rows.length&&external_kbnSharedDeps_React_default.a.createElement("div",{className:isLegacy?"dscHistogram":"dscHistogramGrid","data-test-subj":"discoverChart"},external_kbnSharedDeps_React_default.a.createElement(DiscoverHistogramMemoized,{chartData:histogramData,timefilterUpdateHandler:timefilterUpdateHandler}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiHorizontalRule,{margin:"none"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{className:"eui-yScroll"},external_kbnSharedDeps_React_default.a.createElement("section",{className:"dscTable eui-yScroll eui-xScroll","aria-labelledby":"documentsAriaLabel",ref:scrollableDesktop,tabIndex:-1},external_kbnSharedDeps_React_default.a.createElement("h2",{className:"euiScreenReaderOnly",id:"documentsAriaLabel"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"discover.documentsAriaLabel",defaultMessage:"Documents"})),isLegacy&&rows&&rows.length&&external_kbnSharedDeps_React_default.a.createElement(DocTableLegacyMemoized,{columns:columns,indexPattern:indexPattern,minimumVisibleRows:minimumVisibleRows,rows:rows,sort:state.sort||[],searchDescription:opts.savedSearch.description,searchTitle:opts.savedSearch.lastSavedTitle,onAddColumn:onAddColumn,onBackToTop:onBackToTop,onFilter:onAddFilter,onMoveColumn:onMoveColumn,onRemoveColumn:onRemoveColumn,onSort:onSort,sampleSize:opts.sampleSize,useNewFieldsApi:useNewFieldsApi}),!isLegacy&&rows&&rows.length&&external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscDiscoverGrid"},external_kbnSharedDeps_React_default.a.createElement(discover_DataGridMemoized,{ariaLabelledBy:"documentsAriaLabel",columns:columns,expandedDoc:expandedDoc,indexPattern:indexPattern,isLoading:"loading"===fetchStatus,rows:rows,sort:state.sort||[],sampleSize:opts.sampleSize,searchDescription:opts.savedSearch.description,searchTitle:opts.savedSearch.lastSavedTitle,setExpandedDoc:setExpandedDoc,showTimeCol:!config.get("doc_table:hideTimeColumn",!1)&&!!indexPattern.timeFieldName,services:services,settings:state.grid,onAddColumn:onAddColumn,onFilter:onAddFilter,onRemoveColumn:onRemoveColumn,onSetColumns:onSetColumns,onSort:onSort,onResize:onResize,useNewFieldsApi:useNewFieldsApi})))))))))))}function createDiscoverDirective(reactDirective){return reactDirective(Discover,[["fetch",{watchDepth:"reference"}],["fetchCounter",{watchDepth:"reference"}],["fetchError",{watchDepth:"reference"}],["fieldCounts",{watchDepth:"reference"}],["histogramData",{watchDepth:"reference"}],["hits",{watchDepth:"reference"}],["indexPattern",{watchDepth:"reference"}],["opts",{watchDepth:"reference"}],["resetQuery",{watchDepth:"reference"}],["resultState",{watchDepth:"reference"}],["rows",{watchDepth:"reference"}],["savedSearch",{watchDepth:"reference"}],["searchSource",{watchDepth:"reference"}],["showSaveQuery",{watchDepth:"reference"}],["state",{watchDepth:"reference"}],["topNavMenu",{watchDepth:"reference"}],["updateQuery",{watchDepth:"reference"}],["updateSavedQueryId",{watchDepth:"reference"}],["unmappedFieldsConfig",{watchDepth:"value"}],["refreshAppState",{watchDepth:"reference"}]])}function getInnerAngularModule(name,core,deps,context){Object(kibanaLegacy_public_.initAngularBootstrap)();const module=initializeInnerAngularModule(name,core,deps.navigation,deps.data);return Object(kibanaLegacy_public_.configureAppAngularModule)(module,{core:core,env:context.env},!0,kibana_services.e),module}function getInnerAngularModuleEmbeddable(name,core,deps){return initializeInnerAngularModule(name,core,deps.navigation,deps.data,!0)}let initialized=!1;function initializeInnerAngularModule(name="app/discover",core,navigation,data,embeddable=!1){return initialized||(external_kbnSharedDeps_Angular_default.a.module("discoverI18n",[]).provider("i18n",external_kbnSharedDeps_KbnI18nAngular_.I18nProvider).filter("i18n",external_kbnSharedDeps_KbnI18nAngular_.i18nFilter).directive("i18nId",external_kbnSharedDeps_KbnI18nAngular_.i18nDirective),external_kbnSharedDeps_Angular_default.a.module("discoverPrivate",[]).provider("Private",kibanaLegacy_public_.PrivateProvider),external_kbnSharedDeps_Angular_default.a.module("discoverPromise",[]).service("Promise",kibanaLegacy_public_.PromiseServiceCreator),external_kbnSharedDeps_Angular_default.a.module("discoverLocalStorageProvider",["discoverPrivate"]).service("localStorage",createLocalStorageService("localStorage")).service("sessionStorage",createLocalStorageService("sessionStorage")),external_kbnSharedDeps_Angular_default.a.module("discoverPagerFactory",[]).factory("pagerFactory",createPagerFactory),external_kbnSharedDeps_Angular_default.a.module("discoverDocTable",["discoverPagerFactory","react"]).directive("docTable",doc_table.a).directive("kbnTableHeader",createTableHeaderDirective).directive("toolBarPagerText",createToolBarPagerTextDirective).directive("kbnTableRow",createTableRowDirective).directive("toolBarPagerButtons",createToolBarPagerButtonsDirective).directive("kbnInfiniteScroll",createInfiniteScrollDirective).directive("discoverGrid",createDiscoverGridDirective).directive("docViewer",doc_viewer.a).directive("contextAppLegacy",createContextAppLegacy),initialized=!0),embeddable?external_kbnSharedDeps_Angular_default.a.module(name,["ngSanitize","react","ui.bootstrap","discoverI18n","discoverPrivate","discoverDocTable","discoverPagerFactory","discoverPromise"]).config(kibanaLegacy_public_.watchMultiDecorator).directive("icon",reactDirective=>reactDirective(external_kbnSharedDeps_ElasticEui_.EuiIcon)).directive("renderComplete",createRenderCompleteDirective):external_kbnSharedDeps_Angular_default.a.module(name,["ngSanitize","ngRoute","react","ui.bootstrap","discoverI18n","discoverPrivate","discoverPromise","discoverLocalStorageProvider","discoverDocTable","discoverPagerFactory"]).config(kibanaLegacy_public_.watchMultiDecorator).run(kibanaLegacy_public_.registerListenEventListener).directive("renderComplete",createRenderCompleteDirective).directive("discover",createDiscoverDirective)}const createLocalStorageService=function(type){return function($window){return new public_.Storage($window[type])}}}])]);