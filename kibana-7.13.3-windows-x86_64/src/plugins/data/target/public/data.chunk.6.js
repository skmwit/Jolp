(window.data_bundle_jsonpfunction=window.data_bundle_jsonpfunction||[]).push([[6],{173:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return ApplyFiltersPopoverContent}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_filter_bar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72),_query__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(15);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class ApplyFiltersPopoverContent extends react__WEBPACK_IMPORTED_MODULE_2__.Component{constructor(props){super(props),_defineProperty(this,"isFilterSelected",i=>this.state.isFilterSelected[i]),_defineProperty(this,"toggleFilterSelected",i=>{const isFilterSelected=[...this.state.isFilterSelected];isFilterSelected[i]=!isFilterSelected[i],this.setState({isFilterSelected:isFilterSelected})}),_defineProperty(this,"onSubmit",()=>{const selectedFilters=this.props.filters.filter((filter,i)=>this.state.isFilterSelected[i]);this.props.onSubmit(selectedFilters)}),this.state={isFilterSelected:props.filters.map(()=>!0)}}getLabel(filter){const valueLabel=Object(_common__WEBPACK_IMPORTED_MODULE_3__.getDisplayValueFromFilter)(filter,this.props.indexPatterns);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_filter_bar__WEBPACK_IMPORTED_MODULE_4__.b,{filter:filter,valueLabel:valueLabel})}render(){if(0===this.props.filters.length)return"";const mappedFilters=Object(_query__WEBPACK_IMPORTED_MODULE_5__.x)(this.props.filters),form=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiForm,null,mappedFilters.map((filter,i)=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiFormRow,{key:i},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiCheckbox,{id:"filterCheckbox-"+i,label:this.getLabel(filter),checked:this.isFilterSelected(i),onChange:()=>this.toggleFilterSelected(i)}))));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiModalHeader,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiModalHeaderTitle,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__.FormattedMessage,{id:"data.filter.applyFilters.popupHeader",defaultMessage:"Select filters to apply"}))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiModalBody,null,form),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiModalFooter,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiButtonEmpty,{onClick:this.props.onCancel},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__.FormattedMessage,{id:"data.filter.applyFiltersPopup.cancelButtonLabel",defaultMessage:"Cancel"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__.EuiButton,{onClick:this.onSubmit,"data-test-subj":"applyFiltersPopoverButton",fill:!0},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__.FormattedMessage,{id:"data.filter.applyFiltersPopup.saveButtonLabel",defaultMessage:"Apply"}))))}}_defineProperty(ApplyFiltersPopoverContent,"defaultProps",{filters:[]})}}]);