(window.visTypeXy_bundle_jsonpfunction=window.visTypeXy_bundle_jsonpfunction||[]).push([[3],{31:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return getInterpolationModes})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getThresholdLineStyles})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getRotateOptions})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getFittingFunctions})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getConfigCollections}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_elastic_charts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_charts_public__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_scale_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18),_positions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(17);__webpack_require__.d(__webpack_exports__,"d",(function(){return _positions__WEBPACK_IMPORTED_MODULE_6__.a}));const getInterpolationModes=()=>[{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.interpolationModes.straightText",{defaultMessage:"Straight"}),value:_types__WEBPACK_IMPORTED_MODULE_2__.InterpolationMode.Linear},{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.interpolationModes.smoothedText",{defaultMessage:"Smoothed"}),value:_types__WEBPACK_IMPORTED_MODULE_2__.InterpolationMode.Cardinal},{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.interpolationModes.steppedText",{defaultMessage:"Stepped"}),value:_types__WEBPACK_IMPORTED_MODULE_2__.InterpolationMode.StepAfter}],getThresholdLineStyles=()=>[{value:_types__WEBPACK_IMPORTED_MODULE_2__.ThresholdLineStyle.Full,text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.thresholdLine.style.fullText",{defaultMessage:"Full"})},{value:_types__WEBPACK_IMPORTED_MODULE_2__.ThresholdLineStyle.Dashed,text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.thresholdLine.style.dashedText",{defaultMessage:"Dashed"})},{value:_types__WEBPACK_IMPORTED_MODULE_2__.ThresholdLineStyle.DotDashed,text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.thresholdLine.style.dotdashedText",{defaultMessage:"Dot-dashed"})}],getRotateOptions=()=>[{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.categoryAxis.rotate.horizontalText",{defaultMessage:"Horizontal"}),value:_charts_public__WEBPACK_IMPORTED_MODULE_4__.LabelRotation.Horizontal},{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.categoryAxis.rotate.verticalText",{defaultMessage:"Vertical"}),value:_charts_public__WEBPACK_IMPORTED_MODULE_4__.LabelRotation.Vertical},{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.categoryAxis.rotate.angledText",{defaultMessage:"Angled"}),value:_charts_public__WEBPACK_IMPORTED_MODULE_4__.LabelRotation.Angled}],getFittingFunctions=()=>[{value:_elastic_charts__WEBPACK_IMPORTED_MODULE_1__.Fit.None,text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.fittingFunctionsTitle.none",{defaultMessage:"Hide (Do not fill gaps)"})},{value:_elastic_charts__WEBPACK_IMPORTED_MODULE_1__.Fit.Zero,text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.fittingFunctionsTitle.zero",{defaultMessage:"Zero (Fill gaps with zeros)"})},{value:_elastic_charts__WEBPACK_IMPORTED_MODULE_1__.Fit.Linear,text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.fittingFunctionsTitle.linear",{defaultMessage:"Linear (Fill gaps with a line)"})},{value:_elastic_charts__WEBPACK_IMPORTED_MODULE_1__.Fit.Carry,text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.fittingFunctionsTitle.carry",{defaultMessage:"Last (Fill gaps with the last value)"})},{value:_elastic_charts__WEBPACK_IMPORTED_MODULE_1__.Fit.Lookahead,text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.fittingFunctionsTitle.lookahead",{defaultMessage:"Next (Fill gaps with the next value)"})}],getConfigCollections=()=>({legendPositions:Object(_positions__WEBPACK_IMPORTED_MODULE_6__.a)(),positions:Object(_positions__WEBPACK_IMPORTED_MODULE_6__.a)(),chartTypes:[{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.chartTypes.lineText",{defaultMessage:"Line"}),value:_common__WEBPACK_IMPORTED_MODULE_3__.a.Line},{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.chartTypes.areaText",{defaultMessage:"Area"}),value:_common__WEBPACK_IMPORTED_MODULE_3__.a.Area},{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.chartTypes.barText",{defaultMessage:"Bar"}),value:_common__WEBPACK_IMPORTED_MODULE_3__.a.Histogram}],axisModes:[{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.axisModes.normalText",{defaultMessage:"Normal"}),value:_types__WEBPACK_IMPORTED_MODULE_2__.AxisMode.Normal},{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.axisModes.percentageText",{defaultMessage:"Percentage"}),value:_types__WEBPACK_IMPORTED_MODULE_2__.AxisMode.Percentage},{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.axisModes.wiggleText",{defaultMessage:"Wiggle"}),value:_types__WEBPACK_IMPORTED_MODULE_2__.AxisMode.Wiggle},{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.axisModes.silhouetteText",{defaultMessage:"Silhouette"}),value:_types__WEBPACK_IMPORTED_MODULE_2__.AxisMode.Silhouette}],scaleTypes:Object(_scale_types__WEBPACK_IMPORTED_MODULE_5__.a)(),chartModes:[{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.chartModes.normalText",{defaultMessage:"Normal"}),value:_types__WEBPACK_IMPORTED_MODULE_2__.ChartMode.Normal},{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__.i18n.translate("visTypeXy.chartModes.stackedText",{defaultMessage:"Stacked"}),value:_types__WEBPACK_IMPORTED_MODULE_2__.ChartMode.Stacked}],interpolationModes:getInterpolationModes(),thresholdLineStyles:getThresholdLineStyles(),fittingFunctions:getFittingFunctions()})},54:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return PointSeriesOptions}));var external_kbnSharedDeps_React_=__webpack_require__(4),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_ElasticEui_=__webpack_require__(13),external_kbnSharedDeps_KbnI18n_=__webpack_require__(1),external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(16),public_=__webpack_require__(28),data_public_=__webpack_require__(2);function GridPanel({stateParams:stateParams,setValue:setValue,hasHistogramAgg:hasHistogramAgg,extraProps:extraProps}){var _stateParams$grid$val;const setGrid=Object(external_kbnSharedDeps_React_.useCallback)((paramName,value)=>setValue("grid",{...stateParams.grid,[paramName]:value}),[stateParams.grid,setValue]),disableCategoryGridLines=Object(external_kbnSharedDeps_React_.useMemo)(()=>!(null!=extraProps&&extraProps.showElasticChartsOptions)&&hasHistogramAgg,[null==extraProps?void 0:extraProps.showElasticChartsOptions,hasHistogramAgg]),options=Object(external_kbnSharedDeps_React_.useMemo)(()=>[...stateParams.valueAxes.map(({id:id,name:name})=>({text:name,value:id})),{text:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.controls.pointSeries.gridAxis.dontShowLabel",{defaultMessage:"Don't show"}),value:""}],[stateParams.valueAxes]);return Object(external_kbnSharedDeps_React_.useEffect)(()=>{disableCategoryGridLines&&setGrid("categoryLines",!1)},[disableCategoryGridLines,setGrid]),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPanel,{paddingSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"visTypeXy.controls.pointSeries.gridAxis.gridText",defaultMessage:"Grid"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(public_.SwitchOption,{disabled:disableCategoryGridLines,label:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.controls.pointSeries.gridAxis.xAxisLinesLabel",{defaultMessage:"Show X-axis lines"}),paramName:"categoryLines",tooltip:disableCategoryGridLines?external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.controls.pointSeries.gridAxis.yAxisLinesDisabledTooltip",{defaultMessage:"X-axis lines can't show for histograms."}):void 0,value:stateParams.grid.categoryLines,setValue:setGrid,"data-test-subj":"showCategoryLines"}),external_kbnSharedDeps_React_default.a.createElement(public_.SelectOption,{id:"gridAxis",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.controls.pointSeries.gridAxis.yAxisLinesLabel",{defaultMessage:"Y-axis lines"}),options:options,paramName:"valueAxis",value:null!==(_stateParams$grid$val=stateParams.grid.valueAxis)&&void 0!==_stateParams$grid$val?_stateParams$grid$val:"",setValue:setGrid}))}var collections=__webpack_require__(31);const thresholdLineStyles=Object(collections.f)();function ThresholdPanel({stateParams:stateParams,setValue:setValue,setMultipleValidity:setMultipleValidity}){const setThresholdLine=Object(external_kbnSharedDeps_React_.useCallback)((paramName,value)=>setValue("thresholdLine",{...stateParams.thresholdLine,[paramName]:value}),[stateParams.thresholdLine,setValue]),setThresholdLineColor=Object(external_kbnSharedDeps_React_.useCallback)(value=>setThresholdLine("color",value),[setThresholdLine]),setThresholdLineValidity=Object(external_kbnSharedDeps_React_.useCallback)((paramName,isValid)=>setMultipleValidity("thresholdLine__"+paramName,isValid),[setMultipleValidity]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPanel,{paddingSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"visTypeXy.editors.pointSeries.thresholdLineSettingsTitle",defaultMessage:"Threshold line"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(public_.SwitchOption,{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.editors.pointSeries.thresholdLine.showLabel",{defaultMessage:"Show threshold line"}),paramName:"show",value:stateParams.thresholdLine.show,setValue:setThresholdLine}),stateParams.thresholdLine.show&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(public_.RequiredNumberInputOption,{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.editors.pointSeries.thresholdLine.valueLabel",{defaultMessage:"Threshold value"}),paramName:"value",value:stateParams.thresholdLine.value,setValue:setThresholdLine,setValidity:setThresholdLineValidity,"data-test-subj":"thresholdValueInputOption"}),external_kbnSharedDeps_React_default.a.createElement(public_.RequiredNumberInputOption,{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.editors.pointSeries.thresholdLine.widthLabel",{defaultMessage:"Line width"}),paramName:"width",min:1,step:1,value:stateParams.thresholdLine.width,setValue:setThresholdLine,setValidity:setThresholdLineValidity}),external_kbnSharedDeps_React_default.a.createElement(public_.SelectOption,{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.editors.pointSeries.thresholdLine.styleLabel",{defaultMessage:"Line style"}),options:thresholdLineStyles,paramName:"style",value:stateParams.thresholdLine.style,setValue:setThresholdLine}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{label:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.editors.pointSeries.thresholdLine.colorLabel",{defaultMessage:"Line color"}),fullWidth:!0,display:"rowCompressed"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiColorPicker,{compressed:!0,color:stateParams.thresholdLine.color,fullWidth:!0,onChange:setThresholdLineColor}))))}var common=__webpack_require__(6),external_kbnSharedDeps_KbnAnalytics_=__webpack_require__(30),services=__webpack_require__(8);const fittingFunctions=Object(collections.b)();function ElasticChartsOptions(props){const trackUiMetric=Object(services.e)(),[palettesRegistry,setPalettesRegistry]=Object(external_kbnSharedDeps_React_.useState)(null),{stateParams:stateParams,setValue:setValue,aggs:aggs}=props,hasLineChart=stateParams.seriesParams.some(({type:type,data:{id:paramId}})=>{var _aggs$aggs$find;return(type===common.a.Line||type===common.a.Area)&&(null===(_aggs$aggs$find=aggs.aggs.find(({id:id})=>id===paramId))||void 0===_aggs$aggs$find?void 0:_aggs$aggs$find.enabled)});return Object(external_kbnSharedDeps_React_.useEffect)(()=>{(async()=>{const palettes=await Object(services.c)().getPalettes();setPalettesRegistry(palettes)})()},[]),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(public_.SwitchOption,{"data-test-subj":"detailedTooltip",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.editors.elasticChartsOptions.detailedTooltip.label",{defaultMessage:"Show detailed tooltip"}),tooltip:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.editors.elasticChartsOptions.detailedTooltip.tooltip",{defaultMessage:"Enables the legacy detailed tooltip for displaying a single value. When disabled, a new summarized tooltip will be used to display multiple values."}),paramName:"detailedTooltip",value:stateParams.detailedTooltip,setValue:(paramName,value)=>{trackUiMetric&&trackUiMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.CLICK,"detailed_tooltip_switched"),setValue(paramName,value)}}),hasLineChart&&external_kbnSharedDeps_React_default.a.createElement(public_.SelectOption,{"data-test-subj":"fittingFunction",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.editors.elasticChartsOptions.missingValuesLabel",{defaultMessage:"Fill missing values"}),options:fittingFunctions,paramName:"fittingFunction",value:stateParams.fittingFunction,setValue:(paramName,value)=>{trackUiMetric&&trackUiMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.CLICK,"fitting_function_selected"),setValue(paramName,value)}}),palettesRegistry&&external_kbnSharedDeps_React_default.a.createElement(public_.PalettePicker,{palettes:palettesRegistry,activePalette:stateParams.palette,paramName:"palette",setPalette:(paramName,value)=>{trackUiMetric&&trackUiMetric(external_kbnSharedDeps_KbnAnalytics_.METRIC_TYPE.CLICK,"palette_selected"),setValue(paramName,value)}}))}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const legendPositions=Object(collections.d)();function PointSeriesOptions(props){var _props$extraProps;const{stateParams:stateParams,setValue:setValue,vis:vis,aggs:aggs}=props,hasBarChart=Object(external_kbnSharedDeps_React_.useMemo)(()=>stateParams.seriesParams.some(({type:type,data:{id:paramId}})=>{var _aggs$aggs$find;return type===common.a.Histogram&&(null===(_aggs$aggs$find=aggs.aggs.find(({id:id})=>id===paramId))||void 0===_aggs$aggs$find?void 0:_aggs$aggs$find.enabled)}),[stateParams.seriesParams,aggs.aggs]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPanel,{paddingSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTitle,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"visTypeXy.editors.pointSeries.settingsTitle",defaultMessage:"Settings"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(public_.BasicOptions,_extends({},props,{legendPositions:legendPositions})),vis.data.aggs.aggs.some(agg=>"segment"===agg.schema&&agg.type.name===data_public_.BUCKET_TYPES.DATE_HISTOGRAM)?external_kbnSharedDeps_React_default.a.createElement(public_.SwitchOption,{"data-test-subj":"addTimeMarker",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.editors.pointSeries.currentTimeMarkerLabel",{defaultMessage:"Current time marker"}),paramName:"addTimeMarker",value:stateParams.addTimeMarker,setValue:setValue}):external_kbnSharedDeps_React_default.a.createElement(public_.SwitchOption,{"data-test-subj":"orderBucketsBySum",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.editors.pointSeries.orderBucketsBySumLabel",{defaultMessage:"Order buckets by sum"}),paramName:"orderBucketsBySum",value:stateParams.orderBucketsBySum,setValue:setValue}),hasBarChart&&external_kbnSharedDeps_React_default.a.createElement(public_.SwitchOption,{"data-test-subj":"showValuesOnChart",label:external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeXy.editors.pointSeries.showLabels",{defaultMessage:"Show values on chart"}),paramName:"show",value:stateParams.labels.show,setValue:(paramName,value)=>setValue("labels",{...stateParams.labels,[paramName]:value})}),(null===(_props$extraProps=props.extraProps)||void 0===_props$extraProps?void 0:_props$extraProps.showElasticChartsOptions)&&external_kbnSharedDeps_React_default.a.createElement(ElasticChartsOptions,props)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(GridPanel,props),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,{size:"s"}),stateParams.thresholdLine&&external_kbnSharedDeps_React_default.a.createElement(ThresholdPanel,props))}}}]);