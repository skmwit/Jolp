!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=14)}([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){"use strict";var memo,isOldIE=function(){return void 0===memo&&(memo=Boolean(window&&document&&document.all&&!window.atob)),memo},getTarget=function(){var memo={};return function(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}}(),stylesInDom=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDom.length;i++)if(stylesInDom[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3]};-1!==index?(stylesInDom[index].references++,stylesInDom[index].updater(obj)):stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1}),identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style"),attributes=options.attributes||{};if(void 0===attributes.nonce){var nonce=__webpack_require__.nc;nonce&&(attributes.nonce=nonce)}if(Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])})),"function"==typeof options.insert)options.insert(style);else{var target=getTarget(options.insert||"head");if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}return style}var textStore,replaceText=(textStore=[],function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")});function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet)style.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=style.childNodes;childNodes[index]&&style.removeChild(childNodes[index]),childNodes.length?style.insertBefore(cssNode,childNodes[index]):style.appendChild(cssNode)}}function applyToTag(style,options,obj){var css=obj.css,media=obj.media,sourceMap=obj.sourceMap;if(media?style.setAttribute("media",media):style.removeAttribute("media"),sourceMap&&btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),style.styleSheet)style.styleSheet.cssText=css;else{for(;style.firstChild;)style.removeChild(style.firstChild);style.appendChild(document.createTextNode(css))}}var singleton=null,singletonCounter=0;function addStyle(obj,options){var style,update,remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options)),update=applyToSingletonTag.bind(null,style,styleIndex,!1),remove=applyToSingletonTag.bind(null,style,styleIndex,!0)}else style=insertStyleElement(options),update=applyToTag.bind(null,style,options),remove=function(){!function(style){if(null===style.parentNode)return!1;style.parentNode.removeChild(style)}(style)};return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}module.exports=function(list,options){(options=options||{}).singleton||"boolean"==typeof options.singleton||(options.singleton=isOldIE());var lastIdentifiers=modulesToDom(list=list||[],options);return function(newList){if(newList=newList||[],"[object Array]"===Object.prototype.toString.call(newList)){for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDom[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDom[_index].references&&(stylesInDom[_index].updater(),stylesInDom.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map((function(item){var content=function(item,useSourceMap){var content=item[1]||"",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&"function"==typeof btoa){var sourceMapping=(sourceMap=cssMapping,base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),"/*# ".concat(data," */")),sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}var sourceMap,base64,data;return[content].join("\n")}(item,useSourceMap);return item[2]?"@media ".concat(item[2]," {").concat(content,"}"):content})).join("")},list.i=function(modules,mediaQuery,dedupe){"string"==typeof modules&&(modules=[[null,modules,""]]);var alreadyImportedModules={};if(dedupe)for(var i=0;i<this.length;i++){var id=this[i][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);dedupe&&alreadyImportedModules[item[0]]||(mediaQuery&&(item[2]?item[2]="".concat(mediaQuery," and ").concat(item[2]):item[2]=mediaQuery),list.push(item))}},list}},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(15);__kbnBundles__.define("plugin/savedObjects/public",__webpack_require__,25)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__.savedObjects},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(17);case"v7light":return __webpack_require__(19);case"v8dark":return __webpack_require__(21);case"v8light":return __webpack_require__(23)}},function(module,exports,__webpack_require__){var api=__webpack_require__(6),content=__webpack_require__(18);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(7)(!1)).push([module.i,".kbnSavedObjectSaveModal{width:400px}.kbnSavedObjectsSaveModal--wide{width:800px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(6),content=__webpack_require__(20);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(7)(!1)).push([module.i,".kbnSavedObjectSaveModal{width:400px}.kbnSavedObjectsSaveModal--wide{width:800px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(6),content=__webpack_require__(22);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(7)(!1)).push([module.i,".kbnSavedObjectSaveModal{width:400px}.kbnSavedObjectsSaveModal--wide{width:800px}\n",""]),module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(6),content=__webpack_require__(24);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){(exports=__webpack_require__(7)(!1)).push([module.i,".kbnSavedObjectSaveModal{width:400px}.kbnSavedObjectsSaveModal--wide{width:800px}\n",""]),module.exports=exports},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"OnSaveProps",(function(){})),__webpack_require__.d(__webpack_exports__,"SavedObjectSaveModal",(function(){return saved_object_save_modal_SavedObjectSaveModal})),__webpack_require__.d(__webpack_exports__,"SavedObjectSaveModalOrigin",(function(){return SavedObjectSaveModalOrigin})),__webpack_require__.d(__webpack_exports__,"OriginSaveModalProps",(function(){})),__webpack_require__.d(__webpack_exports__,"SaveModalState",(function(){})),__webpack_require__.d(__webpack_exports__,"SaveResult",(function(){})),__webpack_require__.d(__webpack_exports__,"showSaveModal",(function(){return showSaveModal})),__webpack_require__.d(__webpack_exports__,"getSavedObjectFinder",(function(){return getSavedObjectFinder})),__webpack_require__.d(__webpack_exports__,"SavedObjectFinderUi",(function(){return saved_object_finder_SavedObjectFinderUi})),__webpack_require__.d(__webpack_exports__,"SavedObjectMetaData",(function(){})),__webpack_require__.d(__webpack_exports__,"SavedObjectLoader",(function(){return saved_object_loader_SavedObjectLoader})),__webpack_require__.d(__webpack_exports__,"SavedObjectLoaderFindOptions",(function(){})),__webpack_require__.d(__webpack_exports__,"checkForDuplicateTitle",(function(){return checkForDuplicateTitle})),__webpack_require__.d(__webpack_exports__,"saveWithConfirmation",(function(){return saveWithConfirmation})),__webpack_require__.d(__webpack_exports__,"isErrorNonFatal",(function(){return isErrorNonFatal})),__webpack_require__.d(__webpack_exports__,"SavedObjectDecorator",(function(){return decorators_types.SavedObjectDecorator})),__webpack_require__.d(__webpack_exports__,"SavedObjectDecoratorFactory",(function(){return decorators_types.SavedObjectDecoratorFactory})),__webpack_require__.d(__webpack_exports__,"SavedObjectDecoratorConfig",(function(){})),__webpack_require__.d(__webpack_exports__,"SavedObjectSaveOpts",(function(){return public_types.SavedObjectSaveOpts})),__webpack_require__.d(__webpack_exports__,"SavedObject",(function(){return public_types.SavedObject})),__webpack_require__.d(__webpack_exports__,"SavedObjectConfig",(function(){return public_types.SavedObjectConfig})),__webpack_require__.d(__webpack_exports__,"PER_PAGE_SETTING",(function(){return PER_PAGE_SETTING})),__webpack_require__.d(__webpack_exports__,"LISTING_LIMIT_SETTING",(function(){return LISTING_LIMIT_SETTING})),__webpack_require__.d(__webpack_exports__,"SavedObjectsStart",(function(){})),__webpack_require__.d(__webpack_exports__,"SavedObjectSetup",(function(){})),__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));__webpack_require__(16);var external_kbnSharedDeps_Lodash_=__webpack_require__(3),external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var public_=__webpack_require__(5);__webpack_require__(9);const expandShorthand=sh=>Object(external_kbnSharedDeps_Lodash_.mapValues)(sh,val=>{const fieldMap=Object(external_kbnSharedDeps_Lodash_.isString)(val)?{type:val}:val,json={type:public_.ES_FIELD_TYPES.TEXT,_serialize(v){if(v)return JSON.stringify(v)},_deserialize(v){if(v)return JSON.parse(v)}};return"json"===fieldMap.type?json:fieldMap});var kibanaUtils_public_=__webpack_require__(12);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);const OVERWRITE_REJECTED=external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.overwriteRejectedDescription",{defaultMessage:"Overwrite confirmation was rejected"}),SAVE_DUPLICATE_REJECTED=external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.saveDuplicateRejectedDescription",{defaultMessage:"Save with duplicate title confirmation was rejected"});var external_kbnSharedDeps_React_=__webpack_require__(0),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_ElasticEui_=__webpack_require__(1),kibanaReact_public_=__webpack_require__(13);function confirmModalPromise(message="",title="",confirmBtnText="",overlays){return new Promise((resolve,reject)=>{const cancelButtonText=external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.confirmModal.cancelButtonLabel",{defaultMessage:"Cancel"}),modal=overlays.openModal(Object(kibanaReact_public_.toMountPoint)(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiConfirmModal,{onCancel:()=>{modal.close(),reject()},onConfirm:()=>{modal.close(),resolve(!0)},confirmButtonText:confirmBtnText,cancelButtonText:cancelButtonText,title:title},message)))})}async function checkForDuplicateTitle(savedObject,isTitleDuplicateConfirmed,onTitleDuplicate,services){const{savedObjectsClient:savedObjectsClient,overlays:overlays}=services;if(isTitleDuplicateConfirmed)return!0;if(savedObject.title===savedObject.lastSavedTitle&&!savedObject.copyOnSave)return!0;const duplicate=await async function(savedObjectsClient,type,title){if(!title)return;return(await savedObjectsClient.find({type:type,perPage:10,search:`"${title}"`,searchFields:["title"],fields:["title"]})).savedObjects.find(obj=>obj.get("title").toLowerCase()===title.toLowerCase())}(savedObjectsClient,savedObject.getEsType(),savedObject.title);return!duplicate||duplicate.id===savedObject.id||(onTitleDuplicate?(onTitleDuplicate(),Promise.reject(new Error(SAVE_DUPLICATE_REJECTED))):function(savedObject,overlays){const confirmMessage=external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.confirmModal.saveDuplicateConfirmationMessage",{defaultMessage:"A {name} with the title '{title}' already exists. Would you like to save anyway?",values:{title:savedObject.title,name:savedObject.getDisplayName()}}),confirmButtonText=external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.confirmModal.saveDuplicateButtonLabel",{defaultMessage:"Save {name}",values:{name:savedObject.getDisplayName()}});try{return confirmModalPromise(confirmMessage,"",confirmButtonText,overlays)}catch(_){return Promise.reject(new Error(SAVE_DUPLICATE_REJECTED))}}(savedObject,overlays))}function isErrorNonFatal(error){return!!error&&(error.message===OVERWRITE_REJECTED||error.message===SAVE_DUPLICATE_REJECTED)}async function saveSavedObject(savedObject,config,{confirmOverwrite:confirmOverwrite=!1,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed=!1,onTitleDuplicate:onTitleDuplicate}={},services){const{savedObjectsClient:savedObjectsClient,chrome:chrome}=services,esType=config.type||"",extractReferences=config.extractReferences,originalId=savedObject.id;savedObject.copyOnSave&&delete savedObject.id;let{attributes:attributes,references:references}=savedObject._serialize();if(extractReferences&&({attributes:attributes,references:references}=extractReferences({attributes:attributes,references:references})),!references)throw new Error("References not returned from extractReferences");try{await checkForDuplicateTitle(savedObject,isTitleDuplicateConfirmed,onTitleDuplicate,services),savedObject.isSaving=!0;const resp=confirmOverwrite?await async function(source,savedObject,esType,options={},services){const{savedObjectsClient:savedObjectsClient,overlays:overlays}=services;try{return await savedObjectsClient.create(esType,source,options)}catch(err){if(409===external_kbnSharedDeps_Lodash_default.a.get(err,"res.status")){return confirmModalPromise(external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.confirmModal.overwriteConfirmationMessage",{defaultMessage:"Are you sure you want to overwrite {title}?",values:{title:savedObject.title}}),external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.confirmModal.overwriteTitle",{defaultMessage:"Overwrite {name}?",values:{name:savedObject.getDisplayName()}}),external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.confirmModal.overwriteButtonLabel",{defaultMessage:"Overwrite"}),overlays).then(()=>savedObjectsClient.create(esType,source,savedObject.creationOpts({overwrite:!0,...options}))).catch(()=>Promise.reject(new Error(OVERWRITE_REJECTED)))}return await Promise.reject(err)}}(attributes,savedObject,esType,savedObject.creationOpts({references:references}),services):await savedObjectsClient.create(esType,attributes,savedObject.creationOpts({references:references,overwrite:!0}));return savedObject.id=resp.id,savedObject.showInRecentlyAccessed&&savedObject.getFullPath&&chrome.recentlyAccessed.add(savedObject.getFullPath(),savedObject.title,String(savedObject.id)),savedObject.isSaving=!1,savedObject.lastSavedTitle=savedObject.title,savedObject.id}catch(err){return savedObject.isSaving=!1,savedObject.id=originalId,isErrorNonFatal(err)?"":Promise.reject(err)}}function buildSavedObject(savedObject,config,services,decorators=[]){((object,config,decorators)=>{decorators.forEach(decorator=>{decorator.decorateConfig(config),decorator.decorateObject(object)})})(savedObject,config,decorators);const{indexPatterns:indexPatterns,savedObjectsClient:savedObjectsClient}=services,esType=config.type||"";savedObject.getDisplayName=()=>esType,savedObject.getEsType=()=>esType,savedObject.isSaving=!1,savedObject.defaults=config.defaults||{},savedObject.searchSource=config.searchSource?services.search.searchSource.createEmpty():void 0,savedObject.id=config.id||void 0,savedObject.migrationVersion=config.migrationVersion,savedObject.copyOnSave=!1,savedObject.hydrateIndexPattern=id=>async function(id,savedObject,indexPatterns,config){const indexPattern=config.indexPattern;if(!savedObject.searchSource)return null;const index=id||indexPattern||savedObject.searchSource.getOwnField("index");if("string"!=typeof index||!index)return null;const indexObj=await indexPatterns.get(index);return savedObject.searchSource.setField("index",indexObj),indexObj}(id||"",savedObject,indexPatterns,config),savedObject.init=Object(external_kbnSharedDeps_Lodash_.once)(()=>async function(savedObject,savedObjectsClient,config){const esType=config.type;if(!esType)throw new Error("You must define a type name to use SavedObject objects.");if(!savedObject.id)return external_kbnSharedDeps_Lodash_default.a.assign(savedObject,savedObject.defaults),await savedObject.hydrateIndexPattern(),"function"==typeof config.afterESResp&&(savedObject=await config.afterESResp(savedObject)),savedObject;const resp=await savedObjectsClient.get(esType,savedObject.id),respMapped={_id:resp.id,_type:resp.type,_source:external_kbnSharedDeps_Lodash_default.a.cloneDeep(resp.attributes),references:resp.references,found:!!resp._version};return await savedObject.applyESResp(respMapped),"function"==typeof config.init&&await config.init.call(savedObject),savedObject}(savedObject,savedObjectsClient,config)),savedObject.applyESResp=resp=>async function(resp,savedObject,config,dependencies){var _config$mapping;const mapping=expandShorthand(null!==(_config$mapping=config.mapping)&&void 0!==_config$mapping?_config$mapping:{}),savedObjectType=config.type||"";if(savedObject._source=external_kbnSharedDeps_Lodash_default.a.cloneDeep(resp._source),"boolean"==typeof resp.found&&!resp.found)throw new kibanaUtils_public_.SavedObjectNotFound(savedObjectType,savedObject.id||"");const meta=resp._source.kibanaSavedObjectMeta||{};if(delete resp._source.kibanaSavedObjectMeta,!config.indexPattern&&savedObject._source.indexPattern&&(config.indexPattern=savedObject._source.indexPattern,delete savedObject._source.indexPattern),external_kbnSharedDeps_Lodash_default.a.defaults(savedObject._source,savedObject.defaults),external_kbnSharedDeps_Lodash_default.a.forOwn(mapping,(fieldMapping,fieldName)=>{fieldMapping._deserialize&&"string"==typeof fieldName&&(savedObject._source[fieldName]=fieldMapping._deserialize(savedObject._source[fieldName]))}),external_kbnSharedDeps_Lodash_default.a.assign(savedObject,savedObject._source),savedObject.lastSavedTitle=savedObject.title,meta.searchSourceJSON)try{let searchSourceValues=Object(public_.parseSearchSourceJSON)(meta.searchSourceJSON);config.searchSource?(searchSourceValues=Object(public_.injectSearchSourceReferences)(searchSourceValues,resp.references),savedObject.searchSource=await dependencies.search.searchSource.create(searchSourceValues)):savedObject.searchSourceFields=searchSourceValues}catch(error){throw"SavedObjectNotFound"===error.constructor.name&&"index-pattern"===error.savedObjectType&&(savedObject.unresolvedIndexPatternReference={name:"kibanaSavedObjectMeta.searchSourceJSON.index",id:JSON.parse(meta.searchSourceJSON).index,type:"index-pattern"}),error}const injectReferences=config.injectReferences;return injectReferences&&resp.references&&resp.references.length>0&&injectReferences(savedObject,resp.references),"function"==typeof config.afterESResp&&(savedObject=await config.afterESResp(savedObject)),savedObject}(resp,savedObject,config,services),savedObject._serialize=()=>function(savedObject,config){var _config$mapping;const mapping=expandShorthand(null!==(_config$mapping=config.mapping)&&void 0!==_config$mapping?_config$mapping:{}),attributes={},references=[];if(external_kbnSharedDeps_Lodash_default.a.forOwn(mapping,(fieldMapping,fieldName)=>{if("string"!=typeof fieldName)return;const savedObjectFieldVal=savedObject[fieldName];null!=savedObjectFieldVal&&(attributes[fieldName]=fieldMapping._serialize?fieldMapping._serialize(savedObjectFieldVal):savedObjectFieldVal)}),savedObject.searchSource){const{searchSourceJSON:searchSourceJSON,references:searchSourceReferences}=savedObject.searchSource.serialize();attributes.kibanaSavedObjectMeta={searchSourceJSON:searchSourceJSON},references.push(...searchSourceReferences)}if(savedObject.searchSourceFields){const[searchSourceFields,searchSourceReferences]=Object(public_.extractSearchSourceReferences)(savedObject.searchSourceFields),searchSourceJSON=JSON.stringify(searchSourceFields);attributes.kibanaSavedObjectMeta={searchSourceJSON:searchSourceJSON},references.push(...searchSourceReferences)}return savedObject.unresolvedIndexPatternReference&&references.push(savedObject.unresolvedIndexPatternReference),{attributes:attributes,references:references}}(savedObject,config),savedObject.isTitleChanged=()=>savedObject._source&&savedObject._source.title!==savedObject.title,savedObject.creationOpts=(opts={})=>({id:savedObject.id,migrationVersion:savedObject.migrationVersion,...opts}),savedObject.save=async opts=>{try{const result=await saveSavedObject(savedObject,config,opts,services);return Promise.resolve(result)}catch(e){return Promise.reject(e)}},savedObject.destroy=()=>{},savedObject.delete=()=>savedObject.id?savedObjectsClient.delete(esType,savedObject.id):Promise.reject(new Error("Deleting a saved Object requires type and id"))}class StringUtils{static upperFirst(str=""){return str?str.charAt(0).toUpperCase()+str.slice(1):""}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class saved_object_loader_SavedObjectLoader{constructor(SavedObjectClass,savedObjectsClient){this.savedObjectsClient=savedObjectsClient,_defineProperty(this,"Class",void 0),_defineProperty(this,"type",void 0),_defineProperty(this,"lowercaseType",void 0),_defineProperty(this,"loaderProperties",void 0),this.type=SavedObjectClass.type,this.Class=SavedObjectClass,this.lowercaseType=this.type.toLowerCase(),this.loaderProperties={name:this.lowercaseType+"s",noun:StringUtils.upperFirst(this.type),nouns:this.lowercaseType+"s"}}async get(opts){return new this.Class(opts).init()}urlFor(id){return`#/${this.lowercaseType}/${encodeURIComponent(id)}`}async delete(ids){const deletions=(Array.isArray(ids)?ids:[ids]).map(id=>new this.Class(id).delete());await Promise.all(deletions)}mapHitSource(source,id,references=[]){return source.id=id,source.url=this.urlFor(id),source.references=references,source}mapSavedObjectApiHits({attributes:attributes,id:id,references:references=[]}){return this.mapHitSource(attributes,id,references)}findAll(search="",{size:size=100,fields:fields,hasReference:hasReference}){return this.savedObjectsClient.find({type:this.lowercaseType,search:search?search+"*":void 0,perPage:size,page:1,searchFields:["title^3","description"],defaultSearchOperator:"AND",fields:fields,hasReference:hasReference}).then(resp=>({total:resp.total,hits:resp.savedObjects.map(savedObject=>this.mapSavedObjectApiHits(savedObject))}))}find(search="",sizeOrOptions=100){const options="number"==typeof sizeOrOptions?{size:sizeOrOptions}:sizeOrOptions;return this.findAll(search,options).then(resp=>({total:resp.total,hits:resp.hits.filter(savedObject=>!savedObject.error)}))}}async function saveWithConfirmation(source,savedObject,options,services){const{savedObjectsClient:savedObjectsClient,overlays:overlays}=services;try{return await savedObjectsClient.create(savedObject.getEsType(),source,options)}catch(err){if(409===Object(external_kbnSharedDeps_Lodash_.get)(err,"res.status")){return confirmModalPromise(external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.confirmModal.overwriteConfirmationMessage",{defaultMessage:"Are you sure you want to overwrite {title}?",values:{title:savedObject.title}}),external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.confirmModal.overwriteTitle",{defaultMessage:"Overwrite {name}?",values:{name:savedObject.displayName}}),external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.confirmModal.overwriteButtonLabel",{defaultMessage:"Overwrite"}),overlays).then(()=>savedObjectsClient.create(savedObject.getEsType(),source,{overwrite:!0,...options})).catch(()=>Promise.reject(new Error(OVERWRITE_REJECTED)))}return await Promise.reject(err)}}class SavedObjectDecoratorRegistry{constructor(){var obj,key,value;obj=this,key="registry",value=new Map,key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}register(config){if(this.registry.has(config.id))throw new Error("A decorator is already registered for id "+config.id);if([...this.registry.values()].find(({priority:priority})=>priority===config.priority))throw new Error("A decorator is already registered for priority "+config.priority);this.registry.set(config.id,config)}getOrderedDecorators(services){return[...this.registry.values()].sort((a,b)=>a.priority-b.priority).map(({factory:factory})=>factory(services))}}var decorators_types=__webpack_require__(10);const PER_PAGE_SETTING="savedObjects:perPage",LISTING_LIMIT_SETTING="savedObjects:listingLimit";class plugin_SavedObjectsPublicPlugin{constructor(){var obj,key,value;obj=this,key="decoratorRegistry",value=new SavedObjectDecoratorRegistry,key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}setup(){return{registerDecorator:config=>this.decoratorRegistry.register(config)}}start(core,{data:data}){return{SavedObjectClass:(services={indexPatterns:data.indexPatterns,savedObjectsClient:core.savedObjects.client,search:data.search,chrome:core.chrome,overlays:core.overlays},decoratorRegistry=this.decoratorRegistry,class{constructor(config={}){buildSavedObject(this,config,services,decoratorRegistry.getOrderedDecorators(services))}}),settings:{getPerPage:()=>core.uiSettings.get(PER_PAGE_SETTING),getListingLimit:()=>core.uiSettings.get(LISTING_LIMIT_SETTING)}};var services,decoratorRegistry}}var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(4);function saved_object_save_modal_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const generateId=Object(external_kbnSharedDeps_ElasticEui_.htmlIdGenerator)();class saved_object_save_modal_SavedObjectSaveModal extends external_kbnSharedDeps_React_default.a.Component{constructor(...args){super(...args),saved_object_save_modal_defineProperty(this,"warning",external_kbnSharedDeps_React_default.a.createRef()),saved_object_save_modal_defineProperty(this,"state",{title:this.props.title,copyOnSave:Boolean(this.props.initialCopyOnSave),isTitleDuplicateConfirmed:!1,hasTitleDuplicate:!1,isLoading:!1,visualizationDescription:this.props.description?this.props.description:""}),saved_object_save_modal_defineProperty(this,"renderViewDescription",()=>{if(this.props.showDescription)return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"savedObjects.saveModal.descriptionLabel",defaultMessage:"Description"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTextArea,{"data-test-subj":"viewDescription",value:this.state.visualizationDescription,onChange:this.onDescriptionChange}))}),saved_object_save_modal_defineProperty(this,"onDescriptionChange",event=>{this.setState({visualizationDescription:event.target.value})}),saved_object_save_modal_defineProperty(this,"onTitleDuplicate",()=>{this.setState({isLoading:!1,isTitleDuplicateConfirmed:!0,hasTitleDuplicate:!0}),this.warning.current&&this.warning.current.focus()}),saved_object_save_modal_defineProperty(this,"saveSavedObject",async()=>{this.state.isLoading||(this.setState({isLoading:!0}),await this.props.onSave({newTitle:this.state.title,newCopyOnSave:this.state.copyOnSave,isTitleDuplicateConfirmed:this.state.isTitleDuplicateConfirmed,onTitleDuplicate:this.onTitleDuplicate,newDescription:this.state.visualizationDescription}))}),saved_object_save_modal_defineProperty(this,"onTitleChange",event=>{this.setState({title:event.target.value,isTitleDuplicateConfirmed:!1,hasTitleDuplicate:!1})}),saved_object_save_modal_defineProperty(this,"onCopyOnSaveChange",event=>{this.setState({copyOnSave:event.target.checked}),this.props.onCopyOnSaveChange&&this.props.onCopyOnSaveChange(event.target.checked)}),saved_object_save_modal_defineProperty(this,"onFormSubmit",event=>{event.preventDefault(),this.saveSavedObject()}),saved_object_save_modal_defineProperty(this,"renderConfirmButton",()=>{const{isLoading:isLoading,title:title}=this.state;let confirmLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.saveModal.saveButtonLabel",{defaultMessage:"Save"});this.props.confirmButtonLabel&&(confirmLabel=this.props.confirmButtonLabel);const isValid=void 0===this.props.isValid||this.props.isValid;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButton,{fill:!0,"data-test-subj":"confirmSaveSavedObjectButton",isLoading:isLoading,isDisabled:0===title.length||!isValid,type:"submit"},confirmLabel)}),saved_object_save_modal_defineProperty(this,"renderDuplicateTitleCallout",duplicateWarningId=>{if(this.state.hasTitleDuplicate)return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("div",{ref:this.warning,tabIndex:-1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiCallOut,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"savedObjects.saveModal.duplicateTitleLabel",defaultMessage:"This {objectType} already exists",values:{objectType:this.props.objectType}}),color:"warning","data-test-subj":"titleDupicateWarnMsg",id:duplicateWarningId},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"savedObjects.saveModal.duplicateTitleDescription",defaultMessage:"Saving '{title}' creates a duplicate title.",values:{title:this.state.title}})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null))}),saved_object_save_modal_defineProperty(this,"renderCopyOnSave",()=>{if(this.props.showCopyOnSave)return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSwitch,{"data-test-subj":"saveAsNewCheckbox",checked:this.state.copyOnSave,onChange:this.onCopyOnSaveChange,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"savedObjects.saveModal.saveAsNewLabel",defaultMessage:"Save as new {objectType}",values:{objectType:this.props.objectType}})}))})}render(){const{isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,hasTitleDuplicate:hasTitleDuplicate,title:title}=this.state,duplicateWarningId=generateId(),hasColumns=!!this.props.rightOptions,formBodyContent=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,{fullWidth:!0,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"savedObjects.saveModal.titleLabel",defaultMessage:"Title"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldText,{fullWidth:!0,autoFocus:!0,"data-test-subj":"savedObjectTitle",value:title,onChange:this.onTitleChange,isInvalid:!isTitleDuplicateConfirmed&&hasTitleDuplicate||0===title.length,"aria-describedby":this.state.hasTitleDuplicate?duplicateWarningId:void 0})),this.renderViewDescription(),"function"==typeof this.props.options?this.props.options(this.state):this.props.options),formBody=hasColumns?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,formBodyContent),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,null,"function"==typeof this.props.rightOptions?this.props.rightOptions(this.state):this.props.rightOptions)):formBodyContent;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModal,{"data-test-subj":"savedObjectSaveModal",className:"kbnSavedObjectSaveModal"+(hasColumns?" kbnSavedObjectsSaveModal--wide":""),onClose:this.props.onClose},external_kbnSharedDeps_React_default.a.createElement("form",{onSubmit:this.onFormSubmit,className:"euiModal__flex"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalHeaderTitle,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"savedObjects.saveModal.saveTitle",defaultMessage:"Save {objectType}",values:{objectType:this.props.objectType}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalBody,null,this.renderDuplicateTitleCallout(duplicateWarningId),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiForm,null,!this.props.showDescription&&this.props.description&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiText,{size:"s",color:"subdued"},this.props.description),formBody,this.renderCopyOnSave())),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiModalFooter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiButtonEmpty,{"data-test-subj":"saveCancelButton",onClick:this.props.onClose},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"savedObjects.saveModal.cancelButtonLabel",defaultMessage:"Cancel"})),this.renderConfirmButton())))}}function SavedObjectSaveModalOrigin(props){const[returnToOriginMode,setReturnToOriginMode]=Object(external_kbnSharedDeps_React_.useState)(Boolean(props.originatingApp)),{documentInfo:documentInfo}=props,returnLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.saveModalOrigin.returnToOriginLabel",{defaultMessage:"Return"}),addLabel=external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.saveModalOrigin.addToOriginLabel",{defaultMessage:"Add"}),confirmButtonLabel=returnToOriginMode?external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.saveModalOrigin.saveAndReturnLabel",{defaultMessage:"Save and return"}):null;return external_kbnSharedDeps_React_default.a.createElement(saved_object_save_modal_SavedObjectSaveModal,{onSave:onSaveProps=>{props.onSave({...onSaveProps,returnToOrigin:returnToOriginMode})},onClose:props.onClose,title:documentInfo.title,showCopyOnSave:!!documentInfo.id,initialCopyOnSave:Boolean(documentInfo.id)&&returnToOriginMode,confirmButtonLabel:confirmButtonLabel,objectType:props.objectType,options:state=>{const sourceOptions="function"==typeof props.options?props.options(state):props.options;if(!props.originatingApp)return sourceOptions;const origin=props.getAppNameFromId&&props.getAppNameFromId(props.originatingApp)||props.originatingApp;if(state.copyOnSave&&"dashboards"!==props.originatingApp)return setReturnToOriginMode(!1),sourceOptions;{var _props$returnToOrigin;const originVerb=!documentInfo.id||state.copyOnSave?addLabel:returnLabel;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_.Fragment,null,sourceOptions,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFormRow,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSwitch,{"data-test-subj":"returnToOriginModeSwitch",checked:returnToOriginMode,onChange:event=>{setReturnToOriginMode(event.target.checked)},label:null!==(_props$returnToOrigin=props.returnToOriginSwitchLabel)&&void 0!==_props$returnToOrigin?_props$returnToOrigin:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_.FormattedMessage,{id:"savedObjects.saveModalOrigin.originAfterSavingSwitchLabel",defaultMessage:"{originVerb} to {origin} after saving",values:{originVerb:originVerb,origin:origin}})})))}},description:documentInfo.description,showDescription:!0})}var external_kbnSharedDeps_ReactDom_=__webpack_require__(11),external_kbnSharedDeps_ReactDom_default=__webpack_require__.n(external_kbnSharedDeps_ReactDom_);function showSaveModal(saveModal,I18nContext,Wrapper){const container=document.createElement("div"),closeModal=()=>{external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(container),document.body.removeChild(container)},onSave=saveModal.props.onSave;document.body.appendChild(container);const element=external_kbnSharedDeps_React_default.a.cloneElement(saveModal,{onSave:async(...args)=>{const response=await onSave(...args);return Boolean("id"in response?response.id:response.error)&&closeModal(),response},onClose:closeModal}),wrappedElement=Wrapper?external_kbnSharedDeps_React_default.a.createElement(I18nContext,null,external_kbnSharedDeps_React_default.a.createElement(Wrapper,null,element)):external_kbnSharedDeps_React_default.a.createElement(I18nContext,null,element);external_kbnSharedDeps_ReactDom_default.a.render(wrappedElement,container)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function saved_object_finder_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class saved_object_finder_SavedObjectFinderUi extends external_kbnSharedDeps_React_default.a.Component{constructor(props){super(props),saved_object_finder_defineProperty(this,"isComponentMounted",!1),saved_object_finder_defineProperty(this,"debouncedFetch",external_kbnSharedDeps_Lodash_default.a.debounce(async query=>{const metaDataMap=this.getSavedObjectMetaDataMap(),fields=Object.values(metaDataMap).map(metaData=>metaData.includeFields||[]).reduce((allFields,currentFields)=>allFields.concat(currentFields),["title"]),perPage=this.props.uiSettings.get(LISTING_LIMIT_SETTING),resp=await this.props.savedObjects.client.find({type:Object.keys(metaDataMap),fields:[...new Set(fields)],search:query?query+"*":void 0,page:1,perPage:perPage,searchFields:["title^3","description"],defaultSearchOperator:"AND"});resp.savedObjects=resp.savedObjects.filter(savedObject=>{const metaData=metaDataMap[savedObject.type];return!metaData.showSavedObject||metaData.showSavedObject(savedObject)}),this.isComponentMounted&&query===this.state.query&&this.setState({isFetchingItems:!1,page:0,items:resp.savedObjects.map(savedObject=>{const{attributes:{title:title},id:id,type:type}=savedObject;return{title:"string"==typeof title?title:"",id:id,type:type,savedObject:savedObject}})})},300)),saved_object_finder_defineProperty(this,"getPageOfItems",()=>{const items=this.state.items.slice(),{sortDirection:sortDirection}=this.state;!sortDirection&&this.state.query||items.sort(({title:titleA},{title:titleB})=>{let order=1;return"desc"===sortDirection&&(order=-1),order*(titleA||"").toLowerCase().localeCompare((titleB||"").toLowerCase())});const startIndex=this.state.page*this.state.perPage,lastIndex=startIndex+this.state.perPage;return items.filter(item=>0===this.state.filteredTypes.length||this.state.filteredTypes.includes(item.type)).slice(startIndex,lastIndex)}),saved_object_finder_defineProperty(this,"fetchItems",()=>{this.setState({isFetchingItems:!0},this.debouncedFetch.bind(null,this.state.query))}),this.state={items:[],isFetchingItems:!1,page:0,perPage:props.initialPageSize||props.fixedPageSize||10,query:"",filterOpen:!1,filteredTypes:[],sortOpen:!1}}componentWillUnmount(){this.isComponentMounted=!1,this.debouncedFetch.cancel()}componentDidMount(){this.isComponentMounted=!0,this.fetchItems()}render(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,this.renderSearchBar(),this.renderListing())}getSavedObjectMetaDataMap(){return this.props.savedObjectMetaData.reduce((map,metaData)=>({...map,[metaData.type]:metaData}),{})}getPageCount(){return Math.ceil((0===this.state.filteredTypes.length?this.state.items.length:this.state.items.filter(item=>0===this.state.filteredTypes.length||this.state.filteredTypes.includes(item.type)).length)/this.state.perPage)}getAvailableSavedObjectMetaData(){const typesInItems=new Set;return this.state.items.forEach(item=>{typesInItems.add(item.type)}),this.props.savedObjectMetaData.filter(metaData=>typesInItems.has(metaData.type))}getSortOptions(){const sortOptions=[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuItem,{key:"asc",icon:"asc"===this.state.sortDirection||""===this.state.query&&"desc"!==this.state.sortDirection?"check":"empty",onClick:()=>{this.setState({sortDirection:"asc"})}},external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.finder.sortAsc",{defaultMessage:"Ascending"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuItem,{key:"desc",icon:"desc"===this.state.sortDirection?"check":"empty",onClick:()=>{this.setState({sortDirection:"desc"})}},external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.finder.sortDesc",{defaultMessage:"Descending"}))];return this.state.query&&sortOptions.push(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuItem,{key:"auto",icon:this.state.sortDirection?"empty":"check",onClick:()=>{this.setState({sortDirection:void 0})}},external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.finder.sortAuto",{defaultMessage:"Best match"}))),sortOptions}renderSearchBar(){const availableSavedObjectMetaData=this.getAvailableSavedObjectMetaData();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFieldSearch,{placeholder:external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.finder.searchPlaceholder",{defaultMessage:"Search…"}),"aria-label":external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.finder.searchPlaceholder",{defaultMessage:"Search…"}),fullWidth:!0,value:this.state.query,onChange:e=>{this.setState({query:e.target.value},this.fetchItems)},"data-test-subj":"savedObjectFinderSearchInput",isLoading:this.state.isFetchingItems})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterGroup,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{id:"addPanelSortPopover",panelClassName:"euiFilterGroup__popoverPanel",panelPaddingSize:"none",isOpen:this.state.sortOpen,closePopover:()=>this.setState({sortOpen:!1}),button:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterButton,{onClick:()=>this.setState(({sortOpen:sortOpen})=>({sortOpen:!sortOpen})),iconType:"arrowDown",isSelected:this.state.sortOpen,"data-test-subj":"savedObjectFinderSortButton"},external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.finder.sortButtonLabel",{defaultMessage:"Sort"}))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuPanel,{watchedItemProps:["icon","disabled"],items:this.getSortOptions()})),this.props.showFilter&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPopover,{id:"addPanelFilterPopover",panelClassName:"euiFilterGroup__popoverPanel",panelPaddingSize:"none",isOpen:this.state.filterOpen,closePopover:()=>this.setState({filterOpen:!1}),button:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFilterButton,{onClick:()=>this.setState(({filterOpen:filterOpen})=>({filterOpen:!filterOpen})),iconType:"arrowDown","data-test-subj":"savedObjectFinderFilterButton",isSelected:this.state.filterOpen,numFilters:this.props.savedObjectMetaData.length,hasActiveFilters:this.state.filteredTypes.length>0,numActiveFilters:this.state.filteredTypes.length},external_kbnSharedDeps_KbnI18n_.i18n.translate("savedObjects.finder.filterButtonLabel",{defaultMessage:"Types"}))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuPanel,{watchedItemProps:["icon","disabled"],items:this.props.savedObjectMetaData.map(metaData=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiContextMenuItem,{key:metaData.type,disabled:!availableSavedObjectMetaData.includes(metaData),icon:this.state.filteredTypes.includes(metaData.type)?"check":"empty","data-test-subj":"savedObjectFinderFilter-"+metaData.type,onClick:()=>{this.setState(({filteredTypes:filteredTypes})=>({filteredTypes:filteredTypes.includes(metaData.type)?filteredTypes.filter(t=>t!==metaData.type):[...filteredTypes,metaData.type],page:0}))}},metaData.name))})))),this.props.children?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},this.props.children):null)}renderListing(){const items=0===this.state.items.length?[]:this.getPageOfItems(),{onChoose:onChoose,savedObjectMetaData:savedObjectMetaData}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,this.state.isFetchingItems&&0===this.state.items.length&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexGroup,{justifyContent:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiFlexItem,{grow:!1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiSpacer,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiLoadingSpinner,{"data-test-subj":"savedObjectFinderLoadingIndicator"}))),items.length>0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiListGroup,{"data-test-subj":"savedObjectFinderItemList",maxWidth:!1},items.map(item=>{const currentSavedObjectMetaData=savedObjectMetaData.find(metaData=>metaData.type===item.type),fullName=currentSavedObjectMetaData.getTooltipForSavedObject?currentSavedObjectMetaData.getTooltipForSavedObject(item.savedObject):`${item.title} (${currentSavedObjectMetaData.name})`,iconType=(currentSavedObjectMetaData||{getIconForSavedObject:()=>"document"}).getIconForSavedObject(item.savedObject);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiListGroupItem,{key:item.id,iconType:iconType,label:item.title,onClick:onChoose?()=>{onChoose(item.id,item.type,fullName,item.savedObject)}:void 0,title:fullName,"data-test-subj":"savedObjectTitle"+(item.title||"").split(" ").join("-")})})):!this.state.isFetchingItems&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiEmptyPrompt,{body:this.props.noItemsMessage}),this.getPageCount()>1&&(this.props.fixedPageSize?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiPagination,{activePage:this.state.page,pageCount:this.getPageCount(),onPageClick:page=>{this.setState({page:page})}}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiTablePagination,{activePage:this.state.page,pageCount:this.getPageCount(),onChangePage:page=>{this.setState({page:page})},onChangeItemsPerPage:perPage=>{this.setState({perPage:perPage})},itemsPerPage:this.state.perPage,itemsPerPageOptions:[5,10,15,25]})))}}const getSavedObjectFinder=(savedObject,uiSettings)=>props=>external_kbnSharedDeps_React_default.a.createElement(saved_object_finder_SavedObjectFinderUi,_extends({},props,{savedObjects:savedObject,uiSettings:uiSettings}));var public_types=__webpack_require__(8);const public_plugin=()=>new plugin_SavedObjectsPublicPlugin}]);