(window.visTypeTimeseries_bundle_jsonpfunction=window.visTypeTimeseries_bundle_jsonpfunction||[]).push([[8],{263:function(module,exports,__webpack_require__){module.exports=__webpack_require__(264)()},264:function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(265);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},265:function(module,exports,__webpack_require__){"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},380:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return vis_TimeseriesVisualization}));var external_kbnSharedDeps_React_=__webpack_require__(1),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),external_kbnSharedDeps_Lodash_=__webpack_require__(7),external_kbnSharedDeps_ElasticEui_=__webpack_require__(14),external_kbnSharedDeps_ElasticCharts_=__webpack_require__(35),tick_formatter=__webpack_require__(54),classnames=__webpack_require__(79),classnames_default=__webpack_require__.n(classnames),label_date_formatter=__webpack_require__(67),get_timezone=__webpack_require__(20);const activeCursor$=new(__webpack_require__(37).Subject);var services=__webpack_require__(0),constants=__webpack_require__(46);var prop_types=__webpack_require__(263),prop_types_default=__webpack_require__.n(prop_types);const Chart={seriesId:prop_types_default.a.string.isRequired,seriesGroupId:prop_types_default.a.string.isRequired,name:prop_types_default.a.string.isRequired,data:prop_types_default.a.arrayOf(prop_types_default.a.arrayOf(prop_types_default.a.number)).isRequired,hideInLegend:prop_types_default.a.bool.isRequired,color:prop_types_default.a.string.isRequired,stackMode:prop_types_default.a.oneOf(["percentage","wiggle","silhouette"]),stackAccessors:prop_types_default.a.arrayOf(prop_types_default.a.number),xScaleType:prop_types_default.a.string,yScaleType:prop_types_default.a.string,timeZone:prop_types_default.a.string.isRequired,enableHistogramMode:prop_types_default.a.bool.isRequired,sortIndex:prop_types_default.a.number};prop_types_default.a.shape({fill:prop_types_default.a.number,lineWidth:prop_types_default.a.number,show:prop_types_default.a.boolean}).isRequired,prop_types_default.a.shape({fill:prop_types_default.a.number,lineWidth:prop_types_default.a.number,show:prop_types_default.a.bool,steps:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.bool])}).isRequired,prop_types_default.a.shape({lineWidth:prop_types_default.a.number,radius:prop_types_default.a.number,show:prop_types_default.a.bool}).isRequired;function AreaSeriesDecorator({seriesId:seriesId,seriesGroupId:seriesGroupId,name:name,data:data,hideInLegend:hideInLegend,lines:lines,color:color,stackAccessors:stackAccessors,stackMode:stackMode,points:points,xScaleType:xScaleType,yScaleType:yScaleType,timeZone:timeZone,enableHistogramMode:enableHistogramMode,sortIndex:sortIndex,y1AccessorFormat:y1AccessorFormat,y0AccessorFormat:y0AccessorFormat,tickFormat:tickFormat}){const id=seriesId,groupId=seriesGroupId,areaSeriesStyle=(({points:points,lines:lines,color:color})=>({areaSeriesStyle:{line:{stroke:color,strokeWidth:Number(lines.lineWidth)||0,visible:Boolean(lines.show&&lines.lineWidth)},area:{fill:color,opacity:lines.fill<=0?0:lines.fill,visible:Boolean(lines.show)},point:{radius:points.radius||.5,stroke:color||"#000",strokeWidth:points.lineWidth||5,visible:points.lineWidth>0&&Boolean(points.show)}},curve:lines.steps?external_kbnSharedDeps_ElasticCharts_.CurveType.CURVE_STEP:external_kbnSharedDeps_ElasticCharts_.CurveType.LINEAR}))({points:points,lines:lines,color:color}),seriesSettings={id:id,name:name,groupId:groupId,data:data,color:color,hideInLegend:hideInLegend,xAccessor:constants.e,yAccessors:constants.g,y0Accessors:"band"===lines.mode?constants.f:void 0,y1AccessorFormat:y1AccessorFormat,y0AccessorFormat:y0AccessorFormat,stackAccessors:stackAccessors,stackMode:stackMode,xScaleType:xScaleType,yScaleType:yScaleType,timeZone:timeZone,enableHistogramMode:enableHistogramMode,sortIndex:sortIndex,tickFormat:tickFormat,...areaSeriesStyle};return enableHistogramMode&&(seriesSettings.histogramModeAlignment="center"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_.AreaSeries,seriesSettings)}function BarSeriesDecorator({seriesId:seriesId,seriesGroupId:seriesGroupId,name:name,data:data,hideInLegend:hideInLegend,bars:bars,color:color,stackAccessors:stackAccessors,stackMode:stackMode,xScaleType:xScaleType,yScaleType:yScaleType,timeZone:timeZone,enableHistogramMode:enableHistogramMode,sortIndex:sortIndex,y1AccessorFormat:y1AccessorFormat,y0AccessorFormat:y0AccessorFormat,tickFormat:tickFormat}){const id=seriesId,groupId=seriesGroupId,barSeriesStyle=(({show:show=!0,lineWidth:lineWidth=0,fill:fill=1},color)=>({barSeriesStyle:{rectBorder:{stroke:color||"#000",strokeWidth:lineWidth,visible:show},rect:{fill:color||"#000",opacity:fill}}}))(bars,color),seriesSettings={id:id,name:name,groupId:groupId,data:data,color:color,hideInLegend:hideInLegend,xAccessor:constants.e,yAccessors:constants.g,y0Accessors:"band"===bars.mode?constants.f:void 0,y1AccessorFormat:y1AccessorFormat,y0AccessorFormat:y0AccessorFormat,stackAccessors:stackAccessors,stackMode:stackMode,xScaleType:xScaleType,yScaleType:yScaleType,timeZone:timeZone,enableHistogramMode:enableHistogramMode,sortIndex:sortIndex,tickFormat:tickFormat,...barSeriesStyle};return enableHistogramMode&&(seriesSettings.histogramModeAlignment="center"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_.BarSeries,seriesSettings)}AreaSeriesDecorator.defaultProps={yScaleType:external_kbnSharedDeps_ElasticCharts_.ScaleType.Linear,xScaleType:external_kbnSharedDeps_ElasticCharts_.ScaleType.Time},BarSeriesDecorator.defaultProps={yScaleType:external_kbnSharedDeps_ElasticCharts_.ScaleType.Linear,xScaleType:external_kbnSharedDeps_ElasticCharts_.ScaleType.Time};var node_modules_color=__webpack_require__(57),color_default=__webpack_require__.n(node_modules_color);function computeRelativeLuminosity(rgb){return color_default()(rgb).luminosity()}function computeContrast(rgb1,rgb2){return color_default()(rgb1).contrast(color_default()(rgb2))}function getAAAGray(bgColor,fgColor,ratio=7){return function(gray){const g=Math.round(255*gray);return`rgb(${g},${g},${g})`}(function(relLum){return relLum<=.0031308?12.92*relLum:1.055*Math.pow(relLum,1/2.4)-.055}(function(bgColor,fgColor,ratio=7){const relLum1=computeRelativeLuminosity(bgColor);return relLum1>computeRelativeLuminosity(fgColor)?(relLum1+.05-.05*ratio)/ratio:Math.min(ratio*(relLum1+.05)-.05,1)}(bgColor,fgColor,ratio)))}function getBaseTheme(baseTheme,bgColor){if(!function(color){if("string"!=typeof color)return!1;if(0===color.length)return!1;try{return color_default()(color),!0}catch{return!1}}(bgColor))return baseTheme;const mainTheme=computeRelativeLuminosity(bgColor)<=.179?external_kbnSharedDeps_ElasticCharts_.DARK_THEME:external_kbnSharedDeps_ElasticCharts_.LIGHT_THEME,color=function(bgColor,lightFgColor,darkFgColor,ratio=4.5){const lc=computeContrast(bgColor,lightFgColor),dc=computeContrast(bgColor,darkFgColor);return lc>=dc?lc>=ratio?lightFgColor:getAAAGray(bgColor,lightFgColor,ratio):dc>=ratio?darkFgColor:getAAAGray(bgColor,darkFgColor,ratio)}(bgColor,external_kbnSharedDeps_ElasticCharts_.LIGHT_THEME.axes.axisTitle.fill,external_kbnSharedDeps_ElasticCharts_.DARK_THEME.axes.axisTitle.fill);return{...mainTheme,axes:{...mainTheme.axes,axisTitle:{...mainTheme.axes.axisTitle,fill:color},tickLabel:{...mainTheme.axes.tickLabel,fill:color},axisLine:{...mainTheme.axes.axisLine,stroke:color},tickLine:{...mainTheme.axes.tickLine,stroke:color}}}}var empty_label=__webpack_require__(43),get_split_by_terms_color=__webpack_require__(80);const handleCursorUpdate=cursor=>{activeCursor$.next(cursor)},TimeSeries=({backgroundColor:backgroundColor,showGrid:showGrid,legend:legend,legendPosition:legendPosition,tooltipMode:tooltipMode,xAxisLabel:xAxisLabel,series:series,yAxis:yAxis,onBrush:onBrush,xAxisFormatter:xAxisFormatter,annotations:annotations,syncColors:syncColors,palettesService:palettesService})=>{var _document$getElementB;const chartRef=Object(external_kbnSharedDeps_React_.useRef)();Object(external_kbnSharedDeps_React_.useEffect)(()=>{const subscription=activeCursor$.subscribe(cursor=>{chartRef.current&&chartRef.current.dispatchExternalPointerEvent(cursor)});return()=>{subscription.unsubscribe()}},[]);const tooltipFormatter=(formatter=xAxisFormatter,({value:value})=>formatter(value));var formatter;const uiSettings=Object(services.f)(),timeZone=Object(get_timezone.a)(uiSettings),hasBarChart=series.some(({bars:bars})=>null==bars?void 0:bars.show),classes=classnames_default()(function(bgColor){if("string"!=typeof bgColor)return;return computeRelativeLuminosity(bgColor)<=.179?"tvbVisTimeSeriesDark":"tvbVisTimeSeriesLight"}(backgroundColor)),{theme:themeService}=Object(services.a)(),baseTheme=getBaseTheme(themeService.useChartsBaseTheme(),backgroundColor),getSeriesColor=Object(external_kbnSharedDeps_React_.useCallback)((seriesName,seriesGroupId,seriesId)=>{const seriesById=series.filter(s=>s.seriesId===seriesGroupId),props={seriesById:seriesById,seriesName:seriesName,seriesId:seriesId,baseColor:seriesById[0].baseColor,seriesPalette:seriesById[0].palette,palettesRegistry:palettesService,syncColors:syncColors};return Object(get_split_by_terms_color.a)(props)||null},[palettesService,series,syncColors]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_.Chart,{ref:chartRef,renderer:"canvas",className:classes},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_.Settings,{showLegend:legend,showLegendExtra:!0,legendPosition:legendPosition,onBrushEnd:({x:x})=>{if(!x)return;const[min,max]=x;onBrush(min,max,series)},animateData:!1,onPointerUpdate:handleCursorUpdate,theme:[hasBarChart?{}:{crosshair:{band:{fill:"#F00"}}},{background:{color:backgroundColor}}],baseTheme:baseTheme,tooltip:{snap:!0,type:"show_focused"===tooltipMode?external_kbnSharedDeps_ElasticCharts_.TooltipType.Follow:external_kbnSharedDeps_ElasticCharts_.TooltipType.VerticalCursor,boundary:null!==(_document$getElementB=document.getElementById("app-fixed-viewport"))&&void 0!==_document$getElementB?_document$getElementB:void 0,headerFormatter:tooltipFormatter},externalPointerEvents:{tooltip:{visible:!1}}}),annotations.map(({id:id,data:data,icon:icon,color:color})=>{const dataValues=((values,formatter)=>values.map(({key:key,docs:docs})=>({dataValue:key,details:docs[0],header:formatter({value:key})})))(data,tooltipFormatter),style={line:{stroke:color}};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_.LineAnnotation,{key:id,id:id,domainType:external_kbnSharedDeps_ElasticCharts_.AnnotationDomainType.XDomain,dataValues:dataValues,marker:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_.EuiIcon,{type:constants.b[icon]||"asterisk"}),hideLinesTooltips:!0,style:style})}),series.map(({id:id,seriesId:seriesId,label:label,labelFormatted:labelFormatted,bars:bars,lines:lines,data:data,hideInLegend:hideInLegend,xScaleType:xScaleType,yScaleType:yScaleType,groupId:groupId,color:color,isSplitByTerms:isSplitByTerms,stack:stack,points:points,y1AccessorFormat:y1AccessorFormat,y0AccessorFormat:y0AccessorFormat,tickFormat:tickFormat},sortIndex)=>{const stackAccessors=(stack=>{switch(stack){case constants.c.STACKED:case constants.c.STACKED_WITHIN_SERIES:case constants.c.PERCENT:return constants.d;default:return}})(stack),isPercentage=stack===constants.c.PERCENT,isStacked=stack!==constants.c.NONE,key=`${id}-${label}`;let seriesName=label.toString();labelFormatted&&(seriesName=Object(label_date_formatter.a)(labelFormatted));const splitColor=getSeriesColor(seriesName,seriesId,id),finalColor=isSplitByTerms&&splitColor?splitColor:color;return null!=bars&&bars.show?external_kbnSharedDeps_React_default.a.createElement(BarSeriesDecorator,{key:key,seriesId:id,seriesGroupId:groupId,name:Object(empty_label.b)(seriesName),data:data,hideInLegend:hideInLegend,bars:bars,color:finalColor,stackAccessors:stackAccessors,stackMode:isPercentage?external_kbnSharedDeps_ElasticCharts_.StackMode.Percentage:void 0,xScaleType:xScaleType,yScaleType:yScaleType,timeZone:timeZone,enableHistogramMode:isStacked,sortIndex:sortIndex,y1AccessorFormat:y1AccessorFormat,y0AccessorFormat:y0AccessorFormat,tickFormat:tickFormat}):null!=lines&&lines.show?external_kbnSharedDeps_React_default.a.createElement(AreaSeriesDecorator,{key:key,seriesId:id,seriesGroupId:groupId,name:Object(empty_label.b)(seriesName),data:data,hideInLegend:hideInLegend,lines:lines,color:finalColor,stackAccessors:stackAccessors,stackMode:isPercentage?external_kbnSharedDeps_ElasticCharts_.StackMode.Percentage:void 0,points:points,xScaleType:xScaleType,yScaleType:yScaleType,timeZone:timeZone,enableHistogramMode:isStacked,sortIndex:sortIndex,y1AccessorFormat:y1AccessorFormat,y0AccessorFormat:y0AccessorFormat,tickFormat:tickFormat}):null}),yAxis.map(({id:id,groupId:groupId,position:position,tickFormatter:tickFormatter,domain:domain,hide:hide})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_.Axis,{key:groupId,groupId:groupId,id:id,position:position,domain:domain,hide:hide,gridLine:{...constants.a,visible:showGrid},tickFormat:tickFormatter})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_.Axis,{id:"bottom",position:external_kbnSharedDeps_ElasticCharts_.Position.Bottom,title:xAxisLabel,tickFormat:xAxisFormatter,gridLine:{...constants.a,visible:showGrid}}))};TimeSeries.defaultProps={showGrid:!0,legend:!0,legendPosition:"right"};var public_=__webpack_require__(36),replace_vars=__webpack_require__(61),get_interval=__webpack_require__(64),external_kbnSharedDeps_KbnI18n_=__webpack_require__(3);function getAxisLabelString(interval){if(!interval)return"";const convertedValue=Object(get_interval.a)(interval);return convertedValue?external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeTimeseries.axisLabelOptions.axisLabel",{defaultMessage:"per {unitValue} {unitString}",values:{unitValue:convertedValue.unitValue,unitString:convertedValue.unitString}}):void 0}var create_interval_based_formatter=__webpack_require__(153);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class vis_TimeseriesVisualization extends external_kbnSharedDeps_React_.Component{constructor(...args){super(...args),_defineProperty(this,"scaledDataFormat",this.props.getConfig("dateFormat:scaled")),_defineProperty(this,"dateFormat",this.props.getConfig("dateFormat")),_defineProperty(this,"xAxisFormatter",interval=>val=>Object(create_interval_based_formatter.a)(interval,this.scaledDataFormat,this.dateFormat)(val)),_defineProperty(this,"yAxisStackedByPercentFormatter",val=>{const n=100*Number(val);return(Number.isNaN(n)?0:n).toFixed(0)+"%"}),_defineProperty(this,"applyDocTo",template=>doc=>{const vars=Object(replace_vars.a)(template,null,doc);return vars instanceof Error?(this.showToastNotification=vars.error.caused_by,template):vars}),_defineProperty(this,"prepareAnnotations",()=>{const{model:model,visData:visData}=this.props;return Object(external_kbnSharedDeps_Lodash_.map)(model.annotations,({id:id,color:color,icon:icon,template:template})=>{const annotationData=Object(external_kbnSharedDeps_Lodash_.get)(visData,`${model.id}.annotations.${id}`,[]),applyDocToTemplate=this.applyDocTo(template);return{id:id,color:color,icon:icon,data:annotationData.map(({docs:docs,...rest})=>({...rest,docs:docs.map(applyDocToTemplate)}))}})})}componentDidUpdate(){const toastNotifications=Object(services.b)().notifications.toasts;this.showToastNotification&&this.notificationReason!==this.showToastNotification.reason&&(this.notification&&toastNotifications.remove(this.notification),this.notificationReason=this.showToastNotification.reason,this.notification=toastNotifications.addDanger({title:this.showToastNotification.title,text:external_kbnSharedDeps_React_default.a.createElement(public_.MarkdownSimple,null,this.showToastNotification.reason)})),!this.showToastNotification&&this.notification&&(toastNotifications.remove(this.notification),this.notificationReason=null,this.notification=null)}render(){const{model:model,visData:visData,onBrush:onBrush,syncColors:syncColors,palettesService:palettesService}=this.props,series=Object(external_kbnSharedDeps_Lodash_.get)(visData,model.id+".series",[]),interval=Object(get_interval.b)(visData,model),yAxisIdGenerator=Object(external_kbnSharedDeps_ElasticEui_.htmlIdGenerator)("yaxis"),mainAxisGroupId=yAxisIdGenerator("main_group"),seriesModel=model.series.filter(s=>!s.hidden).map(s=>Object(external_kbnSharedDeps_Lodash_.cloneDeep)(s)),mainAxisScaleType=vis_TimeseriesVisualization.getAxisScaleType(model),mainAxisDomain=vis_TimeseriesVisualization.getYAxisDomain(model),yAxis=[];let mainDomainAdded=!1;const allSeriesHaveSameFormatters=seriesModel.every(seriesGroup=>seriesGroup.formatter===seriesModel[0].formatter);return this.showToastNotification=null,seriesModel.forEach(seriesGroup=>{var _seriesGroup$palette;const isStackedWithinSeries=seriesGroup.stacked===constants.c.STACKED_WITHIN_SERIES,hasSeparateAxis=Boolean(seriesGroup.separate_axis),groupId=hasSeparateAxis||isStackedWithinSeries?seriesGroup.id:mainAxisGroupId,domain=hasSeparateAxis?vis_TimeseriesVisualization.getYAxisDomain(seriesGroup):void 0,isCustomDomain=groupId!==mainAxisGroupId,seriesGroupTickFormatter=vis_TimeseriesVisualization.getTickFormatter(seriesGroup,this.props.getConfig),palette={...seriesGroup.palette,name:"kibana"===seriesGroup.split_color_mode?"kibana_palette":seriesGroup.split_color_mode||(null===(_seriesGroup$palette=seriesGroup.palette)||void 0===_seriesGroup$palette?void 0:_seriesGroup$palette.name)},yScaleType=hasSeparateAxis?vis_TimeseriesVisualization.getAxisScaleType(seriesGroup):mainAxisScaleType;seriesGroup.stacked===constants.c.PERCENT&&(seriesGroup.separate_axis=!0,seriesGroup.axisFormatter="percent",seriesGroup.axis_min=seriesGroup.axis_min||0,seriesGroup.axis_max=seriesGroup.axis_max||1,seriesGroup.axis_position=model.axis_position),series.filter(r=>Object(external_kbnSharedDeps_Lodash_.startsWith)(r.id,seriesGroup.id)).forEach(seriesDataRow=>{seriesDataRow.tickFormat=seriesGroupTickFormatter,seriesDataRow.groupId=groupId,seriesDataRow.yScaleType=yScaleType,seriesDataRow.hideInLegend=Boolean(seriesGroup.hide_in_legend),seriesDataRow.palette=palette,seriesDataRow.baseColor=seriesGroup.color,seriesDataRow.isSplitByTerms="terms"===seriesGroup.split_mode}),isCustomDomain?vis_TimeseriesVisualization.addYAxis(yAxis,{domain:domain,groupId:groupId,id:yAxisIdGenerator(seriesGroup.id),position:seriesGroup.axis_position,hide:isStackedWithinSeries,tickFormatter:seriesGroup.stacked===constants.c.PERCENT?this.yAxisStackedByPercentFormatter:seriesGroupTickFormatter}):mainDomainAdded||(vis_TimeseriesVisualization.addYAxis(yAxis,{tickFormatter:allSeriesHaveSameFormatters?seriesGroupTickFormatter:val=>val,id:yAxisIdGenerator("main"),groupId:mainAxisGroupId,position:model.axis_position,domain:mainAxisDomain}),mainDomainAdded=!0)}),external_kbnSharedDeps_React_default.a.createElement("div",{className:"tvbVis"},external_kbnSharedDeps_React_default.a.createElement("div",{className:"tvbVisTimeSeries"},external_kbnSharedDeps_React_default.a.createElement(TimeSeries,{series:series,yAxis:yAxis,onBrush:onBrush,backgroundColor:model.background_color,showGrid:Boolean(model.show_grid),legend:Boolean(model.show_legend),legendPosition:model.legend_position,tooltipMode:model.tooltip_mode,xAxisLabel:getAxisLabelString(interval),xAxisFormatter:this.xAxisFormatter(interval),annotations:this.prepareAnnotations(),syncColors:syncColors,palettesService:palettesService})))}}_defineProperty(vis_TimeseriesVisualization,"getYAxisDomain",model=>{const axisMin=Object(external_kbnSharedDeps_Lodash_.get)(model,"axis_min","").toString(),axisMax=Object(external_kbnSharedDeps_Lodash_.get)(model,"axis_max","").toString(),fit=model.series?model.series.filter(({hidden:hidden})=>!hidden).every(({fill:fill})=>"0"===fill):"0"===model.fill;return{min:axisMin.length?Number(axisMin):void 0,max:axisMax.length?Number(axisMax):void 0,fit:fit}}),_defineProperty(vis_TimeseriesVisualization,"addYAxis",(yAxis,{id:id,groupId:groupId,position:position,tickFormatter:tickFormatter,domain:domain,hide:hide})=>{yAxis.push({id:id,groupId:groupId,position:position,tickFormatter:tickFormatter,domain:domain,hide:hide})}),_defineProperty(vis_TimeseriesVisualization,"getAxisScaleType",model=>"log"===Object(external_kbnSharedDeps_Lodash_.get)(model,"axis_scale")?external_kbnSharedDeps_ElasticCharts_.ScaleType.Log:external_kbnSharedDeps_ElasticCharts_.ScaleType.Linear),_defineProperty(vis_TimeseriesVisualization,"getTickFormatter",(model,getConfig)=>Object(tick_formatter.a)(Object(external_kbnSharedDeps_Lodash_.get)(model,"formatter"),Object(external_kbnSharedDeps_Lodash_.get)(model,"value_template"),getConfig))},55:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return rainbowColors}));const rainbowColors=["#68BC00","#009CE0","#B0BC00","#16A5A5","#D33115","#E27300","#FCC400","#7B64FF","#FA28FF","#333333","#808080","#194D33","#0062B1","#808900","#0C797D","#9F0500","#C45100","#FB9E00","#653294","#AB149E","#0F1419","#666666"]},56:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return computeGradientFinalColor}));var color__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(57),color__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(color__WEBPACK_IMPORTED_MODULE_0__);const computeGradientFinalColor=color=>{let inputColor=new color__WEBPACK_IMPORTED_MODULE_0___default.a(color);const hsl=inputColor.hsl().object();return hsl.l-=100*inputColor.luminosity(),inputColor=color__WEBPACK_IMPORTED_MODULE_0___default.a.hsl(hsl),inputColor.rgb().toString()}},61:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return replaceVars}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__),handlebars_dist_handlebars__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(78),handlebars_dist_handlebars__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(handlebars_dist_handlebars__WEBPACK_IMPORTED_MODULE_1__),_common_empty_label__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(43),_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3);function replaceVars(str,args={},vars={}){try{const template=handlebars_dist_handlebars__WEBPACK_IMPORTED_MODULE_1___default.a.compile(str.replace(_common_empty_label__WEBPACK_IMPORTED_MODULE_2__.a,`[${_common_empty_label__WEBPACK_IMPORTED_MODULE_2__.a}]`),{strict:!0,knownHelpersOnly:!0});return template(lodash__WEBPACK_IMPORTED_MODULE_0___default.a.assign({},vars,{args:args}))}catch(e){if(-1!==e.toString().indexOf("Parse error"))return str;if(-1!==e.message.indexOf("not defined in")){const badVar=e.message.split(/"/)[1];e.error={caused_by:{reason:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("visTypeTimeseries.replaceVars.errors.unknownVarDescription",{defaultMessage:"{badVar} is an unknown variable",values:{badVar:"{{"+badVar+"}}"}}),title:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("visTypeTimeseries.replaceVars.errors.unknownVarTitle",{defaultMessage:"Error processing your markdown"})}}}else e.error={caused_by:{reason:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("visTypeTimeseries.replaceVars.errors.markdownErrorDescription",{defaultMessage:"Please verify you are only using markdown, known variables, and built-in Handlebars expressions"}),title:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__.i18n.translate("visTypeTimeseries.replaceVars.errors.markdownErrorTitle",{defaultMessage:"Error processing your markdown"})}};return e}}},79:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)&&arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},80:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getSplitByTermsColor}));var _common_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18),_compute_gradient_final_color__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(56),_rainbow_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(55),_common_empty_label__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43);const getSplitByTermsColor=({seriesById:seriesById,seriesName:seriesName,seriesId:seriesId,baseColor:baseColor,seriesPalette:seriesPalette,palettesRegistry:palettesRegistry,syncColors:syncColors})=>{if(!seriesPalette)return null;const paletteName=seriesPalette.name===_common_types__WEBPACK_IMPORTED_MODULE_0__.a.RAINBOW||seriesPalette.name===_common_types__WEBPACK_IMPORTED_MODULE_0__.a.GRADIENT?"custom":seriesPalette.name,paletteParams=seriesPalette.name===_common_types__WEBPACK_IMPORTED_MODULE_0__.a.GRADIENT?{...seriesPalette.params,colors:[baseColor,Object(_compute_gradient_final_color__WEBPACK_IMPORTED_MODULE_1__.a)(baseColor)],gradient:!0}:seriesPalette.name===_common_types__WEBPACK_IMPORTED_MODULE_0__.a.RAINBOW?{...seriesPalette.params,colors:_rainbow_colors__WEBPACK_IMPORTED_MODULE_2__.a}:seriesPalette.params;return null==palettesRegistry?void 0:palettesRegistry.get(paletteName||"default").getColor([{name:Object(_common_empty_label__WEBPACK_IMPORTED_MODULE_3__.b)(seriesName),rankAtDepth:seriesById.findIndex(({id:id})=>id===seriesId),totalSeriesAtDepth:seriesById.length}],{maxDepth:1,totalSeries:seriesById.length,behindText:!1,syncColors:syncColors},paletteParams)}}}]);