(window.presentationUtil_bundle_jsonpfunction=window.presentationUtil_bundle_jsonpfunction||[]).push([[4],{62:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DashboardPicker",(function(){return DashboardPicker}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_elastic_eui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_services__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7);function DashboardPicker(props){const[dashboardOptions,setDashboardOptions]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[isLoadingDashboards,setIsLoadingDashboards]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),[selectedDashboard,setSelectedDashboard]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[query,setQuery]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),{isDisabled:isDisabled,onChange:onChange}=props,{dashboards:dashboards}=_services__WEBPACK_IMPORTED_MODULE_3__.a.getHooks(),{findDashboardsByTitle:findDashboardsByTitle}=dashboards.useService();return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{let cleanedUp=!1;return(async()=>{setIsLoadingDashboards(!0),setDashboardOptions([]);const objects=await findDashboardsByTitle(query?query+"*":"");cleanedUp||(objects&&setDashboardOptions(objects.filter(d=>!props.idsToOmit||!props.idsToOmit.includes(d.id)).map(d=>({value:d.id,label:d.attributes.title,"data-test-subj":"dashboard-picker-option-"+d.attributes.title.replaceAll(" ","-")}))),setIsLoadingDashboards(!1))})(),()=>{cleanedUp=!0}},[findDashboardsByTitle,query,props.idsToOmit]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__.EuiComboBox,{"data-test-subj":"dashboardPickerInput",placeholder:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__.i18n.translate("presentationUtil.dashboardPicker.searchDashboardPlaceholder",{defaultMessage:"Search dashboards..."}),singleSelection:{asPlainText:!0},options:dashboardOptions||[],selectedOptions:selectedDashboard?[selectedDashboard]:void 0,onChange:e=>{e.length?(setSelectedDashboard({value:e[0].value||"",label:e[0].label}),onChange({name:e[0].label,id:e[0].value||""})):(setSelectedDashboard(null),onChange(null))},onSearchChange:setQuery,isDisabled:isDisabled,isLoading:isLoadingDashboards,compressed:!0})}__webpack_exports__.default=DashboardPicker}}]);