!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()()}var installedModules={},installedChunks={0:0};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.e=function(chunkId){var promises=[],installedChunkData=installedChunks[chunkId];if(0!==installedChunkData)if(installedChunkData)promises.push(installedChunkData[2]);else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var onScriptComplete,script=document.createElement("script");script.charset="utf-8",script.timeout=120,__webpack_require__.nc&&script.setAttribute("nonce",__webpack_require__.nc),script.src=function(chunkId){return __webpack_require__.p+"visTypeTimelion.chunk."+chunkId+".js"}(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null,clearTimeout(timeout);var chunk=installedChunks[chunkId];if(0!==chunk){if(chunk){var errorType=event&&("load"===event.type?"missing":event.type),realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")",error.name="ChunkLoadError",error.type=errorType,error.request=realSrc,chunk[1](error)}installedChunks[chunkId]=void 0}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete,document.head.appendChild(script)}return Promise.all(promises)},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__.oe=function(err){throw console.error(err),err};var jsonpArray=window.visTypeTimelion_bundle_jsonpfunction=window.visTypeTimelion_bundle_jsonpfunction||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;__webpack_require__(__webpack_require__.s=19)}([function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getIndexPatterns})),__webpack_require__.d(__webpack_exports__,"d",(function(){return setIndexPatterns})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getDataSearch})),__webpack_require__.d(__webpack_exports__,"c",(function(){return setDataSearch}));var _kibana_utils_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);const[getIndexPatterns,setIndexPatterns]=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_0__.createGetterSetter)("IndexPatterns"),[getDataSearch,setDataSearch]=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_0__.createGetterSetter)("Search")},function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.Moment},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return calculateInterval})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULT_TIME_FORMAT}));var external_kbnSharedDeps_Lodash_=__webpack_require__(1),external_kbnSharedDeps_Moment_=__webpack_require__(5),external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);const vals={};[["ms","milliseconds","millisecond"],["s","seconds","second","sec"],["m","minutes","minute","min"],["h","hours","hour"],["d","days","day"],["w","weeks","week"],["M","months","month"],["quarter"],["y","years","year"]].forEach(units=>{const normal=external_kbnSharedDeps_Moment_default.a.normalizeUnits(units[0]),val=external_kbnSharedDeps_Moment_default.a.duration(1,normal).asMilliseconds();[].concat(normal,units).forEach(unit=>{vals[unit]=val})});const parseRE=new RegExp("^(\\d+(?:\\.\\d*)?)?\\s*("+Object(external_kbnSharedDeps_Lodash_.keys)(vals).join("|")+")$");function toMS(expr){const match=expr.match(parseRE);if(match){if("M"===match[2]&&"1"!==match[1])throw new Error("Invalid interval. 1M is only valid monthly interval.");return parseFloat(match[1]||"1")*vals[match[2]]}}function calculateInterval(from,to,size,interval,min){if("auto"!==interval)return interval;const dateMathInterval=function(interval){switch(!0){case interval<=500:return"100ms";case interval<=5e3:return"1s";case interval<=7500:return"5s";case interval<=15e3:return"10s";case interval<=45e3:return"30s";case interval<=18e4:return"1m";case interval<=45e4:return"5m";case interval<=12e5:return"10m";case interval<=27e5:return"30m";case interval<=72e5:return"1h";case interval<=216e5:return"3h";case interval<=864e5:return"12h";case interval<=6048e5:return"24h";case interval<=18144e5:return"1w";case interval<36288e5:return"30d";default:return"1y"}}((to-from)/size),dateMathIntervalMs=toMS(dateMathInterval),minMs=toMS(min);return void 0!==dateMathIntervalMs&&void 0!==minMs&&dateMathIntervalMs<minMs?min:dateMathInterval}const DEFAULT_TIME_FORMAT="MMMM Do YYYY, HH:mm:ss.SSS"},function(module,exports){module.exports=__kbnSharedDeps__.MomentTimezone},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/expressions/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return tickFormatters}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);function unitFormatter(divisor,units){return val=>{let index=0;const isNegative=val<0;for(val=Math.abs(val);val>=divisor&&index<units.length;)val/=divisor,index++;return`${Math.round(100*val)/100*(isNegative?-1:1)}${units[index]}`}}function tickFormatters(){return{bits:unitFormatter(1e3,["b","kb","mb","gb","tb","pb"]),"bits/s":unitFormatter(1e3,["b/s","kb/s","mb/s","gb/s","tb/s","pb/s"]),bytes:unitFormatter(1024,["B","KB","MB","GB","TB","PB"]),"bytes/s":unitFormatter(1024,["B/s","KB/s","MB/s","GB/s","TB/s","PB/s"]),currency:(val,axis)=>val.toLocaleString("en",{style:"currency",currency:axis&&axis.options&&axis.options.units.prefix||"USD"}),percent(val,axis){let precision=Object(lodash__WEBPACK_IMPORTED_MODULE_0__.get)(axis,"tickDecimals",0)-Object(lodash__WEBPACK_IMPORTED_MODULE_0__.get)(axis,"options.units.tickDecimalsShift",0);return precision<0?precision=0:precision>20&&(precision=20),(100*val).toFixed(precision)+"%"},custom(val,axis){const formattedVal=function(value,axis){const factor=axis.tickDecimals?Math.pow(10,axis.tickDecimals):1,formatted=""+Math.round(value*factor)/factor;if(null!=axis.tickDecimals){const decimal=formatted.indexOf("."),precision=-1===decimal?0:formatted.length-decimal-1;if(precision<axis.tickDecimals)return(precision?formatted:formatted+".")+(""+factor).substr(1,axis.tickDecimals-precision)}return formatted}(val,axis);return(axis&&axis.options&&axis.options.units.prefix)+formattedVal+(axis&&axis.options&&axis.options.units.suffix)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return xaxisFormatterProvider}));var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),moment__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__),_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);function xaxisFormatterProvider(config){return esInterval=>function(esInterval){const parts=esInterval.match(/(\d+)(ms|s|m|h|d|w|M|y|)/);if(null===parts||null===parts[1]||null===parts[2])throw new Error(_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__.i18n.translate("timelion.panels.timechart.unknownIntervalErrorMessage",{defaultMessage:"Unknown interval"}));const interval=moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(Number(parts[1]),parts[2]),rules=config.get("dateFormat:scaled");for(let i=rules.length-1;i>=0;i--){const rule=rules[i];if(!rule[0]||interval>=moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(rule[0]))return rule[1]}return config.get("dateFormat")}(esInterval)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function generateTicksProvider(){function generateTicks(axis){const returnTicks=[];let tickVal,tickSize=2,delta=axis.delta||0,steps=0,tickCount=0;for(;Math.abs(delta)>=1024;)steps++,delta/=1024;for(;tickSize<=1024&&!(delta<=tickSize);)tickSize*=2;axis.tickSize=tickSize*Math.pow(1024,steps);const tickMin=(n=axis.min||0,(base=axis.tickSize)*Math.floor(n/base));var n,base;do{tickVal=tickMin+tickCount++*axis.tickSize,returnTicks.push(tickVal)}while(tickVal<(axis.max||0));return returnTicks}return axis=>generateTicks(axis)}__webpack_require__.d(__webpack_exports__,"a",(function(){return generateTicksProvider}))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/visDefaultEditor/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return parseTimelionExpressionAsync}));const parseTimelionExpressionAsync=async input=>{const{parseTimelionExpression:parseTimelionExpression}=await __webpack_require__.e(3).then(__webpack_require__.bind(null,26));return parseTimelionExpression(input)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getArgValueSuggestions}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_plugin_services__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_data_public__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0);const isRuntimeField=field=>Boolean(field.runtimeField);function getArgValueSuggestions(){const indexPatterns=Object(_plugin_services__WEBPACK_IMPORTED_MODULE_1__.b)();async function getIndexPattern(functionArgs){const indexPatternArg=functionArgs.find(({name:name})=>"index"===name);if(!indexPatternArg)return;const indexPatternTitle=Object(lodash__WEBPACK_IMPORTED_MODULE_0__.get)(indexPatternArg,"value.text");return(await indexPatterns.find(indexPatternTitle)).find(index=>index.title===indexPatternTitle)}function containsFieldName(partial,field){return!partial||field.name.includes(partial)}const customHandlers={es:{async index(partial){const search=partial?partial+"*":"*";return(await indexPatterns.find(search,25)).map(({title:title})=>({name:title,insertText:title}))},async metric(partial,functionArgs){if(!partial||!partial.includes(":"))return[{name:"avg:"},{name:"cardinality:"},{name:"count"},{name:"max:"},{name:"min:"},{name:"percentiles:"},{name:"sum:"}];const indexPattern=await getIndexPattern(functionArgs);if(!indexPattern)return[];const valueSplit=partial.split(":");return indexPattern.fields.getByType(_data_public__WEBPACK_IMPORTED_MODULE_2__.KBN_FIELD_TYPES.NUMBER).filter(field=>!isRuntimeField(field)&&field.aggregatable&&containsFieldName(valueSplit[1],field)&&!_data_public__WEBPACK_IMPORTED_MODULE_2__.indexPatterns.isNestedField(field)).map(field=>{const suggestionValue=field.name.replaceAll(":","\\:");return{name:`${valueSplit[0]}:${suggestionValue}`,help:field.type,insertText:suggestionValue}})},async split(partial,functionArgs){const indexPattern=await getIndexPattern(functionArgs);return indexPattern?indexPattern.fields.getAll().filter(field=>!isRuntimeField(field)&&field.aggregatable&&[_data_public__WEBPACK_IMPORTED_MODULE_2__.KBN_FIELD_TYPES.NUMBER,_data_public__WEBPACK_IMPORTED_MODULE_2__.KBN_FIELD_TYPES.BOOLEAN,_data_public__WEBPACK_IMPORTED_MODULE_2__.KBN_FIELD_TYPES.DATE,_data_public__WEBPACK_IMPORTED_MODULE_2__.KBN_FIELD_TYPES.IP,_data_public__WEBPACK_IMPORTED_MODULE_2__.KBN_FIELD_TYPES.STRING].includes(field.type)&&containsFieldName(partial,field)&&!_data_public__WEBPACK_IMPORTED_MODULE_2__.indexPatterns.isNestedField(field)).map(field=>({name:field.name,help:field.type,insertText:field.name})):[]},async timefield(partial,functionArgs){const indexPattern=await getIndexPattern(functionArgs);return indexPattern?indexPattern.fields.getByType(_data_public__WEBPACK_IMPORTED_MODULE_2__.KBN_FIELD_TYPES.DATE).filter(field=>!isRuntimeField(field)&&containsFieldName(partial,field)&&!_data_public__WEBPACK_IMPORTED_MODULE_2__.indexPatterns.isNestedField(field)).map(field=>({name:field.name,insertText:field.name})):[]}}};return{hasDynamicSuggestionsForArgument:(functionName,argName)=>customHandlers[functionName]&&customHandlers[functionName][argName],getDynamicSuggestionsForArgument:async(functionName,argName,functionArgs,partialInput="")=>await customHandlers[functionName][argName](partialInput,functionArgs),getStaticSuggestionsForInput:(partialInput="",staticSuggestions=[])=>partialInput?staticSuggestions.filter(suggestion=>suggestion.name.includes(partialInput)):staticSuggestions}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(20);__kbnBundles__.define("plugin/visTypeTimelion/public",__webpack_require__,21)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__.visTypeTimelion},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin})),__webpack_require__.d(__webpack_exports__,"getTimezone",(function(){return getTimezone})),__webpack_require__.d(__webpack_exports__,"tickFormatters",(function(){return tick_formatters.a})),__webpack_require__.d(__webpack_exports__,"xaxisFormatterProvider",(function(){return xaxis_formatter.a})),__webpack_require__.d(__webpack_exports__,"generateTicksProvider",(function(){return tick_generator.a})),__webpack_require__.d(__webpack_exports__,"DEFAULT_TIME_FORMAT",(function(){return lib.a})),__webpack_require__.d(__webpack_exports__,"calculateInterval",(function(){return lib.b})),__webpack_require__.d(__webpack_exports__,"VisTypeTimelionPluginStart",(function(){})),__webpack_require__.d(__webpack_exports__,"VisTypeTimelionPluginSetup",(function(){}));var external_kbnSharedDeps_Lodash_=__webpack_require__(1),external_kbnSharedDeps_KbnI18n_=__webpack_require__(2),public_=__webpack_require__(0),external_kbnSharedDeps_MomentTimezone_=__webpack_require__(8),external_kbnSharedDeps_MomentTimezone_default=__webpack_require__.n(external_kbnSharedDeps_MomentTimezone_);function getTimezone(config){if(config.isDefault("dateFormat:tz")){const detectedTimezone=external_kbnSharedDeps_MomentTimezone_default.a.tz.guess();return detectedTimezone||external_kbnSharedDeps_MomentTimezone_default()().format("Z")}return config.get("dateFormat:tz","Browser")}var plugin_services=__webpack_require__(3);var external_kbnSharedDeps_React_=__webpack_require__(4),external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_),visDefaultEditor_public_=__webpack_require__(16),expressions_public_=__webpack_require__(10);const toExpressionAst=vis=>{const{expression:expression,interval:interval}=vis.params,timelion=Object(expressions_public_.buildExpressionFunction)("timelion_vis",{expression:expression,interval:interval});return Object(expressions_public_.buildExpression)([timelion]).toAst()};var parser_async=__webpack_require__(17),visualizations_public_=__webpack_require__(6);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const TimelionOptions=Object(external_kbnSharedDeps_React_.lazy)(()=>__webpack_require__.e(2).then(__webpack_require__.bind(null,48)));const getTimelionVisualizationConfig=dependencies=>({name:"timelion_vis",type:"render",inputTypes:["kibana_context","null"],help:external_kbnSharedDeps_KbnI18n_.i18n.translate("timelion.function.help",{defaultMessage:"Timelion visualization"}),args:{expression:{types:["string"],aliases:["_"],default:'".es(*)"',help:""},interval:{types:["string"],default:"auto",help:""}},async fn(input,args,{getSearchSessionId:getSearchSessionId}){const timelionRequestHandler=function({uiSettings:uiSettings,http:http,timefilter:timefilter}){const timezone=getTimezone(uiSettings);return async function({timeRange:timeRange,filters:filters,query:query,visParams:visParams,searchSessionId:searchSessionId}){const dataSearch=Object(plugin_services.a)(),expression=visParams.expression;if(!expression)throw new Error(external_kbnSharedDeps_KbnI18n_.i18n.translate("timelion.emptyExpressionErrorMessage",{defaultMessage:"Timelion error: No expression provided"}));const esQueryConfigs=public_.esQuery.getEsQueryConfig(uiSettings),timeRangeBounds=timefilter.calculateBounds(timeRange),untrackSearch=dataSearch.session.isCurrentSession(searchSessionId)&&dataSearch.session.trackSearch({abort:()=>{}});try{const searchSessionOptions=dataSearch.session.getSearchOptions(searchSessionId);return await http.post("/api/timelion/run",{body:JSON.stringify({sheet:[expression],extended:{es:{filter:public_.esQuery.buildEsQuery(void 0,query,filters,esQueryConfigs)}},time:{from:timeRangeBounds.min,to:timeRangeBounds.max,interval:visParams.interval,timezone:timezone},...searchSessionOptions&&{searchSession:searchSessionOptions}})})}catch(e){if(e&&e.body){const err=new Error(`${external_kbnSharedDeps_KbnI18n_.i18n.translate("timelion.requestHandlerErrorTitle",{defaultMessage:"Timelion request error"})}: ${e.body.title} ${e.body.message}`);throw err.stack=e.stack,err}throw e}finally{untrackSearch&&dataSearch.session.isCurrentSession(searchSessionId)&&untrackSearch()}}}(dependencies),visParams={expression:args.expression,interval:args.interval},response=await timelionRequestHandler({timeRange:Object(external_kbnSharedDeps_Lodash_.get)(input,"timeRange"),query:Object(external_kbnSharedDeps_Lodash_.get)(input,"query"),filters:Object(external_kbnSharedDeps_Lodash_.get)(input,"filters"),visParams:visParams,searchSessionId:getSearchSessionId()});return response.visType="timelion",{type:"render",as:"timelion_vis",value:{visParams:visParams,visType:"timelion",visData:response}}}});var arg_value_suggestions=__webpack_require__(18),external_kbnSharedDeps_ReactDom_=__webpack_require__(11),kibanaReact_public_=__webpack_require__(12);const TimelionVisComponent=Object(external_kbnSharedDeps_React_.lazy)(()=>__webpack_require__.e(1).then(__webpack_require__.bind(null,49)));class plugin_TimelionVisPlugin{constructor(initializerContext){this.initializerContext=initializerContext}setup(core,{expressions:expressions,visualizations:visualizations,data:data}){const dependencies={uiSettings:core.uiSettings,http:core.http,timefilter:data.query.timefilter.timefilter};var deps;return expressions.registerFunction(()=>getTimelionVisualizationConfig(dependencies)),expressions.registerRenderer((deps=dependencies,{name:"timelion_vis",displayName:"Timelion visualization",reuseDomNode:!0,render:(domNode,{visData:visData,visParams:visParams},handlers)=>{handlers.onDestroy(()=>{Object(external_kbnSharedDeps_ReactDom_.unmountComponentAtNode)(domNode)});const[seriesList]=visData.sheet,showNoResult=!seriesList||!seriesList.list.length;Object(external_kbnSharedDeps_ReactDom_.render)(external_kbnSharedDeps_React_default.a.createElement(visualizations_public_.VisualizationContainer,{handlers:handlers,showNoResult:showNoResult},external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_.KibanaContextProvider,{services:{...deps}},external_kbnSharedDeps_React_default.a.createElement(TimelionVisComponent,{interval:visParams.interval,seriesList:seriesList,renderComplete:handlers.done,fireEvent:handlers.event}))),domNode)}})),visualizations.createBaseVisualization(function(dependencies){return{name:"timelion",title:"Timelion",icon:"visTimelion",description:external_kbnSharedDeps_KbnI18n_.i18n.translate("timelion.timelionDescription",{defaultMessage:"Show time series data on a graph."}),visConfig:{defaults:{expression:".es(*)",interval:"auto"}},editorConfig:{optionsTemplate:props=>external_kbnSharedDeps_React_default.a.createElement(TimelionOptions,_extends({services:dependencies},props)),defaultSize:visDefaultEditor_public_.DefaultEditorSize.MEDIUM},toExpressionAst:toExpressionAst,inspectorAdapters:{},getSupportedTriggers:()=>[visualizations_public_.VIS_EVENT_TO_TRIGGER.applyFilter],getUsedIndexPattern:async params=>{try{var _await$parseTimelionE,_await$parseTimelionE2;const indexArg=(null!==(_await$parseTimelionE=null===(_await$parseTimelionE2=await Object(parser_async.a)(params.expression))||void 0===_await$parseTimelionE2?void 0:_await$parseTimelionE2.args)&&void 0!==_await$parseTimelionE?_await$parseTimelionE:[]).find(({type:type,name:name,function:fn})=>"namedArg"===type&&"es"===fn&&"index"===name);if(null!=indexArg&&indexArg.value.text)return Object(plugin_services.b)().find(indexArg.value.text)}catch{}return[]},options:{showIndexSelection:!1,showQueryBar:!1,showFilterBar:!1},requiresSearch:!0}}(dependencies)),{isUiEnabled:this.initializerContext.config.get().ui.enabled}}start(core,plugins){return Object(plugin_services.d)(plugins.data.indexPatterns),Object(plugin_services.c)(plugins.data.search),{getArgValueSuggestions:arg_value_suggestions.a}}}var tick_formatters=__webpack_require__(13),xaxis_formatter=__webpack_require__(14),tick_generator=__webpack_require__(15),lib=__webpack_require__(7);function public_plugin(initializerContext){return new plugin_TimelionVisPlugin(initializerContext)}},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnMonaco},function(module,exports){module.exports=__kbnSharedDeps__.Jquery},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact}]);