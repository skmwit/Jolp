(window.visTypeTable_bundle_jsonpfunction=window.visTypeTable_bundle_jsonpfunction||[]).push([[1],{22:function(module,exports,__webpack_require__){"use strict";var memo,isOldIE=function(){return void 0===memo&&(memo=Boolean(window&&document&&document.all&&!window.atob)),memo},getTarget=function(){var memo={};return function(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}}(),stylesInDom=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDom.length;i++)if(stylesInDom[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3]};-1!==index?(stylesInDom[index].references++,stylesInDom[index].updater(obj)):stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1}),identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style"),attributes=options.attributes||{};if(void 0===attributes.nonce){var nonce=__webpack_require__.nc;nonce&&(attributes.nonce=nonce)}if(Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])})),"function"==typeof options.insert)options.insert(style);else{var target=getTarget(options.insert||"head");if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}return style}var textStore,replaceText=(textStore=[],function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")});function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet)style.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=style.childNodes;childNodes[index]&&style.removeChild(childNodes[index]),childNodes.length?style.insertBefore(cssNode,childNodes[index]):style.appendChild(cssNode)}}function applyToTag(style,options,obj){var css=obj.css,media=obj.media,sourceMap=obj.sourceMap;if(media?style.setAttribute("media",media):style.removeAttribute("media"),sourceMap&&btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),style.styleSheet)style.styleSheet.cssText=css;else{for(;style.firstChild;)style.removeChild(style.firstChild);style.appendChild(document.createTextNode(css))}}var singleton=null,singletonCounter=0;function addStyle(obj,options){var style,update,remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options)),update=applyToSingletonTag.bind(null,style,styleIndex,!1),remove=applyToSingletonTag.bind(null,style,styleIndex,!0)}else style=insertStyleElement(options),update=applyToTag.bind(null,style,options),remove=function(){!function(style){if(null===style.parentNode)return!1;style.parentNode.removeChild(style)}(style)};return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}module.exports=function(list,options){(options=options||{}).singleton||"boolean"==typeof options.singleton||(options.singleton=isOldIE());var lastIdentifiers=modulesToDom(list=list||[],options);return function(newList){if(newList=newList||[],"[object Array]"===Object.prototype.toString.call(newList)){for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDom[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDom[_index].references&&(stylesInDom[_index].updater(),stylesInDom.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}}},23:function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map((function(item){var content=function(item,useSourceMap){var content=item[1]||"",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&"function"==typeof btoa){var sourceMapping=(sourceMap=cssMapping,base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),"/*# ".concat(data," */")),sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}var sourceMap,base64,data;return[content].join("\n")}(item,useSourceMap);return item[2]?"@media ".concat(item[2]," {").concat(content,"}"):content})).join("")},list.i=function(modules,mediaQuery,dedupe){"string"==typeof modules&&(modules=[[null,modules,""]]);var alreadyImportedModules={};if(dedupe)for(var i=0;i<this.length;i++){var id=this[i][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);dedupe&&alreadyImportedModules[item[0]]||(mediaQuery&&(item[2]?item[2]="".concat(mediaQuery," and ").concat(item[2]):item[2]=mediaQuery),list.push(item))}},list}},28:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(29);case"v7light":return __webpack_require__(31);case"v8dark":return __webpack_require__(33);case"v8light":return __webpack_require__(35)}},29:function(module,exports,__webpack_require__){var api=__webpack_require__(22),content=__webpack_require__(30);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},30:function(module,exports,__webpack_require__){(exports=__webpack_require__(23)(!1)).push([module.i,"kbn-agg-table,kbn-agg-table-group{display:block}.kbnAggTable{display:flex;flex:1 1 auto;flex-direction:column}.kbnAggTable__paginated{flex:1 1 auto;overflow:auto}.kbnAggTable__paginated th{text-align:left;font-weight:700}.kbnAggTable__paginated tr:hover td,.kbnAggTable__paginated .kbnTableCellFilter{background-color:#25262E}.kbnAggTable__controls{flex:0 0 auto;display:flex;align-items:center;margin:8px 4px}.kbnAggTable__controls>paginate-controls{flex:1 0 auto;margin:0;padding:0}.small{font-size:.9em !important}.kbnTableCellFilter__hover{position:relative}.kbnTableCellFilter__hover .kbnTableCellFilter{position:absolute;white-space:nowrap;right:0;top:50%;transform:translateY(-50%);display:none}.kbnTableCellFilter__hover:hover .kbnTableCellFilter{display:inline}.kbnTableCellFilter__hover:hover .kbnTableCellFilter__hover-show{visibility:visible}.kbnTableCellFilter__hover-show{visibility:hidden}.table-vis{display:flex;flex-direction:column;flex:1 1 0;overflow:auto;scrollbar-width:thin}.table-vis::-webkit-scrollbar{width:16px;height:16px}.table-vis::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.table-vis::-webkit-scrollbar-corner,.table-vis::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.table-vis-container kbn-agg-table-group>.table>tbody>tr>td{border-top:0}.table-vis-container .pagination-other-pages{justify-content:flex-end}.table-vis-container .pagination-size{display:none}\n",""]),module.exports=exports},31:function(module,exports,__webpack_require__){var api=__webpack_require__(22),content=__webpack_require__(32);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},32:function(module,exports,__webpack_require__){(exports=__webpack_require__(23)(!1)).push([module.i,"kbn-agg-table,kbn-agg-table-group{display:block}.kbnAggTable{display:flex;flex:1 1 auto;flex-direction:column}.kbnAggTable__paginated{flex:1 1 auto;overflow:auto}.kbnAggTable__paginated th{text-align:left;font-weight:700}.kbnAggTable__paginated tr:hover td,.kbnAggTable__paginated .kbnTableCellFilter{background-color:#F5F7FA}.kbnAggTable__controls{flex:0 0 auto;display:flex;align-items:center;margin:8px 4px}.kbnAggTable__controls>paginate-controls{flex:1 0 auto;margin:0;padding:0}.small{font-size:.9em !important}.kbnTableCellFilter__hover{position:relative}.kbnTableCellFilter__hover .kbnTableCellFilter{position:absolute;white-space:nowrap;right:0;top:50%;transform:translateY(-50%);display:none}.kbnTableCellFilter__hover:hover .kbnTableCellFilter{display:inline}.kbnTableCellFilter__hover:hover .kbnTableCellFilter__hover-show{visibility:visible}.kbnTableCellFilter__hover-show{visibility:hidden}.table-vis{display:flex;flex-direction:column;flex:1 1 0;overflow:auto;scrollbar-width:thin}.table-vis::-webkit-scrollbar{width:16px;height:16px}.table-vis::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.table-vis::-webkit-scrollbar-corner,.table-vis::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.table-vis-container kbn-agg-table-group>.table>tbody>tr>td{border-top:0}.table-vis-container .pagination-other-pages{justify-content:flex-end}.table-vis-container .pagination-size{display:none}\n",""]),module.exports=exports},33:function(module,exports,__webpack_require__){var api=__webpack_require__(22),content=__webpack_require__(34);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},34:function(module,exports,__webpack_require__){(exports=__webpack_require__(23)(!1)).push([module.i,"kbn-agg-table,kbn-agg-table-group{display:block}.kbnAggTable{display:flex;flex:1 1 auto;flex-direction:column}.kbnAggTable__paginated{flex:1 1 auto;overflow:auto}.kbnAggTable__paginated th{text-align:left;font-weight:700}.kbnAggTable__paginated tr:hover td,.kbnAggTable__paginated .kbnTableCellFilter{background-color:#25262E}.kbnAggTable__controls{flex:0 0 auto;display:flex;align-items:center;margin:8px 4px}.kbnAggTable__controls>paginate-controls{flex:1 0 auto;margin:0;padding:0}.small{font-size:.9em !important}.kbnTableCellFilter__hover{position:relative}.kbnTableCellFilter__hover .kbnTableCellFilter{position:absolute;white-space:nowrap;right:0;top:50%;transform:translateY(-50%);display:none}.kbnTableCellFilter__hover:hover .kbnTableCellFilter{display:inline}.kbnTableCellFilter__hover:hover .kbnTableCellFilter__hover-show{visibility:visible}.kbnTableCellFilter__hover-show{visibility:hidden}.table-vis{display:flex;flex-direction:column;flex:1 1 0;overflow:auto;scrollbar-width:thin}.table-vis::-webkit-scrollbar{width:16px;height:16px}.table-vis::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.table-vis::-webkit-scrollbar-corner,.table-vis::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.table-vis-container kbn-agg-table-group>.table>tbody>tr>td{border-top:0}.table-vis-container .pagination-other-pages{justify-content:flex-end}.table-vis-container .pagination-size{display:none}\n",""]),module.exports=exports},35:function(module,exports,__webpack_require__){var api=__webpack_require__(22),content=__webpack_require__(36);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},36:function(module,exports,__webpack_require__){(exports=__webpack_require__(23)(!1)).push([module.i,"kbn-agg-table,kbn-agg-table-group{display:block}.kbnAggTable{display:flex;flex:1 1 auto;flex-direction:column}.kbnAggTable__paginated{flex:1 1 auto;overflow:auto}.kbnAggTable__paginated th{text-align:left;font-weight:700}.kbnAggTable__paginated tr:hover td,.kbnAggTable__paginated .kbnTableCellFilter{background-color:#F5F7FA}.kbnAggTable__controls{flex:0 0 auto;display:flex;align-items:center;margin:8px 4px}.kbnAggTable__controls>paginate-controls{flex:1 0 auto;margin:0;padding:0}.small{font-size:.9em !important}.kbnTableCellFilter__hover{position:relative}.kbnTableCellFilter__hover .kbnTableCellFilter{position:absolute;white-space:nowrap;right:0;top:50%;transform:translateY(-50%);display:none}.kbnTableCellFilter__hover:hover .kbnTableCellFilter{display:inline}.kbnTableCellFilter__hover:hover .kbnTableCellFilter__hover-show{visibility:visible}.kbnTableCellFilter__hover-show{visibility:hidden}.table-vis{display:flex;flex-direction:column;flex:1 1 0;overflow:auto;scrollbar-width:thin}.table-vis::-webkit-scrollbar{width:16px;height:16px}.table-vis::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.table-vis::-webkit-scrollbar-corner,.table-vis::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.table-vis-container kbn-agg-table-group>.table>tbody>tr>td{border-top:0}.table-vis-container .pagination-other-pages{justify-content:flex-end}.table-vis-container .pagination-size{display:none}\n",""]),module.exports=exports},37:function(module,exports,__webpack_require__){__webpack_require__(38),module.exports="ngSanitize"},38:function(module,exports){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(window,angular){"use strict";var bind,extend,forEach,isArray,isDefined,lowercase,noop,nodeContains,htmlParser,htmlSanitizeWriter,$sanitizeMinErr=angular.$$minErr("$sanitize");angular.module("ngSanitize",[]).provider("$sanitize",(function(){var hasBeenInstantiated=!1,svgEnabled=!1;this.$get=["$$sanitizeUri",function($$sanitizeUri){return hasBeenInstantiated=!0,svgEnabled&&extend(validElements,svgElements),function(html){var buf=[];return htmlParser(html,htmlSanitizeWriter(buf,(function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))}))),buf.join("")}}],this.enableSvg=function(enableSvg){return isDefined(enableSvg)?(svgEnabled=enableSvg,this):svgEnabled},this.addValidElements=function(elements){return hasBeenInstantiated||(isArray(elements)&&(elements={htmlElements:elements}),addElementsTo(svgElements,elements.svgElements),addElementsTo(voidElements,elements.htmlVoidElements),addElementsTo(validElements,elements.htmlVoidElements),addElementsTo(validElements,elements.htmlElements)),this},this.addValidAttrs=function(attrs){return hasBeenInstantiated||extend(validAttrs,arrayToMap(attrs,!0)),this},bind=angular.bind,extend=angular.extend,forEach=angular.forEach,isArray=angular.isArray,isDefined=angular.isDefined,lowercase=angular.$$lowercase,noop=angular.noop,htmlParser=function(html,handler){null==html?html="":"string"!=typeof html&&(html=""+html);var inertBodyElement=getInertBodyElement(html);if(!inertBodyElement)return"";var mXSSAttempts=5;do{if(0===mXSSAttempts)throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable");mXSSAttempts--,html=inertBodyElement.innerHTML,inertBodyElement=getInertBodyElement(html)}while(html!==inertBodyElement.innerHTML);var node=inertBodyElement.firstChild;for(;node;){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent)}var nextNode;if(!((nextNode=node.firstChild)||(1===node.nodeType&&handler.end(node.nodeName.toLowerCase()),nextNode=getNonDescendant("nextSibling",node))))for(;null==nextNode&&(node=getNonDescendant("parentNode",node))!==inertBodyElement;)nextNode=getNonDescendant("nextSibling",node),1===node.nodeType&&handler.end(node.nodeName.toLowerCase());node=nextNode}for(;node=inertBodyElement.firstChild;)inertBodyElement.removeChild(node)},htmlSanitizeWriter=function(buf,uriValidator){var ignoreCurrentElement=!1,out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag),!ignoreCurrentElement&&blockedElements[tag]&&(ignoreCurrentElement=tag),ignoreCurrentElement||!0!==validElements[tag]||(out("<"),out(tag),forEach(attrs,(function(value,key){var lkey=lowercase(key),isImage="img"===tag&&"src"===lkey||"background"===lkey;!0!==validAttrs[lkey]||!0===uriAttrs[lkey]&&!uriValidator(value,isImage)||(out(" "),out(key),out('="'),out(encodeEntities(value)),out('"'))})),out(">"))},end:function(tag){tag=lowercase(tag),ignoreCurrentElement||!0!==validElements[tag]||!0===voidElements[tag]||(out("</"),out(tag),out(">")),tag==ignoreCurrentElement&&(ignoreCurrentElement=!1)},chars:function(chars){ignoreCurrentElement||out(encodeEntities(chars))}}},nodeContains=window.Node.prototype.contains||function(arg){return!!(16&this.compareDocumentPosition(arg))};var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g,voidElements=stringToMap("area,br,col,hr,img,wbr"),optionalEndTagBlockElements=stringToMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=stringToMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements),blockElements=extend({},optionalEndTagBlockElements,stringToMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),inlineElements=extend({},optionalEndTagInlineElements,stringToMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),svgElements=stringToMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),blockedElements=stringToMap("script,style"),validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements),uriAttrs=stringToMap("background,cite,href,longdesc,src,xlink:href,xml:base"),htmlAttrs=stringToMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),svgAttrs=stringToMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs);function stringToMap(str,lowercaseKeys){return arrayToMap(str.split(","),lowercaseKeys)}function arrayToMap(items,lowercaseKeys){var i,obj={};for(i=0;i<items.length;i++)obj[lowercaseKeys?lowercase(items[i]):items[i]]=!0;return obj}function addElementsTo(elementsMap,newElements){newElements&&newElements.length&&extend(elementsMap,arrayToMap(newElements))}var getInertBodyElement=function(window,document){var inertDocument;if(!document||!document.implementation)throw $sanitizeMinErr("noinert","Can't create an inert html document");var inertBodyElement=((inertDocument=document.implementation.createHTMLDocument("inert")).documentElement||inertDocument.getDocumentElement()).querySelector("body");return inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',inertBodyElement.querySelector("svg")?(inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',inertBodyElement.querySelector("svg img")?function(html){html="<remove></remove>"+html;try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;return body.firstChild.remove(),body}catch(e){return}}:function(html){inertBodyElement.innerHTML=html,document.documentMode&&stripCustomNsAttrs(inertBodyElement);return inertBodyElement}):function(html){html="<remove></remove>"+html;try{html=encodeURI(html)}catch(e){return}var xhr=new window.XMLHttpRequest;xhr.responseType="document",xhr.open("GET","data:text/html;charset=utf-8,"+html,!1),xhr.send(null);var body=xhr.response.body;return body.firstChild.remove(),body}}(window,window.document);function attrToMap(attrs){for(var map={},i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,(function(value){return"&#"+(1024*(value.charCodeAt(0)-55296)+(value.charCodeAt(1)-56320)+65536)+";"})).replace(NON_ALPHANUMERIC_REGEXP,(function(value){return"&#"+value.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function stripCustomNsAttrs(node){for(;node;){if(node.nodeType===window.Node.ELEMENT_NODE)for(var attrs=node.attributes,i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i],attrName=attrNode.name.toLowerCase();"xmlns:ns1"!==attrName&&0!==attrName.lastIndexOf("ns1:",0)||(node.removeAttributeNode(attrNode),i--,l--)}var nextNode=node.firstChild;nextNode&&stripCustomNsAttrs(nextNode),node=getNonDescendant("nextSibling",node)}}function getNonDescendant(propName,node){var nextNode=node[propName];if(nextNode&&nodeContains.call(node,nextNode))throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText);return nextNode}})).info({angularVersion:"1.8.0"}),angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i,linkyMinErr=angular.$$minErr("linky"),isDefined=angular.isDefined,isFunction=angular.isFunction,isObject=angular.isObject,isString=angular.isString;return function(text,target,attributes){if(null==text||""===text)return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);for(var match,url,i,attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function(){return attributes}:function(){return{}},raw=text,html=[];match=raw.match(LINKY_URL_REGEXP);)url=match[0],match[2]||match[4]||(url=(match[3]?"http://":"mailto:")+url),i=match.index,addText(raw.substr(0,i)),addLink(url,match[0].replace(MAILTO_REGEXP,"")),raw=raw.substring(i+match[0].length);return addText(raw),$sanitize(html.join(""));function addText(text){var chars,buf;text&&html.push((chars=text,htmlSanitizeWriter(buf=[],noop).chars(chars),buf.join("")))}function addLink(url,text){var key,linkAttributes=attributesFn(url);for(key in html.push("<a "),linkAttributes)html.push(key+'="'+linkAttributes[key]+'" ');isDefined(target)&&!("target"in linkAttributes)&&html.push('target="',target,'" '),html.push('href="',url.replace(/"/g,"&quot;"),'">'),addText(text),html.push("</a>")}}}])}(window,window.angular)},39:function(module,exports){
/* 
 * An Angular service which helps with creating recursive directives.
 * @author Mark Lagendijk
 * @license MIT
 */
angular.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function($compile){return{compile:function(element,link){angular.isFunction(link)&&(link={post:link});var compiledContents,contents=element.contents().remove();return{pre:link&&link.pre?link.pre:null,post:function(scope,element){compiledContents||(compiledContents=$compile(contents)),compiledContents(scope,(function(clone){element.append(clone)})),link&&link.post&&link.post.apply(null,arguments)}}}}}])},40:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,saveAs=saveAs||function(view){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,webkit_req_fs=view.webkitRequestFileSystem,req_fs=view.requestFileSystem||webkit_req_fs||view.mozRequestFileSystem,throw_outside=function(ex){(view.setImmediate||view.setTimeout)((function(){throw ex}),0)},fs_min_size=0,revoke=function(file){var revoker=function(){"string"==typeof file?get_URL().revokeObjectURL(file):file.remove()};view.chrome?revoker():setTimeout(revoker,500)},dispatch=function(filesaver,event_types,event){for(var i=(event_types=[].concat(event_types)).length;i--;){var listener=filesaver["on"+event_types[i]];if("function"==typeof listener)try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}},auto_bom=function(blob){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)?new Blob(["\ufeff",blob],{type:blob.type}):blob},FileSaver=function(blob,name,no_auto_bom){no_auto_bom||(blob=auto_bom(blob));var object_url,target_view,slice,filesaver=this,type=blob.type,blob_changed=!1,dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "))},fs_error=function(){(!blob_changed&&object_url||(object_url=get_URL().createObjectURL(blob)),target_view)?target_view.location.href=object_url:null==view.open(object_url,"_blank")&&"undefined"!=typeof safari&&(view.location.href=object_url);filesaver.readyState=filesaver.DONE,dispatch_all(),revoke(object_url)},abortable=function(func){return function(){if(filesaver.readyState!==filesaver.DONE)return func.apply(this,arguments)}},create_if_not_found={create:!0,exclusive:!1};if(filesaver.readyState=filesaver.INIT,name||(name="download"),can_use_save_link)return object_url=get_URL().createObjectURL(blob),save_link.href=object_url,save_link.download=name,void setTimeout((function(){var node,event;node=save_link,event=new MouseEvent("click"),node.dispatchEvent(event),dispatch_all(),revoke(object_url),filesaver.readyState=filesaver.DONE}));view.chrome&&type&&"application/octet-stream"!==type&&(slice=blob.slice||blob.webkitSlice,blob=slice.call(blob,0,blob.size,"application/octet-stream"),blob_changed=!0),webkit_req_fs&&"download"!==name&&(name+=".download"),("application/octet-stream"===type||webkit_req_fs)&&(target_view=view),req_fs?(fs_min_size+=blob.size,req_fs(view.TEMPORARY,fs_min_size,abortable((function(fs){fs.root.getDirectory("saved",create_if_not_found,abortable((function(dir){var save=function(){dir.getFile(name,create_if_not_found,abortable((function(file){file.createWriter(abortable((function(writer){writer.onwriteend=function(event){target_view.location.href=file.toURL(),filesaver.readyState=filesaver.DONE,dispatch(filesaver,"writeend",event),revoke(file)},writer.onerror=function(){var error=writer.error;error.code!==error.ABORT_ERR&&fs_error()},"writestart progress write abort".split(" ").forEach((function(event){writer["on"+event]=filesaver["on"+event]})),writer.write(blob),filesaver.abort=function(){writer.abort(),filesaver.readyState=filesaver.DONE},filesaver.readyState=filesaver.WRITING})),fs_error)})),fs_error)};dir.getFile(name,{create:!1},abortable((function(file){file.remove(),save()})),abortable((function(ex){ex.code===ex.NOT_FOUND_ERR?save():fs_error()})))})),fs_error)})),fs_error)):fs_error()},FS_proto=FileSaver.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(blob,name,no_auto_bom){return no_auto_bom||(blob=auto_bom(blob)),navigator.msSaveOrOpenBlob(blob,name||"download")}:(FS_proto.abort=function(){this.readyState=this.DONE,dispatch(this,"abort")},FS_proto.readyState=FS_proto.INIT=0,FS_proto.WRITING=1,FS_proto.DONE=2,FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null,function(blob,name,no_auto_bom){return new FileSaver(blob,name,no_auto_bom)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */module.exports?module.exports.saveAs=saveAs:null!==__webpack_require__(41)&&null!=__webpack_require__(42)&&(void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return saveAs}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},41:function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},42:function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(this,{})},53:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getTableVisualizationControllerClass",(function(){return getTableVisualizationControllerClass}));var external_kbnSharedDeps_Angular_=__webpack_require__(11),external_kbnSharedDeps_Angular_default=__webpack_require__.n(external_kbnSharedDeps_Angular_),external_kbnSharedDeps_Jquery_=__webpack_require__(13),external_kbnSharedDeps_Jquery_default=__webpack_require__.n(external_kbnSharedDeps_Jquery_),external_kbnSharedDeps_KbnI18nAngular_=(__webpack_require__(28),__webpack_require__(37),__webpack_require__(39),__webpack_require__(19)),public_=__webpack_require__(20);Object(public_.initAngularBootstrap)();const thirdPartyAngularDependencies=["ngSanitize","ui.bootstrap","RecursionHelper"];function getAngularModule(name,core,context){return function(name="kibana/table_vis",core){initialized||(external_kbnSharedDeps_Angular_default.a.module("tableVisPrivate",[]).provider("Private",public_.PrivateProvider),external_kbnSharedDeps_Angular_default.a.module("tableVisI18n",[]).provider("i18n",external_kbnSharedDeps_KbnI18nAngular_.I18nProvider).filter("i18n",external_kbnSharedDeps_KbnI18nAngular_.i18nFilter).directive("i18nId",external_kbnSharedDeps_KbnI18nAngular_.i18nDirective),uiSettings=core.uiSettings,external_kbnSharedDeps_Angular_default.a.module("tableVisConfig",[]).provider("config",(function(){return{$get:()=>({get:value=>uiSettings?uiSettings.get(value):void 0,set:(key,value)=>uiSettings?uiSettings.set(key,value):void 0})}})),external_kbnSharedDeps_Angular_default.a.module("tableVisPaginate",[]).directive("paginate",public_.PaginateDirectiveProvider).directive("paginateControls",public_.PaginateControlsDirectiveProvider),initialized=!0);var uiSettings;return external_kbnSharedDeps_Angular_default.a.module(name,[...thirdPartyAngularDependencies,"tableVisPaginate","tableVisConfig","tableVisPrivate","tableVisI18n"]).config(public_.watchMultiDecorator).directive("kbnAccessibleClick",public_.KbnAccessibleClickProvider)}(name,core)}let initialized=!1;var external_kbnSharedDeps_Lodash_=__webpack_require__(7),external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);function TableVisController($scope){const uiStateSort=$scope.uiState?$scope.uiState.get("vis.params.sort"):{};Object(external_kbnSharedDeps_Lodash_.assign)($scope.visParams.sort,uiStateSort),$scope.sort=$scope.visParams.sort,$scope.$watchCollection("sort",(function(newSort){$scope.uiState.set("vis.params.sort",newSort)})),$scope.$watch("renderComplete",(function(){let tableGroups=$scope.tableGroups=null,hasSomeRows=$scope.hasSomeRows=null;$scope.esResponse&&(tableGroups=$scope.esResponse,hasSomeRows=tableGroups.tables.some((function haveRows(table){return table.tables?table.tables.some(haveRows):table.rows.length>0}))),$scope.hasSomeRows=hasSomeRows,hasSomeRows&&($scope.dimensions=$scope.visParams.dimensions,$scope.tableGroups=tableGroups),$scope.renderComplete()}))}var share_public_=__webpack_require__(14),services=__webpack_require__(0),external_kbnSharedDeps_KbnI18n_=__webpack_require__(6);function KbnAggTable(config,RecursionHelper){return{restrict:"E",template:'<paginated-table\n  ng-if="rows.length"\n  table="table"\n  rows="rows"\n  columns="formattedColumns"\n  per-page="perPage"\n  sort="sort"\n  show-total="showTotal"\n  percentage-col="percentageCol"\n  filter="filter"\n  totalFunc="totalFunc">\n\n  <div class="kbnAggTable__controls">\n    <small\n      i18n-id="visTypeTable.aggTable.exportLabel"\n      i18n-default-message="Export:"\n    ></small>&nbsp;&nbsp;\n    <a class="small" ng-click="aggTable.exportAsCsv(false)">\n      <span\n        i18n-id="visTypeTable.aggTable.rawLabel"\n        i18n-default-message="Raw"\n       ></span>\n       <i aria-hidden="true" class="fa fa-download"></i>\n    </a>&nbsp;&nbsp;&nbsp;\n    <a class="small" ng-click="aggTable.exportAsCsv(true)">\n      <span\n        i18n-id="visTypeTable.aggTable.formattedLabel"\n        i18n-default-message="Formatted"\n       ></span>\n       <i aria-hidden="true" class="fa fa-download"></i>\n    </a>\n    <paginate-controls></paginate-controls>\n  </div>\n</paginated-table>\n',scope:{table:"=",dimensions:"=",perPage:"=?",sort:"=?",exportTitle:"=?",showTotal:"=",totalFunc:"=",percentageCol:"=",filter:"="},controllerAs:"aggTable",compile:function($el){return RecursionHelper.compile($el)},controller:function($scope){const self=this;self._saveAs=__webpack_require__(40).saveAs,self.csv={separator:config.get(share_public_.CSV_SEPARATOR_SETTING),quoteValues:config.get(share_public_.CSV_QUOTE_VALUES_SETTING)},self.exportAsCsv=function(formatted){const csv=new Blob([self.toCsv(formatted)],{type:"text/plain;charset=utf-8"});self._saveAs(csv,self.csv.filename)},self.toCsv=function(formatted){const rows=$scope.rows,columns=$scope.formattedColumns,nonAlphaNumRE=/[^a-zA-Z0-9]/,allDoubleQuoteRE=/"/g;function escape(val){return!formatted&&external_kbnSharedDeps_Lodash_default.a.isObject(val)&&(val=val.valueOf()),val=String(val),self.csv.quoteValues&&nonAlphaNumRE.test(val)&&(val='"'+val.replace(allDoubleQuoteRE,'""')+'"'),val}const csvRows=[];for(const row of rows){const rowArray=[];for(const col of columns){const value=row[col.id],formattedValue=formatted&&col.formatter?escape(col.formatter.convert(value)):escape(value);rowArray.push(formattedValue)}csvRows.push(rowArray)}return csvRows.unshift(columns.map(({title:title})=>escape(title))),csvRows.map((function(row){return row.join(self.csv.separator)+"\r\n"})).join("")},$scope.$watchMulti(["table","exportTitle","percentageCol","totalFunc","=scope.dimensions"],(function(){const{table:table,exportTitle:exportTitle,percentageCol:percentageCol}=$scope,showPercentage=""!==percentageCol;if(!table)return $scope.rows=null,void($scope.formattedColumns=null);if(self.csv.filename=(exportTitle||table.title||"unsaved")+".csv",$scope.rows=table.rows,$scope.formattedColumns=[],void 0===$scope.dimensions)return;const{buckets:buckets,metrics:metrics}=$scope.dimensions;if($scope.formattedColumns=table.columns.map((function(col,i){var _dimension$format,_dimension$format2,_dimension$format2$pa;const isBucket=buckets.find(bucket=>bucket.accessor===i),dimension=isBucket||metrics.find(metric=>metric.accessor===i),formatter=dimension?Object(services.a)().deserialize(dimension.format):void 0,formattedColumn={id:col.id,title:col.name,formatter:formatter,filterable:!!isBucket};if(!dimension)return;!(i===table.columns.length-1)&&isBucket||(formattedColumn.class="visualize-table-right");const isDate="date"===(null===(_dimension$format=dimension.format)||void 0===_dimension$format?void 0:_dimension$format.id)||"date"===(null===(_dimension$format2=dimension.format)||void 0===_dimension$format2||null===(_dimension$format2$pa=_dimension$format2.params)||void 0===_dimension$format2$pa?void 0:_dimension$format2$pa.id),allowsNumericalAggregations=null==formatter?void 0:formatter.allowsNumericalAggregations;let{totalFunc:totalFunc}=$scope;if(void 0===totalFunc&&showPercentage&&(totalFunc="sum"),allowsNumericalAggregations||isDate||"count"===totalFunc){const sum=tableRows=>external_kbnSharedDeps_Lodash_default.a.reduce(tableRows,(function(prev,curr){return void 0===curr[col.id]?prev:prev+curr[col.id]}),0);switch(formattedColumn.sumTotal=sum(table.rows),totalFunc){case"sum":if(!isDate){const total=formattedColumn.sumTotal;formattedColumn.formattedTotal=formatter.convert(total),formattedColumn.total=formattedColumn.sumTotal}break;case"avg":if(!isDate){const total=sum(table.rows)/table.rows.length;formattedColumn.formattedTotal=formatter.convert(total),formattedColumn.total=total}break;case"min":{const total=external_kbnSharedDeps_Lodash_default.a.chain(table.rows).map(col.id).min().value();formattedColumn.formattedTotal=formatter.convert(total),formattedColumn.total=total;break}case"max":{const total=external_kbnSharedDeps_Lodash_default.a.chain(table.rows).map(col.id).max().value();formattedColumn.formattedTotal=formatter.convert(total),formattedColumn.total=total;break}case"count":{const total=table.rows.length;formattedColumn.formattedTotal=total,formattedColumn.total=total;break}}}return formattedColumn})).filter(column=>column),showPercentage){const insertAtIndex=external_kbnSharedDeps_Lodash_default.a.findIndex($scope.formattedColumns,{title:percentageCol});if(insertAtIndex<0)return;const{cols:cols,rows:rows}=function(columns,title,rows,insertAtIndex){const{id:id,sumTotal:sumTotal}=columns[insertAtIndex],newId=id+"-percents",formatter=Object(services.a)().deserialize({id:"percent"}),i18nTitle=external_kbnSharedDeps_KbnI18n_.i18n.translate("visTypeTable.params.percentageTableColumnName",{defaultMessage:"{title} percentages",values:{title:title}}),newCols=function(arr,index,...items){const newArray=[...arr];return newArray.splice(index+1,0,...items),newArray}(columns,insertAtIndex,{title:i18nTitle,id:newId,formatter:formatter}),newRows=rows.map(row=>({[newId]:row[id]/sumTotal,...row}));return{cols:newCols,rows:newRows}}($scope.formattedColumns,percentageCol,table.rows,insertAtIndex);$scope.rows=rows,$scope.formattedColumns=cols}}))}}}function KbnAggTableGroup(RecursionHelper){return{restrict:"E",template:'<table ng-if="rows" class="table kbnAggTable__group" ng-repeat="table in rows">\n  <thead>\n    <tr>\n      <th ng-if="table.tables" scope="col">\n        <span class="kbnAggTable__groupHeader">{{ table.title }}</span>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>\n        <kbn-agg-table-group\n          ng-if="table.tables"\n          group="table"\n          filter="filter"\n          dimensions="dimensions"\n          per-page="perPage"\n          sort="sort"\n          export-title="exportTitle"\n          percentage-col="percentageCol"\n          show-total="showTotal"\n          total-func="totalFunc"></kbn-agg-table-group>\n        <kbn-agg-table\n          ng-if="table.rows"\n          filter="filter"\n          table="table"\n          dimensions="dimensions"\n          export-title="exportTitle"\n          per-page="perPage"\n          sort="sort"\n          percentage-col="percentageCol"\n          show-total="showTotal"\n          total-func="totalFunc">\n        </kbn-agg-table>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<table ng-if="columns" class="table kbnAggTable__group">\n  <thead>\n    <tr>\n      <th ng-repeat="table in columns" ng-if="table.tables" scope="col">\n        <span class="kbnAggTable__groupHeader">{{ table.title }}</span>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td ng-repeat="table in columns">\n        <kbn-agg-table-group\n          ng-if="table.tables"\n          filter="filter"\n          group="table"\n          dimensions="dimensions"\n          per-page="perPage"\n          sort="sort"\n          export-title="exportTitle"\n          show-total="showTotal"\n          percentage-col="percentageCol"\n          total-func="totalFunc"></kbn-agg-table-group>\n        <kbn-agg-table\n          ng-if="table.rows"\n          filter="filter"\n          table="table"\n          dimensions="dimensions"\n          export-title="exportTitle"\n          per-page="perPage"\n          sort="sort"\n          show-total="showTotal"\n          percentage-col="percentageCol"\n          total-func="totalFunc">\n        </kbn-agg-table>\n      </td>\n    </tr>\n  </tbody>\n</table>\n',scope:{group:"=",dimensions:"=",perPage:"=?",sort:"=?",exportTitle:"=?",showTotal:"=",totalFunc:"=",percentageCol:"=",filter:"="},compile:function($el){return RecursionHelper.compile($el,{post:function($scope){$scope.$watch("group",(function(group){if($scope.rows=$scope.columns=!1,!group||!group.tables.length)return;const childLayout="row"===group.direction?"rows":"columns";$scope[childLayout]=group.tables}))}})}}}function KbnRows($compile){return{restrict:"A",link:function($scope,$el,attr){$scope.$watchMulti([attr.kbnRows,attr.kbnRowsMin],(function(vals){let rows=vals[0];const min=vals[1];if($el.empty(),Array.isArray(rows)||(rows=[]),isFinite(min)&&rows.length<min){rows=external_kbnSharedDeps_Lodash_default.a.clone(rows);const emptyRow={};external_kbnSharedDeps_Lodash_default.a.times(min-rows.length,(function(){rows.push(emptyRow)}))}rows.forEach((function(row){const $tr=external_kbnSharedDeps_Jquery_default()(document.createElement("tr")).appendTo($el);$scope.columns.forEach(column=>{const value=row[column.id];!function($tr,contents,column,row){let $cell,$cellContent;const contentsIsDefined=null!=contents;column.filterable&&contentsIsDefined?($cell=function(value){const $template=external_kbnSharedDeps_Jquery_default()('<td>\n  <div\n    data-cell-content\n    class="kbnTableCellFilter__hover"\n  >\n    <span class="kbnTableCellFilter">\n      <span\n        data-test-subj="filterForCellValue"\n        ng-click="onFilterClick($event, false)"\n        class="fa fa-search-plus"\n        tooltip="{{ ::\'visTypeTable.directives.tableCellFilter.filterForValueTooltip\' | i18n: {defaultMessage: \'Filter for value\'} }}"\n        tooltip-append-to-body="1"\n      ></span>\n\n      <span\n        ng-click="onFilterClick($event, true)"\n        class="fa fa-search-minus"\n        tooltip="{{ ::\'visTypeTable.directives.tableCellFilter.filterOutValueTooltip\' | i18n: {defaultMessage: \'Filter out value\'} }}"\n        tooltip-append-to-body="1"\n      ></span>\n    </span>\n  </div>\n</td>\n');$template.addClass("kbnTableCellFilter__hover");const scope=$scope.$new();return scope.onFilterClick=(event,negate)=>{external_kbnSharedDeps_Jquery_default()(event.target).is("a")||$scope.filter({name:"filterBucket",data:{data:[{table:$scope.table,row:$scope.rows.findIndex(r=>r===row),column:$scope.table.columns.findIndex(c=>c.id===column.id),value:value}],negate:negate}})},$compile($template)(scope)}(contents),$cellContent=external_kbnSharedDeps_Angular_default.a.element($cell[0].querySelector("[data-cell-content]"))):$cell=$cellContent=external_kbnSharedDeps_Jquery_default()(document.createElement("td")),contents=contentsIsDefined?column.formatter.convert(contents,"html"):"",external_kbnSharedDeps_Lodash_default.a.isObject(contents)?(contents.attr&&$cellContent.attr(contents.attr),contents.class&&$cellContent.addClass(contents.class),contents.scope?$cellContent=$compile($cellContent.prepend(contents.markup))(contents.scope):$cellContent.prepend(contents.markup),contents.attr&&$cellContent.attr(contents.attr)):""===contents?$cellContent.prepend("&nbsp;"):$cellContent.prepend(contents),$tr.append($cell)}($tr,value,column,row)})}))}))}}}function PaginatedTable($filter){const orderBy=$filter("orderBy");return{restrict:"E",template:'<paginate\n  ng-if="sortedRows.length"\n  list="sortedRows"\n  per-page-prop="perPage"\n  class="kbnAggTable">\n  <div class="kbnAggTable__paginated">\n    <table class="table table-condensed">\n      <thead data-test-subj="paginated-table-header">\n        <tr>\n          <th\n            scope="col"\n            ng-repeat="col in columns"\n            ng-click="paginatedTable.sortColumn($index)"\n            kbn-accessible-click\n            tabindex="0"\n            class="{{ col.class }}">\n            <span ng-bind="::col.title"></span>\n\n            <icon-tip\n              ng-if="col.info"\n              content="\'{{ col.info }}\'"\n            ></icon-tip>\n\n            <i\n              ng-if="col.sortable !== false"\n              class="fa"\n              ng-class="{\n                \'fa-sort-asc\': paginatedTable.sort.columnIndex === $index && paginatedTable.sort.direction === \'asc\',\n                \'fa-sort-desc\': paginatedTable.sort.columnIndex === $index && paginatedTable.sort.direction === \'desc\',\n                \'fa-sort\': paginatedTable.sort.columnIndex !== $index || paginatedTable.sort.direction === null\n              }">\n            </i>\n          </th>\n        </tr>\n      </thead>\n      <tbody\n        data-test-subj="paginated-table-body"\n        kbn-rows="page"\n        kbn-rows-min="page.length"\n      >\n      </tbody>\n      <tfoot ng-if="showTotal">\n        <tr>\n          <th scope="col" ng-repeat="col in columns" class="numeric-value">\n            {{ col.formattedTotal }}\n          </th>\n        </tr>\n      </tfoot>\n    </table>\n  </div>\n\n  \x3c!-- auto-inserted by the paginate directive... --\x3e\n  \x3c!-- <paginate-controls></paginate-controls> --\x3e\n  <div class="pagination-container" ng-transclude></div>\n</paginate>\n',transclude:!0,scope:{table:"=",rows:"=",columns:"=",linkToTop:"=",perPage:"=?",sortHandler:"=?",sort:"=?",showSelector:"=?",showTotal:"=",totalFunc:"=",filter:"=",percentageCol:"="},controllerAs:"paginatedTable",controller:function($scope){const self=this;function valueGetter(row){let value=row[$scope.columns[self.sort.columnIndex].id];return"boolean"==typeof value&&(value=value?0:1),value}self.sort={columnIndex:null,direction:null},self.sortColumn=function(colIndex,sortDirection="asc"){const col=$scope.columns[colIndex];if(col&&!1!==col.sortable){if(self.sort.columnIndex===colIndex){sortDirection={null:"asc",asc:"desc",desc:null}[self.sort.direction]}self.sort.columnIndex=colIndex,self.sort.direction=sortDirection,$scope.sort&&external_kbnSharedDeps_Lodash_default.a.assign($scope.sort,self.sort)}},$scope.sort&&null!==$scope.sort.columnIndex&&self.sortColumn($scope.sort.columnIndex,$scope.sort.direction),$scope.$watchMulti(["rows","columns","[]sort","[]paginatedTable.sort"],(function(){const newSort=$scope.sort;if(newSort&&!external_kbnSharedDeps_Lodash_default.a.isEqual(newSort,self.sort)&&self.sortColumn(newSort.columnIndex,newSort.direction),!$scope.rows||!$scope.columns)return void($scope.sortedRows=!1);const sort=self.sort;null==sort.direction?$scope.sortedRows=$scope.rows.slice(0):$scope.sortedRows=orderBy($scope.rows,valueGetter,"desc"===sort.direction)}))}}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getTableVisualizationControllerClass(core,context){return class{constructor(domeElement){_defineProperty(this,"tableVisModule",void 0),_defineProperty(this,"injector",void 0),_defineProperty(this,"el",void 0),_defineProperty(this,"$rootScope",null),_defineProperty(this,"$scope",void 0),_defineProperty(this,"$compile",void 0),this.el=external_kbnSharedDeps_Jquery_default()(domeElement)}getInjector(){if(!this.injector){const mountpoint=document.createElement("div");mountpoint.className="visualization",this.injector=external_kbnSharedDeps_Angular_default.a.bootstrap(mountpoint,["kibana/table_vis"]),this.el.append(mountpoint)}return this.injector}async initLocalAngular(){if(!this.tableVisModule){const[coreStart,{kibanaLegacy:kibanaLegacy}]=await core.getStartServices();this.tableVisModule=getAngularModule("kibana/table_vis",coreStart),this.tableVisModule.controller("KbnTableVisController",TableVisController).directive("kbnAggTable",KbnAggTable).directive("kbnAggTableGroup",KbnAggTableGroup).directive("kbnRows",KbnRows).directive("paginatedTable",PaginatedTable),kibanaLegacy.loadFontAwesome()}}async render(esResponse,visParams,handlers){return await this.initLocalAngular(),new Promise(async(resolve,reject)=>{if(!this.$rootScope){const $injector=this.getInjector();this.$rootScope=$injector.get("$rootScope"),this.$compile=$injector.get("$compile")}const updateScope=()=>{this.$scope&&(this.$scope.visState={params:visParams,title:visParams.title},this.$scope.esResponse=esResponse,this.$scope.visParams=visParams,this.$scope.renderComplete=resolve,this.$scope.renderFailed=reject,this.$scope.resize=Date.now(),this.$scope.$apply())};!this.$scope&&this.$compile?(this.$scope=this.$rootScope.$new(),this.$scope.uiState=handlers.uiState,this.$scope.filter=handlers.event,updateScope(),this.el.find("div").append(this.$compile('<div ng-controller="KbnTableVisController" class="table-vis">\n  <div ng-if="!hasSomeRows && hasSomeRows !== null" class="visError">\n    <div class="euiText euiText--extraSmall euiTextColor euiTextColor--subdued">\n      <icon type="\'visualizeApp\'" size="\'m\'" color="\'subdued\'"></icon>\n\n      <br>\n      <br>\n\n      <p\n        i18n-id="visTypeTable.vis.noResultsFoundTitle"\n        i18n-default-message="No results found">\n      </p>\n    </div>\n  </div>\n\n  <div ng-if="tableGroups" class="table-vis-container" data-test-subj="tableVis">\n    <kbn-agg-table-group\n      filter="filter"\n      dimensions="dimensions"\n      group="tableGroups"\n      export-title="visState.title"\n      per-page="visState.params.perPage"\n      sort="sort"\n      percentage-col="visState.params.percentageCol"\n      show-total="visState.params.showTotal"\n      total-func="visState.params.totalFunc">\n    </kbn-agg-table-group>\n  </div>\n</div>\n')(this.$scope)),this.$scope.$apply()):updateScope()})}destroy(){this.$rootScope&&(this.$rootScope.$destroy(),this.$rootScope=null)}}}}}]);